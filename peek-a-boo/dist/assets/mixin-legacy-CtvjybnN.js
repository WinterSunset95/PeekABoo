!function(){function t(t,e,i){return i(a(t,e))}function e(t,e){n(t,e),e.add(t)}function i(t,e,i){n(t,e),e.set(t,i)}function n(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e,i){return t.set(a(t,e),i),i}function r(t,e){return t.get(a(t,e))}function a(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}System.register([],(function(n,d){"use strict";return{execute:function(){var d,c;n("M",(function(t){if(null==t||!t.prototype)return t;const e=it(t,"video");e&&!`${e}`.includes("[native code]")||Object.defineProperty(t.prototype,"videoTracks",{get(){return function(t){let e=m(t).videoTracks;if(!e&&(e=new L,m(t).videoTracks=e,tt)){var i;const n=tt.call(null!==(i=t.nativeEl)&&void 0!==i?i:t);for(const e of n)b(t,e);n.addEventListener("change",(()=>{e.dispatchEvent(new Event("change"))})),n.addEventListener("addtrack",(i=>{if([...e].some((t=>t instanceof I)))for(const t of n)y(t);else b(t,i.track)})),n.addEventListener("removetrack",(t=>{y(t.track)}))}return e}(this)}});const i=it(t,"audio");i&&!`${i}`.includes("[native code]")||Object.defineProperty(t.prototype,"audioTracks",{get(){return function(t){let e=m(t).audioTracks;if(!e&&(e=new Q,m(t).audioTracks=e,et)){var i;const n=et.call(null!==(i=t.nativeEl)&&void 0!==i?i:t);for(const e of n)D(t,e);n.addEventListener("change",(()=>{e.dispatchEvent(new Event("change"))})),n.addEventListener("addtrack",(i=>{if([...e].some((t=>t instanceof Z)))for(const t of n)U(t);else D(t,i.track)})),n.addEventListener("removetrack",(t=>{U(t.track)}))}return e}(this)}});"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(t,e="",i=""){const n=new I;return n.kind=t,n.label=e,n.language=i,b(this,n),n});"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=y);"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(t,e="",i=""){const n=new Z;return n.kind=t,n.label=e,n.language=i,D(this,n),n});"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=U);"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return n(this)}});const n=t=>{let e=m(t).videoRenditions;return e||(e=new x,m(e).media=t,m(t).videoRenditions=e),e};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return o(this)}});const o=t=>{let e=m(t).audioRenditions;return e||(e=new N,m(e).media=t,m(t).audioRenditions=e),e};return t}));const h=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],u=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function l(t){return`\n    <style>\n      :host {\n        display: inline-flex;\n        line-height: 0;\n        flex-direction: column;\n        justify-content: end;\n      }\n\n      audio {\n        width: 100%;\n      }\n    </style>\n    <slot name="media">\n      <audio${f(t)}></audio>\n    </slot>\n    <slot></slot>\n  `}function v(t){return`\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      video {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n        object-fit: var(--media-object-fit, contain);\n        object-position: var(--media-object-position, 50% 50%);\n      }\n\n      video::-webkit-media-text-track-container {\n        transform: var(--media-webkit-text-track-transform);\n        transition: var(--media-webkit-text-track-transition);\n      }\n    </style>\n    <slot name="media">\n      <video${f(t)}></video>\n    </slot>\n    <slot></slot>\n  `}function p(t,{tag:n,is:d}){var c,p,f,g,k,m,b,y,E;const w=null===(c=globalThis.document)||void 0===c||null===(p=c.createElement)||void 0===p?void 0:p.call(c,n,{is:d}),M=w?function(t){const e=[];for(let i=Object.getPrototypeOf(t);i&&i!==HTMLElement.prototype;i=Object.getPrototypeOf(i)){const t=Object.getOwnPropertyNames(i);e.push(...t)}return e}(w):[];return g=new WeakMap,k=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakSet,f=class c extends t{constructor(...t){super(...t),e(this,y),i(this,g,!1),i(this,k,null),i(this,m,new Map),i(this,b,void 0),o(this,"get",void 0),o(this,"set",void 0),o(this,"call",void 0)}static get observedAttributes(){var t,e;a(f,c,T).call(c);return[...null!==(t=null==w||null===(e=w.constructor)||void 0===e?void 0:e.observedAttributes)&&void 0!==t?t:[],...u]}get nativeEl(){var t,e,i,o,s;return a(y,this,L).call(this),null!==(t=null!==(e=null!==(i=null!==(o=r(k,this))&&void 0!==o?o:this.querySelector(":scope > [slot=media]"))&&void 0!==i?i:this.querySelector(n))&&void 0!==e?e:null===(s=this.shadowRoot)||void 0===s?void 0:s.querySelector(n))&&void 0!==t?t:null}set nativeEl(t){s(k,this,t)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(t){this.toggleAttribute("muted",t)}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",`${t}`)}get preload(){var t,e;return null!==(t=this.getAttribute("preload"))&&void 0!==t?t:null===(e=this.nativeEl)||void 0===e?void 0:e.preload}set preload(t){this.setAttribute("preload",`${t}`)}init(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const t=function(t){const e={};for(const i of t)e[i.name]=i.value;return e}(this.attributes);d&&(t.is=d),n&&(t.part=n),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(t)}this.nativeEl.muted=this.hasAttribute("muted");for(const t of M)a(y,this,j).call(this,t);s(b,this,new MutationObserver(a(y,this,S).bind(this))),this.shadowRoot.addEventListener("slotchange",(()=>a(y,this,R).call(this))),a(y,this,R).call(this);for(const t of this.constructor.Events)this.shadowRoot.addEventListener(t,this,!0)}handleEvent(t){t.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(t.type,{detail:t.detail}))}attributeChangedCallback(t,e,i){a(y,this,L).call(this),a(y,this,W).call(this,t,e,i)}connectedCallback(){a(y,this,L).call(this)}},o(f,"getTemplateHTML",n.endsWith("audio")?l:v),o(f,"shadowRootOptions",{mode:"open"}),o(f,"Events",h),E={_:!1},f;function T(){if(a(f,this,E)._)return;E._=a(f,this,!0);const t=new Set(this.observedAttributes);t.delete("muted");for(const e of M)if(!(e in this.prototype))if("function"==typeof w[e])this.prototype[e]=function(...t){a(y,this,L).call(this);return(()=>{var i;if(this.call)return this.call(e,...t);const n=null===(i=this.nativeEl)||void 0===i?void 0:i[e];return null==n?void 0:n.apply(this.nativeEl,t)})()};else{const i={get(){var i,n,o;a(y,this,L).call(this);const s=e.toLowerCase();if(t.has(s)){const t=this.getAttribute(s);return null!==t&&(""===t||t)}return null!==(i=null===(n=this.get)||void 0===n?void 0:n.call(this,e))&&void 0!==i?i:null===(o=this.nativeEl)||void 0===o?void 0:o[e]}};e!==e.toUpperCase()&&(i.set=function(i){a(y,this,L).call(this);const n=e.toLowerCase();t.has(n)?!0===i||!1===i||null==i?this.toggleAttribute(n,Boolean(i)):this.setAttribute(n,i):this.set?this.set(e,i):this.nativeEl&&(this.nativeEl[e]=i)}),Object.defineProperty(this.prototype,e,i)}}function L(){r(g,this)||(s(g,this,!0),this.init())}function R(){var t;const e=new Map(r(m,this)),i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("slot:not([name])");(null==i?void 0:i.assignedElements({flatten:!0}).filter((t=>["track","source"].includes(t.localName)))).forEach((t=>{var i;e.delete(t);let n=r(m,this).get(t);var o;n||(n=t.cloneNode(),r(m,this).set(t,n),null===(o=r(b,this))||void 0===o||o.observe(t,{attributes:!0}));null===(i=this.nativeEl)||void 0===i||i.append(n),a(y,this,q).call(this,n)})),e.forEach(((t,e)=>{t.remove(),r(m,this).delete(e)}))}function S(t){for(const i of t)if("attributes"===i.type){const{target:t,attributeName:n}=i,o=r(m,this).get(t);var e;if(o&&n)o.setAttribute(n,null!==(e=t.getAttribute(n))&&void 0!==e?e:""),a(y,this,q).call(this,o)}}function q(t){t&&"track"===t.localName&&t.default&&("chapters"===t.kind||"metadata"===t.kind)&&"disabled"===t.track.mode&&(t.track.mode="hidden")}function j(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function W(t,e,i){var n,o;if(!["id","class"].includes(t)&&(f.observedAttributes.includes(t)||!this.constructor.observedAttributes.includes(t)))if(null===i)null===(o=this.nativeEl)||void 0===o||o.removeAttribute(t);else if((null===(n=this.nativeEl)||void 0===n?void 0:n.getAttribute(t))!==i){var s;null===(s=this.nativeEl)||void 0===s||s.setAttribute(t,i)}}}function f(t){let e="";for(const i in t){if(!u.includes(i))continue;const n=t[i];e+=""===n?` ${i}`:` ${i}="${n}"`}return e}n("C",p(null!==(d=globalThis.HTMLElement)&&void 0!==d?d:class{},{tag:"video"}));p(null!==(c=globalThis.HTMLElement)&&void 0!==c?c:class{},{tag:"audio"});class g extends Event{constructor(t,e){super(t),o(this,"track",void 0),this.track=e.track}}const k=new WeakMap;function m(t){var e;return null!==(e=k.get(t))&&void 0!==e?e:function(t,e){let i=k.get(t);i||k.set(t,i={});return Object.assign(i,e)}(t,{})}function b(t,e){const i=t.videoTracks;m(e).media=t,m(e).renditionSet||(m(e).renditionSet=new Set);const n=m(i).trackSet;n.add(e);const o=n.size-1;o in L.prototype||Object.defineProperty(L.prototype,o,{get(){return[...m(this).trackSet][o]}}),queueMicrotask((()=>{i.dispatchEvent(new g("addtrack",{track:e}))}))}function y(t){var e;const i=null===(e=m(t).media)||void 0===e?void 0:e.videoTracks;if(!i)return;m(i).trackSet.delete(t),queueMicrotask((()=>{i.dispatchEvent(new g("removetrack",{track:t}))}))}var E=new WeakMap,w=new WeakMap,M=new WeakMap,T=new WeakSet;class L extends EventTarget{constructor(){super(),e(this,T),i(this,E,void 0),i(this,w,void 0),i(this,M,void 0),m(this).trackSet=new Set}[Symbol.iterator](){return t(T,this,R).values()}get length(){return t(T,this,R).size}getTrackById(e){var i;return null!==(i=[...t(T,this,R)].find((t=>t.id===e)))&&void 0!==i?i:null}get selectedIndex(){return[...t(T,this,R)].findIndex((t=>t.selected))}get onaddtrack(){return r(E,this)}set onaddtrack(t){r(E,this)&&(this.removeEventListener("addtrack",r(E,this)),s(E,this,void 0)),"function"==typeof t&&(s(E,this,t),this.addEventListener("addtrack",t))}get onremovetrack(){return r(w,this)}set onremovetrack(t){r(w,this)&&(this.removeEventListener("removetrack",r(w,this)),s(w,this,void 0)),"function"==typeof t&&(s(w,this,t),this.addEventListener("removetrack",t))}get onchange(){return r(M,this)}set onchange(t){r(M,this)&&(this.removeEventListener("change",r(M,this)),s(M,this,void 0)),"function"==typeof t&&(s(M,this,t),this.addEventListener("change",t))}}function R(t){return m(t).trackSet}class S extends Event{constructor(t,e){super(t),o(this,"rendition",void 0),this.rendition=e.rendition}}function q(t){return[...m(t).media.videoTracks].filter((t=>t.selected)).flatMap((t=>[...m(t).renditionSet]))}var j=new WeakMap,W=new WeakMap,A=new WeakMap;class x extends EventTarget{constructor(...t){super(...t),i(this,j,void 0),i(this,W,void 0),i(this,A,void 0)}[Symbol.iterator](){return q(this).values()}get length(){return q(this).length}getRenditionById(t){var e;return null!==(e=q(this).find((e=>`${e.id}`==`${t}`)))&&void 0!==e?e:null}get selectedIndex(){return q(this).findIndex((t=>t.selected))}set selectedIndex(t){for(const[e,i]of q(this).entries())i.selected=e===t}get onaddrendition(){return r(j,this)}set onaddrendition(t){r(j,this)&&(this.removeEventListener("addrendition",r(j,this)),s(j,this,void 0)),"function"==typeof t&&(s(j,this,t),this.addEventListener("addrendition",t))}get onremoverendition(){return r(W,this)}set onremoverendition(t){r(W,this)&&(this.removeEventListener("removerendition",r(W,this)),s(W,this,void 0)),"function"==typeof t&&(s(W,this,t),this.addEventListener("removerendition",t))}get onchange(){return r(A,this)}set onchange(t){r(A,this)&&(this.removeEventListener("change",r(A,this)),s(A,this,void 0)),"function"==typeof t&&(s(A,this,t),this.addEventListener("change",t))}}var O=new WeakMap;class P{constructor(){o(this,"src",void 0),o(this,"id",void 0),o(this,"width",void 0),o(this,"height",void 0),o(this,"bitrate",void 0),o(this,"frameRate",void 0),o(this,"codec",void 0),i(this,O,!1)}get selected(){return r(O,this)}set selected(t){r(O,this)!==t&&(s(O,this,t),function(t){const e=m(t).media.videoRenditions;e&&!m(e).changeRequested&&(m(e).changeRequested=!0,queueMicrotask((()=>{delete m(e).changeRequested,m(t).track.selected&&e.dispatchEvent(new Event("change"))})))}(this))}}var $=new WeakMap;class I{constructor(){o(this,"id",void 0),o(this,"kind",void 0),o(this,"label",""),o(this,"language",""),o(this,"sourceBuffer",void 0),i(this,$,!1)}addRendition(t,e,i,n,o,s){const r=new P;return r.src=t,r.width=e,r.height=i,r.frameRate=s,r.bitrate=o,r.codec=n,function(t,e){const i=m(t).media.videoRenditions;m(e).media=m(t).media,m(e).track=t;const n=m(t).renditionSet;n.add(e);const o=n.size-1;o in x.prototype||Object.defineProperty(x.prototype,o,{get(){return q(this)[o]}}),queueMicrotask((()=>{t.selected&&i.dispatchEvent(new S("addrendition",{rendition:e}))}))}(this,r),r}removeRendition(t){!function(t){const e=m(t).media.videoRenditions,i=m(t).track;m(i).renditionSet.delete(t),queueMicrotask((()=>{m(t).track.selected&&e.dispatchEvent(new S("removerendition",{rendition:t}))}))}(t)}get selected(){return r($,this)}set selected(t){r($,this)!==t&&(s($,this,t),!0===t&&function(t){var e;const i=null!==(e=m(t).media.videoTracks)&&void 0!==e?e:[];let n=!1;for(const o of i)o!==t&&(o.selected=!1,n=!0);if(n){if(m(i).changeRequested)return;m(i).changeRequested=!0,queueMicrotask((()=>{delete m(i).changeRequested,i.dispatchEvent(new Event("change"))}))}}(this))}}function C(t){return[...m(t).media.audioTracks].filter((t=>t.enabled)).flatMap((t=>[...m(t).renditionSet]))}var z=new WeakMap,H=new WeakMap,B=new WeakMap;class N extends EventTarget{constructor(...t){super(...t),i(this,z,void 0),i(this,H,void 0),i(this,B,void 0)}[Symbol.iterator](){return C(this).values()}get length(){return C(this).length}getRenditionById(t){var e;return null!==(e=C(this).find((e=>`${e.id}`==`${t}`)))&&void 0!==e?e:null}get selectedIndex(){return C(this).findIndex((t=>t.selected))}set selectedIndex(t){for(const[e,i]of C(this).entries())i.selected=e===t}get onaddrendition(){return r(z,this)}set onaddrendition(t){r(z,this)&&(this.removeEventListener("addrendition",r(z,this)),s(z,this,void 0)),"function"==typeof t&&(s(z,this,t),this.addEventListener("addrendition",t))}get onremoverendition(){return r(H,this)}set onremoverendition(t){r(H,this)&&(this.removeEventListener("removerendition",r(H,this)),s(H,this,void 0)),"function"==typeof t&&(s(H,this,t),this.addEventListener("removerendition",t))}get onchange(){return r(B,this)}set onchange(t){r(B,this)&&(this.removeEventListener("change",r(B,this)),s(B,this,void 0)),"function"==typeof t&&(s(B,this,t),this.addEventListener("change",t))}}var V=new WeakMap;class _{constructor(){o(this,"src",void 0),o(this,"id",void 0),o(this,"bitrate",void 0),o(this,"codec",void 0),i(this,V,!1)}get selected(){return r(V,this)}set selected(t){r(V,this)!==t&&(s(V,this,t),function(t){const e=m(t).media.audioRenditions;e&&!m(e).changeRequested&&(m(e).changeRequested=!0,queueMicrotask((()=>{delete m(e).changeRequested,m(t).track.enabled&&e.dispatchEvent(new Event("change"))})))}(this))}}function D(t,e){const i=t.audioTracks;m(e).media=t,m(e).renditionSet||(m(e).renditionSet=new Set);const n=m(i).trackSet;n.add(e);const o=n.size-1;o in Q.prototype||Object.defineProperty(Q.prototype,o,{get(){return[...m(this).trackSet][o]}}),queueMicrotask((()=>{i.dispatchEvent(new g("addtrack",{track:e}))}))}function U(t){var e;const i=null===(e=m(t).media)||void 0===e?void 0:e.audioTracks;if(!i)return;m(i).trackSet.delete(t),queueMicrotask((()=>{i.dispatchEvent(new g("removetrack",{track:t}))}))}var F=new WeakMap,G=new WeakMap,J=new WeakMap,K=new WeakSet;class Q extends EventTarget{constructor(){super(),e(this,K),i(this,F,void 0),i(this,G,void 0),i(this,J,void 0),m(this).trackSet=new Set}[Symbol.iterator](){return t(K,this,X).values()}get length(){return t(K,this,X).size}getTrackById(e){var i;return null!==(i=[...t(K,this,X)].find((t=>t.id===e)))&&void 0!==i?i:null}get onaddtrack(){return r(F,this)}set onaddtrack(t){r(F,this)&&(this.removeEventListener("addtrack",r(F,this)),s(F,this,void 0)),"function"==typeof t&&(s(F,this,t),this.addEventListener("addtrack",t))}get onremovetrack(){return r(G,this)}set onremovetrack(t){r(G,this)&&(this.removeEventListener("removetrack",r(G,this)),s(G,this,void 0)),"function"==typeof t&&(s(G,this,t),this.addEventListener("removetrack",t))}get onchange(){return r(J,this)}set onchange(t){r(J,this)&&(this.removeEventListener("change",r(J,this)),s(J,this,void 0)),"function"==typeof t&&(s(J,this,t),this.addEventListener("change",t))}}function X(t){return m(t).trackSet}var Y=new WeakMap;class Z{constructor(){o(this,"id",void 0),o(this,"kind",void 0),o(this,"label",""),o(this,"language",""),o(this,"sourceBuffer",void 0),i(this,Y,!1)}addRendition(t,e,i){const n=new _;return n.src=t,n.codec=e,n.bitrate=i,function(t,e){const i=m(t).media.audioRenditions;m(e).media=m(t).media,m(e).track=t;const n=m(t).renditionSet;n.add(e);const o=n.size-1;o in N.prototype||Object.defineProperty(N.prototype,o,{get(){return C(this)[o]}}),queueMicrotask((()=>{t.enabled&&i.dispatchEvent(new S("addrendition",{rendition:e}))}))}(this,n),n}removeRendition(t){!function(t){const e=m(t).media.audioRenditions,i=m(t).track;m(i).renditionSet.delete(t),queueMicrotask((()=>{m(t).track.enabled&&e.dispatchEvent(new S("removerendition",{rendition:t}))}))}(t)}get enabled(){return r(Y,this)}set enabled(t){r(Y,this)!==t&&(s(Y,this,t),function(t){const e=m(t).media.audioTracks;e&&!m(e).changeRequested&&(m(e).changeRequested=!0,queueMicrotask((()=>{delete m(e).changeRequested,e.dispatchEvent(new Event("change"))})))}(this))}}const tt=it(globalThis.HTMLMediaElement,"video"),et=it(globalThis.HTMLMediaElement,"audio");function it(t,e){var i;if(null!=t&&t.prototype)return null===(i=Object.getOwnPropertyDescriptor(t.prototype,`${e}Tracks`))||void 0===i?void 0:i.get}}}}))}();
