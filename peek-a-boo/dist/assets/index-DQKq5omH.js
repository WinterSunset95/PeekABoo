var HG=Object.defineProperty;var qG=(t,e,n)=>e in t?HG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jr=(t,e,n)=>(qG(t,typeof e!="symbol"?e+"":e,n),n);function LCe(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function da(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var KN={exports:{}},lw={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GG=Symbol.for("react.transitional.element"),WG=Symbol.for("react.fragment");function QN(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:GG,type:t,key:i,ref:e!==void 0?e:null,props:n}}lw.Fragment=WG;lw.jsx=QN;lw.jsxs=QN;KN.exports=lw;var N=KN.exports,ZN={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=Symbol.for("react.transitional.element"),YG=Symbol.for("react.portal"),XG=Symbol.for("react.fragment"),KG=Symbol.for("react.strict_mode"),QG=Symbol.for("react.profiler"),ZG=Symbol.for("react.consumer"),JG=Symbol.for("react.context"),eW=Symbol.for("react.forward_ref"),tW=Symbol.for("react.suspense"),nW=Symbol.for("react.memo"),JN=Symbol.for("react.lazy"),GP=Symbol.iterator;function iW(t){return t===null||typeof t!="object"?null:(t=GP&&t[GP]||t["@@iterator"],typeof t=="function"?t:null)}var e6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t6=Object.assign,n6={};function mp(t,e,n){this.props=t,this.context=e,this.refs=n6,this.updater=n||e6}mp.prototype.isReactComponent={};mp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i6(){}i6.prototype=mp.prototype;function NC(t,e,n){this.props=t,this.context=e,this.refs=n6,this.updater=n||e6}var BC=NC.prototype=new i6;BC.constructor=NC;t6(BC,mp.prototype);BC.isPureReactComponent=!0;var WP=Array.isArray,Jt={H:null,A:null,T:null,S:null},r6=Object.prototype.hasOwnProperty;function UC(t,e,n,i,r,s){return n=s.ref,{$$typeof:MC,type:t,key:e,ref:n!==void 0?n:null,props:s}}function rW(t,e){return UC(t.type,e,void 0,void 0,void 0,t.props)}function FC(t){return typeof t=="object"&&t!==null&&t.$$typeof===MC}function sW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var YP=/\/+/g;function jT(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sW(""+t.key):e.toString(36)}function XP(){}function oW(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(XP,XP):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Th(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case MC:case YG:o=!0;break;case JN:return o=t._init,Th(o(t._payload),e,n,i,r)}}if(o)return r=r(t),o=i===""?"."+jT(t,0):i,WP(r)?(n="",o!=null&&(n=o.replace(YP,"$&/")+"/"),Th(r,e,n,"",function(c){return c})):r!=null&&(FC(r)&&(r=rW(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(YP,"$&/")+"/")+o)),e.push(r)),1;o=0;var a=i===""?".":i+":";if(WP(t))for(var l=0;l<t.length;l++)i=t[l],s=a+jT(i,l),o+=Th(i,e,n,s,r);else if(l=iW(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,s=a+jT(i,l++),o+=Th(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return Th(oW(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tv(t,e,n){if(t==null)return t;var i=[],r=0;return Th(t,i,"","",function(s){return e.call(n,s,r++)}),i}function aW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var KP=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function lW(){}Qe.Children={map:Tv,forEach:function(t,e,n){Tv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tv(t,function(){e++}),e},toArray:function(t){return Tv(t,function(e){return e})||[]},only:function(t){if(!FC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=mp;Qe.Fragment=XG;Qe.Profiler=QG;Qe.PureComponent=NC;Qe.StrictMode=KG;Qe.Suspense=tW;Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Jt;Qe.act=function(){throw Error("act(...) is not supported in production builds of React.")};Qe.cache=function(t){return function(){return t.apply(null,arguments)}};Qe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=t6({},t.props),r=t.key,s=void 0;if(e!=null)for(o in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(r=""+e.key),e)!r6.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(i[o]=e[o]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}return UC(t.type,r,void 0,void 0,s,i)};Qe.createContext=function(t){return t={$$typeof:JG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:ZG,_context:t},t};Qe.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)r6.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return UC(t,s,void 0,void 0,null,r)};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:eW,render:t}};Qe.isValidElement=FC;Qe.lazy=function(t){return{$$typeof:JN,_payload:{_status:-1,_result:t},_init:aW}};Qe.memo=function(t,e){return{$$typeof:nW,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Jt.T,n={};Jt.T=n;try{var i=t(),r=Jt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(lW,KP)}catch(s){KP(s)}finally{Jt.T=e}};Qe.unstable_useCacheRefresh=function(){return Jt.H.useCacheRefresh()};Qe.use=function(t){return Jt.H.use(t)};Qe.useActionState=function(t,e,n){return Jt.H.useActionState(t,e,n)};Qe.useCallback=function(t,e){return Jt.H.useCallback(t,e)};Qe.useContext=function(t){return Jt.H.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t,e){return Jt.H.useDeferredValue(t,e)};Qe.useEffect=function(t,e){return Jt.H.useEffect(t,e)};Qe.useId=function(){return Jt.H.useId()};Qe.useImperativeHandle=function(t,e,n){return Jt.H.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return Jt.H.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return Jt.H.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return Jt.H.useMemo(t,e)};Qe.useOptimistic=function(t,e){return Jt.H.useOptimistic(t,e)};Qe.useReducer=function(t,e,n){return Jt.H.useReducer(t,e,n)};Qe.useRef=function(t){return Jt.H.useRef(t)};Qe.useState=function(t){return Jt.H.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return Jt.H.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return Jt.H.useTransition()};Qe.version="19.0.0";ZN.exports=Qe;var te=ZN.exports;const J=da(te);var s6={exports:{}},cw={},o6={exports:{}},a6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,fe){var ee=K.length;K.push(fe);e:for(;0<ee;){var ne=ee-1>>>1,Y=K[ne];if(0<r(Y,fe))K[ne]=fe,K[ee]=Y,ee=ne;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var fe=K[0],ee=K.pop();if(ee!==fe){K[0]=ee;e:for(var ne=0,Y=K.length,pe=Y>>>1;ne<pe;){var ge=2*(ne+1)-1,De=K[ge],Ne=ge+1,ue=K[Ne];if(0>r(De,ee))Ne<Y&&0>r(ue,De)?(K[ne]=ue,K[Ne]=ee,ne=Ne):(K[ne]=De,K[ge]=ee,ne=ge);else if(Ne<Y&&0>r(ue,ee))K[ne]=ue,K[Ne]=ee,ne=Ne;else break e}}return fe}function r(K,fe){var ee=K.sortIndex-fe.sortIndex;return ee!==0?ee:K.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,m=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var fe=n(c);fe!==null;){if(fe.callback===null)i(c);else if(fe.startTime<=K)i(c),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(c)}}function D(K){if(g=!1,k(K),!b)if(n(l)!==null)b=!0,ae();else{var fe=n(c);fe!==null&&he(D,fe.startTime-K)}}var P=!1,B=-1,O=5,A=-1;function R(){return!(t.unstable_now()-A<O)}function L(){if(P){var K=t.unstable_now();A=K;var fe=!0;try{e:{b=!1,g&&(g=!1,y(B),B=-1),m=!0;var ee=h;try{t:{for(k(K),d=n(l);d!==null&&!(d.expirationTime>K&&R());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var Y=ne(d.expirationTime<=K);if(K=t.unstable_now(),typeof Y=="function"){d.callback=Y,k(K),fe=!0;break t}d===n(l)&&i(l),k(K)}else i(l);d=n(l)}if(d!==null)fe=!0;else{var pe=n(c);pe!==null&&he(D,pe.startTime-K),fe=!1}}break e}finally{d=null,h=ee,m=!1}fe=void 0}}finally{fe?U():P=!1}}}var U;if(typeof T=="function")U=function(){T(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,M=V.port2;V.port1.onmessage=L,U=function(){M.postMessage(null)}}else U=function(){w(L,0)};function ae(){P||(P=!0,U())}function he(K,fe){B=w(function(){K(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ae())},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(h){case 1:case 2:case 3:var fe=3;break;default:fe=h}var ee=h;h=fe;try{return K()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,fe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ee=h;h=K;try{return fe()}finally{h=ee}},t.unstable_scheduleCallback=function(K,fe,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,K){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ee+Y,K={id:u++,callback:fe,priorityLevel:K,startTime:ee,expirationTime:Y,sortIndex:-1},ee>ne?(K.sortIndex=ee,e(c,K),n(l)===null&&K===n(c)&&(g?(y(B),B=-1):g=!0,he(D,ee-ne))):(K.sortIndex=Y,e(l,K),b||m||(b=!0,ae())),K},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(K){var fe=h;return function(){var ee=h;h=fe;try{return K.apply(this,arguments)}finally{h=ee}}}})(a6);o6.exports=a6;var cW=o6.exports,l6={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uW=te;function c6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ul(){}var nr={d:{f:Ul,r:function(){throw Error(c6(522))},D:Ul,C:Ul,L:Ul,m:Ul,X:Ul,S:Ul,M:Ul},p:0,findDOMNode:null},dW=Symbol.for("react.portal");function hW(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dW,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var hg=uW.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function uw(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nr;ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(c6(299));return hW(t,e,null,n)};ur.flushSync=function(t){var e=hg.T,n=nr.p;try{if(hg.T=null,nr.p=2,t)return t()}finally{hg.T=e,nr.p=n,nr.d.f()}};ur.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,nr.d.C(t,e))};ur.prefetchDNS=function(t){typeof t=="string"&&nr.d.D(t)};ur.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=uw(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?nr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&nr.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ur.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=uw(e.as,e.crossOrigin);nr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&nr.d.M(t)};ur.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=uw(n,e.crossOrigin);nr.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ur.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=uw(e.as,e.crossOrigin);nr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else nr.d.m(t)};ur.requestFormReset=function(t){nr.d.r(t)};ur.unstable_batchedUpdates=function(t,e){return t(e)};ur.useFormState=function(t,e,n){return hg.H.useFormState(t,e,n)};ur.useFormStatus=function(){return hg.H.useHostTransitionStatus()};ur.version="19.0.0";function u6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u6)}catch(t){console.error(t)}}u6(),l6.exports=ur;var VC=l6.exports;const fW=da(VC);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $n=cW,d6=te,pW=VC;function de(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var mW=Symbol.for("react.element"),Ev=Symbol.for("react.transitional.element"),Gm=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),f6=Symbol.for("react.strict_mode"),qS=Symbol.for("react.profiler"),gW=Symbol.for("react.provider"),p6=Symbol.for("react.consumer"),za=Symbol.for("react.context"),$C=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),WS=Symbol.for("react.suspense_list"),jC=Symbol.for("react.memo"),Wl=Symbol.for("react.lazy"),m6=Symbol.for("react.offscreen"),bW=Symbol.for("react.memo_cache_sentinel"),QP=Symbol.iterator;function Tm(t){return t===null||typeof t!="object"?null:(t=QP&&t[QP]||t["@@iterator"],typeof t=="function"?t:null)}var vW=Symbol.for("react.client.reference");function YS(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vW?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oh:return"Fragment";case Gm:return"Portal";case qS:return"Profiler";case f6:return"StrictMode";case GS:return"Suspense";case WS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case za:return(t.displayName||"Context")+".Provider";case p6:return(t._context.displayName||"Context")+".Consumer";case $C:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jC:return e=t.displayName||null,e!==null?e:YS(t.type)||"Memo";case Wl:e=t._payload,t=t._init;try{return YS(t(e))}catch(n){}}return null}var We=d6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qt=Object.assign,zT,ZP;function Wm(t){if(zT===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zT=e&&e[1]||"",ZP=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+zT+t+ZP}var HT=!1;function qT(t,e){if(!t||HT)return"";HT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(t,[],d)}else{try{d.call()}catch(m){h=m}t.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=r);break}}}finally{HT=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Wm(n):""}function yW(t){switch(t.tag){case 26:case 27:case 5:return Wm(t.type);case 16:return Wm("Lazy");case 13:return Wm("Suspense");case 19:return Wm("SuspenseList");case 0:case 15:return t=qT(t.type,!1),t;case 11:return t=qT(t.type.render,!1),t;case 1:return t=qT(t.type,!0),t;default:return""}}function JP(t){try{var e="";do e+=yW(t),t=t.return;while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function gp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eO(t){if(gp(t)!==t)throw Error(de(188))}function _W(t){var e=t.alternate;if(!e){if(e=gp(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return eO(r),t;if(s===i)return eO(r),e;s=s.sibling}throw Error(de(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==i)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function b6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=b6(t),e!==null)return e;t=t.sibling}return null}var Ym=Array.isArray,Ht=pW.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qu={pending:!1,data:null,method:null,action:null},XS=[],Lh=-1;function ha(t){return{current:t}}function ci(t){0>Lh||(t.current=XS[Lh],XS[Lh]=null,Lh--)}function Kt(t,e){Lh++,XS[Lh]=t.current,t.current=e}var qo=ha(null),Jg=ha(null),hc=ha(null),Ky=ha(null);function Qy(t,e){switch(Kt(hc,e),Kt(Jg,t),Kt(qo,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?t4(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=t4(t),e=IB(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ci(qo),Kt(qo,e)}function Af(){ci(qo),ci(Jg),ci(hc)}function KS(t){t.memoizedState!==null&&Kt(Ky,t);var e=qo.current,n=IB(e,t.type);e!==n&&(Kt(Jg,t),Kt(qo,n))}function Zy(t){Jg.current===t&&(ci(qo),ci(Jg)),Ky.current===t&&(ci(Ky),u0._currentValue=qu)}var QS=Object.prototype.hasOwnProperty,zC=$n.unstable_scheduleCallback,GT=$n.unstable_cancelCallback,xW=$n.unstable_shouldYield,wW=$n.unstable_requestPaint,Go=$n.unstable_now,TW=$n.unstable_getCurrentPriorityLevel,v6=$n.unstable_ImmediatePriority,y6=$n.unstable_UserBlockingPriority,Jy=$n.unstable_NormalPriority,EW=$n.unstable_LowPriority,_6=$n.unstable_IdlePriority,SW=$n.log,kW=$n.unstable_setDisableYieldValue,Q0=null,Jr=null;function CW(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Q0,t,void 0,(t.current.flags&128)===128)}catch(e){}}function sc(t){if(typeof SW=="function"&&kW(t),Jr&&typeof Jr.setStrictMode=="function")try{Jr.setStrictMode(Q0,t)}catch(e){}}var es=Math.clz32?Math.clz32:DW,AW=Math.log,IW=Math.LN2;function DW(t){return t>>>=0,t===0?32:31-(AW(t)/IW|0)|0}var Sv=128,kv=4194304;function Cu(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dw(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=t.warmLanes;t=t.finishedLanes!==0;var a=n&134217727;return a!==0?(n=a&~r,n!==0?i=Cu(n):(s&=a,s!==0?i=Cu(s):t||(o=a&~o,o!==0&&(i=Cu(o))))):(a=n&~r,a!==0?i=Cu(a):s!==0?i=Cu(s):t||(o=n&~o,o!==0&&(i=Cu(o)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===32&&(o&4194176)!==0)?e:i}function Z0(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function RW(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x6(){var t=Sv;return Sv<<=1,!(Sv&4194176)&&(Sv=128),t}function w6(){var t=kv;return kv<<=1,!(kv&62914560)&&(kv=4194304),t}function WT(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function J0(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function PW(t,e,n,i,r,s){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=o&~n;0<n;){var u=31-es(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];m!==null&&(m.lane&=-536870913)}n&=~d}i!==0&&T6(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(o&~e))}function T6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-es(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function E6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-es(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function S6(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function k6(){var t=Ht.p;return t!==0?t:(t=window.event,t===void 0?32:FB(t.type))}function OW(t,e){var n=Ht.p;try{return Ht.p=t,e()}finally{Ht.p=n}}var Kc=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Kc,Or="__reactProps$"+Kc,bp="__reactContainer$"+Kc,ZS="__reactEvents$"+Kc,LW="__reactListeners$"+Kc,MW="__reactHandles$"+Kc,tO="__reactResources$"+Kc,e0="__reactMarker$"+Kc;function HC(t){delete t[Fi],delete t[Or],delete t[ZS],delete t[LW],delete t[MW]}function Mu(t){var e=t[Fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bp]||n[Fi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i4(t);t!==null;){if(n=t[Fi])return n;t=i4(t)}return e}t=n,n=t.parentNode}return null}function vp(t){if(t=t[Fi]||t[bp]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Xm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(de(33))}function Kh(t){var e=t[tO];return e||(e=t[tO]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ni(t){t[e0]=!0}var C6=new Set,A6={};function Id(t,e){If(t,e),If(t+"Capture",e)}function If(t,e){for(A6[t]=e,t=0;t<e.length;t++)C6.add(e[t])}var il=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NW=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nO={},iO={};function BW(t){return QS.call(iO,t)?!0:QS.call(nO,t)?!1:NW.test(t)?iO[t]=!0:(nO[t]=!0,!1)}function gy(t,e,n){if(BW(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Cv(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ka(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function ys(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UW(t){var e=I6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function e_(t){t._valueTracker||(t._valueTracker=UW(t))}function D6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=I6(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function t_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var FW=/[\n"\\]/g;function ws(t){return t.replace(FW,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function JS(t,e,n,i,r,s,o,a){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ys(e)):t.value!==""+ys(e)&&(t.value=""+ys(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?ek(t,o,ys(e)):n!=null?ek(t,o,ys(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+ys(a):t.removeAttribute("name")}function R6(t,e,n,i,r,s,o,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+ys(n):"",e=e!=null?""+ys(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i=i!=null?i:r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function ek(t,e,n){e==="number"&&t_(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Qh(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function P6(t,e,n){if(e!=null&&(e=""+ys(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ys(n):""}function O6(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(de(92));if(Ym(i)){if(1<i.length)throw Error(de(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=ys(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var VW=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rO(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||VW.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function L6(t,e,n){if(e!=null&&typeof e!="object")throw Error(de(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&rO(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&rO(t,s,e[s])}function qC(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $W=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jW=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function by(t){return jW.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var tk=null;function GC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mh=null,Zh=null;function sO(t){var e=vp(t);if(e&&(t=e.stateNode)){var n=t[Or]||null;e:switch(t=e.stateNode,e.type){case"input":if(JS(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ws(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Or]||null;if(!r)throw Error(de(90));JS(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&D6(i)}break e;case"textarea":P6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Qh(t,!!n.multiple,e,!1)}}}var YT=!1;function M6(t,e,n){if(YT)return t(e,n);YT=!0;try{var i=t(e);return i}finally{if(YT=!1,(Mh!==null||Zh!==null)&&(xw(),Mh&&(e=Mh,t=Zh,Zh=Mh=null,sO(e),t)))for(e=0;e<t.length;e++)sO(t[e])}}function t0(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Or]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var nk=!1;if(il)try{var Em={};Object.defineProperty(Em,"passive",{get:function(){nk=!0}}),window.addEventListener("test",Em,Em),window.removeEventListener("test",Em,Em)}catch(t){nk=!1}var oc=null,WC=null,vy=null;function N6(){if(vy)return vy;var t,e=WC,n=e.length,i,r="value"in oc?oc.value:oc.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return vy=r.slice(t,1<i?1-i:void 0)}function yy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Av(){return!0}function oO(){return!1}function Mr(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Av:oO,this.isPropagationStopped=oO,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Av)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Av)},persist:function(){},isPersistent:Av}),e}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=Mr(Dd),eb=qt({},Dd,{view:0,detail:0}),zW=Mr(eb),XT,KT,Sm,fw=qt({},eb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sm&&(Sm&&t.type==="mousemove"?(XT=t.screenX-Sm.screenX,KT=t.screenY-Sm.screenY):KT=XT=0,Sm=t),XT)},movementY:function(t){return"movementY"in t?t.movementY:KT}}),aO=Mr(fw),HW=qt({},fw,{dataTransfer:0}),qW=Mr(HW),GW=qt({},eb,{relatedTarget:0}),QT=Mr(GW),WW=qt({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),YW=Mr(WW),XW=qt({},Dd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KW=Mr(XW),QW=qt({},Dd,{data:0}),lO=Mr(QW),ZW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eY[t])?!!e[t]:!1}function YC(){return tY}var nY=qt({},eb,{key:function(t){if(t.key){var e=ZW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YC,charCode:function(t){return t.type==="keypress"?yy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iY=Mr(nY),rY=qt({},fw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cO=Mr(rY),sY=qt({},eb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YC}),oY=Mr(sY),aY=qt({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lY=Mr(aY),cY=qt({},fw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uY=Mr(cY),dY=qt({},Dd,{newState:0,oldState:0}),hY=Mr(dY),fY=[9,13,27,32],XC=il&&"CompositionEvent"in window,fg=null;il&&"documentMode"in document&&(fg=document.documentMode);var pY=il&&"TextEvent"in window&&!fg,B6=il&&(!XC||fg&&8<fg&&11>=fg),uO=" ",dO=!1;function U6(t,e){switch(t){case"keyup":return fY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nh=!1;function mY(t,e){switch(t){case"compositionend":return F6(e);case"keypress":return e.which!==32?null:(dO=!0,uO);case"textInput":return t=e.data,t===uO&&dO?null:t;default:return null}}function gY(t,e){if(Nh)return t==="compositionend"||!XC&&U6(t,e)?(t=N6(),vy=WC=oc=null,Nh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B6&&e.locale!=="ko"?null:e.data;default:return null}}var bY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bY[t.type]:e==="textarea"}function V6(t,e,n,i){Mh?Zh?Zh.push(i):Zh=[i]:Mh=i,e=b_(e,"onChange"),0<e.length&&(n=new hw("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var pg=null,n0=null;function vY(t){kB(t,0)}function pw(t){var e=Xm(t);if(D6(e))return t}function fO(t,e){if(t==="change")return e}var $6=!1;if(il){var ZT;if(il){var JT="oninput"in document;if(!JT){var pO=document.createElement("div");pO.setAttribute("oninput","return;"),JT=typeof pO.oninput=="function"}ZT=JT}else ZT=!1;$6=ZT&&(!document.documentMode||9<document.documentMode)}function mO(){pg&&(pg.detachEvent("onpropertychange",j6),n0=pg=null)}function j6(t){if(t.propertyName==="value"&&pw(n0)){var e=[];V6(e,n0,t,GC(t)),M6(vY,e)}}function yY(t,e,n){t==="focusin"?(mO(),pg=e,n0=n,pg.attachEvent("onpropertychange",j6)):t==="focusout"&&mO()}function _Y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pw(n0)}function xY(t,e){if(t==="click")return pw(e)}function wY(t,e){if(t==="input"||t==="change")return pw(e)}function TY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:TY;function i0(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!QS.call(e,r)||!ns(t[r],e[r]))return!1}return!0}function gO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bO(t,e){var n=gO(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gO(n)}}function z6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=t_(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=t_(t.document)}return e}function KC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EY(t,e){var n=H6(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&z6(e.ownerDocument.documentElement,e)){if(i!==null&&KC(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=bO(e,s);var o=bO(e,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var SY=il&&"documentMode"in document&&11>=document.documentMode,Bh=null,ik=null,mg=null,rk=!1;function vO(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rk||Bh==null||Bh!==t_(i)||(i=Bh,"selectionStart"in i&&KC(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),mg&&i0(mg,i)||(mg=i,i=b_(ik,"onSelect"),0<i.length&&(e=new hw("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Bh)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uh={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionrun:Eu("Transition","TransitionRun"),transitionstart:Eu("Transition","TransitionStart"),transitioncancel:Eu("Transition","TransitionCancel"),transitionend:Eu("Transition","TransitionEnd")},eE={},q6={};il&&(q6=document.createElement("div").style,"AnimationEvent"in window||(delete Uh.animationend.animation,delete Uh.animationiteration.animation,delete Uh.animationstart.animation),"TransitionEvent"in window||delete Uh.transitionend.transition);function Rd(t){if(eE[t])return eE[t];if(!Uh[t])return t;var e=Uh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q6)return eE[t]=e[n];return t}var G6=Rd("animationend"),W6=Rd("animationiteration"),Y6=Rd("animationstart"),kY=Rd("transitionrun"),CY=Rd("transitionstart"),AY=Rd("transitioncancel"),X6=Rd("transitionend"),K6=new Map,yO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function mo(t,e){K6.set(t,e),Id(e,[t])}var bs=[],Fh=0,QC=0;function mw(){for(var t=Fh,e=QC=Fh=0;e<t;){var n=bs[e];bs[e++]=null;var i=bs[e];bs[e++]=null;var r=bs[e];bs[e++]=null;var s=bs[e];if(bs[e++]=null,i!==null&&r!==null){var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}s!==0&&Q6(n,r,s)}}function gw(t,e,n,i){bs[Fh++]=t,bs[Fh++]=e,bs[Fh++]=n,bs[Fh++]=i,QC|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function ZC(t,e,n,i){return gw(t,e,n,i),n_(t)}function Ac(t,e){return gw(t,null,null,e),n_(t)}function Q6(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;r&&e!==null&&t.tag===3&&(s=t.stateNode,r=31-es(n),s=s.hiddenUpdates,t=s[r],t===null?s[r]=[e]:t.push(e),e.lane=n|536870912)}function n_(t){if(50<Cg)throw Cg=0,kk=null,Error(de(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Vh={},_O=new WeakMap;function Ts(t,e){if(typeof t=="object"&&t!==null){var n=_O.get(t);return n!==void 0?n:(e={value:t,source:e,stack:JP(e)},_O.set(t,e),e)}return{value:t,source:e,stack:JP(e)}}var $h=[],jh=0,i_=null,r_=0,_s=[],xs=0,Gu=null,Ha=1,qa="";function Au(t,e){$h[jh++]=r_,$h[jh++]=i_,i_=t,r_=e}function Z6(t,e,n){_s[xs++]=Ha,_s[xs++]=qa,_s[xs++]=Gu,Gu=t;var i=Ha;t=qa;var r=32-es(i)-1;i&=~(1<<r),n+=1;var s=32-es(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ha=1<<32-es(e)+r|n<<r|i,qa=s+t}else Ha=1<<s|n<<r|i,qa=t}function JC(t){t.return!==null&&(Au(t,1),Z6(t,1,0))}function eA(t){for(;t===i_;)i_=$h[--jh],$h[jh]=null,r_=$h[--jh],$h[jh]=null;for(;t===Gu;)Gu=_s[--xs],_s[xs]=null,qa=_s[--xs],_s[xs]=null,Ha=_s[--xs],_s[xs]=null}var Ji=null,_i=null,mt=!1,Zs=null,Bo=!1,sk=Error(de(519));function ad(t){var e=Error(de(418,""));throw r0(Ts(e,t)),sk}function xO(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Fi]=t,e[Or]=i,n){case"dialog":ct("cancel",e),ct("close",e);break;case"iframe":case"object":case"embed":ct("load",e);break;case"video":case"audio":for(n=0;n<a0.length;n++)ct(a0[n],e);break;case"source":ct("error",e);break;case"img":case"image":case"link":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"input":ct("invalid",e),R6(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),e_(e);break;case"select":ct("invalid",e);break;case"textarea":ct("invalid",e),O6(e,i.value,i.defaultValue,i.children),e_(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||AB(e.textContent,n)?(i.popover!=null&&(ct("beforetoggle",e),ct("toggle",e)),i.onScroll!=null&&ct("scroll",e),i.onScrollEnd!=null&&ct("scrollend",e),i.onClick!=null&&(e.onclick=Tw),e=!0):e=!1,e||ad(t)}function wO(t){for(Ji=t.return;Ji;)switch(Ji.tag){case 3:case 27:Bo=!0;return;case 5:case 13:Bo=!1;return;default:Ji=Ji.return}}function km(t){if(t!==Ji)return!1;if(!mt)return wO(t),mt=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ok(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&_i&&ad(t),wO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){_i=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}_i=null}}else _i=Ji?io(t.stateNode.nextSibling):null;return!0}function tb(){_i=Ji=null,mt=!1}function r0(t){Zs===null?Zs=[t]:Zs.push(t)}var gg=Error(de(460)),J6=Error(de(474)),ok={then:function(){}};function TO(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iv(){}function e8(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Iv,Iv),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===gg?Error(de(483)):t;default:if(typeof e.status=="string")e.then(Iv,Iv);else{if(t=Bt,t!==null&&100<t.shellSuspendCounter)throw Error(de(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===gg?Error(de(483)):t}throw bg=e,gg}}var bg=null;function EO(){if(bg===null)throw Error(de(459));var t=bg;return bg=null,t}var Jh=null,s0=0;function Dv(t){var e=s0;return s0+=1,Jh===null&&(Jh=[]),e8(Jh,t,e)}function Cm(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Rv(t,e){throw e.$$typeof===mW?Error(de(525)):(t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function SO(t){var e=t._init;return e(t._payload)}function t8(t){function e(y,T){if(t){var k=y.deletions;k===null?(y.deletions=[T],y.flags|=16):k.push(T)}}function n(y,T){if(!t)return null;for(;T!==null;)e(y,T),T=T.sibling;return null}function i(y){for(var T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function r(y,T){return y=mc(y,T),y.index=0,y.sibling=null,y}function s(y,T,k){return y.index=k,t?(k=y.alternate,k!==null?(k=k.index,k<T?(y.flags|=33554434,T):k):(y.flags|=33554434,T)):(y.flags|=1048576,T)}function o(y){return t&&y.alternate===null&&(y.flags|=33554434),y}function a(y,T,k,D){return T===null||T.tag!==6?(T=hE(k,y.mode,D),T.return=y,T):(T=r(T,k),T.return=y,T)}function l(y,T,k,D){var P=k.type;return P===Oh?u(y,T,k.props.children,D,k.key):T!==null&&(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wl&&SO(P)===T.type)?(T=r(T,k.props),Cm(T,k),T.return=y,T):(T=Ey(k.type,k.key,k.props,null,y.mode,D),Cm(T,k),T.return=y,T)}function c(y,T,k,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=fE(k,y.mode,D),T.return=y,T):(T=r(T,k.children||[]),T.return=y,T)}function u(y,T,k,D,P){return T===null||T.tag!==7?(T=Yu(k,y.mode,D,P),T.return=y,T):(T=r(T,k),T.return=y,T)}function d(y,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=hE(""+T,y.mode,k),T.return=y,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ev:return k=Ey(T.type,T.key,T.props,null,y.mode,k),Cm(k,T),k.return=y,k;case Gm:return T=fE(T,y.mode,k),T.return=y,T;case Wl:var D=T._init;return T=D(T._payload),d(y,T,k)}if(Ym(T)||Tm(T))return T=Yu(T,y.mode,k,null),T.return=y,T;if(typeof T.then=="function")return d(y,Dv(T),k);if(T.$$typeof===za)return d(y,Pv(y,T),k);Rv(y,T)}return null}function h(y,T,k,D){var P=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return P!==null?null:a(y,T,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ev:return k.key===P?l(y,T,k,D):null;case Gm:return k.key===P?c(y,T,k,D):null;case Wl:return P=k._init,k=P(k._payload),h(y,T,k,D)}if(Ym(k)||Tm(k))return P!==null?null:u(y,T,k,D,null);if(typeof k.then=="function")return h(y,T,Dv(k),D);if(k.$$typeof===za)return h(y,T,Pv(y,k),D);Rv(y,k)}return null}function m(y,T,k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return y=y.get(k)||null,a(T,y,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ev:return y=y.get(D.key===null?k:D.key)||null,l(T,y,D,P);case Gm:return y=y.get(D.key===null?k:D.key)||null,c(T,y,D,P);case Wl:var B=D._init;return D=B(D._payload),m(y,T,k,D,P)}if(Ym(D)||Tm(D))return y=y.get(k)||null,u(T,y,D,P,null);if(typeof D.then=="function")return m(y,T,k,Dv(D),P);if(D.$$typeof===za)return m(y,T,k,Pv(T,D),P);Rv(T,D)}return null}function b(y,T,k,D){for(var P=null,B=null,O=T,A=T=0,R=null;O!==null&&A<k.length;A++){O.index>A?(R=O,O=null):R=O.sibling;var L=h(y,O,k[A],D);if(L===null){O===null&&(O=R);break}t&&O&&L.alternate===null&&e(y,O),T=s(L,T,A),B===null?P=L:B.sibling=L,B=L,O=R}if(A===k.length)return n(y,O),mt&&Au(y,A),P;if(O===null){for(;A<k.length;A++)O=d(y,k[A],D),O!==null&&(T=s(O,T,A),B===null?P=O:B.sibling=O,B=O);return mt&&Au(y,A),P}for(O=i(O);A<k.length;A++)R=m(O,y,A,k[A],D),R!==null&&(t&&R.alternate!==null&&O.delete(R.key===null?A:R.key),T=s(R,T,A),B===null?P=R:B.sibling=R,B=R);return t&&O.forEach(function(U){return e(y,U)}),mt&&Au(y,A),P}function g(y,T,k,D){if(k==null)throw Error(de(151));for(var P=null,B=null,O=T,A=T=0,R=null,L=k.next();O!==null&&!L.done;A++,L=k.next()){O.index>A?(R=O,O=null):R=O.sibling;var U=h(y,O,L.value,D);if(U===null){O===null&&(O=R);break}t&&O&&U.alternate===null&&e(y,O),T=s(U,T,A),B===null?P=U:B.sibling=U,B=U,O=R}if(L.done)return n(y,O),mt&&Au(y,A),P;if(O===null){for(;!L.done;A++,L=k.next())L=d(y,L.value,D),L!==null&&(T=s(L,T,A),B===null?P=L:B.sibling=L,B=L);return mt&&Au(y,A),P}for(O=i(O);!L.done;A++,L=k.next())L=m(O,y,A,L.value,D),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?A:L.key),T=s(L,T,A),B===null?P=L:B.sibling=L,B=L);return t&&O.forEach(function(V){return e(y,V)}),mt&&Au(y,A),P}function w(y,T,k,D){if(typeof k=="object"&&k!==null&&k.type===Oh&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ev:e:{for(var P=k.key;T!==null;){if(T.key===P){if(P=k.type,P===Oh){if(T.tag===7){n(y,T.sibling),D=r(T,k.props.children),D.return=y,y=D;break e}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wl&&SO(P)===T.type){n(y,T.sibling),D=r(T,k.props),Cm(D,k),D.return=y,y=D;break e}n(y,T);break}else e(y,T);T=T.sibling}k.type===Oh?(D=Yu(k.props.children,y.mode,D,k.key),D.return=y,y=D):(D=Ey(k.type,k.key,k.props,null,y.mode,D),Cm(D,k),D.return=y,y=D)}return o(y);case Gm:e:{for(P=k.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(y,T.sibling),D=r(T,k.children||[]),D.return=y,y=D;break e}else{n(y,T);break}else e(y,T);T=T.sibling}D=fE(k,y.mode,D),D.return=y,y=D}return o(y);case Wl:return P=k._init,k=P(k._payload),w(y,T,k,D)}if(Ym(k))return b(y,T,k,D);if(Tm(k)){if(P=Tm(k),typeof P!="function")throw Error(de(150));return k=P.call(k),g(y,T,k,D)}if(typeof k.then=="function")return w(y,T,Dv(k),D);if(k.$$typeof===za)return w(y,T,Pv(y,k),D);Rv(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(n(y,T.sibling),D=r(T,k),D.return=y,y=D):(n(y,T),D=hE(k,y.mode,D),D.return=y,y=D),o(y)):n(y,T)}return function(y,T,k,D){try{s0=0;var P=w(y,T,k,D);return Jh=null,P}catch(O){if(O===gg)throw O;var B=ks(29,O,null,y.mode);return B.lanes=D,B.return=y,B}finally{}}}var ld=t8(!0),n8=t8(!1),Rf=ha(null),s_=ha(0);function kO(t,e){t=ol,Kt(s_,t),Kt(Rf,e),ol=t|e.baseLanes}function ak(){Kt(s_,ol),Kt(Rf,Rf.current)}function tA(){ol=s_.current,ci(Rf),ci(s_)}var Ps=ha(null),Wo=null;function Ql(t){var e=t.alternate;Kt(Un,Un.current&1),Kt(Ps,t),Wo===null&&(e===null||Rf.current!==null||e.memoizedState!==null)&&(Wo=t)}function i8(t){if(t.tag===22){if(Kt(Un,Un.current),Kt(Ps,t),Wo===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Wo=t)}}else Zl()}function Zl(){Kt(Un,Un.current),Kt(Ps,Ps.current)}function Ga(t){ci(Ps),Wo===t&&(Wo=null),ci(Un)}var Un=ha(0);function o_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var IY=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},DY=$n.unstable_scheduleCallback,RY=$n.unstable_NormalPriority,Bn={$$typeof:za,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nA(){return{controller:new IY,data:new Map,refCount:0}}function nb(t){t.refCount--,t.refCount===0&&DY(RY,function(){t.controller.abort()})}var vg=null,lk=0,Pf=0,ef=null;function PY(t,e){if(vg===null){var n=vg=[];lk=0,Pf=SA(),ef={status:"pending",value:void 0,then:function(i){n.push(i)}}}return lk++,e.then(CO,CO),e}function CO(){if(--lk===0&&vg!==null){ef!==null&&(ef.status="fulfilled");var t=vg;vg=null,Pf=0,ef=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function OY(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var AO=We.S;We.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&PY(t,e),AO!==null&&AO(t,e)};var Wu=ha(null);function iA(){var t=Wu.current;return t!==null?t:Bt.pooledCache}function _y(t,e){e===null?Kt(Wu,Wu.current):Kt(Wu,e.pool)}function r8(){var t=iA();return t===null?null:{parent:Bn._currentValue,pool:t}}var Ic=0,et=null,Ct=null,In=null,a_=!1,tf=!1,cd=!1,l_=0,o0=0,nf=null,LY=0;function vn(){throw Error(de(321))}function rA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ns(t[n],e[n]))return!1;return!0}function sA(t,e,n,i,r,s){return Ic=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,We.H=t===null||t.memoizedState===null?Pd:Qc,cd=!1,s=n(i,r),cd=!1,tf&&(s=o8(e,n,i,r)),s8(t),s}function s8(t){We.H=na;var e=Ct!==null&&Ct.next!==null;if(Ic=0,In=Ct=et=null,a_=!1,o0=0,nf=null,e)throw Error(de(300));t===null||oi||(t=t.dependencies,t!==null&&d_(t)&&(oi=!0))}function o8(t,e,n,i){et=t;var r=0;do{if(tf&&(nf=null),o0=0,tf=!1,25<=r)throw Error(de(301));if(r+=1,In=Ct=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}We.H=Od,s=e(n,i)}while(tf);return s}function MY(){var t=We.H,e=t.useState()[0];return e=typeof e.then=="function"?ib(e):e,t=t.useState()[0],(Ct!==null?Ct.memoizedState:null)!==t&&(et.flags|=1024),e}function oA(){var t=l_!==0;return l_=0,t}function aA(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function lA(t){if(a_){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}a_=!1}Ic=0,In=Ct=et=null,tf=!1,o0=l_=0,nf=null}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?et.memoizedState=In=t:In=In.next=t,In}function On(){if(Ct===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=In===null?et.memoizedState:In.next;if(e!==null)In=e,Ct=t;else{if(t===null)throw et.alternate===null?Error(de(467)):Error(de(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},In===null?et.memoizedState=In=t:In=In.next=t}return In}var bw;bw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ib(t){var e=o0;return o0+=1,nf===null&&(nf=[]),t=e8(nf,t,e),e=et,(In===null?e.memoizedState:In.next)===null&&(e=e.alternate,We.H=e===null||e.memoizedState===null?Pd:Qc),t}function vw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ib(t);if(t.$$typeof===za)return Vi(t)}throw Error(de(438,String(t)))}function cA(t){var e=null,n=et.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=bw(),et.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=bW;return e.index++,n}function rl(t,e){return typeof e=="function"?e(t):e}function xy(t){var e=On();return uA(e,Ct,t)}function uA(t,e,n){var i=t.queue;if(i===null)throw Error(de(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var a=o=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ht&d)===d:(Ic&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Pf&&(u=!0);else if((Ic&h)===h){c=c.next,h===Pf&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=d,o=s):l=l.next=d,et.lanes|=h,Rc|=h;d=c.action,cd&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(a=l=h,o=s):l=l.next=h,et.lanes|=d,Rc|=d;c=c.next}while(c!==null&&c!==e);if(l===null?o=s:l.next=a,!ns(s,t.memoizedState)&&(oi=!0,u&&(n=ef,n!==null)))throw n;t.memoizedState=s,t.baseState=o,t.baseQueue=l,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function tE(t){var e=On(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ns(s,e.memoizedState)||(oi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function a8(t,e,n){var i=et,r=On(),s=mt;if(s){if(n===void 0)throw Error(de(407));n=n()}else n=e();var o=!ns((Ct||r).memoizedState,n);if(o&&(r.memoizedState=n,oi=!0),r=r.queue,dA(u8.bind(null,i,r,t),[t]),r.getSnapshot!==e||o||In!==null&&In.memoizedState.tag&1){if(i.flags|=2048,Of(9,c8.bind(null,i,r,n,e),{destroy:void 0},null),Bt===null)throw Error(de(349));s||Ic&60||l8(i,e,n)}return n}function l8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e=bw(),et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c8(t,e,n,i){e.value=n,e.getSnapshot=i,d8(e)&&h8(t)}function u8(t,e,n){return n(function(){d8(e)&&h8(t)})}function d8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ns(t,n)}catch(i){return!0}}function h8(t){var e=Ac(t,2);e!==null&&sr(e,t,2)}function ck(t){var e=yr();if(typeof t=="function"){var n=t;if(t=n(),cd){sc(!0);try{n()}finally{sc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:t},e}function f8(t,e,n,i){return t.baseState=n,uA(t,Ct,typeof i=="function"?i:rl)}function NY(t,e,n,i,r){if(_w(t))throw Error(de(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};We.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,p8(e,s)):(s.next=n.next,e.pending=n.next=s)}}function p8(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=We.T,o={};We.T=o;try{var a=n(r,i),l=We.S;l!==null&&l(o,a),IO(t,e,a)}catch(c){uk(t,e,c)}finally{We.T=s}}else try{s=n(r,i),IO(t,e,s)}catch(c){uk(t,e,c)}}function IO(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){DO(t,e,i)},function(i){return uk(t,e,i)}):DO(t,e,n)}function DO(t,e,n){e.status="fulfilled",e.value=n,m8(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,p8(t,n)))}function uk(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,m8(e),e=e.next;while(e!==i)}t.action=null}function m8(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function g8(t,e){return e}function b8(t,e){if(mt){var n=Bt.formState;if(n!==null){e:{var i=et;if(mt){if(_i){t:{for(var r=_i,s=Bo;r.nodeType!==8;){if(!s){r=null;break t}if(r=io(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){_i=io(r.nextSibling),i=r.data==="F!";break e}}ad(i)}i=!1}i&&(e=n[0])}}return n=yr(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g8,lastRenderedState:e},n.queue=i,n=L8.bind(null,et,i),i.dispatch=n,i=ck(!1),s=mA.bind(null,et,!1,i.queue),i=yr(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=NY.bind(null,et,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function v8(t){var e=On();return y8(e,Ct,t)}function y8(t,e,n){e=uA(t,e,g8)[0],t=xy(rl)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?ib(e):e;var i=On(),r=i.queue,s=r.dispatch;return n!==i.memoizedState&&(et.flags|=2048,Of(9,BY.bind(null,r,n),{destroy:void 0},null)),[e,s,t]}function BY(t,e){t.action=e}function _8(t){var e=On(),n=Ct;if(n!==null)return y8(e,n,t);On(),e=e.memoizedState,n=On();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Of(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=et.updateQueue,e===null&&(e=bw(),et.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function x8(){return On().memoizedState}function wy(t,e,n,i){var r=yr();et.flags|=t,r.memoizedState=Of(1|e,n,{destroy:void 0},i===void 0?null:i)}function yw(t,e,n,i){var r=On();i=i===void 0?null:i;var s=r.memoizedState.inst;Ct!==null&&i!==null&&rA(i,Ct.memoizedState.deps)?r.memoizedState=Of(e,n,s,i):(et.flags|=t,r.memoizedState=Of(1|e,n,s,i))}function RO(t,e){wy(8390656,8,t,e)}function dA(t,e){yw(2048,8,t,e)}function w8(t,e){return yw(4,2,t,e)}function T8(t,e){return yw(4,4,t,e)}function E8(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S8(t,e,n){n=n!=null?n.concat([t]):null,yw(4,4,E8.bind(null,e,t),n)}function hA(){}function k8(t,e){var n=On();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&rA(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function C8(t,e){var n=On();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&rA(e,i[1]))return i[0];if(i=t(),cd){sc(!0);try{t()}finally{sc(!1)}}return n.memoizedState=[i,e],i}function fA(t,e,n){return n===void 0||Ic&1073741824?t.memoizedState=e:(t.memoizedState=n,t=mB(),et.lanes|=t,Rc|=t,n)}function A8(t,e,n,i){return ns(n,e)?n:Rf.current!==null?(t=fA(t,n,i),ns(t,e)||(oi=!0),t):Ic&42?(t=mB(),et.lanes|=t,Rc|=t,e):(oi=!0,t.memoizedState=n)}function I8(t,e,n,i,r){var s=Ht.p;Ht.p=s!==0&&8>s?s:8;var o=We.T,a={};We.T=a,mA(t,!1,e,n);try{var l=r(),c=We.S;if(c!==null&&c(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=OY(l,i);yg(t,e,u,ts(t))}else yg(t,e,i,ts(t))}catch(d){yg(t,e,{then:function(){},status:"rejected",reason:d},ts())}finally{Ht.p=s,We.T=o}}function UY(){}function dk(t,e,n,i){if(t.tag!==5)throw Error(de(476));var r=D8(t).queue;I8(t,r,e,qu,n===null?UY:function(){return R8(t),n(i)})}function D8(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:qu,baseState:qu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:qu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function R8(t){var e=D8(t).next.queue;yg(t,e,{},ts())}function pA(){return Vi(u0)}function P8(){return On().memoizedState}function O8(){return On().memoizedState}function FY(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ts();t=fc(n);var i=pc(e,t,n);i!==null&&(sr(i,e,n),xg(i,e,n)),e={cache:nA()},t.payload=e;return}e=e.return}}function VY(t,e,n){var i=ts();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},_w(t)?M8(e,n):(n=ZC(t,e,n,i),n!==null&&(sr(n,t,i),N8(n,e,i)))}function L8(t,e,n){var i=ts();yg(t,e,n,i)}function yg(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(_w(t))M8(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ns(a,o))return gw(t,e,r,0),Bt===null&&mw(),!1}catch(l){}finally{}if(n=ZC(t,e,r,i),n!==null)return sr(n,t,i),N8(n,e,i),!0}return!1}function mA(t,e,n,i){if(i={lane:2,revertLane:SA(),action:i,hasEagerState:!1,eagerState:null,next:null},_w(t)){if(e)throw Error(de(479))}else e=ZC(t,n,i,2),e!==null&&sr(e,t,2)}function _w(t){var e=t.alternate;return t===et||e!==null&&e===et}function M8(t,e){tf=a_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function N8(t,e,n){if(n&4194176){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,E6(t,n)}}var na={readContext:Vi,use:vw,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn};na.useCacheRefresh=vn;na.useMemoCache=vn;na.useHostTransitionStatus=vn;na.useFormState=vn;na.useActionState=vn;na.useOptimistic=vn;var Pd={readContext:Vi,use:vw,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Vi,useEffect:RO,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,wy(4194308,4,E8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wy(4194308,4,t,e)},useInsertionEffect:function(t,e){wy(4,2,t,e)},useMemo:function(t,e){var n=yr();e=e===void 0?null:e;var i=t();if(cd){sc(!0);try{t()}finally{sc(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=yr();if(n!==void 0){var r=n(e);if(cd){sc(!0);try{n(e)}finally{sc(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=VY.bind(null,et,t),[i.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:function(t){t=ck(t);var e=t.queue,n=L8.bind(null,et,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hA,useDeferredValue:function(t,e){var n=yr();return fA(n,t,e)},useTransition:function(){var t=ck(!1);return t=I8.bind(null,et,t.queue,!0,!1),yr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=et,r=yr();if(mt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),Bt===null)throw Error(de(349));ht&60||l8(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,RO(u8.bind(null,i,s,t),[t]),i.flags|=2048,Of(9,c8.bind(null,i,s,n,e),{destroy:void 0},null),n},useId:function(){var t=yr(),e=Bt.identifierPrefix;if(mt){var n=qa,i=Ha;n=(i&~(1<<32-es(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=l_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return yr().memoizedState=FY.bind(null,et)}};Pd.useMemoCache=cA;Pd.useHostTransitionStatus=pA;Pd.useFormState=b8;Pd.useActionState=b8;Pd.useOptimistic=function(t){var e=yr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=mA.bind(null,et,!0,n),n.dispatch=e,[t,e]};var Qc={readContext:Vi,use:vw,useCallback:k8,useContext:Vi,useEffect:dA,useImperativeHandle:S8,useInsertionEffect:w8,useLayoutEffect:T8,useMemo:C8,useReducer:xy,useRef:x8,useState:function(){return xy(rl)},useDebugValue:hA,useDeferredValue:function(t,e){var n=On();return A8(n,Ct.memoizedState,t,e)},useTransition:function(){var t=xy(rl)[0],e=On().memoizedState;return[typeof t=="boolean"?t:ib(t),e]},useSyncExternalStore:a8,useId:P8};Qc.useCacheRefresh=O8;Qc.useMemoCache=cA;Qc.useHostTransitionStatus=pA;Qc.useFormState=v8;Qc.useActionState=v8;Qc.useOptimistic=function(t,e){var n=On();return f8(n,Ct,t,e)};var Od={readContext:Vi,use:vw,useCallback:k8,useContext:Vi,useEffect:dA,useImperativeHandle:S8,useInsertionEffect:w8,useLayoutEffect:T8,useMemo:C8,useReducer:tE,useRef:x8,useState:function(){return tE(rl)},useDebugValue:hA,useDeferredValue:function(t,e){var n=On();return Ct===null?fA(n,t,e):A8(n,Ct.memoizedState,t,e)},useTransition:function(){var t=tE(rl)[0],e=On().memoizedState;return[typeof t=="boolean"?t:ib(t),e]},useSyncExternalStore:a8,useId:P8};Od.useCacheRefresh=O8;Od.useMemoCache=cA;Od.useHostTransitionStatus=pA;Od.useFormState=_8;Od.useActionState=_8;Od.useOptimistic=function(t,e){var n=On();return Ct!==null?f8(n,Ct,t,e):(n.baseState=t,[t,n.queue.dispatch])};function nE(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hk={isMounted:function(t){return(t=t._reactInternals)?gp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ts(),r=fc(i);r.payload=e,n!=null&&(r.callback=n),e=pc(t,r,i),e!==null&&(sr(e,t,i),xg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ts(),r=fc(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=pc(t,r,i),e!==null&&(sr(e,t,i),xg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ts(),i=fc(n);i.tag=2,e!=null&&(i.callback=e),e=pc(t,i,n),e!==null&&(sr(e,t,n),xg(e,t,n))}};function PO(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!i0(n,i)||!i0(r,s):!0}function OO(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&hk.enqueueReplaceState(e,e.state,null)}function ud(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=qt({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var c_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function B8(t){c_(t)}function U8(t){console.error(t)}function F8(t){c_(t)}function u_(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function LO(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function fk(t,e,n){return n=fc(n),n.tag=3,n.payload={element:null},n.callback=function(){u_(t,e)},n}function V8(t){return t=fc(t),t.tag=3,t}function $8(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){LO(e,n,i)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){LO(e,n,i),typeof r!="function"&&(gc===null?gc=new Set([this]):gc.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function $Y(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&rb(e,n,r,!0),n=Ps.current,n!==null){switch(n.tag){case 13:return Wo===null?Ak():n.alternate===null&&cn===0&&(cn=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===ok?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),mE(t,i,r)),!1;case 22:return n.flags|=65536,i===ok?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),mE(t,i,r)),!1}throw Error(de(435,n.tag))}return mE(t,i,r),Ak(),!1}if(mt)return e=Ps.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==sk&&(t=Error(de(422),{cause:i}),r0(Ts(t,n)))):(i!==sk&&(e=Error(de(423),{cause:i}),r0(Ts(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Ts(i,n),r=fk(t.stateNode,i,r),lE(t,r),cn!==4&&(cn=2)),!1;var s=Error(de(520),{cause:i});if(s=Ts(s,n),Sg===null?Sg=[s]:Sg.push(s),cn!==4&&(cn=2),e===null)return!0;i=Ts(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=fk(n.stateNode,i,t),lE(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(gc===null||!gc.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=V8(r),$8(r,t,n,i),lE(n,r),!1}n=n.return}while(n!==null);return!1}var j8=Error(de(461)),oi=!1;function vi(t,e,n,i){e.child=t===null?n8(e,null,n,i):ld(e,t.child,n,i)}function MO(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var o={};for(var a in i)a!=="ref"&&(o[a]=i[a])}else o=i;return dd(e),i=sA(t,e,n,o,s,r),a=oA(),t!==null&&!oi?(aA(t,e,r),sl(t,e,r)):(mt&&a&&JC(e),e.flags|=1,vi(t,e,i,r),e.child)}function NO(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!_A(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,z8(t,e,s,i,r)):(t=Ey(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!gA(t,r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:i0,n(o,i)&&t.ref===e.ref)return sl(t,e,r)}return e.flags|=1,t=mc(s,i),t.ref=e.ref,t.return=e,e.child=t}function z8(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(i0(s,i)&&t.ref===e.ref)if(oi=!1,e.pendingProps=i=s,gA(t,r))t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,sl(t,e,r)}return pk(t,e,n,i,r)}function H8(t,e,n){var i=e.pendingProps,r=i.children,s=(e.stateNode._pendingVisibility&2)!==0,o=t!==null?t.memoizedState:null;if(_g(t,e),i.mode==="hidden"||s){if(e.flags&128){if(i=o!==null?o.baseLanes|n:n,t!==null){for(r=e.child=t.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return BO(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&_y(e,o!==null?o.cachePool:null),o!==null?kO(e,o):ak(),i8(e);else return e.lanes=e.childLanes=536870912,BO(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(_y(e,o.cachePool),kO(e,o),Zl(),e.memoizedState=null):(t!==null&&_y(e,null),ak(),Zl());return vi(t,e,r,n),e.child}function BO(t,e,n,i){var r=iA();return r=r===null?null:{parent:Bn._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&_y(e,null),ak(),i8(e),t!==null&&rb(t,e,i,!0),null}function _g(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(de(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function pk(t,e,n,i,r){return dd(e),n=sA(t,e,n,i,void 0,r),i=oA(),t!==null&&!oi?(aA(t,e,r),sl(t,e,r)):(mt&&i&&JC(e),e.flags|=1,vi(t,e,n,r),e.child)}function UO(t,e,n,i,r,s){return dd(e),e.updateQueue=null,n=o8(e,i,n,r),s8(t),i=oA(),t!==null&&!oi?(aA(t,e,s),sl(t,e,s)):(mt&&i&&JC(e),e.flags|=1,vi(t,e,n,s),e.child)}function FO(t,e,n,i,r){if(dd(e),e.stateNode===null){var s=Vh,o=n.contextType;typeof o=="object"&&o!==null&&(s=Vi(o)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=hk,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},bA(e),o=n.contextType,s.context=typeof o=="object"&&o!==null?Vi(o):Vh,s.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(nE(e,n,o,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&hk.enqueueReplaceState(s,s.state,null),Tg(e,i,s,r),wg(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var a=e.memoizedProps,l=ud(n,a);s.props=l;var c=s.context,u=n.contextType;o=Vh,typeof u=="object"&&u!==null&&(o=Vi(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||c!==o)&&OO(e,s,i,o),Yl=!1;var h=e.memoizedState;s.state=h,Tg(e,i,s,r),wg(),c=e.memoizedState,a||h!==c||Yl?(typeof d=="function"&&(nE(e,n,d,i),c=e.memoizedState),(l=Yl||PO(e,n,l,i,h,c,o))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=o,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,_k(t,e),o=e.memoizedProps,u=ud(n,o),s.props=u,d=e.pendingProps,h=s.context,c=n.contextType,l=Vh,typeof c=="object"&&c!==null&&(l=Vi(c)),a=n.getDerivedStateFromProps,(c=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&OO(e,s,i,l),Yl=!1,h=e.memoizedState,s.state=h,Tg(e,i,s,r),wg();var m=e.memoizedState;o!==d||h!==m||Yl||t!==null&&t.dependencies!==null&&d_(t.dependencies)?(typeof a=="function"&&(nE(e,n,a,i),m=e.memoizedState),(u=Yl||PO(e,n,u,i,h,m,l)||t!==null&&t.dependencies!==null&&d_(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),s.props=i,s.state=m,s.context=l,i=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,_g(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=ld(e,t.child,null,r),e.child=ld(e,null,n,r)):vi(t,e,n,r),e.memoizedState=s.state,t=e.child):t=sl(t,e,r),t}function VO(t,e,n,i){return tb(),e.flags|=256,vi(t,e,n,i),e.child}var iE={dehydrated:null,treeContext:null,retryLane:0};function rE(t){return{baseLanes:t,cachePool:r8()}}function sE(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Cs),t}function q8(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(Un.current&2)!==0),o&&(r=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(mt){if(r?Ql(e):Zl(),mt){var a=_i,l;if(l=a){e:{for(l=a,a=Bo;l.nodeType!==8;){if(!a){a=null;break e}if(l=io(l.nextSibling),l===null){a=null;break e}}a=l}a!==null?(e.memoizedState={dehydrated:a,treeContext:Gu!==null?{id:Ha,overflow:qa}:null,retryLane:536870912},l=ks(18,null,null,0),l.stateNode=a,l.return=e,e.child=l,Ji=e,_i=null,l=!0):l=!1}l||ad(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return a.data==="$!"?e.lanes=16:e.lanes=536870912,null;Ga(e)}return a=i.children,i=i.fallback,r?(Zl(),r=e.mode,a=gk({mode:"hidden",children:a},r),i=Yu(i,r,n,null),a.return=e,i.return=e,a.sibling=i,e.child=a,r=e.child,r.memoizedState=rE(n),r.childLanes=sE(t,o,n),e.memoizedState=iE,i):(Ql(e),mk(e,a))}if(l=t.memoizedState,l!==null&&(a=l.dehydrated,a!==null)){if(s)e.flags&256?(Ql(e),e.flags&=-257,e=oE(t,e,n)):e.memoizedState!==null?(Zl(),e.child=t.child,e.flags|=128,e=null):(Zl(),r=i.fallback,a=e.mode,i=gk({mode:"visible",children:i.children},a),r=Yu(r,a,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,ld(e,t.child,null,n),i=e.child,i.memoizedState=rE(n),i.childLanes=sE(t,o,n),e.memoizedState=iE,e=r);else if(Ql(e),a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var c=o.dgst;o=c,i=Error(de(419)),i.stack="",i.digest=o,r0({value:i,source:null,stack:null}),e=oE(t,e,n)}else if(oi||rb(t,e,n,!1),o=(n&t.childLanes)!==0,oi||o){if(o=Bt,o!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(o.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,Ac(t,i),sr(o,t,i),j8}a.data==="$?"||Ak(),e=oE(t,e,n)}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=nX.bind(null,t),a._reactRetry=e,e=null):(t=l.treeContext,_i=io(a.nextSibling),Ji=e,mt=!0,Zs=null,Bo=!1,t!==null&&(_s[xs++]=Ha,_s[xs++]=qa,_s[xs++]=Gu,Ha=t.id,qa=t.overflow,Gu=e),e=mk(e,i.children),e.flags|=4096);return e}return r?(Zl(),r=i.fallback,a=e.mode,l=t.child,c=l.sibling,i=mc(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,c!==null?r=mc(c,r):(r=Yu(r,a,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,a=t.child.memoizedState,a===null?a=rE(n):(l=a.cachePool,l!==null?(c=Bn._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=r8(),a={baseLanes:a.baseLanes|n,cachePool:l}),r.memoizedState=a,r.childLanes=sE(t,o,n),e.memoizedState=iE,i):(Ql(e),n=t.child,t=n.sibling,n=mc(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function mk(t,e){return e=gk({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function gk(t,e){return fB(t,e,0,null)}function oE(t,e,n){return ld(e,t.child,null,n),t=mk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $O(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vk(t.return,e,n)}function aE(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function G8(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(vi(t,e,i.children,n),i=Un.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$O(t,n,e);else if(t.tag===19)$O(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Kt(Un,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&o_(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),aE(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&o_(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}aE(e,!0,n,null,s);break;case"together":aE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rc|=e.lanes,!(n&e.childLanes))if(t!==null){if(rb(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=mc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gA(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&d_(t)))}function jY(t,e,n){switch(e.tag){case 3:Qy(e,e.stateNode.containerInfo),Jl(e,Bn,t.memoizedState.cache),tb();break;case 27:case 5:KS(e);break;case 4:Qy(e,e.stateNode.containerInfo);break;case 10:Jl(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ql(e),e.flags|=128,null):n&e.child.childLanes?q8(t,e,n):(Ql(e),t=sl(t,e,n),t!==null?t.sibling:null);Ql(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(rb(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return G8(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Kt(Un,Un.current),i)break;return null;case 22:case 23:return e.lanes=0,H8(t,e,n);case 24:Jl(e,Bn,t.memoizedState.cache)}return sl(t,e,n)}function W8(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)oi=!0;else{if(!gA(t,n)&&!(e.flags&128))return oi=!1,jY(t,e,n);oi=!!(t.flags&131072)}else oi=!1,mt&&e.flags&1048576&&Z6(e,r_,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")_A(i)?(t=ud(i,t),e.tag=1,e=FO(null,e,i,t,n)):(e.tag=0,e=pk(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===$C){e.tag=11,e=MO(null,e,i,t,n);break e}else if(r===jC){e.tag=14,e=NO(null,e,i,t,n);break e}}throw e=YS(i)||i,Error(de(306,e,""))}}return e;case 0:return pk(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=ud(i,e.pendingProps),FO(t,e,i,r,n);case 3:e:{if(Qy(e,e.stateNode.containerInfo),t===null)throw Error(de(387));var s=e.pendingProps;r=e.memoizedState,i=r.element,_k(t,e),Tg(e,s,null,n);var o=e.memoizedState;if(s=o.cache,Jl(e,Bn,s),s!==r.cache&&yk(e,[Bn],n,!0),wg(),s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=VO(t,e,s,n);break e}else if(s!==i){i=Ts(Error(de(424)),e),r0(i),e=VO(t,e,s,n);break e}else for(_i=io(e.stateNode.containerInfo.firstChild),Ji=e,mt=!0,Zs=null,Bo=!0,n=n8(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tb(),s===i){e=sl(t,e,n);break e}vi(t,e,s,n)}e=e.child}return e;case 26:return _g(t,e),t===null?(n=s4(e.type,null,e.pendingProps,null))?e.memoizedState=n:mt||(n=e.type,t=e.pendingProps,i=v_(hc.current).createElement(n),i[Fi]=e,i[Or]=t,Ei(i,n,t),ni(i),e.stateNode=i):e.memoizedState=s4(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return KS(e),t===null&&mt&&(i=e.stateNode=RB(e.type,e.pendingProps,hc.current),Ji=e,Bo=!0,_i=io(i.firstChild)),i=e.pendingProps.children,t!==null||mt?vi(t,e,i,n):e.child=ld(e,null,i,n),_g(t,e),e.child;case 5:return t===null&&mt&&((r=i=_i)&&(i=vX(i,e.type,e.pendingProps,Bo),i!==null?(e.stateNode=i,Ji=e,_i=io(i.firstChild),Bo=!1,r=!0):r=!1),r||ad(e)),KS(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Ok(r,s)?i=null:o!==null&&Ok(r,o)&&(e.flags|=32),e.memoizedState!==null&&(r=sA(t,e,MY,null,null,n),u0._currentValue=r),_g(t,e),vi(t,e,i,n),e.child;case 6:return t===null&&mt&&((t=n=_i)&&(n=yX(n,e.pendingProps,Bo),n!==null?(e.stateNode=n,Ji=e,_i=null,t=!0):t=!1),t||ad(e)),null;case 13:return q8(t,e,n);case 4:return Qy(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ld(e,null,i,n):vi(t,e,i,n),e.child;case 11:return MO(t,e,e.type,e.pendingProps,n);case 7:return vi(t,e,e.pendingProps,n),e.child;case 8:return vi(t,e,e.pendingProps.children,n),e.child;case 12:return vi(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Jl(e,e.type,i.value),vi(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,dd(e),r=Vi(r),i=i(r),e.flags|=1,vi(t,e,i,n),e.child;case 14:return NO(t,e,e.type,e.pendingProps,n);case 15:return z8(t,e,e.type,e.pendingProps,n);case 19:return G8(t,e,n);case 22:return H8(t,e,n);case 24:return dd(e),i=Vi(Bn),t===null?(r=iA(),r===null&&(r=Bt,s=nA(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},bA(e),Jl(e,Bn,r)):(t.lanes&n&&(_k(t,e),Tg(e,null,null,n),wg()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Jl(e,Bn,i)):(i=s.cache,Jl(e,Bn,i),i!==r.cache&&yk(e,[Bn],n,!0))),vi(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(de(156,e.tag))}var bk=ha(null),Ld=null,Wa=null;function Jl(t,e,n){Kt(bk,e._currentValue),e._currentValue=n}function Za(t){t._currentValue=bk.current,ci(bk)}function vk(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yk(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var o=r.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=r;for(var l=0;l<e.length;l++)if(a.context===e[l]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),vk(s.return,n,t),i||(o=null);break e}s=a.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(de(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),vk(o,n,t),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function rb(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(de(387));if(o=o.memoizedProps,o!==null){var a=r.type;ns(r.pendingProps.value,o.value)||(t!==null?t.push(a):t=[a])}}else if(r===Ky.current){if(o=r.alternate,o===null)throw Error(de(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(u0):t=[u0])}r=r.return}t!==null&&yk(e,t,n,i),e.flags|=262144}function d_(t){for(t=t.firstContext;t!==null;){if(!ns(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dd(t){Ld=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vi(t){return Y8(Ld,t)}function Pv(t,e){return Ld===null&&dd(t),Y8(t,e)}function Y8(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Wa===null){if(t===null)throw Error(de(308));Wa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Wa=Wa.next=e;return n}var Yl=!1;function bA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _k(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fc(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pc(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,en&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=n_(t),Q6(t,null,n),e}return gw(t,i,e,n),n_(t)}function xg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,E6(t,n)}}function lE(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var xk=!1;function wg(){if(xk){var t=ef;if(t!==null)throw t}}function Tg(t,e,n,i){xk=!1;var r=t.updateQueue;Yl=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane&-536870913,m=h!==a.lane;if(m?(ht&h)===h:(i&h)===h){h!==0&&h===Pf&&(xk=!0),u!==null&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var b=t,g=a;h=e;var w=n;switch(g.tag){case 1:if(b=g.payload,typeof b=="function"){d=b.call(w,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,h=typeof b=="function"?b.call(w,d,h):b,h==null)break e;d=qt({},d,h);break e;case 2:Yl=!0}}h=a.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=r.callbacks,m===null?r.callbacks=[h]:m.push(h))}else m={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;m=a,a=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,s===null&&(r.shared.lanes=0),Rc|=o,t.lanes=o,t.memoizedState=d}}function X8(t,e){if(typeof t!="function")throw Error(de(191,t));t.call(e)}function K8(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)X8(n[t],e)}function sb(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,o=n.inst;i=s(),o.destroy=i}n=n.next}while(n!==r)}}catch(a){Pt(e,e.return,a)}}function Dc(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var o=i.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,r=e;var l=n;try{a()}catch(c){Pt(r,l,c)}}}i=i.next}while(i!==s)}}catch(c){Pt(e,e.return,c)}}function Q8(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{K8(e,n)}catch(i){Pt(t,t.return,i)}}}function Z8(t,e,n){n.props=ud(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Pt(t,e,i)}}function Nu(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var r=i;break;default:r=i}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){Pt(t,e,s)}}function Kr(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Pt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Pt(t,e,r)}else n.current=null}function J8(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Pt(t,t.return,r)}}function jO(t,e,n){try{var i=t.stateNode;fX(i,t.type,n,e),i[Or]=e}catch(r){Pt(t,t.return,r)}}function eB(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function cE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wk(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tw));else if(i!==4&&i!==27&&(t=t.child,t!==null))for(wk(t,e,n),t=t.sibling;t!==null;)wk(t,e,n),t=t.sibling}function h_(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&i!==27&&(t=t.child,t!==null))for(h_(t,e,n),t=t.sibling;t!==null;)h_(t,e,n),t=t.sibling}var Ma=!1,an=!1,uE=!1,zO=typeof WeakSet=="function"?WeakSet:Set,Jn=null,HO=!1;function zY(t,e){if(t=t.containerInfo,Rk=w_,t=H6(t),KC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pk={focusedElem:t,selectionRange:n},w_=!1,Jn=e;Jn!==null;)if(e=Jn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Jn=t;else for(;Jn!==null;){switch(e=Jn,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var b=ud(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(b,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(g){Pt(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Lk(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lk(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(de(163))}if(t=e.sibling,t!==null){t.return=e.return,Jn=t;break}Jn=e.return}return b=HO,HO=!1,b}function tB(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Aa(t,n),i&4&&sb(5,n);break;case 1:if(Aa(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Pt(n,n.return,a)}else{var r=ud(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Pt(n,n.return,a)}}i&64&&Q8(n),i&512&&Nu(n,n.return);break;case 3:if(Aa(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{K8(i,t)}catch(a){Pt(n,n.return,a)}}break;case 26:Aa(t,n),i&512&&Nu(n,n.return);break;case 27:case 5:Aa(t,n),e===null&&i&4&&J8(n),i&512&&Nu(n,n.return);break;case 12:Aa(t,n);break;case 13:Aa(t,n),i&4&&rB(t,n);break;case 22:if(r=n.memoizedState!==null||Ma,!r){e=e!==null&&e.memoizedState!==null||an;var s=Ma,o=an;Ma=r,(an=e)&&!o?Gl(t,n,(n.subtreeFlags&8772)!==0):Aa(t,n),Ma=s,an=o}i&512&&(n.memoizedProps.mode==="manual"?Nu(n,n.return):Kr(n,n.return));break;default:Aa(t,n)}}function nB(t){var e=t.alternate;e!==null&&(t.alternate=null,nB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&HC(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Cn=null,qr=!1;function Ca(t,e,n){for(n=n.child;n!==null;)iB(t,e,n),n=n.sibling}function iB(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Q0,n)}catch(o){}switch(n.tag){case 26:an||Kr(n,e),Ca(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:an||Kr(n,e);var i=Cn,r=qr;for(Cn=n.stateNode,Ca(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);HC(n),Cn=i,qr=r;break;case 5:an||Kr(n,e);case 6:r=Cn;var s=qr;if(Cn=null,Ca(t,e,n),Cn=r,qr=s,Cn!==null)if(qr)try{t=Cn,i=n.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)}catch(o){Pt(n,e,o)}else try{Cn.removeChild(n.stateNode)}catch(o){Pt(n,e,o)}break;case 18:Cn!==null&&(qr?(e=Cn,n=n.stateNode,e.nodeType===8?wE(e.parentNode,n):e.nodeType===1&&wE(e,n),f0(e)):wE(Cn,n.stateNode));break;case 4:i=Cn,r=qr,Cn=n.stateNode.containerInfo,qr=!0,Ca(t,e,n),Cn=i,qr=r;break;case 0:case 11:case 14:case 15:an||Dc(2,n,e),an||Dc(4,n,e),Ca(t,e,n);break;case 1:an||(Kr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Z8(n,e,i)),Ca(t,e,n);break;case 21:Ca(t,e,n);break;case 22:an||Kr(n,e),an=(i=an)||n.memoizedState!==null,Ca(t,e,n),an=i;break;default:Ca(t,e,n)}}function rB(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{f0(t)}catch(n){Pt(e,e.return,n)}}function HY(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zO),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zO),e;default:throw Error(de(435,t.tag))}}function dE(t,e){var n=HY(t);e.forEach(function(i){var r=iX.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function fs(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 27:case 5:Cn=a.stateNode,qr=!1;break e;case 3:Cn=a.stateNode.containerInfo,qr=!0;break e;case 4:Cn=a.stateNode.containerInfo,qr=!0;break e}a=a.return}if(Cn===null)throw Error(de(160));iB(s,o,r),Cn=null,qr=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)sB(e,t),e=e.sibling}var Qs=null;function sB(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fs(e,t),ps(t),i&4&&(Dc(3,t,t.return),sb(3,t),Dc(5,t,t.return));break;case 1:fs(e,t),ps(t),i&512&&(an||n===null||Kr(n,n.return)),i&64&&Ma&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Qs;if(fs(e,t),ps(t),i&512&&(an||n===null||Kr(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[e0]||s[Fi]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Ei(s,i,n),s[Fi]=t,ni(s),i=s;break e;case"link":var o=a4("link","href",r).get(i+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(s=o[a],s.getAttribute("href")===(n.href==null?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}s=r.createElement(i),Ei(s,i,n),r.head.appendChild(s);break;case"meta":if(o=a4("meta","content",r).get(i+(n.content||""))){for(a=0;a<o.length;a++)if(s=o[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}s=r.createElement(i),Ei(s,i,n),r.head.appendChild(s);break;default:throw Error(de(468,i))}s[Fi]=t,ni(s),i=s}t.stateNode=i}else l4(r,t.type,t.stateNode);else t.stateNode=o4(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?l4(r,t.type,t.stateNode):o4(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&jO(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&t.alternate===null){r=t.stateNode,s=t.memoizedProps;try{for(var l=r.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[e0]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||r.removeChild(l),l=c}for(var d=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ei(r,d,s),r[Fi]=t,r[Or]=s}catch(b){Pt(t,t.return,b)}}case 5:if(fs(e,t),ps(t),i&512&&(an||n===null||Kr(n,n.return)),t.flags&32){r=t.stateNode;try{Df(r,"")}catch(b){Pt(t,t.return,b)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,jO(t,r,n!==null?n.memoizedProps:r)),i&1024&&(uE=!0);break;case 6:if(fs(e,t),ps(t),i&4){if(t.stateNode===null)throw Error(de(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(b){Pt(t,t.return,b)}}break;case 3:if(ky=null,r=Qs,Qs=y_(e.containerInfo),fs(e,t),Qs=r,ps(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{f0(e.containerInfo)}catch(b){Pt(t,t.return,b)}uE&&(uE=!1,oB(t));break;case 4:i=Qs,Qs=y_(t.stateNode.containerInfo),fs(e,t),ps(t),Qs=i;break;case 12:fs(e,t),ps(t);break;case 13:fs(e,t),ps(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(TA=Go()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,dE(t,i)));break;case 22:if(i&512&&(an||n===null||Kr(n,n.return)),l=t.memoizedState!==null,c=n!==null&&n.memoizedState!==null,u=Ma,d=an,Ma=u||l,an=d||c,fs(e,t),an=d,Ma=u,ps(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=Ma||an,n===null||c||e||Eh(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){c=n=e;try{if(r=c.stateNode,l)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode,a=c.memoizedProps.style;var m=a!=null&&a.hasOwnProperty("display")?a.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(b){Pt(c,c.return,b)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(b){Pt(c,c.return,b)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,dE(t,n))));break;case 19:fs(e,t),ps(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,dE(t,i)));break;case 21:break;default:fs(e,t),ps(t)}}function ps(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(eB(n)){var i=n;break e}n=n.return}throw Error(de(160))}switch(i.tag){case 27:var r=i.stateNode,s=cE(t);h_(t,s,r);break;case 5:var o=i.stateNode;i.flags&32&&(Df(o,""),i.flags&=-33);var a=cE(t);h_(t,a,o);break;case 3:case 4:var l=i.stateNode.containerInfo,c=cE(t);wk(t,c,l);break;default:throw Error(de(161))}}}catch(u){Pt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oB(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;oB(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Aa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)tB(t,e.alternate,e),e=e.sibling}function Eh(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Dc(4,e,e.return),Eh(e);break;case 1:Kr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Z8(e,e.return,n),Eh(e);break;case 26:case 27:case 5:Kr(e,e.return),Eh(e);break;case 22:Kr(e,e.return),e.memoizedState===null&&Eh(e);break;default:Eh(e)}t=t.sibling}}function Gl(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,o=s.flags;switch(s.tag){case 0:case 11:case 15:Gl(r,s,n),sb(4,s);break;case 1:if(Gl(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){Pt(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)X8(l[r],a)}catch(c){Pt(i,i.return,c)}}n&&o&64&&Q8(s),Nu(s,s.return);break;case 26:case 27:case 5:Gl(r,s,n),n&&i===null&&o&4&&J8(s),Nu(s,s.return);break;case 12:Gl(r,s,n);break;case 13:Gl(r,s,n),n&&o&4&&rB(r,s);break;case 22:s.memoizedState===null&&Gl(r,s,n),Nu(s,s.return);break;default:Gl(r,s,n)}e=e.sibling}}function vA(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&nb(n))}function yA(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nb(t))}function Fl(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)aB(t,e,n,i),e=e.sibling}function aB(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Fl(t,e,n,i),r&2048&&sb(9,e);break;case 3:Fl(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nb(t)));break;case 12:if(r&2048){Fl(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,o=s.id,a=s.onPostCommit;typeof a=="function"&&a(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Pt(e,e.return,l)}}else Fl(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,e.memoizedState!==null?s._visibility&4?Fl(t,e,n,i):Eg(t,e):s._visibility&4?Fl(t,e,n,i):(s._visibility|=4,Sh(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&vA(e.alternate,e);break;case 24:Fl(t,e,n,i),r&2048&&yA(e.alternate,e);break;default:Fl(t,e,n,i)}}function Sh(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,o=e,a=n,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:Sh(s,o,a,l,r),sb(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState!==null?u._visibility&4?Sh(s,o,a,l,r):Eg(s,o):(u._visibility|=4,Sh(s,o,a,l,r)),r&&c&2048&&vA(o.alternate,o);break;case 24:Sh(s,o,a,l,r),r&&c&2048&&yA(o.alternate,o);break;default:Sh(s,o,a,l,r)}e=e.sibling}}function Eg(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Eg(n,i),r&2048&&vA(i.alternate,i);break;case 24:Eg(n,i),r&2048&&yA(i.alternate,i);break;default:Eg(n,i)}e=e.sibling}}var Km=8192;function hh(t){if(t.subtreeFlags&Km)for(t=t.child;t!==null;)lB(t),t=t.sibling}function lB(t){switch(t.tag){case 26:hh(t),t.flags&Km&&t.memoizedState!==null&&PX(Qs,t.memoizedState,t.memoizedProps);break;case 5:hh(t);break;case 3:case 4:var e=Qs;Qs=y_(t.stateNode.containerInfo),hh(t),Qs=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Km,Km=16777216,hh(t),Km=e):hh(t));break;default:hh(t)}}function cB(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Am(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Jn=i,dB(i,t)}cB(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uB(t),t=t.sibling}function uB(t){switch(t.tag){case 0:case 11:case 15:Am(t),t.flags&2048&&Dc(9,t,t.return);break;case 3:Am(t);break;case 12:Am(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Ty(t)):Am(t);break;default:Am(t)}}function Ty(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Jn=i,dB(i,t)}cB(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Dc(8,e,e.return),Ty(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,Ty(e));break;default:Ty(e)}t=t.sibling}}function dB(t,e){for(;Jn!==null;){var n=Jn;switch(n.tag){case 0:case 11:case 15:Dc(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:nb(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Jn=i;else e:for(n=t;Jn!==null;){i=Jn;var r=i.sibling,s=i.return;if(nB(i),i===n){Jn=null;break e}if(r!==null){r.return=s,Jn=r;break e}Jn=s}}}function qY(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(t,e,n,i){return new qY(t,e,n,i)}function _A(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mc(t,e){var n=t.alternate;return n===null?(n=ks(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function hB(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ey(t,e,n,i,r,s){var o=0;if(i=t,typeof t=="function")_A(t)&&(o=1);else if(typeof t=="string")o=DX(t,n,qo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Oh:return Yu(n.children,r,s,e);case f6:o=8,r|=24;break;case qS:return t=ks(12,n,e,r|2),t.elementType=qS,t.lanes=s,t;case GS:return t=ks(13,n,e,r),t.elementType=GS,t.lanes=s,t;case WS:return t=ks(19,n,e,r),t.elementType=WS,t.lanes=s,t;case m6:return fB(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gW:case za:o=10;break e;case p6:o=9;break e;case $C:o=11;break e;case jC:o=14;break e;case Wl:o=16,i=null;break e}o=29,n=Error(de(130,t===null?"null":typeof t,"")),i=null}return e=ks(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Yu(t,e,n,i){return t=ks(7,t,i,e),t.lanes=n,t}function fB(t,e,n,i){t=ks(22,t,i,e),t.elementType=m6,t.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var s=r._current;if(s===null)throw Error(de(456));if(!(r._pendingVisibility&2)){var o=Ac(s,2);o!==null&&(r._pendingVisibility|=2,sr(o,s,2))}},attach:function(){var s=r._current;if(s===null)throw Error(de(456));if(r._pendingVisibility&2){var o=Ac(s,2);o!==null&&(r._pendingVisibility&=-3,sr(o,s,2))}}};return t.stateNode=r,t}function hE(t,e,n){return t=ks(6,t,null,e),t.lanes=n,t}function fE(t,e,n){return e=ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ia(t){t.flags|=4}function qO(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!LB(e)){if(e=Ps.current,e!==null&&((ht&4194176)===ht?Wo!==null:(ht&62914560)!==ht&&!(ht&536870912)||e!==Wo))throw bg=ok,J6;t.flags|=8192}}function Ov(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?w6():536870912,t.lanes|=e,Lf|=e)}function Im(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&31457280,i|=r.flags&31457280,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function GY(t,e,n){var i=e.pendingProps;switch(eA(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Zt(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Za(Bn),Af(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(km(e)?Ia(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zs!==null&&(Ck(Zs),Zs=null))),Zt(e),null;case 26:return n=e.memoizedState,t===null?(Ia(e),n!==null?(Zt(e),qO(e,n)):(Zt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ia(e),Zt(e),qO(e,n)):(Zt(e),e.flags&=-16777217):(t.memoizedProps!==i&&Ia(e),Zt(e),e.flags&=-16777217),null;case 27:Zy(e),n=hc.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ia(e);else{if(!i){if(e.stateNode===null)throw Error(de(166));return Zt(e),null}t=qo.current,km(e)?xO(e):(t=RB(r,i,n),e.stateNode=t,Ia(e))}return Zt(e),null;case 5:if(Zy(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ia(e);else{if(!i){if(e.stateNode===null)throw Error(de(166));return Zt(e),null}if(t=qo.current,km(e))xO(e);else{switch(r=v_(hc.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Fi]=e,t[Or]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Ei(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ia(e)}}return Zt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Ia(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(de(166));if(t=hc.current,km(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=Ji,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Fi]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||AB(t.nodeValue,n)),t||ad(e)}else t=v_(t).createTextNode(i),t[Fi]=e,e.stateNode=t}return Zt(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=km(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(de(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(de(317));r[Fi]=e}else tb(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),r=!1}else Zs!==null&&(Ck(Zs),Zs=null),r=!0;if(!r)return e.flags&256?(Ga(e),e):(Ga(e),null)}if(Ga(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Ov(e,e.updateQueue),Zt(e),null;case 4:return Af(),t===null&&kA(e.stateNode.containerInfo),Zt(e),null;case 10:return Za(e.type),Zt(e),null;case 19:if(ci(Un),r=e.memoizedState,r===null)return Zt(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)Im(r,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=o_(t),s!==null){for(e.flags|=128,Im(r,!1),t=s.updateQueue,e.updateQueue=t,Ov(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)hB(n,t),n=n.sibling;return Kt(Un,Un.current&1|2),e.child}t=t.sibling}r.tail!==null&&Go()>f_&&(e.flags|=128,i=!0,Im(r,!1),e.lanes=4194304)}else{if(!i)if(t=o_(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Ov(e,t),Im(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!mt)return Zt(e),null}else 2*Go()-r.renderingStartTime>f_&&n!==536870912&&(e.flags|=128,i=!0,Im(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Go(),e.sibling=null,t=Un.current,Kt(Un,i?t&1|2:t&1),e):(Zt(e),null);case 22:case 23:return Ga(e),tA(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),n=e.updateQueue,n!==null&&Ov(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ci(Wu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Za(Bn),Zt(e),null;case 25:return null}throw Error(de(156,e.tag))}function WY(t,e){switch(eA(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Za(Bn),Af(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zy(e),null;case 13:if(Ga(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));tb()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ci(Un),null;case 4:return Af(),null;case 10:return Za(e.type),null;case 22:case 23:return Ga(e),tA(),t!==null&&ci(Wu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Za(Bn),null;case 25:return null;default:return null}}function pB(t,e){switch(eA(e),e.tag){case 3:Za(Bn),Af();break;case 26:case 27:case 5:Zy(e);break;case 4:Af();break;case 13:Ga(e);break;case 19:ci(Un);break;case 10:Za(e.type);break;case 22:case 23:Ga(e),tA(),t!==null&&ci(Wu);break;case 24:Za(Bn)}}var YY={getCacheForType:function(t){var e=Vi(Bn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},XY=typeof WeakMap=="function"?WeakMap:Map,en=0,Bt=null,st=null,ht=0,Ot=0,Gr=null,Na=!1,yp=!1,xA=!1,ol=0,cn=0,Rc=0,Xu=0,wA=0,Cs=0,Lf=0,Sg=null,Uo=null,Tk=!1,TA=0,f_=1/0,p_=null,gc=null,Lv=!1,Pu=null,kg=0,Ek=0,Sk=null,Cg=0,kk=null;function ts(){if(en&2&&ht!==0)return ht&-ht;if(We.T!==null){var t=Pf;return t!==0?t:SA()}return k6()}function mB(){Cs===0&&(Cs=!(ht&536870912)||mt?x6():536870912);var t=Ps.current;return t!==null&&(t.flags|=32),Cs}function sr(t,e,n){(t===Bt&&Ot===2||t.cancelPendingCommit!==null)&&(Mf(t,0),Ba(t,ht,Cs,!1)),J0(t,n),(!(en&2)||t!==Bt)&&(t===Bt&&(!(en&2)&&(Xu|=n),cn===4&&Ba(t,ht,Cs,!1)),fa(t))}function gB(t,e,n){if(en&6)throw Error(de(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||Z0(t,e),r=i?ZY(t,e):pE(t,e,!0),s=i;do{if(r===0){yp&&!i&&Ba(t,e,0,!1);break}else if(r===6)Ba(t,e,0,!Na);else{if(n=t.current.alternate,s&&!KY(n)){r=pE(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var a=t;r=Sg;var l=a.current.memoizedState.isDehydrated;if(l&&(Mf(a,o).flags|=256),o=pE(a,o,!1),o!==2){if(xA&&!l){a.errorRecoveryDisabledLanes|=s,Xu|=s,r=4;break e}s=Uo,Uo=r,s!==null&&Ck(s)}r=o}if(s=!1,r!==2)continue}}if(r===1){Mf(t,0),Ba(t,e,0,!0);break}e:{switch(i=t,r){case 0:case 1:throw Error(de(345));case 4:if((e&4194176)===e){Ba(i,e,Cs,!Na);break e}break;case 2:Uo=null;break;case 3:case 5:break;default:throw Error(de(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(s=TA+300-Go(),10<s)){if(Ba(i,e,Cs,!Na),dw(i,0)!==0)break e;i.timeoutHandle=DB(GO.bind(null,i,n,Uo,p_,Tk,e,Cs,Xu,Lf,Na,2,-0,0),s);break e}GO(i,n,Uo,p_,Tk,e,Cs,Xu,Lf,Na,0,-0,0)}}break}while(!0);fa(t)}function Ck(t){Uo===null?Uo=t:Uo.push.apply(Uo,t)}function GO(t,e,n,i,r,s,o,a,l,c,u,d,h){var m=e.subtreeFlags;if((m&8192||(m&16785408)===16785408)&&(c0={stylesheets:null,count:0,unsuspend:RX},lB(e),e=OX(),e!==null)){t.cancelPendingCommit=e(YO.bind(null,t,n,i,r,o,a,l,1,d,h)),Ba(t,s,o,!c);return}YO(t,n,i,r,o,a,l,u,d,h)}function KY(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ns(s(),r))return!1}catch(o){return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e,n,i){e&=~wA,e&=~Xu,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-es(r),o=1<<s;i[s]=-1,r&=~o}n!==0&&T6(t,n,e)}function xw(){return en&6?!0:(ob(0),!1)}function EA(){if(st!==null){if(Ot===0)var t=st.return;else t=st,Wa=Ld=null,lA(t),Jh=null,s0=0,t=st;for(;t!==null;)pB(t.alternate,t),t=t.return;st=null}}function Mf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,mX(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),EA(),Bt=t,st=n=mc(t.current,null),ht=e,Ot=0,Gr=null,Na=!1,yp=Z0(t,e),xA=!1,Lf=Cs=wA=Xu=Rc=cn=0,Uo=Sg=null,Tk=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-es(i),s=1<<r;e|=t[r],i&=~s}return ol=e,mw(),n}function bB(t,e){et=null,We.H=na,e===gg?(e=EO(),Ot=3):e===J6?(e=EO(),Ot=4):Ot=e===j8?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Gr=e,st===null&&(cn=1,u_(t,Ts(e,t.current)))}function vB(){var t=We.H;return We.H=na,t===null?na:t}function yB(){var t=We.A;return We.A=YY,t}function Ak(){cn=4,Na||(ht&4194176)!==ht&&Ps.current!==null||(yp=!0),!(Rc&134217727)&&!(Xu&134217727)||Bt===null||Ba(Bt,ht,Cs,!1)}function pE(t,e,n){var i=en;en|=2;var r=vB(),s=yB();(Bt!==t||ht!==e)&&(p_=null,Mf(t,e)),e=!1;var o=cn;e:do try{if(Ot!==0&&st!==null){var a=st,l=Gr;switch(Ot){case 8:EA(),o=6;break e;case 3:case 2:case 6:Ps.current===null&&(e=!0);var c=Ot;if(Ot=0,Gr=null,zh(t,a,l,c),n&&yp){o=0;break e}break;default:c=Ot,Ot=0,Gr=null,zh(t,a,l,c)}}QY(),o=cn;break}catch(u){bB(t,u)}while(!0);return e&&t.shellSuspendCounter++,Wa=Ld=null,en=i,We.H=r,We.A=s,st===null&&(Bt=null,ht=0,mw()),o}function QY(){for(;st!==null;)_B(st)}function ZY(t,e){var n=en;en|=2;var i=vB(),r=yB();Bt!==t||ht!==e?(p_=null,f_=Go()+500,Mf(t,e)):yp=Z0(t,e);e:do try{if(Ot!==0&&st!==null){e=st;var s=Gr;t:switch(Ot){case 1:Ot=0,Gr=null,zh(t,e,s,1);break;case 2:if(TO(s)){Ot=0,Gr=null,WO(e);break}e=function(){Ot===2&&Bt===t&&(Ot=7),fa(t)},s.then(e,e);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:TO(s)?(Ot=0,Gr=null,WO(e)):(Ot=0,Gr=null,zh(t,e,s,7));break;case 5:var o=null;switch(st.tag){case 26:o=st.memoizedState;case 5:case 27:var a=st;if(!o||LB(o)){Ot=0,Gr=null;var l=a.sibling;if(l!==null)st=l;else{var c=a.return;c!==null?(st=c,ww(c)):st=null}break t}}Ot=0,Gr=null,zh(t,e,s,5);break;case 6:Ot=0,Gr=null,zh(t,e,s,6);break;case 8:EA(),cn=6;break e;default:throw Error(de(462))}}JY();break}catch(u){bB(t,u)}while(!0);return Wa=Ld=null,We.H=i,We.A=r,en=n,st!==null?0:(Bt=null,ht=0,mw(),cn)}function JY(){for(;st!==null&&!xW();)_B(st)}function _B(t){var e=W8(t.alternate,t,ol);t.memoizedProps=t.pendingProps,e===null?ww(t):st=e}function WO(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=UO(n,e,e.pendingProps,e.type,void 0,ht);break;case 11:e=UO(n,e,e.pendingProps,e.type.render,e.ref,ht);break;case 5:lA(e);default:pB(n,e),e=st=hB(e,ol),e=W8(n,e,ol)}t.memoizedProps=t.pendingProps,e===null?ww(t):st=e}function zh(t,e,n,i){Wa=Ld=null,lA(e),Jh=null,s0=0;var r=e.return;try{if($Y(t,r,e,n,ht)){cn=1,u_(t,Ts(n,t.current)),st=null;return}}catch(s){if(r!==null)throw st=r,s;cn=1,u_(t,Ts(n,t.current)),st=null;return}e.flags&32768?(mt||i===1?t=!0:yp||ht&536870912?t=!1:(Na=t=!0,(i===2||i===3||i===6)&&(i=Ps.current,i!==null&&i.tag===13&&(i.flags|=16384))),xB(e,t)):ww(e)}function ww(t){var e=t;do{if(e.flags&32768){xB(e,Na);return}t=e.return;var n=GY(e.alternate,e,ol);if(n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);cn===0&&(cn=5)}function xB(t,e){do{var n=WY(t.alternate,t);if(n!==null){n.flags&=32767,st=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){st=t;return}st=t=n}while(t!==null);cn=6,st=null}function YO(t,e,n,i,r,s,o,a,l,c){var u=We.T,d=Ht.p;try{Ht.p=2,We.T=null,eX(t,e,n,i,d,r,s,o,a,l,c)}finally{We.T=u,Ht.p=d}}function eX(t,e,n,i,r,s,o,a){do rf();while(Pu!==null);if(en&6)throw Error(de(327));var l=t.finishedWork;if(i=t.finishedLanes,l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=QC,PW(t,i,c,s,o,a),t===Bt&&(st=Bt=null,ht=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||Lv||(Lv=!0,Ek=c,Sk=n,rX(Jy,function(){return rf(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=We.T,We.T=null,s=Ht.p,Ht.p=2,o=en,en|=4,zY(t,l),sB(l,t),EY(Pk,t.containerInfo),w_=!!Rk,Pk=Rk=null,t.current=l,tB(t,l.alternate,l),wW(),en=o,Ht.p=s,We.T=n):t.current=l,Lv?(Lv=!1,Pu=t,kg=i):wB(t,c),c=t.pendingLanes,c===0&&(gc=null),CW(l.stateNode),fa(t),e!==null)for(r=t.onRecoverableError,l=0;l<e.length;l++)c=e[l],r(c.value,{componentStack:c.stack});return kg&3&&rf(),c=t.pendingLanes,i&4194218&&c&42?t===kk?Cg++:(Cg=0,kk=t):Cg=0,ob(0),null}function wB(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,nb(e)))}function rf(){if(Pu!==null){var t=Pu,e=Ek;Ek=0;var n=S6(kg),i=We.T,r=Ht.p;try{if(Ht.p=32>n?32:n,We.T=null,Pu===null)var s=!1;else{n=Sk,Sk=null;var o=Pu,a=kg;if(Pu=null,kg=0,en&6)throw Error(de(331));var l=en;if(en|=4,uB(o.current),aB(o,o.current,a,n),en=l,ob(0,!1),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Q0,o)}catch(c){}s=!0}return s}finally{Ht.p=r,We.T=i,wB(t,e)}}return!1}function XO(t,e,n){e=Ts(n,e),e=fk(t.stateNode,e,2),t=pc(t,e,2),t!==null&&(J0(t,2),fa(t))}function Pt(t,e,n){if(t.tag===3)XO(t,t,n);else for(;e!==null;){if(e.tag===3){XO(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gc===null||!gc.has(i))){t=Ts(n,t),n=V8(2),i=pc(e,n,2),i!==null&&($8(n,i,e,t),J0(i,2),fa(i));break}}e=e.return}}function mE(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new XY;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(xA=!0,r.add(n),t=tX.bind(null,t,e,n),e.then(t,t))}function tX(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Bt===t&&(ht&n)===n&&(cn===4||cn===3&&(ht&62914560)===ht&&300>Go()-TA?!(en&2)&&Mf(t,0):wA|=n,Lf===ht&&(Lf=0)),fa(t)}function TB(t,e){e===0&&(e=w6()),t=Ac(t,e),t!==null&&(J0(t,e),fa(t))}function nX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TB(t,n)}function iX(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(de(314))}i!==null&&i.delete(e),TB(t,n)}function rX(t,e){return zC(t,e)}var m_=null,kh=null,Ik=!1,g_=!1,gE=!1,Ku=0;function fa(t){t!==kh&&t.next===null&&(kh===null?m_=kh=t:kh=kh.next=t),g_=!0,Ik||(Ik=!0,oX(sX))}function ob(t,e){if(!gE&&g_){gE=!0;do for(var n=!1,i=m_;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var o=i.suspendedLanes,a=i.pingedLanes;s=(1<<31-es(42|t)+1)-1,s&=r&~(o&~a),s=s&201326677?s&201326677|1:s?s|2:0}s!==0&&(n=!0,KO(i,s))}else s=ht,s=dw(i,i===Bt?s:0),!(s&3)||Z0(i,s)||(n=!0,KO(i,s));i=i.next}while(n);gE=!1}}function sX(){g_=Ik=!1;var t=0;Ku!==0&&(pX()&&(t=Ku),Ku=0);for(var e=Go(),n=null,i=m_;i!==null;){var r=i.next,s=EB(i,e);s===0?(i.next=null,n===null?m_=r:n.next=r,r===null&&(kh=n)):(n=i,(t!==0||s&3)&&(g_=!0)),i=r}ob(t)}function EB(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var o=31-es(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=RW(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}if(e=Bt,n=ht,n=dw(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&Ot===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&GT(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Z0(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&GT(i),S6(n)){case 2:case 8:n=y6;break;case 32:n=Jy;break;case 268435456:n=_6;break;default:n=Jy}return i=SB.bind(null,t),n=zC(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&GT(i),t.callbackPriority=2,t.callbackNode=null,2}function SB(t,e){var n=t.callbackNode;if(rf()&&t.callbackNode!==n)return null;var i=ht;return i=dw(t,t===Bt?i:0),i===0?null:(gB(t,i,e),EB(t,Go()),t.callbackNode!=null&&t.callbackNode===n?SB.bind(null,t):null)}function KO(t,e){if(rf())return null;gB(t,e,!0)}function oX(t){gX(function(){en&6?zC(v6,t):t()})}function SA(){return Ku===0&&(Ku=x6()),Ku}function QO(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:by(""+t)}function ZO(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function aX(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=QO((r[Or]||null).action),o=i.submitter;o&&(e=(e=o[Or]||null)?QO(e.formAction):o.getAttribute("formAction"),e!==null&&(s=e,o=null));var a=new hw("action","action",null,i,r);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ku!==0){var l=o?ZO(r,o):new FormData(r);dk(n,{pending:!0,data:l,method:r.method,action:s},null,l)}}else typeof s=="function"&&(a.preventDefault(),l=o?ZO(r,o):new FormData(r),dk(n,{pending:!0,data:l,method:r.method,action:s},s,l))},currentTarget:r}]})}}for(var bE=0;bE<yO.length;bE++){var vE=yO[bE],lX=vE.toLowerCase(),cX=vE[0].toUpperCase()+vE.slice(1);mo(lX,"on"+cX)}mo(G6,"onAnimationEnd");mo(W6,"onAnimationIteration");mo(Y6,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(kY,"onTransitionRun");mo(CY,"onTransitionStart");mo(AY,"onTransitionCancel");mo(X6,"onTransitionEnd");If("onMouseEnter",["mouseout","mouseover"]);If("onMouseLeave",["mouseout","mouseover"]);If("onPointerEnter",["pointerout","pointerover"]);If("onPointerLeave",["pointerout","pointerover"]);Id("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Id("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Id("onBeforeInput",["compositionend","keypress","textInput","paste"]);Id("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Id("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Id("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var a0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(a0));function kB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;s=a,r.currentTarget=c;try{s(r)}catch(u){c_(u)}r.currentTarget=null,s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;s=a,r.currentTarget=c;try{s(r)}catch(u){c_(u)}r.currentTarget=null,s=l}}}}function ct(t,e){var n=e[ZS];n===void 0&&(n=e[ZS]=new Set);var i=t+"__bubble";n.has(i)||(CB(e,t,2,!1),n.add(i))}function yE(t,e,n){var i=0;e&&(i|=4),CB(n,t,i,e)}var Mv="_reactListening"+Math.random().toString(36).slice(2);function kA(t){if(!t[Mv]){t[Mv]=!0,C6.forEach(function(n){n!=="selectionchange"&&(uX.has(n)||yE(n,!1,t),yE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mv]||(e[Mv]=!0,yE("selectionchange",!1,e))}}function CB(t,e,n,i){switch(FB(e)){case 2:var r=NX;break;case 8:r=BX;break;default:r=DA}n=r.bind(null,e,n,t),r=void 0,!nk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function _E(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Mu(a),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){i=s=o;continue e}a=a.parentNode}}i=i.return}M6(function(){var c=s,u=GC(n),d=[];e:{var h=K6.get(t);if(h!==void 0){var m=hw,b=t;switch(t){case"keypress":if(yy(n)===0)break e;case"keydown":case"keyup":m=iY;break;case"focusin":b="focus",m=QT;break;case"focusout":b="blur",m=QT;break;case"beforeblur":case"afterblur":m=QT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oY;break;case G6:case W6:case Y6:m=YW;break;case X6:m=lY;break;case"scroll":case"scrollend":m=zW;break;case"wheel":m=uY;break;case"copy":case"cut":case"paste":m=KW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cO;break;case"toggle":case"beforetoggle":m=hY}var g=(e&4)!==0,w=!g&&(t==="scroll"||t==="scrollend"),y=g?h!==null?h+"Capture":null:h;g=[];for(var T=c,k;T!==null;){var D=T;if(k=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||k===null||y===null||(D=t0(T,y),D!=null&&g.push(l0(T,D,k))),w)break;T=T.return}0<g.length&&(h=new m(h,b,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==tk&&(b=n.relatedTarget||n.fromElement)&&(Mu(b)||b[bp]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Mu(b):null,b!==null&&(w=gp(b),g=b.tag,b!==w||g!==5&&g!==27&&g!==6)&&(b=null)):(m=null,b=c),m!==b)){if(g=aO,D="onMouseLeave",y="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(g=cO,D="onPointerLeave",y="onPointerEnter",T="pointer"),w=m==null?h:Xm(m),k=b==null?h:Xm(b),h=new g(D,T+"leave",m,n,u),h.target=w,h.relatedTarget=k,D=null,Mu(u)===c&&(g=new g(y,T+"enter",b,n,u),g.target=k,g.relatedTarget=w,D=g),w=D,m&&b)t:{for(g=m,y=b,T=0,k=g;k;k=fh(k))T++;for(k=0,D=y;D;D=fh(D))k++;for(;0<T-k;)g=fh(g),T--;for(;0<k-T;)y=fh(y),k--;for(;T--;){if(g===y||y!==null&&g===y.alternate)break t;g=fh(g),y=fh(y)}g=null}else g=null;m!==null&&JO(d,h,m,g,!1),b!==null&&w!==null&&JO(d,w,b,g,!0)}}e:{if(h=c?Xm(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var P=fO;else if(hO(h))if($6)P=wY;else{P=_Y;var B=yY}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&qC(c.elementType)&&(P=fO):P=xY;if(P&&(P=P(t,c))){V6(d,P,n,u);break e}B&&B(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&ek(h,"number",h.value)}switch(B=c?Xm(c):window,t){case"focusin":(hO(B)||B.contentEditable==="true")&&(Bh=B,ik=c,mg=null);break;case"focusout":mg=ik=Bh=null;break;case"mousedown":rk=!0;break;case"contextmenu":case"mouseup":case"dragend":rk=!1,vO(d,n,u);break;case"selectionchange":if(SY)break;case"keydown":case"keyup":vO(d,n,u)}var O;if(XC)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Nh?U6(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(B6&&n.locale!=="ko"&&(Nh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Nh&&(O=N6()):(oc=u,WC="value"in oc?oc.value:oc.textContent,Nh=!0)),B=b_(c,A),0<B.length&&(A=new lO(A,t,null,n,u),d.push({event:A,listeners:B}),O?A.data=O:(O=F6(n),O!==null&&(A.data=O)))),(O=pY?mY(t,n):gY(t,n))&&(A=b_(c,"onBeforeInput"),0<A.length&&(B=new lO("onBeforeInput","beforeinput",null,n,u),d.push({event:B,listeners:A}),B.data=O)),aX(d,t,c,n,u)}kB(d,e)})}function l0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function b_(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=t0(t,n),r!=null&&i.unshift(l0(t,r,s)),r=t0(t,e),r!=null&&i.push(l0(t,r,s))),t=t.return}return i}function fh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function JO(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,l!==null&&l===i)break;a!==5&&a!==26&&a!==27||c===null||(l=c,r?(c=t0(n,s),c!=null&&o.unshift(l0(n,c,l))):r||(c=t0(n,s),c!=null&&o.push(l0(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dX=/\r\n?/g,hX=/\u0000|\uFFFD/g;function e4(t){return(typeof t=="string"?t:""+t).replace(dX,"\n").replace(hX,"")}function AB(t,e){return e=e4(e),e4(t)===e}function Tw(){}function kt(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Df(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Df(t,""+i);break;case"className":Cv(t,"class",i);break;case"tabIndex":Cv(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Cv(t,n,i);break;case"style":L6(t,i,s);break;case"data":if(e!=="object"){Cv(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=by(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&kt(t,e,"name",r.name,r,null),kt(t,e,"formEncType",r.formEncType,r,null),kt(t,e,"formMethod",r.formMethod,r,null),kt(t,e,"formTarget",r.formTarget,r,null)):(kt(t,e,"encType",r.encType,r,null),kt(t,e,"method",r.method,r,null),kt(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=by(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Tw);break;case"onScroll":i!=null&&ct("scroll",t);break;case"onScrollEnd":i!=null&&ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(de(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(de(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=by(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ct("beforetoggle",t),ct("toggle",t),gy(t,"popover",i);break;case"xlinkActuate":ka(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ka(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ka(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ka(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ka(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ka(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ka(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ka(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ka(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":gy(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=$W.get(n)||n,gy(t,n,i))}}function Dk(t,e,n,i,r,s){switch(n){case"style":L6(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(de(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(de(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Df(t,i):(typeof i=="number"||typeof i=="bigint")&&Df(t,""+i);break;case"onScroll":i!=null&&ct("scroll",t);break;case"onScrollEnd":i!=null&&ct("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Tw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!A6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Or]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):gy(t,n,i)}}}function Ei(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",t),ct("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(de(137,e));default:kt(t,e,s,o,n,null)}}r&&kt(t,e,"srcSet",n.srcSet,n,null),i&&kt(t,e,"src",n.src,n,null);return;case"input":ct("invalid",t);var a=s=o=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"name":r=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":s=u;break;case"defaultValue":a=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(de(137,e));break;default:kt(t,e,i,u,n,null)}}R6(t,s,a,l,c,o,r,!1),e_(t);return;case"select":ct("invalid",t),i=o=s=null;for(r in n)if(n.hasOwnProperty(r)&&(a=n[r],a!=null))switch(r){case"value":s=a;break;case"defaultValue":o=a;break;case"multiple":i=a;default:kt(t,e,r,a,n,null)}e=s,n=o,t.multiple=!!i,e!=null?Qh(t,!!i,e,!1):n!=null&&Qh(t,!!i,n,!0);return;case"textarea":ct("invalid",t),s=r=i=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":i=a;break;case"defaultValue":r=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(de(91));break;default:kt(t,e,o,a,n,null)}O6(t,i,r,s),e_(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:kt(t,e,l,i,n,null)}return;case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":ct("load",t);break;case"video":case"audio":for(i=0;i<a0.length;i++)ct(a0[i],t);break;case"image":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"embed":case"source":case"link":ct("error",t),ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(de(137,e));default:kt(t,e,c,i,n,null)}return;default:if(qC(e)){for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!==void 0&&Dk(t,e,u,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&kt(t,e,a,i,n,null))}function fX(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,o=null,a=null,l=null,c=null,u=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(m)||kt(t,e,m,null,i,d)}}for(var h in i){var m=i[h];if(d=n[h],i.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":s=m;break;case"name":r=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(de(137,e));break;default:m!==d&&kt(t,e,h,m,i,d)}}JS(t,o,a,l,c,u,s,r);return;case"select":m=o=a=h=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(s)||kt(t,e,s,null,i,l)}for(r in i)if(s=i[r],l=n[r],i.hasOwnProperty(r)&&(s!=null||l!=null))switch(r){case"value":h=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:s!==l&&kt(t,e,r,s,i,l)}e=a,n=o,i=m,h!=null?Qh(t,!!n,h,!1):!!i!=!!n&&(e!=null?Qh(t,!!n,e,!0):Qh(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(a in n)if(r=n[a],n.hasOwnProperty(a)&&r!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:kt(t,e,a,null,i,r)}for(o in i)if(r=i[o],s=n[o],i.hasOwnProperty(o)&&(r!=null||s!=null))switch(o){case"value":h=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(de(91));break;default:r!==s&&kt(t,e,o,r,i,s)}P6(t,h,m);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!i.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:kt(t,e,b,null,i,h)}for(l in i)if(h=i[l],m=n[l],i.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:kt(t,e,l,h,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!i.hasOwnProperty(g)&&kt(t,e,g,null,i,h);for(c in i)if(h=i[c],m=n[c],i.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(de(137,e));break;default:kt(t,e,c,h,i,m)}return;default:if(qC(e)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!i.hasOwnProperty(w)&&Dk(t,e,w,void 0,i,h);for(u in i)h=i[u],m=n[u],!i.hasOwnProperty(u)||h===m||h===void 0&&m===void 0||Dk(t,e,u,h,i,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&kt(t,e,y,null,i,h);for(d in i)h=i[d],m=n[d],!i.hasOwnProperty(d)||h===m||h==null&&m==null||kt(t,e,d,h,i,m)}var Rk=null,Pk=null;function v_(t){return t.nodeType===9?t:t.ownerDocument}function t4(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IB(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ok(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xE=null;function pX(){var t=window.event;return t&&t.type==="popstate"?t===xE?!1:(xE=t,!0):(xE=null,!1)}var DB=typeof setTimeout=="function"?setTimeout:void 0,mX=typeof clearTimeout=="function"?clearTimeout:void 0,n4=typeof Promise=="function"?Promise:void 0,gX=typeof queueMicrotask=="function"?queueMicrotask:typeof n4<"u"?function(t){return n4.resolve(null).then(t).catch(bX)}:DB;function bX(t){setTimeout(function(){throw t})}function wE(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),f0(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);f0(e)}function Lk(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lk(n),HC(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function vX(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[e0])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=io(t.nextSibling),t===null)break}return null}function yX(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=io(t.nextSibling),t===null))return null;return t}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function i4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function RB(t,e,n){switch(e=v_(n),t){case"html":if(t=e.documentElement,!t)throw Error(de(452));return t;case"head":if(t=e.head,!t)throw Error(de(453));return t;case"body":if(t=e.body,!t)throw Error(de(454));return t;default:throw Error(de(451))}}var Os=new Map,r4=new Set;function y_(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var vl=Ht.d;Ht.d={f:_X,r:xX,D:wX,C:TX,L:EX,m:SX,X:CX,S:kX,M:AX};function _X(){var t=vl.f(),e=xw();return t||e}function xX(t){var e=vp(t);e!==null&&e.tag===5&&e.type==="form"?R8(e):vl.r(t)}var _p=typeof document>"u"?null:document;function PB(t,e,n){var i=_p;if(i&&typeof e=="string"&&e){var r=ws(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),r4.has(r)||(r4.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Ei(e,"link",t),ni(e),i.head.appendChild(e)))}}function wX(t){vl.D(t),PB("dns-prefetch",t,null)}function TX(t,e){vl.C(t,e),PB("preconnect",t,e)}function EX(t,e,n){vl.L(t,e,n);var i=_p;if(i&&t&&e){var r='link[rel="preload"][as="'+ws(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ws(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ws(n.imageSizes)+'"]')):r+='[href="'+ws(t)+'"]';var s=r;switch(e){case"style":s=Nf(t);break;case"script":s=xp(t)}Os.has(s)||(t=qt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Os.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(ab(s))||e==="script"&&i.querySelector(lb(s))||(e=i.createElement("link"),Ei(e,"link",t),ni(e),i.head.appendChild(e)))}}function SX(t,e){vl.m(t,e);var n=_p;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+ws(i)+'"][href="'+ws(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xp(t)}if(!Os.has(s)&&(t=qt({rel:"modulepreload",href:t},e),Os.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(lb(s)))return}i=n.createElement("link"),Ei(i,"link",t),ni(i),n.head.appendChild(i)}}}function kX(t,e,n){vl.S(t,e,n);var i=_p;if(i&&t){var r=Kh(i).hoistableStyles,s=Nf(t);e=e||"default";var o=r.get(s);if(!o){var a={loading:0,preload:null};if(o=i.querySelector(ab(s)))a.loading=5;else{t=qt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Os.get(s))&&CA(t,n);var l=o=i.createElement("link");ni(l),Ei(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Sy(o,e,i)}o={type:"stylesheet",instance:o,count:1,state:a},r.set(s,o)}}}function CX(t,e){vl.X(t,e);var n=_p;if(n&&t){var i=Kh(n).hoistableScripts,r=xp(t),s=i.get(r);s||(s=n.querySelector(lb(r)),s||(t=qt({src:t,async:!0},e),(e=Os.get(r))&&AA(t,e),s=n.createElement("script"),ni(s),Ei(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function AX(t,e){vl.M(t,e);var n=_p;if(n&&t){var i=Kh(n).hoistableScripts,r=xp(t),s=i.get(r);s||(s=n.querySelector(lb(r)),s||(t=qt({src:t,async:!0,type:"module"},e),(e=Os.get(r))&&AA(t,e),s=n.createElement("script"),ni(s),Ei(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function s4(t,e,n,i){var r=(r=hc.current)?y_(r):null;if(!r)throw Error(de(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Nf(n.href),n=Kh(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Nf(n.href);var s=Kh(r).hoistableStyles,o=s.get(t);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,o),(s=r.querySelector(ab(t)))&&!s._p&&(o.instance=s,o.state.loading=5),Os.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Os.set(t,n),s||IX(r,t,n,o.state))),e&&i===null)throw Error(de(528,""));return o}if(e&&i!==null)throw Error(de(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xp(n),n=Kh(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(de(444,t))}}function Nf(t){return'href="'+ws(t)+'"'}function ab(t){return'link[rel="stylesheet"]['+t+"]"}function OB(t){return qt({},t,{"data-precedence":t.precedence,precedence:null})}function IX(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Ei(e,"link",n),ni(e),t.head.appendChild(e))}function xp(t){return'[src="'+ws(t)+'"]'}function lb(t){return"script[async]"+t}function o4(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ws(n.href)+'"]');if(i)return e.instance=i,ni(i),i;var r=qt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ni(i),Ei(i,"style",r),Sy(i,n.precedence,t),e.instance=i;case"stylesheet":r=Nf(n.href);var s=t.querySelector(ab(r));if(s)return e.state.loading|=4,e.instance=s,ni(s),s;i=OB(n),(r=Os.get(r))&&CA(i,r),s=(t.ownerDocument||t).createElement("link"),ni(s);var o=s;return o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),Ei(s,"link",i),e.state.loading|=4,Sy(s,n.precedence,t),e.instance=s;case"script":return s=xp(n.src),(r=t.querySelector(lb(s)))?(e.instance=r,ni(r),r):(i=n,(r=Os.get(s))&&(i=qt({},n),AA(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),ni(r),Ei(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(de(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Sy(i,n.precedence,t));return e.instance}function Sy(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,o=0;o<i.length;o++){var a=i[o];if(a.dataset.precedence===e)s=a;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function CA(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function AA(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ky=null;function a4(t,e,n){if(ky===null){var i=new Map,r=ky=new Map;r.set(n,i)}else r=ky,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[e0]||s[Fi]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(e)||"";o=t+o;var a=i.get(o);a?a.push(s):i.set(o,[s])}}return i}function l4(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function DX(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function LB(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var c0=null;function RX(){}function PX(t,e,n){if(c0===null)throw Error(de(475));var i=c0;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=Nf(n.href),s=t.querySelector(ab(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=__.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,ni(s);return}s=t.ownerDocument||t,n=OB(n),(r=Os.get(r))&&CA(n,r),s=s.createElement("link"),ni(s);var o=s;o._p=new Promise(function(a,l){o.onload=a,o.onerror=l}),Ei(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=__.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function OX(){if(c0===null)throw Error(de(475));var t=c0;return t.stylesheets&&t.count===0&&Mk(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Mk(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function __(){if(this.count--,this.count===0){if(this.stylesheets)Mk(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var x_=null;function Mk(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,x_=new Map,e.forEach(LX,t),x_=null,__.call(t))}function LX(t,e){if(!(e.state.loading&4)){var n=x_.get(t);if(n)var i=n.get(null);else{n=new Map,x_.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var o=r[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}r=e.instance,o=r.getAttribute("data-precedence"),s=n.get(o)||i,s===i&&n.set(null,r),n.set(o,r),this.count++,i=__.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var u0={$$typeof:za,Provider:null,Consumer:null,_currentValue:qu,_currentValue2:qu,_threadCount:0};function MX(t,e,n,i,r,s,o,a){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=WT(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WT(0),this.hiddenUpdates=WT(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function MB(t,e,n,i,r,s,o,a,l,c,u,d){return t=new MX(t,e,n,o,a,l,c,d),e=1,s===!0&&(e|=24),s=ks(3,null,null,e),t.current=s,s.stateNode=t,e=nA(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},bA(s),t}function NB(t){return t?(t=Vh,t):Vh}function BB(t,e,n,i,r,s){r=NB(r),i.context===null?i.context=r:i.pendingContext=r,i=fc(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=pc(t,i,e),n!==null&&(sr(n,t,e),xg(n,t,e))}function c4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function IA(t,e){c4(t,e),(t=t.alternate)&&c4(t,e)}function UB(t){if(t.tag===13){var e=Ac(t,67108864);e!==null&&sr(e,t,67108864),IA(t,67108864)}}var w_=!0;function NX(t,e,n,i){var r=We.T;We.T=null;var s=Ht.p;try{Ht.p=2,DA(t,e,n,i)}finally{Ht.p=s,We.T=r}}function BX(t,e,n,i){var r=We.T;We.T=null;var s=Ht.p;try{Ht.p=8,DA(t,e,n,i)}finally{Ht.p=s,We.T=r}}function DA(t,e,n,i){if(w_){var r=Nk(i);if(r===null)_E(t,e,i,T_,n),u4(t,i);else if(FX(r,t,e,n,i))i.stopPropagation();else if(u4(t,i),e&4&&-1<UX.indexOf(t)){for(;r!==null;){var s=vp(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=Cu(s.pendingLanes);if(o!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-es(o);a.entanglements[1]|=l,o&=~l}fa(s),!(en&6)&&(f_=Go()+500,ob(0))}}break;case 13:a=Ac(s,2),a!==null&&sr(a,s,2),xw(),IA(s,2)}if(s=Nk(i),s===null&&_E(t,e,i,T_,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else _E(t,e,i,null,n)}}function Nk(t){return t=GC(t),RA(t)}var T_=null;function RA(t){if(T_=null,t=Mu(t),t!==null){var e=gp(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=g6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return T_=t,null}function FB(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TW()){case v6:return 2;case y6:return 8;case Jy:case EW:return 32;case _6:return 268435456;default:return 32}default:return 32}}var Bk=!1,bc=null,vc=null,yc=null,d0=new Map,h0=new Map,ec=[],UX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u4(t,e){switch(t){case"focusin":case"focusout":bc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":d0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":h0.delete(e.pointerId)}}function Dm(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=vp(e),e!==null&&UB(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function FX(t,e,n,i,r){switch(e){case"focusin":return bc=Dm(bc,t,e,n,i,r),!0;case"dragenter":return vc=Dm(vc,t,e,n,i,r),!0;case"mouseover":return yc=Dm(yc,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return d0.set(s,Dm(d0.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,h0.set(s,Dm(h0.get(s)||null,t,e,n,i,r)),!0}return!1}function VB(t){var e=Mu(t.target);if(e!==null){var n=gp(e);if(n!==null){if(e=n.tag,e===13){if(e=g6(n),e!==null){t.blockedOn=e,OW(t.priority,function(){if(n.tag===13){var i=ts(),r=Ac(n,i);r!==null&&sr(r,n,i),IA(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nk(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);tk=i,n.target.dispatchEvent(i),tk=null}else return e=vp(n),e!==null&&UB(e),t.blockedOn=n,!1;e.shift()}return!0}function d4(t,e,n){Cy(t)&&n.delete(e)}function VX(){Bk=!1,bc!==null&&Cy(bc)&&(bc=null),vc!==null&&Cy(vc)&&(vc=null),yc!==null&&Cy(yc)&&(yc=null),d0.forEach(d4),h0.forEach(d4)}function Nv(t,e){t.blockedOn===e&&(t.blockedOn=null,Bk||(Bk=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,VX)))}var Bv=null;function h4(t){Bv!==t&&(Bv=t,$n.unstable_scheduleCallback($n.unstable_NormalPriority,function(){Bv===t&&(Bv=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(RA(i||n)===null)continue;break}var s=vp(n);s!==null&&(t.splice(e,3),e-=3,dk(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function f0(t){function e(l){return Nv(l,t)}bc!==null&&Nv(bc,t),vc!==null&&Nv(vc,t),yc!==null&&Nv(yc,t),d0.forEach(e),h0.forEach(e);for(var n=0;n<ec.length;n++){var i=ec[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ec.length&&(n=ec[0],n.blockedOn===null);)VB(n),n.blockedOn===null&&ec.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],o=r[Or]||null;if(typeof s=="function")o||h4(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(r=s,o=s[Or]||null)a=o.formAction;else if(RA(r)!==null)continue}else a=o.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),h4(n)}}}function PA(t){this._internalRoot=t}Ew.prototype.render=PA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));var n=e.current,i=ts();BB(n,i,t,e,null,null)};Ew.prototype.unmount=PA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&rf(),BB(t.current,2,null,t,null,null),xw(),e[bp]=null}};function Ew(t){this._internalRoot=t}Ew.prototype.unstable_scheduleHydration=function(t){if(t){var e=k6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ec.length&&e!==0&&e<ec[n].priority;n++);ec.splice(n,0,t),n===0&&VB(t)}};var f4=d6.version;if(f4!=="19.0.0")throw Error(de(527,f4,"19.0.0"));Ht.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=_W(e),t=t!==null?b6(t):null,t=t===null?null:t.stateNode,t};var $X={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:We,findFiberByHostInstance:Mu,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uv.isDisabled&&Uv.supportsFiber)try{Q0=Uv.inject($X),Jr=Uv}catch(t){}}cw.createRoot=function(t,e){if(!h6(t))throw Error(de(299));var n=!1,i="",r=B8,s=U8,o=F8,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=MB(t,1,!1,null,null,n,i,r,s,o,a,null),t[bp]=e.current,kA(t.nodeType===8?t.parentNode:t),new PA(e)};cw.hydrateRoot=function(t,e,n){if(!h6(t))throw Error(de(299));var i=!1,r="",s=B8,o=U8,a=F8,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=MB(t,1,!0,e,n!=null?n:null,i,r,s,o,a,l,c),e.context=NB(null),n=e.current,i=ts(),r=fc(i),r.callback=null,pc(n,r,i),e.current.lanes=i,J0(e,i),fa(e),t[bp]=e.current,kA(t),new Ew(e)};cw.version="19.0.0";function $B(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($B)}catch(t){console.error(t)}}$B(),s6.exports=cw;var jX=s6.exports;const zX="modulepreload",HX=function(t){return"/"+t},p4={},xi=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(a=>{if(a=HX(a),a in p4)return;p4[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":zX,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(a))))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Es={hasRenderFn:!0,reflect:!0,scoped:!0,updatable:!0,vdomRender:!0,hydrateServerSide:!1,lazyLoad:!1,slotRelocation:!0,experimentalSlotFixes:!1},qX=Object.defineProperty,GX=(t,e)=>{for(var n in e)qX(t,n,{get:e[n],enumerable:!0})},WX={isBrowser:!0},jB=new WeakMap,Zc=t=>jB.get(t),YX=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return jB.set(t,n)},m4=(t,e)=>e in t,cb=(t,e)=>(0,console.error)(t,e),E_=new Map,zB=[],XX="slot-fb{display:contents}slot-fb[hidden]{display:none}",g4="http://www.w3.org/1999/xlink",ub=typeof window<"u"?window:{},ro=ub.document||{head:{}},Fe=ub.HTMLElement||class{},ui={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},KX=t=>{Object.assign(ui,t)},QX=(()=>{let t=!1;try{ro.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),ZX=t=>Promise.resolve(t),JX=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Uk=!1,Fk=[],HB=[],qB=(t,e)=>n=>{t.push(n),Uk||(Uk=!0,e&&ui.$flags$&4?eK(Vk):ui.raf(Vk))},b4=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){cb(n)}t.length=0},Vk=()=>{b4(Fk),b4(HB),(Uk=Fk.length>0)&&ui.raf(Vk)},eK=t=>ZX().then(t),hd=qB(Fk,!1),Lr=qB(HB,!0),GB=t=>{const e=new URL(t,ui.$resourcesUrl$);return e.origin!==ub.location.origin?e.href:e.pathname},v4={},tK="http://www.w3.org/2000/svg",nK="http://www.w3.org/1999/xhtml",iK=t=>t!=null,OA=t=>(t=typeof t,t==="object"||t==="function");function rK(t){var e,n,i;return(i=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var sK={};GX(sK,{err:()=>WB,map:()=>oK,ok:()=>$k,unwrap:()=>aK,unwrapErr:()=>lK});var $k=t=>({isOk:!0,isErr:!1,value:t}),WB=t=>({isOk:!1,isErr:!0,value:t});function oK(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(i=>$k(i)):$k(n)}if(t.isErr){const n=t.value;return WB(n)}throw"should never get here"}var aK=t=>{if(t.isOk)return t.value;throw t.value},lK=t=>{if(t.isErr)return t.value;throw t.value},fd=(t,e="")=>()=>{},z=(t,e,...n)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof t!="function"&&!OA(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?S_(null,i):i),a=o)};if(c(n),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,uK);const u=S_(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},S_=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},He={},cK=t=>t&&t.$tag$===He,uK={forEach:(t,e)=>t.map(y4).forEach(e),map:(t,e)=>t.map(y4).map(e).map(dK)},y4=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),dK=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),z(t.vtag,n,...t.vchildren||[])}const e=S_(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},hK=t=>zB.map(e=>e(t)).find(e=>!!e),fK=t=>zB.push(t),pK=t=>Zc(t).$modeName$,mK=(t,e)=>t!=null&&!OA(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,gK=t=>t,ve=(t,e,n)=>{const i=gK(t);return{emit:r=>bK(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:r})}},bK=(t,e,n)=>{const i=ui.ce(e,n);return t.dispatchEvent(i),i},_4=new WeakMap,vK=(t,e,n)=>{let i=E_.get(t);JX&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,E_.set(t,i)},yK=(t,e,n)=>{var i;const r=YB(e,n),s=E_.get(r);if(t=t.nodeType===11?t:ro,s)if(typeof s=="string"){t=t.head||t;let o=_4.get(t),a;if(o||_4.set(t,o=new Set),!o.has(r)){{a=ro.createElement("style"),a.innerHTML=s;const l=(i=ui.$nonce$)!=null?i:rK(ro);l!=null&&a.setAttribute("nonce",l),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=XX),o&&o.add(r)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return r},_K=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=fd("attachStyles",e.$tagName$),s=yK(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&i&2&&(n["s-sc"]=s,n.classList.add(s+"-h"),i&2&&n.classList.add(s+"-s")),r()},YB=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),x4=(t,e,n,i,r,s)=>{if(n!==i){let o=m4(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=w4(n),u=w4(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):m4(ub,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(XB);e=e.replace(wK,""),n&&ui.rel(t,e,n,l),i&&ui.ael(t,e,i,l)}}else{const l=OA(i);if((o||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(g4,e):t.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(g4,e,i):t.setAttribute(e,i))}}},xK=/\s/,w4=t=>t?t.split(xK):[],XB="Capture",wK=new RegExp(XB+"$"),KB=(t,e,n)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,r=t&&t.$attrs$||v4,s=e.$attrs$||v4;for(const o of T4(Object.keys(r)))o in s||x4(i,o,r[o],void 0,n,e.$flags$);for(const o of T4(Object.keys(s)))x4(i,o,r[o],s[o],n,e.$flags$)};function T4(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Ch,jk,Bf,k_=!1,C_=!1,LA=!1,Wr=!1,A_=(t,e,n,i)=>{var r;const s=e.$children$[n];let o=0,a,l,c;if(k_||(LA=!0,s.$tag$==="slot"&&(Ch&&i.classList.add(Ch+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=ro.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=ro.createTextNode("");else{if(Wr||(Wr=s.$tag$==="svg"),a=s.$elm$=ro.createElementNS(Wr?tK:nK,!k_&&Es.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),Wr&&s.$tag$==="foreignObject"&&(Wr=!1),KB(null,s,Wr),!!a.getRootNode().querySelector("body")&&Es.scoped&&iK(Ch)&&a["s-si"]!==Ch&&a.classList.add(a["s-si"]=Ch),NA(a,i),s.$children$)for(o=0;o<s.$children$.length;++o)l=A_(t,s,o,a),l&&a.appendChild(l);s.$tag$==="svg"?Wr=!1:a.tagName==="foreignObject"&&(Wr=!0)}return a["s-hn"]=Bf,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=jk,a["s-sn"]=s.$name$||"",a["s-rf"]=(r=s.$attrs$)==null?void 0:r.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===s.$tag$&&t.$elm$&&p0(t.$elm$,!1)),a},p0=(t,e)=>{ui.$flags$|=1;const n=Array.from(t.childNodes);if(t["s-sr"]&&Es.experimentalSlotFixes){let i=t;for(;i=i.nextSibling;)i&&i["s-sn"]===t["s-sn"]&&i["s-sh"]===Bf&&n.push(i)}for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Bf&&r["s-ol"]&&(_c(JB(r),r,MA(r)),r["s-ol"].remove(),r["s-ol"]=void 0,r["s-sh"]=void 0,LA=!0),e&&p0(r,e)}ui.$flags$&=-2},QB=(t,e,n,i,r,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===Bf&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=A_(null,n,r,t),a&&(i[r].$elm$=a,_c(o,a,MA(e))))},ZB=(t,e,n)=>{for(let i=e;i<=n;++i){const r=t[i];if(r){const s=r.$elm$;n9(r),s&&(C_=!0,s["s-ol"]?s["s-ol"].remove():p0(s,!0),s.remove())}}},TK=(t,e,n,i,r=!1)=>{let s=0,o=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],h=i.length-1,m=i[0],b=i[h],g,w;for(;s<=c&&o<=h;)if(u==null)u=e[++s];else if(d==null)d=e[--c];else if(m==null)m=i[++o];else if(b==null)b=i[--h];else if(Fv(u,m,r))Ah(u,m,r),u=e[++s],m=i[++o];else if(Fv(d,b,r))Ah(d,b,r),d=e[--c],b=i[--h];else if(Fv(u,b,r))(u.$tag$==="slot"||b.$tag$==="slot")&&p0(u.$elm$.parentNode,!1),Ah(u,b,r),_c(t,u.$elm$,d.$elm$.nextSibling),u=e[++s],b=i[--h];else if(Fv(d,m,r))(u.$tag$==="slot"||b.$tag$==="slot")&&p0(d.$elm$.parentNode,!1),Ah(d,m,r),_c(t,d.$elm$,u.$elm$),d=e[--c],m=i[++o];else{for(a=-1,l=s;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===m.$key$){a=l;break}a>=0?(w=e[a],w.$tag$!==m.$tag$?g=A_(e&&e[o],n,a,t):(Ah(w,m,r),e[a]=void 0,g=w.$elm$),m=i[++o]):(g=A_(e&&e[o],n,o,t),m=i[++o]),g&&_c(JB(u.$elm$),g,MA(u.$elm$))}s>c?QB(t,i[h+1]==null?null:i[h+1].$elm$,n,i,o,h):o>h&&ZB(e,s,c)},Fv=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,MA=t=>t&&t["s-ol"]||t,JB=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ah=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,r=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let l;a===null?(Wr=o==="svg"?!0:o==="foreignObject"?!1:Wr,o==="slot"&&!k_||KB(t,e,Wr),r!==null&&s!==null?TK(i,r,e,s,n):s!==null?(t.$text$!==null&&(i.textContent=""),QB(i,null,e,s,0,s.length-1)):!n&&Es.updatable&&r!==null&&ZB(r,0,r.length-1),Wr&&o==="svg"&&(Wr=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},e9=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const r of e)if(r!==n){if(r["s-hn"]!==n["s-hn"]||i!==""){if(r.nodeType===1&&(i===r.getAttribute("slot")||i===r["s-sn"])||r.nodeType===3&&i===r["s-sn"]){n.hidden=!0;break}}else if(r.nodeType===1||r.nodeType===3&&r.textContent.trim()!==""){n.hidden=!0;break}}}e9(n)}},La=[],t9=t=>{let e,n,i;for(const r of t.childNodes){if(r["s-sr"]&&(e=r["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const s=r["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==r["s-hn"]&&!Es.experimentalSlotFixes)if(E4(e,s)){let o=La.find(a=>a.$nodeToRelocate$===e);C_=!0,e["s-sn"]=e["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=r["s-hn"],o.$slotRefNode$=r):(e["s-sh"]=r["s-hn"],La.push({$slotRefNode$:r,$nodeToRelocate$:e})),e["s-sr"]&&La.map(a=>{E4(a.$nodeToRelocate$,e["s-sn"])&&(o=La.find(l=>l.$nodeToRelocate$===e),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else La.some(o=>o.$nodeToRelocate$===e)||La.push({$nodeToRelocate$:e})}r.nodeType===1&&t9(r)}},E4=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",n9=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(n9)},_c=(t,e,n)=>{const i=t==null?void 0:t.insertBefore(e,n);return NA(e,t),i},i9=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...i9(t.parentElement)),e},NA=(t,e,n=!1)=>{var i;if(t&&e&&t.nodeType===1){const r=new Set(i9(e).filter(Boolean));if(r.size&&((i=t.classList)==null||i.add(...t["s-scs"]=[...r]),t["s-ol"]||n))for(const s of Array.from(t.childNodes))NA(s,t,!0)}},EK=(t,e,n=!1)=>{var i,r,s,o,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||S_(null,null),d=cK(e)?e:z(null,null,e);if(Bf=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,m])=>d.$attrs$[m]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Ch=l["s-sc"],k_=(c.$flags$&1)!==0,jk=l["s-cr"],C_=!1,Ah(u,d,n);{if(ui.$flags$|=1,LA){t9(d.$elm$);for(const h of La){const m=h.$nodeToRelocate$;if(!m["s-ol"]){const b=ro.createTextNode("");b["s-nr"]=m,_c(m.parentNode,m["s-ol"]=b,m)}}for(const h of La){const m=h.$nodeToRelocate$,b=h.$slotRefNode$;if(b){const g=b.parentNode;let w=b.nextSibling;{let y=(i=m["s-ol"])==null?void 0:i.previousSibling;for(;y;){let T=(r=y["s-nr"])!=null?r:null;if(T&&T["s-sn"]===m["s-sn"]&&g===T.parentNode){for(T=T.nextSibling;T===m||T!=null&&T["s-sr"];)T=T==null?void 0:T.nextSibling;if(!T||!T["s-nr"]){w=T;break}}y=y.previousSibling}}(!w&&g!==m.parentNode||m.nextSibling!==w)&&m!==w&&(!m["s-hn"]&&m["s-ol"]&&(m["s-hn"]=m["s-ol"].parentNode.nodeName),_c(g,m,w),m.nodeType===1&&(m.hidden=(s=m["s-ih"])!=null?s:!1)),m&&typeof b["s-rf"]=="function"&&b["s-rf"](m)}else m.nodeType===1&&(n&&(m["s-ih"]=(o=m.hidden)!=null?o:!1),m.hidden=!0)}}C_&&e9(d.$elm$),ui.$flags$&=-2,La.length=0}if(Es.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==Bf&&!h["s-sh"]&&(n&&h["s-ih"]==null&&(h["s-ih"]=(a=h.hidden)!=null?a:!1),h.hidden=!0);jk=void 0},SK=(t,e)=>{},BA=(t,e)=>(t.$flags$|=16,SK(t,t.$ancestorComponent$),Lr(()=>kK(t,e))),kK=(t,e)=>{const n=t.$hostElement$,i=fd("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;if(!r)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let s;return e?s=sf(r,"componentWillLoad"):s=sf(r,"componentWillUpdate"),s=S4(s,()=>sf(r,"componentWillRender")),i(),S4(s,()=>AK(t,r,e))},S4=(t,e)=>CK(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),CK=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",AK=async(t,e,n)=>{const i=t.$hostElement$,r=fd("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&_K(t);const s=fd("render",t.$cmpMeta$.$tagName$);IK(t,e,i,n),s(),r(),DK(t)},k4=null,IK=(t,e,n,i)=>{try{k4=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Es.hasRenderFn||Es.reflect)&&(Es.vdomRender||Es.reflect)&&(Es.hydrateServerSide||EK(t,e,i))}catch(l){cb(l,t.$hostElement$)}return k4=null,null},DK=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=fd("postUpdate",e),r=n;t.$ancestorComponent$,sf(r,"componentDidRender"),t.$flags$&64?(sf(r,"componentDidUpdate"),i()):(t.$flags$|=64,sf(r,"componentDidLoad"),i())},co=t=>{{const e=Zc(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&BA(e,!1),n}},sf=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){cb(i)}},RK=(t,e)=>Zc(t).$instanceValues$.get(e),PK=(t,e,n,i)=>{const r=Zc(t),s=t,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;n=mK(n,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,o,e)}catch(m){cb(m,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,e)===!1)return;BA(r,!1)}}}},OK=(t,e,n)=>{var i,r;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((i=e.$members$)!=null?i:{});o.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(s,a,{get(){return RK(this,a)},set(c){PK(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(l,c,u){ui.jmp(()=>{var d;const h=a.get(l);if(this.hasOwnProperty(h))u=this[h],delete this[h];else{if(s.hasOwnProperty(h)&&typeof this[h]=="number"&&this[h]==u)return;if(h==null){const m=Zc(this),b=m==null?void 0:m.$flags$;if(b&&!(b&8)&&b&128&&u!==c){const w=this,y=(d=e.$watchers$)==null?void 0:d[l];y==null||y.forEach(T=>{w[T]!=null&&w[T].call(w,u,c,l)})}return}}this[h]=u===null&&typeof this[h]=="boolean"?!1:u})},t.observedAttributes=Array.from(new Set([...Object.keys((r=e.$watchers$)!=null?r:{}),...o.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const d=c[1]||l;return a.set(d,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,d])),d})]))}}return t},LK=async(t,e,n,i)=>{let r;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{r=t.constructor;const o=t.localName;customElements.whenDefined(o).then(()=>e.$flags$|=128)}if(r&&r.style){let o;typeof r.style=="string"?o=r.style:typeof r.style!="string"&&(e.$modeName$=hK(t),e.$modeName$&&(o=r.style[e.$modeName$]));const a=YB(n,e.$modeName$);if(!E_.has(a)){const l=fd("registerStyles",n.$tagName$);vK(a,o,!!(n.$flags$&1)),l()}}}e.$ancestorComponent$,BA(e,!0)},C4=t=>{},MK=t=>{if(!(ui.$flags$&1)){const e=Zc(t),n=e.$cmpMeta$,i=fd("connectedCallback",n.$tagName$);e.$flags$&1?(r9(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?C4(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>C4(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&NK(t),n.$members$&&Object.entries(n.$members$).map(([r,[s]])=>{if(s&31&&t.hasOwnProperty(r)){const o=t[r];delete t[r],t[r]=o}}),LK(t,e,n)),i()}},NK=t=>{const e=t["s-cr"]=ro.createComment("");e["s-cn"]=!0,_c(t,e,t.firstChild)},BK=async t=>{if(!(ui.$flags$&1)){const e=Zc(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},$e=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){YX(this,n)},connectedCallback(){const s=Zc(this);r9(this,s,n.$listeners$),MK(this),i&&i.call(this)},disconnectedCallback(){BK(this),r&&r.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,OK(t,n)},r9=(t,e,n,i)=>{n&&n.map(([r,s,o])=>{const a=FK(t,r),l=UK(e,o),c=VK(r);ui.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>ui.rel(a,s,l,c))})},UK=(t,e)=>n=>{var i;try{Es.lazyLoad||t.$hostElement$[e](n)}catch(r){cb(r)}},FK=(t,e)=>e&4?ro:e&8?ub:e&16?ro.body:t,VK=t=>QX?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wt=typeof window<"u"?window:void 0,Yo=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let TE;const $K=t=>{if(TE===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;TE=!e&&n?"-webkit-":""}return TE},EE=(t,e,n)=>{const i=e.startsWith("animation")?$K(t):"";t.style.setProperty(i+e,n)},Vv=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Ie=t=>{let e,n,i,r,s,o,a=[],l=[],c=[],u=!1,d,h={},m=[],b=[],g={},w=0,y=!1,T=!1,k,D,P,B=!0,O=!1,A=!0,R,L=!1;const U=t,V=[],M=[],ae=[],he=[],K=[],fe=[],ee=[],ne=[],Y=[],pe=[],ge=[],De=typeof AnimationEffect=="function"||wt!==void 0&&typeof wt.AnimationEffect=="function",Ne=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&De,ue=()=>ge,Ee=Z=>(K.forEach(Ce=>{Ce.destroy(Z)}),ye(Z),he.length=0,K.length=0,a.length=0,Di(),u=!1,A=!0,R),ye=Z=>{Qt(),Z&&bi()},Ye=()=>{y=!1,T=!1,A=!0,k=void 0,D=void 0,P=void 0,w=0,O=!1,B=!0,L=!1},Ut=()=>w!==0&&!L,qn=(Z,Ce)=>{const je=Ce.findIndex(Vt=>Vt.c===Z);je>-1&&Ce.splice(je,1)},gi=(Z,Ce)=>(ae.push({c:Z,o:Ce}),R),Tn=(Z,Ce)=>((Ce!=null&&Ce.oneTimeCallback?M:V).push({c:Z,o:Ce}),R),Di=()=>(V.length=0,M.length=0,R),Qt=()=>{Ne&&(ge.forEach(Z=>{Z.cancel()}),ge.length=0)},bi=()=>{fe.forEach(Z=>{Z!=null&&Z.parentNode&&Z.parentNode.removeChild(Z)}),fe.length=0},ls=Z=>(ee.push(Z),R),xo=Z=>(ne.push(Z),R),Gn=Z=>(Y.push(Z),R),dr=Z=>(pe.push(Z),R),Xe=Z=>(l=Vv(l,Z),R),js=Z=>(c=Vv(c,Z),R),zs=(Z={})=>(h=Z,R),Hs=(Z=[])=>{for(const Ce of Z)h[Ce]="";return R},Fr=Z=>(m=Vv(m,Z),R),cs=Z=>(b=Vv(b,Z),R),St=(Z={})=>(g=Z,R),Ft=(Z=[])=>{for(const Ce of Z)g[Ce]="";return R},Wn=()=>s!==void 0?s:d?d.getFill():"both",wo=()=>k!==void 0?k:o!==void 0?o:d?d.getDirection():"normal",ma=()=>y?"linear":i!==void 0?i:d?d.getEasing():"linear",qs=()=>T?0:D!==void 0?D:n!==void 0?n:d?d.getDuration():0,lt=()=>r!==void 0?r:d?d.getIterations():1,Sl=()=>P!==void 0?P:e!==void 0?e:d?d.getDelay():0,ga=()=>a,cu=Z=>(o=Z,sn(!0),R),Kp=Z=>(s=Z,sn(!0),R),Qp=Z=>(e=Z,sn(!0),R),uu=Z=>(i=Z,sn(!0),R),Hd=Z=>(!Ne&&Z===0&&(Z=1),n=Z,sn(!0),R),qd=Z=>(r=Z,sn(!0),R),ba=Z=>(d=Z,R),du=Z=>{if(Z!=null)if(Z.nodeType===1)he.push(Z);else if(Z.length>=0)for(let Ce=0;Ce<Z.length;Ce++)he.push(Z[Ce]);else console.error("Invalid addElement value");return R},hu=Z=>{if(Z!=null)if(Array.isArray(Z))for(const Ce of Z)Ce.parent(R),K.push(Ce);else Z.parent(R),K.push(Z);return R},Gs=Z=>{const Ce=a!==Z;return a=Z,Ce&&Gd(a),R},Gd=Z=>{Ne&&ue().forEach(Ce=>{const je=Ce.effect;if(je.setKeyframes)je.setKeyframes(Z);else{const Vt=new KeyframeEffect(je.target,Z,je.getTiming());Ce.effect=Vt}})},va=()=>{ee.forEach(Vt=>Vt()),ne.forEach(Vt=>Vt());const Z=l,Ce=c,je=h;he.forEach(Vt=>{const on=Vt.classList;Z.forEach(Gi=>on.add(Gi)),Ce.forEach(Gi=>on.remove(Gi));for(const Gi in je)je.hasOwnProperty(Gi)&&EE(Vt,Gi,je[Gi])})},Wd=()=>{Y.forEach(on=>on()),pe.forEach(on=>on());const Z=B?1:0,Ce=m,je=b,Vt=g;he.forEach(on=>{const Gi=on.classList;Ce.forEach(hr=>Gi.add(hr)),je.forEach(hr=>Gi.remove(hr));for(const hr in Vt)Vt.hasOwnProperty(hr)&&EE(on,hr,Vt[hr])}),D=void 0,k=void 0,P=void 0,V.forEach(on=>on.c(Z,R)),M.forEach(on=>on.c(Z,R)),M.length=0,A=!0,B&&(O=!0),B=!0},us=()=>{w!==0&&(w--,w===0&&(Wd(),d&&d.animationFinish()))},Yd=()=>{he.forEach(Z=>{const Ce=Z.animate(a,{id:U,delay:Sl(),duration:qs(),easing:ma(),iterations:lt(),fill:Wn(),direction:wo()});Ce.pause(),ge.push(Ce)}),ge.length>0&&(ge[0].onfinish=()=>{us()})},En=()=>{va(),a.length>0&&Ne&&Yd(),u=!0},To=Z=>{Z=Math.min(Math.max(Z,0),.9999),Ne&&ge.forEach(Ce=>{Ce.currentTime=Ce.effect.getComputedTiming().delay+qs()*Z,Ce.pause()})},Ws=Z=>{ge.forEach(Ce=>{Ce.effect.updateTiming({delay:Sl(),duration:qs(),easing:ma(),iterations:lt(),fill:Wn(),direction:wo()})}),Z!==void 0&&To(Z)},sn=(Z=!1,Ce=!0,je)=>(Z&&K.forEach(Vt=>{Vt.update(Z,Ce,je)}),Ne&&Ws(je),R),kl=(Z=!1,Ce)=>(K.forEach(je=>{je.progressStart(Z,Ce)}),Xd(),y=Z,u||En(),sn(!1,!0,Ce),R),Yn=Z=>(K.forEach(Ce=>{Ce.progressStep(Z)}),To(Z),R),Eo=(Z,Ce,je)=>(y=!1,K.forEach(Vt=>{Vt.progressEnd(Z,Ce,je)}),je!==void 0&&(D=je),O=!1,B=!0,Z===0?(k=wo()==="reverse"?"normal":"reverse",k==="reverse"&&(B=!1),Ne?(sn(),To(1-Ce)):(P=(1-Ce)*qs()*-1,sn(!1,!1))):Z===1&&(Ne?(sn(),To(Ce)):(P=Ce*qs()*-1,sn(!1,!1))),Z!==void 0&&!d&&_a(),R),Xd=()=>{u&&(Ne?ge.forEach(Z=>{Z.pause()}):he.forEach(Z=>{EE(Z,"animation-play-state","paused")}),L=!0)},Cl=()=>(K.forEach(Z=>{Z.pause()}),Xd(),R),Ri=()=>{us()},ya=()=>{ge.forEach(Z=>{Z.play()}),(a.length===0||he.length===0)&&us()},pt=()=>{Ne&&(To(0),Ws())},_a=Z=>new Promise(Ce=>{Z!=null&&Z.sync&&(T=!0,Tn(()=>T=!1,{oneTimeCallback:!0})),u||En(),O&&(pt(),O=!1),A&&(w=K.length+1,A=!1);const je=()=>{qn(Vt,M),Ce()},Vt=()=>{qn(je,ae),Ce()};Tn(Vt,{oneTimeCallback:!0}),gi(je,{oneTimeCallback:!0}),K.forEach(on=>{on.play()}),Ne?ya():Ri(),L=!1}),qi=()=>{K.forEach(Z=>{Z.stop()}),u&&(Qt(),u=!1),Ye(),ae.forEach(Z=>Z.c(0,R)),ae.length=0},So=(Z,Ce)=>{const je=a[0];return je!==void 0&&(je.offset===void 0||je.offset===0)?je[Z]=Ce:a=[{offset:0,[Z]:Ce},...a],R};return R={parentAnimation:d,elements:he,childAnimations:K,id:U,animationFinish:us,from:So,to:(Z,Ce)=>{const je=a[a.length-1];return je!==void 0&&(je.offset===void 0||je.offset===1)?je[Z]=Ce:a=[...a,{offset:1,[Z]:Ce}],R},fromTo:(Z,Ce,je)=>So(Z,Ce).to(Z,je),parent:ba,play:_a,pause:Cl,stop:qi,destroy:Ee,keyframes:Gs,addAnimation:hu,addElement:du,update:sn,fill:Kp,direction:cu,iterations:qd,duration:Hd,easing:uu,delay:Qp,getWebAnimations:ue,getKeyframes:ga,getFill:Wn,getDirection:wo,getDelay:Sl,getIterations:lt,getEasing:ma,getDuration:qs,afterAddRead:Gn,afterAddWrite:dr,afterClearStyles:Ft,afterStyles:St,afterRemoveClass:cs,afterAddClass:Fr,beforeAddRead:ls,beforeAddWrite:xo,beforeClearStyles:Hs,beforeStyles:zs,beforeRemoveClass:js,beforeAddClass:Xe,onFinish:Tn,isRunning:Ut,progressStart:kl,progressStep:Yn,progressEnd:Eo}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let jK=class{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}};const Ke=new jK,zK=t=>{try{const e=t.sessionStorage.getItem(s9);return e!==null?JSON.parse(e):{}}catch(e){return{}}},HK=(t,e)=>{try{t.sessionStorage.setItem(s9,JSON.stringify(e))}catch(n){return}},qK=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>{try{return[decodeURIComponent(n),decodeURIComponent(i)]}catch(r){return["",""]}}).filter(([n])=>GK(n,A4)).map(([n,i])=>[n.slice(A4.length),i]).forEach(([n,i])=>{e[n]=i}),e},GK=(t,e)=>t.substr(0,e.length)===e,A4="ionic:",s9="ionic-persist-config",WK=t=>o9(t),Fo=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),WK(t).includes(e)),o9=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=YK(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},YK=t=>{const e=Ke.get("platform");return Object.keys(I4).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):I4[n](t)})},XK=t=>Sw(t)&&!l9(t),UA=t=>!!(pd(t,/iPad/i)||pd(t,/Macintosh/i)&&Sw(t)),KK=t=>pd(t,/iPhone/i),QK=t=>pd(t,/iPhone|iPod/i)||UA(t),a9=t=>pd(t,/android|sink/i),ZK=t=>a9(t)&&!pd(t,/mobile/i),JK=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},eQ=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return UA(t)||ZK(t)||i>460&&i<820&&r>780&&r<1400},Sw=t=>rQ(t,"(any-pointer:coarse)"),tQ=t=>!Sw(t),l9=t=>c9(t)||u9(t),c9=t=>!!(t.cordova||t.phonegap||t.PhoneGap),u9=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},nQ=t=>pd(t,/electron/i),iQ=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},pd=(t,e)=>e.test(t.navigator.userAgent),rQ=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},I4={ipad:UA,iphone:KK,ios:QK,android:a9,phablet:JK,tablet:eQ,cordova:c9,capacitor:u9,electron:nQ,pwa:iQ,mobile:Sw,mobileweb:XK,desktop:tQ,hybrid:l9};let Ih;const Ae=t=>t&&pK(t)||Ih,sQ=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},r={};t._ael&&(r.ael=t._ael),t._rel&&(r.rel=t._rel),t._ce&&(r.ce=t._ce),KX(r);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zK(n)),{persistConfig:!1}),i.config),qK(n)),t);Ke.reset(s),Ke.getBoolean("persistConfig")&&HK(n,s),o9(n),i.config=Ke,i.mode=Ih=Ke.get("mode",e.documentElement.getAttribute("mode")||(Fo(n,"ios")?"ios":"md")),Ke.set("mode",Ih),e.documentElement.setAttribute("mode",Ih),e.documentElement.classList.add(Ih),Ke.getBoolean("_testing")&&Ke.set("animated",!1);const o=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);fK(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;o(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return Ih})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ir=(t,...e)=>console.warn("[Ionic Warning]: ".concat(t),...e),oQ=(t,...e)=>console.error("[Ionic Error]: ".concat(t),...e),aQ=(t,...e)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pc=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):di(()=>e(t))},m0=t=>t.componentOnReady!==void 0,yl=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},lQ=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],wp=(t,e)=>yl(t,lQ),g0=(t,e,n,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_ael");if(a)return a(t,e,n,i);if(o._ael)return o._ael(t,e,n,i)}}return t.addEventListener(e,n,i)},I_=(t,e,n,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_rel");if(a)return a(t,e,n,i);if(o._rel)return o._rel(t,e,n,i)}}return t.removeEventListener(e,n,i)},Ln=(t,e=t)=>t.shadowRoot||e,di=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),cQ=t=>!!t.shadowRoot&&!!t.attachShadow,D_=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},FA=(t,e,n,i,r)=>{{let s=e.querySelector("input.aux-input");s||(s=e.ownerDocument.createElement("input"),s.type="hidden",s.classList.add("aux-input"),e.appendChild(s)),s.disabled=r,s.name=n,s.value=i||""}},md=(t,e,n)=>Math.max(t,Math.min(e,n)),br=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},NCe=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},uQ=(t,e)=>{const n=t._original||t;return{_original:t,emit:dQ(n.emit.bind(n),e)}},dQ=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},d9=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0},hQ="ionViewWillEnter",fQ="ionViewDidEnter",h9="ionViewWillLeave",f9="ionViewDidLeave",SE="ionViewWillUnload",Rm=t=>{t.tabIndex=-1,t.focus()},$v=t=>t.offsetParent!==null,pQ=()=>({saveViewFocus:n=>{if(Ke.get("focusManagerPriority",!1)){const r=document.activeElement;r!==null&&(n!=null&&n.contains(r))&&r.setAttribute(D4,"true")}},setViewFocus:n=>{const i=Ke.get("focusManagerPriority",!1);if(Array.isArray(i)&&!n.contains(document.activeElement)){const r=n.querySelector("[".concat(D4,"]"));if(r&&$v(r)){Rm(r);return}for(const s of i)switch(s){case"content":const o=n.querySelector('main, [role="main"]');if(o&&$v(o)){Rm(o);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&$v(a)){Rm(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&$v(l)){Rm(l);return}break;default:ir("Unrecognized focus manager priority value ".concat(s));break}Rm(n)}}}),D4="ion-last-focus",mQ=()=>xi(()=>import("./ios.transition-BJYoDAjb.js"),[]),gQ=()=>xi(()=>import("./md.transition-C1ASQqX1.js"),[]),p9=pQ(),m9=t=>new Promise((e,n)=>{Lr(()=>{bQ(t),vQ(t).then(i=>{i.animation&&i.animation.destroy(),R4(t),e(i)},i=>{R4(t),n(i)})})}),bQ=t=>{const e=t.enteringEl,n=t.leavingEl;p9.saveViewFocus(n),EQ(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),zk(e,!1),e.style.setProperty("pointer-events","none"),n&&(zk(n,!1),n.style.setProperty("pointer-events","none"))},vQ=async t=>{const e=await yQ(t);return e&&WX.isBrowser?_Q(e,t):xQ(t)},R4=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),p9.setViewFocus(e)},yQ=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await mQ()).iosTransitionAnimation:(await gQ()).mdTransitionAnimation,_Q=async(t,e)=>{await g9(e,!0);const n=t(e.baseEl,e);b9(e.enteringEl,e.leavingEl);const i=await TQ(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&v9(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},xQ=async t=>{const e=t.enteringEl,n=t.leavingEl,i=Ke.get("focusManagerPriority",!1);return await g9(t,i),b9(e,n),v9(e,n),{hasCompleted:!0}},g9=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([b0(t.enteringEl),b0(t.leavingEl)]),await wQ(t.viewIsReady,t.enteringEl)},wQ=async(t,e)=>{t&&await t(e)},TQ=(t,e)=>{const n=e.progressCallback,i=new Promise(r=>{t.onFinish(s=>r(s===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},b9=(t,e)=>{Ua(e,h9),Ua(t,hQ)},v9=(t,e)=>{Ua(t,fQ),Ua(e,f9)},Ua=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},y9=()=>new Promise(t=>di(()=>di(()=>t()))),b0=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>di(i));return}await Promise.all(Array.from(e.children).map(b0))}},zk=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},EQ=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},BCe=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Uf=(t,e,n,i,r)=>kQ(t[1],e[1],n[1],i[1],r).map(s=>SQ(t[0],e[0],n[0],i[0],s)),SQ=(t,e,n,i,r)=>{const s=3*e*Math.pow(r-1,2),o=-3*n*r+3*n+i*r,a=t*Math.pow(r-1,3);return r*(s+r*o)-a},kQ=(t,e,n,i,r)=>(t-=r,e-=r,n-=r,i-=r,AQ(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(o=>o>=0&&o<=1)),CQ=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},AQ=(t,e,n,i)=>{if(t===0)return CQ(e,n,i);e/=t,n/=t,i/=t;const r=(3*n-e*e)/3,s=(2*e*e*e-9*e*n+27*i)/27;if(r===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const o=Math.pow(s/2,2)+Math.pow(r/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class IQ{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new DQ(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new RQ(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(o=>{s=Math.max(s,o)}),s===i){this.capturedId=n,r.clear();const o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return r.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(R_)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(R_)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class DQ{constructor(e,n,i,r,s){this.id=n,this.name=i,this.disableScroll=s,this.priority=r*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class RQ{constructor(e,n,i,r){this.id=n,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const R_="backdrop-no-scroll",_9=new IQ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Su=(t,e,n,i)=>{const r=PQ(t)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let s,o;return t.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(s="addEventListener",o="removeEventListener"),t[s](e,n,r),()=>{t[o](e,n,r)}},PQ=t=>{if(jv===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{jv=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){jv=!1}return!!jv};let jv;const OQ=2e3,LQ=(t,e,n,i,r)=>{let s,o,a,l,c,u,d,h=0;const m=B=>{h=Date.now()+OQ,e(B)&&(!o&&n&&(o=Su(t,"touchmove",n,r)),a||(a=Su(B.target,"touchend",g,r)),l||(l=Su(B.target,"touchcancel",g,r)))},b=B=>{h>Date.now()||e(B)&&(!u&&n&&(u=Su(P4(t),"mousemove",n,r)),d||(d=Su(P4(t),"mouseup",w,r)))},g=B=>{y(),i&&i(B)},w=B=>{T(),i&&i(B)},y=()=>{o&&o(),a&&a(),l&&l(),o=a=l=void 0},T=()=>{u&&u(),d&&d(),u=d=void 0},k=()=>{y(),T()},D=(B=!0)=>{B?(s||(s=Su(t,"touchstart",m,r)),c||(c=Su(t,"mousedown",b,r))):(s&&s(),c&&c(),s=c=void 0,k())};return{enable:D,stop:k,destroy:()=>{D(!1),i=n=e=void 0}}},P4=t=>t instanceof Document?t:t.ownerDocument,MQ=(t,e,n)=>{const i=n*(Math.PI/180),r=t==="x",s=Math.cos(i),o=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const m=d-a,b=h-l,g=m*m+b*b;if(g<o)return!1;const w=Math.sqrt(g),y=(r?m:b)/w;return y>s?u=1:y<-s?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Tp=t=>{let e=!1,n=!1,i=!0,r=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),o=s.canStart,a=s.onWillStart,l=s.onStart,c=s.onEnd,u=s.notCaptured,d=s.onMove,h=s.threshold,m=s.passive,b=s.blurOnStart,g={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},w=MQ(s.direction,s.threshold,s.maxAngle),y=_9.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),T=V=>{const M=w9(V);return n||!i||(x9(V,g),g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime=M,g.velocityX=g.velocityY=g.deltaX=g.deltaY=0,g.event=V,o&&o(g)===!1)||(y.release(),!y.start())?!1:(n=!0,h===0?P():(w.start(g.startX,g.startY),!0))},k=V=>{if(e){!r&&i&&(r=!0,kE(g,V),requestAnimationFrame(D));return}kE(g,V),w.detect(g.currentX,g.currentY)&&(!w.isGesture()||!P())&&U()},D=()=>{e&&(r=!1,d&&d(g))},P=()=>y.capture()?(e=!0,i=!1,g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime,a?a(g).then(O):O(),!0):!1,B=()=>{if(typeof document<"u"){const V=document.activeElement;V!=null&&V.blur&&V.blur()}},O=()=>{b&&B(),l&&l(g),i=!0},A=()=>{e=!1,n=!1,r=!1,i=!0,y.release()},R=V=>{const M=e,ae=i;if(A(),!!ae){if(kE(g,V),M){c&&c(g);return}u&&u(g)}},L=LQ(s.el,T,k,R,{capture:!1,passive:m}),U=()=>{A(),L.stop(),u&&u(g)};return{enable(V=!0){V||(e&&R(void 0),A()),L.enable(V)},destroy(){y.destroy(),L.destroy()}}},kE=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,r=t.currentTime;x9(e,t);const s=t.currentX,o=t.currentY,l=(t.currentTime=w9(e))-r;if(l>0&&l<100){const c=(s-n)/l,u=(o-i)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=s-t.startX,t.deltaY=o-t.startY,t.event=e},x9=(t,e)=>{let n=0,i=0;if(t){const r=t.changedTouches;if(r&&r.length>0){const s=r[0];n=s.clientX,i=s.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},w9=t=>t.timeStamp||Date.now(),NQ=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:_9,createGesture:Tp},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const T9=t=>{try{if(t instanceof VQ)return t.value;if(!BQ()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,FQ.forEach(o=>{const a=e.querySelectorAll(o);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=qk(c);for(let d=0;d<u.length;d++)Hk(u[d])}});const i=qk(e);for(let o=0;o<i.length;o++)Hk(i[o]);const r=document.createElement("div");r.appendChild(e);const s=r.querySelector("div");return s!==null?s.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},Hk=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),r=i.name;if(!UQ.includes(r.toLowerCase())){t.removeAttribute(r);continue}const s=i.value,o=t[r];(s!=null&&s.toLowerCase().includes("javascript:")||o!=null&&o.toLowerCase().includes("javascript:"))&&t.removeAttribute(r)}const e=qk(t);for(let n=0;n<e.length;n++)Hk(e[n])},qk=t=>t.children!=null?t.children:t.childNodes,BQ=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},UQ=["class","id","href","src","name","slot"],FQ=["script","style","iframe","meta","link","object","embed"];class VQ{constructor(e){this.value=e}}const E9=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mn=(t,e)=>e.closest(t)!==null,wn=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,$Q=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],or=t=>{const e={};return $Q(t).forEach(n=>e[n]=!0),e},jQ=/^[a-z][a-z0-9+\-.]*:/,kw=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!jQ.test(t)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const v0=()=>Ke.get("experimentalCloseWatcher",!1)&&wt!==void 0&&"CloseWatcher"in wt,zQ=()=>{document.addEventListener("backbutton",()=>{})},HQ=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let i=0,r=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){r.push({priority:l,handler:c,id:i++})}}});t.dispatchEvent(s);const o=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){console.error(c)}},a=()=>{if(r.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,r=r.filter(c=>c.id!==l.id),o(l).then(()=>e=!1)}};a()};if(v0()){let i;const r=()=>{i==null||i.destroy(),i=new wt.CloseWatcher,i.onclose=()=>{n(),r()}};r()}else t.addEventListener("backbutton",n)},S9=100,qQ=99,GQ=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:qQ,OVERLAY_BACK_BUTTON_PRIORITY:S9,blockHardwareBackButton:zQ,shouldUseCloseWatcher:v0,startHardwareBackButton:HQ},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const db=async(t,e,n,i,r,s)=>{var o;if(t)return t.attachViewToDom(e,n,r,i);if(!s&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Pc(a,l)),a},VA=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},$A=()=>{let t,e;return{attachViewToDom:async(r,s,o={},a=[])=>{var l,c;t=r;let u;if(s){const h=typeof s=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(s):s;a.forEach(m=>h.classList.add(m)),Object.assign(h,o),t.appendChild(h),u=h,await new Promise(m=>Pc(h,m))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(u=t.children[0]).classList.contains("ion-delegate-host")){const m=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");m.classList.add("ion-delegate-host"),a.forEach(b=>m.classList.add(b)),m.append(...t.children),t.appendChild(m),u=m}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),u!=null?u:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const hb='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Gk=(t,e)=>{const n=t.querySelector(hb);k9(n,e!=null?e:t)},O4=(t,e)=>{const n=Array.from(t.querySelectorAll(hb)),i=n.length>0?n[n.length-1]:null;k9(i,e!=null?e:t)},k9=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;if(i&&(n=i.querySelector(hb)||t),n){const r=n.closest("ion-radio-group");r?r.setFocus():D_(n)}else e.focus()};let Wk=0,WQ=0;const P_=new WeakMap,fb=t=>({create(e){return ZQ(t,e)},dismiss(e,n,i){return nZ(document,e,n,t,i)},async getTop(){return y0(document,t)}}),C9=fb("ion-alert"),YQ=fb("ion-action-sheet"),XQ=fb("ion-modal"),KQ=fb("ion-popover"),QQ=fb("ion-toast"),pb=t=>{typeof document<"u"&&tZ(document);const e=Wk++;t.overlayIndex=e},mb=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++WQ)),t.id),ZQ=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),I9(document).appendChild(n),new Promise(i=>Pc(n,i))}):Promise.resolve(),JQ=t=>t.classList.contains("overlay-hidden"),L4=(t,e)=>{let n=t;const i=t==null?void 0:t.shadowRoot;i&&(n=i.querySelector(hb)||t),n?D_(n):e.focus()},eZ=(t,e)=>{const n=y0(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),i=t.target;if(!n||!i||n.classList.contains(_0))return;const r=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")L4(n.lastFocus,n);else{const o=Ln(n);if(!o.contains(i))return;const a=o.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===o.querySelector("ion-backdrop"))n.lastFocus=i;else{const l=n.lastFocus;Gk(a,n),l===e.activeElement&&O4(a,n),n.lastFocus=e.activeElement}}},s=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")L4(n.lastFocus,n);else{const o=n.lastFocus;Gk(n),o===e.activeElement&&O4(n),n.lastFocus=e.activeElement}};n.shadowRoot?s():r()},tZ=t=>{Wk===0&&(Wk=1,t.addEventListener("focus",e=>{eZ(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=y0(t);n!=null&&n.backdropDismiss&&e.detail.register(S9,()=>{n.dismiss(void 0,bd)})}),v0()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=y0(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,bd)}}))},nZ=(t,e,n,i,r)=>{const s=y0(t,i,r);return s?s.dismiss(e,n):Promise.reject("overlay does not exist")},iZ=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Cw=(t,e)=>iZ(t,e).filter(n=>!JQ(n)),y0=(t,e,n)=>{const i=Cw(t,e);return n===void 0?i[i.length-1]:i.find(r=>r.id===n)},A9=(t=!1)=>{const n=I9(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},gb=async(t,e,n,i,r)=>{var s,o;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&A9(!0),document.body.classList.add(R_),aZ(t.el),P9(t.el),t.presented=!0,t.willPresent.emit(),(s=t.willPresentShorthand)===null||s===void 0||s.emit();const a=Ae(t),l=t.enterAnimation?t.enterAnimation:Ke.get(e,a==="ios"?n:i);await D9(t,l,t.el,r)&&(t.didPresent.emit(),(o=t.didPresentShorthand)===null||o===void 0||o.emit()),t.el.tagName!=="ION-TOAST"&&rZ(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")},rZ=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(hb)||e),await t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()},bb=async(t,e,n,i,r,s,o)=>{var a,l;if(!t.presented)return!1;const c=Yo!==void 0?Cw(Yo).filter(d=>d.tagName!=="ION-TOAST"):[];c.length===1&&c[0].id===t.el.id&&(A9(!1),document.body.classList.remove(R_)),t.presented=!1;try{P9(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const d=Ae(t),h=t.leaveAnimation?t.leaveAnimation:Ke.get(i,d==="ios"?r:s);n!==of&&await D9(t,h,t.el,o),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(P_.get(t)||[]).forEach(b=>b.destroy()),P_.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(d){console.error(d)}return t.el.remove(),lZ(),!0},I9=t=>t.querySelector("ion-app")||t.body,D9=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const r=t.el,s=e(r,i);(!t.animated||!Ke.getBoolean("animated",!0))&&s.duration(0),t.keyboardClose&&s.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const o=P_.get(t)||[];return P_.set(t,[...o,s]),await s.play(),!0},ia=(t,e)=>{let n;const i=new Promise(r=>n=r);return sZ(t,e,r=>{n(r.detail)}),i},sZ=(t,e,n)=>{const i=r=>{I_(t,e,i),n(r)};g0(t,e,i)},gd=t=>t==="cancel"||t===bd,oZ=t=>t(),Qu=(t,e)=>{if(typeof t=="function")return Ke.get("_zoneGate",oZ)(()=>{try{return t(e)}catch(i){throw i}})},bd="backdrop",of="gesture",R9=39,jA=t=>{let e=!1,n;const i=$A(),r=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},Aw=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,r)=>{e();const s=r!==void 0?document.getElementById(r):null;if(!s){ir('A trigger element with the ID "'.concat(r,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(s,i)},removeClickListener:e}},P9=t=>{Yo!==void 0&&Fo("android")&&t.setAttribute("aria-hidden","true")},aZ=t=>{var e;if(Yo===void 0)return;const n=Cw(Yo);for(let i=n.length-1;i>=0;i--){const r=n[i],s=(e=n[i+1])!==null&&e!==void 0?e:t;(s.hasAttribute("aria-hidden")||s.tagName!=="ION-TOAST")&&r.setAttribute("aria-hidden","true")}},lZ=()=>{if(Yo===void 0)return;const t=Cw(Yo);for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},_0="ion-disable-focus-trap";function gn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cZ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",uZ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",dZ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",hZ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",M4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",fZ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",pZ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let CE;const mZ=()=>{if(typeof window>"u")return new Map;if(!CE){const t=window;t.Ionicons=t.Ionicons||{},CE=t.Ionicons.map=t.Ionicons.map||new Map}return CE},gZ=t=>{let e=AE(t.src);return e||(e=O9(t.name,t.icon,t.mode,t.ios,t.md),e?bZ(e,t):t.icon&&(e=AE(t.icon),e||(e=AE(t.icon[t.mode]),e))?e:null)},bZ=(t,e)=>{const n=mZ().get(t);if(n)return n;try{return GB("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},O9=(t,e,n,i,r)=>(n=(n&&zv(n))==="ios"?"ios":"md",i&&n==="ios"?t=zv(i):r&&n==="md"?t=zv(r):(!t&&e&&!L9(e)&&(t=e),O_(t)&&(t=zv(t))),!O_(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),AE=t=>O_(t)&&(t=t.trim(),L9(t))?t:null,L9=t=>t.length>0&&/(\/|\.)/.test(t),O_=t=>typeof t=="string",zv=t=>t.toLowerCase(),vZ=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},yZ=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",_Z=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),M9(n))return e.innerHTML}return""},M9=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(O_(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!M9(t.childNodes[e]))return!1}return!0},xZ=t=>t.startsWith("data:image/svg+xml"),wZ=t=>t.indexOf(";utf8,")!==-1,Bu=new Map,N4=new Map;let IE;const TZ=(t,e)=>{let n=N4.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(xZ(t)&&wZ(t)){IE||(IE=new DOMParser);const r=IE.parseFromString(t,"text/html").querySelector("svg");return r&&Bu.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=_Z(r)),Bu.set(t,r||"")});Bu.set(t,"")}),N4.set(t,n);else return Bu.set(t,""),Promise.resolve();return n},EZ=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",SZ=EZ,kZ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=CZ(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=vZ(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=gZ(this);e&&(Bu.has(e)?this.svgContent=Bu.get(e):TZ(e,this.sanitize).then(()=>this.svgContent=Bu.get(e)),this.didLoadIcon=!0)}this.iconName=O9(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return z(He,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},AZ(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&yZ(r)})},i),this.svgContent?z("div",{class:"icon-inner",innerHTML:this.svgContent}):z("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return SZ}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),CZ=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",AZ=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function Jc(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,kZ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IZ=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",DZ=IZ,RZ=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",PZ=RZ,OZ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return z(He,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:Ae(this)},z("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:DZ,md:PZ}}},[33,"ion-avatar"]);function LZ(){if(typeof customElements>"u")return;["ion-avatar"].forEach(e=>{switch(e){case"ion-avatar":customElements.get(e)||customElements.define(e,OZ);break}})}const MZ=LZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NZ=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",BZ=NZ,UZ=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",FZ=UZ,VZ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ve(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=Ae(this);return z(He,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:BZ,md:FZ}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function vb(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,VZ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $Z=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",jZ=$Z,zZ=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",HZ=zZ,qZ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=Ae(this);return z(He,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},z("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:jZ,md:HZ}}},[38,"ion-buttons",{collapse:[4]}]);function zA(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,qZ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GZ=zA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WZ="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",YZ=WZ,XZ="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",KZ=XZ,QZ=$e(class extends Fe{constructor(){super(),this.__registerHost()}render(){const e=Ae(this);return z(He,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:YZ,md:KZ}}},[32,"ion-card-content"]);function ZZ(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,QZ);break}})}const JZ=ZZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eJ=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",tJ=eJ,nJ=":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}",iJ=nJ,rJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=Ae(this);return z(He,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:wn(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},z("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:tJ,md:iJ}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);function sJ(){if(typeof customElements>"u")return;["ion-card-header"].forEach(e=>{switch(e){case"ion-card-header":customElements.get(e)||customElements.define(e,rJ);break}})}const oJ=sJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aJ=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",lJ=aJ,cJ=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}",uJ=cJ,dJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Ae(this);return z(He,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:wn(this.color,{"ion-inherit-color":!0,[e]:!0})},z("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:lJ,md:uJ}}},[33,"ion-card-subtitle",{color:[513]}]);function hJ(){if(typeof customElements>"u")return;["ion-card-subtitle"].forEach(e=>{switch(e){case"ion-card-subtitle":customElements.get(e)||customElements.define(e,dJ);break}})}const fJ=hJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pJ=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",mJ=pJ,gJ=":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}",bJ=gJ,vJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Ae(this);return z(He,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:wn(this.color,{"ion-inherit-color":!0,[e]:!0})},z("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:mJ,md:bJ}}},[33,"ion-card-title",{color:[513]}]);function yJ(){if(typeof customElements>"u")return;["ion-card-title"].forEach(e=>{switch(e){case"ion-card-title":customElements.get(e)||customElements.define(e,vJ);break}})}const _J=yJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xJ=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",wJ=xJ,TJ=":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}",EJ=TJ,SJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ve(this,"ionChange",7),this.ionFocus=ve(this,"ionFocus",7),this.ionBlur=ve(this,"ionBlur",7),this.inputId="ion-cb-".concat(kJ++),this.inheritedAttributes={},this.setChecked=e=>{const n=this.checked=e;this.ionChange.emit({checked:n,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}componentWillLoad(){this.inheritedAttributes=Object.assign({},wp(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}render(){const{color:e,checked:n,disabled:i,el:r,getSVGPath:s,indeterminate:o,inheritedAttributes:a,inputId:l,justify:c,labelPlacement:u,name:d,value:h,alignment:m}=this,b=Ae(this),g=s(b,o);return FA(!0,r,d,n?h:"",i),z(He,{key:"6dc787e1100521d08c4900104e1a3e2f594e919f","aria-checked":o?"mixed":"".concat(n),class:wn(e,{[b]:!0,"in-item":mn("ion-item",r),"checkbox-checked":n,"checkbox-disabled":i,"checkbox-indeterminate":o,interactive:!0,["checkbox-justify-".concat(c)]:c!==void 0,["checkbox-alignment-".concat(m)]:m!==void 0,["checkbox-label-placement-".concat(u)]:!0}),onClick:this.onClick},z("label",{key:"68222fb736a5ec3f2e488649b0e2ce0417dcb224",class:"checkbox-wrapper"},z("input",Object.assign({key:"f12962d7e9b19c744cfdbdeccc67ae7f5d080281",type:"checkbox",checked:n?!0:void 0,disabled:i,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:w=>this.focusEl=w},a)),z("div",{key:"c72df2699414b1e5a41a1bc267bc634f0c93dcff",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":r.textContent===""},part:"label"},z("slot",{key:"a2a80285178a7e0e3b536fc9ca26b8b444aa4307"})),z("div",{key:"c2b05e0d1fe8df5dcd72858220b5ff51ecaee4cc",class:"native-wrapper"},z("svg",{key:"ee24913fded72258ebd9713654a6dba92a18fcf7",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},g))))}getSVGPath(e,n){let i=n?z("path",{d:"M6 12L18 12",part:"mark"}):z("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(i=n?z("path",{d:"M2 12H22",part:"mark"}):z("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),i}get el(){return this}static get style(){return{ios:wJ,md:EJ}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],setFocus:[64]}]);let kJ=0;function HA(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,SJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CJ=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",AJ=CJ,IJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{hd(()=>{const r=this.el.getBoundingClientRect(),s=r.width,o=r.height,a=Math.sqrt(s*s+o*o),l=Math.max(o,s),c=this.unbounded?l:a+RJ,u=Math.floor(l*PJ),d=c/u;let h=e-r.left,m=n-r.top;this.unbounded&&(h=s*.5,m=o*.5);const b=h-u*.5,g=m-u*.5,w=s*.5-h,y=o*.5-m;Lr(()=>{const T=document.createElement("div");T.classList.add("ripple-effect");const k=T.style;k.top=g+"px",k.left=b+"px",k.width=k.height=u+"px",k.setProperty("--final-scale","".concat(d)),k.setProperty("--translate-end","".concat(w,"px, ").concat(y,"px")),(this.el.shadowRoot||this.el).appendChild(T),setTimeout(()=>{i(()=>{DJ(T)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Ae(this);return z(He,{key:"7ae559bda5d2c1856a45bfa150c2cb4f83373f8e",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return AJ}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),DJ=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},RJ=10,PJ=.5;function Fs(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,IJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OJ=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:clamp(13px, 0.875rem, 22px)}",LJ=OJ,MJ=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:0.875rem}",NJ=MJ,BJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.outline=!1,this.disabled=!1}render(){const e=Ae(this);return z(He,{key:"fa2e9a4837ef87a17ef10f388e8caa7f604d9145","aria-disabled":this.disabled?"true":null,class:wn(this.color,{[e]:!0,"chip-outline":this.outline,"chip-disabled":this.disabled,"ion-activatable":!0})},z("slot",{key:"3793fbd9d915cef7241fb101e2bc64c08b9ba482"}),e==="md"&&z("ion-ripple-effect",{key:"d3b95b53918611dec095a50f2aaaab65617947a4"}))}static get style(){return{ios:LJ,md:NJ}}},[33,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);function UJ(){if(typeof customElements>"u")return;["ion-chip","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-chip":customElements.get(e)||customElements.define(e,BJ);break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}const FJ=UJ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hv=typeof window<"u"?window:void 0;Hv&&(Hv.CSS&&Hv.CSS.supports&&Hv.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const L_=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VJ=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',$J=VJ,jJ=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ve(this,"ionScrollStart",7),this.ionScroll=ve(this,"ionScroll",7),this.ionScrollEnd=ve(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=wp(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,m0(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),m0(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=Ae(this);return e===void 0?n==="ios"&&Fo("ios"):e}resize(){this.fullscreen?hd(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,co(this))}readDimensions(){const e=HJ(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,co(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,hd(r=>{this.queued=!1,this.detail.event=e,qJ(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Pc(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Pc(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,n+r.scrollTop,i)}async scrollToPoint(e,n,i=0){const r=await this.getScrollElement();if(i<32){n!=null&&(r.scrollTop=n),e!=null&&(r.scrollLeft=e);return}let s,o=0;const a=new Promise(m=>s=m),l=r.scrollTop,c=r.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=m=>{const b=Math.min(1,(m-o)/i)-1,g=Math.pow(b,3)+1;u!==0&&(r.scrollTop=Math.floor(g*u+l)),d!==0&&(r.scrollLeft=Math.floor(g*d+c)),g<1?requestAnimationFrame(h):s()};return requestAnimationFrame(m=>{o=m,h(m)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:i,scrollX:r,scrollY:s,el:o}=this,a=L_(o)?"rtl":"ltr",l=Ae(this),c=this.shouldForceOverscroll(),u=l==="ios";return this.resize(),z(He,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:i?"main":void 0,class:wn(this.color,{[l]:!0,"content-sizing":mn("ion-popover",this.el),overscroll:c,["content-".concat(a)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),z("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:d=>this.backgroundContentEl=d,id:"background-content",part:"background"}),e==="before"?z("slot",{name:"fixed"}):null,z("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":r,"scroll-y":s,overscroll:(r||s)&&c},ref:d=>this.scrollEl=d,onScroll:this.scrollEvents?d=>this.onScroll(d):void 0,part:"scroll"},z("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),u?z("div",{class:"transition-effect"},z("div",{class:"transition-cover"}),z("div",{class:"transition-shadow"})):null,e==="after"?z("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return $J}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),zJ=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},HJ=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||zJ(t)},qJ=(t,e,n,i)=>{const r=t.currentX,s=t.currentY,o=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-o;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-r)/c,d=(l-s)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function qA(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,jJ);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GJ=qA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WJ=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',YJ=WJ,XJ=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',KJ=XJ,N9=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ve(this,"ionFocus",7),this.ionBlur=ve(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;this.type==="button"?kw(this.href,e,this.routerDirection,this.routerAnimation):cQ(n)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:n}=this;if(n!==null&&e.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=wp(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);return n?n instanceof HTMLFormElement?n:(ir('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(ir('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(ir('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=Ae(this),{buttonType:n,type:i,disabled:r,rel:s,target:o,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:m,inheritedAttributes:b}=this,g=a===void 0&&this.inItem?"small":a,w=l===void 0?"button":"a",y=w==="button"?{type:i}:{download:this.download,href:l,rel:s,target:o};let T=this.fill;return T==null&&(T=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),z(He,{key:"340a809d85698741bb36e796355cae89a970655f",onClick:this.handleClick,"aria-disabled":r?"true":null,class:wn(c,{[e]:!0,[n]:!0,["".concat(n,"-").concat(u)]:u!==void 0,["".concat(n,"-").concat(g)]:g!==void 0,["".concat(n,"-").concat(h)]:h!==void 0,["".concat(n,"-").concat(T)]:!0,["".concat(n,"-strong")]:m,"in-toolbar":mn("ion-toolbar",this.el),"in-toolbar-color":mn("ion-toolbar[color]",this.el),"in-buttons":mn("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},z(w,Object.assign({key:"03ae1b94a0d606aa65aa6f82c2fc76abcf3f1300"},y,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},b),z("span",{key:"90bf53d4ffcab88ee596ece7113d5b6409e61143",class:"button-inner"},z("slot",{key:"a7876695f0d8702e8bcb471ae4c0984f27d77458",name:"icon-only",onSlotchange:this.slotChanged}),z("slot",{key:"2c8551586f8726884d7797a6d3fee2d4b3aab35f",name:"start"}),z("slot",{key:"9ab07accdb22b08d0a463a7c821c9793507d1f7d"}),z("slot",{key:"8984afe177e6ba021435875a3798e2a64f3bdf2c",name:"end"})),e==="md"&&z("ion-ripple-effect",{key:"3e9f01e7a1198b6b7109502293a971da7072a4f3",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:YJ,md:KJ}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function B9(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,N9);break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const M_=()=>{if(wt!==void 0)return wt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Yk;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(Yk||(Yk={}));var B4;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(B4||(B4={}));const Iw={getEngine(){const t=M_();if(t!=null&&t.isPluginAvailable("Haptics"))return t.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=M_();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},impact(t){const e=this.getEngine();e&&e.impact({style:t.style})},notification(t){const e=this.getEngine();e&&e.notification({type:t.type})},selection(){this.impact({style:Yk.Light})},selectionStart(){const t=this.getEngine();t&&t.selectionStart()},selectionChanged(){const t=this.getEngine();t&&t.selectionChanged()},selectionEnd(){const t=this.getEngine();t&&t.selectionEnd()}},GA=()=>Iw.available(),QJ=()=>{GA()&&Iw.selectionStart()},ZJ=()=>{GA()&&Iw.selectionChanged()},JJ=()=>{GA()&&Iw.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ep=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(r=>i=r),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eee=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:e,height:n}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:n}},U9=(t,e,n)=>{const i=e.getBoundingClientRect(),r=i.height;let s=i.width;return t==="cover"&&n&&(s=n.getBoundingClientRect().width),{contentWidth:s,contentHeight:r}},tee=(t,e,n,i)=>{let r=[];const o=Ln(i).querySelector(".popover-content");switch(e){case"hover":r=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:r=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===t){a.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return r.forEach(({eventName:a,callback:l})=>o.addEventListener(a,l)),()=>{r.forEach(({eventName:a,callback:l})=>o.removeEventListener(a,l))}},nee=(t,e,n)=>{let i=[];switch(e){case"hover":let r;i=[{eventName:"mouseenter",callback:async s=>{s.stopPropagation(),r&&clearTimeout(r),r=setTimeout(()=>{di(()=>{n.presentFromTrigger(s),r=void 0})},100)}},{eventName:"mouseleave",callback:s=>{r&&clearTimeout(r);const o=s.relatedTarget;o&&o.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:s=>s.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:s=>n.presentFromTrigger(s,!0)}];break;case"context-menu":i=[{eventName:"contextmenu",callback:s=>{s.preventDefault(),n.presentFromTrigger(s)}},{eventName:"click",callback:s=>s.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:s=>n.presentFromTrigger(s,!0)}];break;case"click":default:i=[{eventName:"click",callback:s=>n.presentFromTrigger(s)},{eventName:"ionPopoverActivateTrigger",callback:s=>n.presentFromTrigger(s,!0)}];break}return i.forEach(({eventName:r,callback:s})=>t.addEventListener(r,s)),t.setAttribute("data-ion-popover-trigger","true"),()=>{i.forEach(({eventName:r,callback:s})=>t.removeEventListener(r,s)),t.removeAttribute("data-ion-popover-trigger")}},F9=(t,e)=>!e||e.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===e),iee=(t,e)=>{const n=F9(t,e);return t[n+1]},ree=(t,e)=>{const n=F9(t,e);return t[n-1]},qv=t=>{const n=Ln(t).querySelector("button");n&&di(()=>n.focus())},see=t=>t.hasAttribute("data-ion-popover-trigger"),oee=t=>{const e=async n=>{var i;const r=document.activeElement;let s=[];const o=(i=n.target)===null||i===void 0?void 0:i.tagName;if(!(o!=="ION-POPOVER"&&o!=="ION-ITEM")){try{s=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(a){}switch(n.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();const l=iee(s,r);l!==void 0&&qv(l);break;case"ArrowUp":n.preventDefault();const c=ree(s,r);c!==void 0&&qv(c);break;case"Home":n.preventDefault();const u=s[0];u!==void 0&&qv(u);break;case"End":n.preventDefault();const d=s[s.length-1];d!==void 0&&qv(d);break;case"ArrowRight":case" ":case"Enter":if(r&&see(r)){const h=new CustomEvent("ionPopoverActivateTrigger");r.dispatchEvent(h)}break}}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},V9=(t,e,n,i,r,s,o,a,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(s){case"event":if(!u)return l;const P=u;h={top:P.clientY,left:P.clientX,width:1,height:1};break;case"trigger":default:const B=u,O=c||((d=B==null?void 0:B.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(B==null?void 0:B.target);if(!O)return l;const A=O.getBoundingClientRect();h={top:A.top,left:A.left,width:A.width,height:A.height};break}const m=cee(o,h,e,n,i,r,t),b=uee(a,o,h,e,n),g=m.top+b.top,w=m.left+b.left,{arrowTop:y,arrowLeft:T}=lee(o,i,r,g,w,e,n,t),{originX:k,originY:D}=aee(o,a,t);return{top:g,left:w,referenceCoordinates:h,arrowTop:y,arrowLeft:T,originX:k,originY:D}},aee=(t,e,n)=>{switch(t){case"top":return{originX:U4(e),originY:"bottom"};case"bottom":return{originX:U4(e),originY:"top"};case"left":return{originX:"right",originY:Gv(e)};case"right":return{originX:"left",originY:Gv(e)};case"start":return{originX:n?"left":"right",originY:Gv(e)};case"end":return{originX:n?"right":"left",originY:Gv(e)}}},U4=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},Gv=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},lee=(t,e,n,i,r,s,o,a)=>{const l={arrowTop:i+o/2-e/2,arrowLeft:r+s-e/2},c={arrowTop:i+o/2-e/2,arrowLeft:r-e*1.5};switch(t){case"top":return{arrowTop:i+o,arrowLeft:r+s/2-e/2};case"bottom":return{arrowTop:i-n,arrowLeft:r+s/2-e/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},cee=(t,e,n,i,r,s,o)=>{const a={top:e.top,left:e.left-n-r},l={top:e.top,left:e.left+e.width+r};switch(t){case"top":return{top:e.top-i-s,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+s,left:e.left};case"left":return a;case"start":return o?l:a;case"end":return o?a:l}},uee=(t,e,n,i,r)=>{switch(t){case"center":return hee(e,n,i,r);case"end":return dee(e,n,i,r);case"start":default:return{top:0,left:0}}},dee=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-e.width)}}},hee=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-e.width/2)}}},$9=(t,e,n,i,r,s,o,a,l,c,u,d,h=0,m=0,b=0)=>{let g=h;const w=m;let y=n,T=e,k,D=c,P=u,B=!1,O=!1;const A=d?d.top+d.height:s/2-a/2,R=d?d.height:0;let L=!1;return y<i+l?(y=i,B=!0,D="left"):o+i+y+l>r&&(O=!0,y=r-o-i,D="right"),A+R+a>s&&(t==="top"||t==="bottom")&&(A-a>0?(T=Math.max(12,A-a-R-(b-1)),g=T+a,P="bottom",L=!0):k=i),{top:T,left:y,bottom:k,originX:D,originY:P,checkSafeAreaLeft:B,checkSafeAreaRight:O,arrowTop:g,arrowLeft:w,addPopoverBottomClass:L}},fee=(t,e=!1,n,i)=>!(!n&&!i||t!=="top"&&t!=="bottom"&&e),pee=5,mee=(t,e)=>{var n;const{event:i,size:r,trigger:s,reference:o,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,m=Ln(t),b=m.querySelector(".popover-content"),g=m.querySelector(".popover-arrow"),w=s||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:y,contentHeight:T}=U9(r,b,w),{arrowWidth:k,arrowHeight:D}=eee(g),P={top:h/2-T/2,left:d/2-y/2,originX:u?"right":"left",originY:"top"},B=V9(u,y,T,k,D,o,a,l,P,s,i),O=r==="cover"?0:pee,A=r==="cover"?0:25,{originX:R,originY:L,top:U,left:V,bottom:M,checkSafeAreaLeft:ae,checkSafeAreaRight:he,arrowTop:K,arrowLeft:fe,addPopoverBottomClass:ee}=$9(a,B.top,B.left,O,d,h,y,T,A,B.originX,B.originY,B.referenceCoordinates,B.arrowTop,B.arrowLeft,D),ne=Ie(),Y=Ie(),pe=Ie();return Y.addElement(m.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),pe.addElement(m.querySelector(".popover-arrow")).addElement(m.querySelector(".popover-content")).fromTo("opacity",.01,1),ne.easing("ease").duration(100).beforeAddWrite(()=>{r==="cover"&&t.style.setProperty("--width","".concat(y,"px")),ee&&t.classList.add("popover-bottom"),M!==void 0&&b.style.setProperty("bottom","".concat(M,"px"));const ge=" + var(--ion-safe-area-left, 0)",De=" - var(--ion-safe-area-right, 0)";let Ne="".concat(V,"px");if(ae&&(Ne="".concat(V,"px").concat(ge)),he&&(Ne="".concat(V,"px").concat(De)),b.style.setProperty("top","calc(".concat(U,"px + var(--offset-y, 0))")),b.style.setProperty("left","calc(".concat(Ne," + var(--offset-x, 0))")),b.style.setProperty("transform-origin","".concat(L," ").concat(R)),g!==null){const ue=B.top!==U||B.left!==V;fee(a,ue,i,s)?(g.style.setProperty("top","calc(".concat(K,"px + var(--offset-y, 0))")),g.style.setProperty("left","calc(".concat(fe,"px + var(--offset-x, 0))"))):g.style.setProperty("display","none")}}).addAnimation([Y,pe])},gee=t=>{const e=Ln(t),n=e.querySelector(".popover-content"),i=e.querySelector(".popover-arrow"),r=Ie(),s=Ie(),o=Ie();return s.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),i&&(i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("display"))}).duration(300).addAnimation([s,o])},bee=12,vee=(t,e)=>{var n;const{event:i,size:r,trigger:s,reference:o,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,m=Ln(t),b=m.querySelector(".popover-content"),g=s||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:w,contentHeight:y}=U9(r,b,g),T={top:h/2-y/2,left:d/2-w/2,originX:u?"right":"left",originY:"top"},k=V9(u,w,y,0,0,o,a,l,T,s,i),D=r==="cover"?0:bee,{originX:P,originY:B,top:O,left:A,bottom:R}=$9(a,k.top,k.left,D,d,h,w,y,0,k.originX,k.originY,k.referenceCoordinates),L=Ie(),U=Ie(),V=Ie(),M=Ie(),ae=Ie();return U.addElement(m.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),V.addElement(m.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),M.addElement(b).beforeStyles({top:"calc(".concat(O,"px + var(--offset-y, 0px))"),left:"calc(".concat(A,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(B," ").concat(P)}).beforeAddWrite(()=>{R!==void 0&&b.style.setProperty("bottom","".concat(R,"px"))}).fromTo("transform","scale(0.8)","scale(1)"),ae.addElement(m.querySelector(".popover-viewport")).fromTo("opacity",.01,1),L.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{r==="cover"&&t.style.setProperty("--width","".concat(w,"px")),B==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([U,V,M,ae])},yee=t=>{const e=Ln(t),n=e.querySelector(".popover-content"),i=Ie(),r=Ie(),s=Ie();return r.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([r,s])},_ee=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',xee=_ee,wee=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",Tee=wee,Eee=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ve(this,"ionPopoverDidPresent",7),this.willPresent=ve(this,"ionPopoverWillPresent",7),this.willDismiss=ve(this,"ionPopoverWillDismiss",7),this.didDismiss=ve(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ve(this,"didPresent",7),this.willPresentShorthand=ve(this,"willPresent",7),this.willDismissShorthand=ve(this,"willDismiss",7),this.didDismissShorthand=ve(this,"didDismiss",7),this.ionMount=ve(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=$A(),this.lockController=Ep(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,bd)},this.onLifecycle=e=>{const n=this.usersElement,i=See[e.type];if(n&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(r)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:n,el:i,destroyTriggerInteraction:r}=this;if(r&&r(),e===void 0)return;const s=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!s){ir('A trigger element with the ID "'.concat(e,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.'),this.el);return}this.destroyTriggerInteraction=nee(s,n,i)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:n}=this;e&&e(),this.destroyKeyboardInteraction=oee(n)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:n,triggerAction:i,triggerEl:r,el:s}=this;!n||!r||(e&&e(),this.destroyDismissInteraction=tee(r,i,s,n))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:n}=this;pb(n),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,n;const{el:i}=this,r=(n=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:mb(i);this.parentPopover=i.closest("ion-popover:not(#".concat(r,")")),this.alignment===void 0&&(this.alignment=Ae(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:n}=this;n===!0&&di(()=>this.present()),e&&g0(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}async presentFromTrigger(e,n=!1){this.focusDescendantOnPresent=n,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async present(e){const n=await this.lockController.lock();if(this.presented){n();return}const{el:i}=this,{inline:r,delegate:s}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await db(s,i,this.component,["popover-viewport"],this.componentProps,r),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),m0(i)?await b0(this.usersElement):this.keepContentsMounted||await y9(),await gb(this,"popoverEnter",mee,vee,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&Gk(i),n()}async dismiss(e,n,i=!0){const r=await this.lockController.lock(),{destroyKeyboardInteraction:s,destroyDismissInteraction:o}=this;i&&this.parentPopover&&this.parentPopover.dismiss(e,n,i);const a=await bb(this,e,n,"popoverLeave",gee,yee,this.event);if(a){s&&(s(),this.destroyKeyboardInteraction=void 0),o&&(o(),this.destroyDismissInteraction=void 0);const{delegate:l}=this.getDelegate();await VA(l,this.usersElement)}return r(),a}async getParentPopover(){return this.parentPopover}onDidDismiss(){return ia(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return ia(this.el,"ionPopoverWillDismiss")}render(){const e=Ae(this),{onLifecycle:n,parentPopover:i,dismissOnSelect:r,side:s,arrow:o,htmlAttributes:a,focusTrap:l}=this,c=Fo("desktop"),u=o&&!i;return z(He,Object.assign({key:"ffe8b37c9ffb5cac210a7307e6cdfcf78712905b","aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({},or(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":c,["popover-side-".concat(s)]:!0,[_0]:l===!1,"popover-nested":!!i}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!i&&z("ion-backdrop",{key:"12b3ffa3928b4d56a4f09c3d2f5d493d47b45255",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),z("div",{key:"2c2862d5c7e75b637973c712b4982bf4978c0cdf",class:"popover-wrapper ion-overlay-wrapper",onClick:r?()=>this.dismiss():void 0},u&&z("div",{key:"0cfacc52afaa7abc28c1b7742889d7a1c23a37ad",class:"popover-arrow",part:"arrow"}),z("div",{key:"3ef570c44d4fe7f063dd419008c92c8c40d3cd22",class:"popover-content",part:"content"},z("slot",{key:"6fc5dfdce20fee1642bc1f05d41b5bf7d1034457"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:xee,md:Tee}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),See={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function kee(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,Eee);break;case"ion-backdrop":customElements.get(e)||vb();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Cee="ION-CONTENT",j9="ion-content",z9=".ion-content-scroll-host",H9="".concat(j9,", ").concat(z9),Oc=t=>t.tagName===Cee,Xk=async t=>Oc(t)?(await new Promise(e=>Pc(t,e)),t.getScrollElement()):t,N_=t=>{const e=t.querySelector(z9);return e||t.querySelector(H9)},q9=t=>t.closest(H9),ZCe=(t,e)=>Oc(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),JCe=(t,e,n,i)=>Oc(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),B_=t=>aQ(t,j9),F4=t=>{if(Oc(t)){const e=t,n=e.scrollY;return e.scrollY=!1,n}else return t.style.setProperty("overflow","hidden"),!0},Aee=(t,e)=>{Oc(t)?t.scrollY=e:t.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Kk;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Kk||(Kk={}));var Qk;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(Qk||(Qk={}));const G9={getEngine(){const t=M_();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==Kk.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W9=t=>{if(Yo===void 0||t===Qk.None||t===void 0)return null;const e=Yo.querySelector("ion-app");return e!=null?e:Yo.body},V4=t=>{const e=W9(t);return e===null?0:e.clientHeight},Y9=async t=>{let e,n,i,r;const s=async()=>{const u=await G9.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=V4(d)),i=!0,o(i,d)},n=()=>{i=!1,o(i,d)},wt==null||wt.addEventListener("keyboardWillShow",e),wt==null||wt.addEventListener("keyboardWillHide",n)},o=(u,d)=>{t&&t(u,a(d))},a=u=>{if(r===0||r===V4(u))return;const d=W9(u);if(d!==null)return new Promise(h=>{const m=()=>{d.clientHeight===r&&(b.disconnect(),h())},b=new ResizeObserver(m);b.observe(d)})},l=()=>{wt==null||wt.removeEventListener("keyboardWillShow",e),wt==null||wt.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await s(),{init:s,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $4=(t,e)=>{hd(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,r=10,s=i-r,o=n-s,a=md(0,1-o/r,1);Lr(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},Iee="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",Dee=Iee,Ree="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",Pee=Ree,Oee=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(Ae(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=r?N_(r):null;if(!s){B_(this.el);return}this.setupFadeFooter(s)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await Xk(e);this.contentScrollCallback=()=>{$4(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),$4(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await Y9(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=Ae(this),r=this.el.closest("ion-tabs"),s=r==null?void 0:r.querySelector(":scope > ion-tab-bar");return z(He,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[i]:!0,["footer-".concat(i)]:!0,"footer-translucent":e,["footer-translucent-".concat(i)]:e,"footer-toolbar-padding":!this.keyboardVisible&&(!s||s.slot!=="bottom"),["footer-collapse-".concat(n)]:n!==void 0}},i==="ios"&&e&&z("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),z("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:Dee,md:Pee}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function Lee(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,Oee);break}})}const Mee=Lee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nee="all 0.2s ease-in-out",j4=t=>{const e=document.querySelector("".concat(t,".ion-cloned-element"));if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},z4=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},Bee=(t,e,n)=>{hd(()=>{const i=t.scrollTop,r=md(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Lr(()=>{Vee(e.toolbars,r)})})},WA=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},Uee=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;WA(e.el,i===1?void 0:i)},Fee=(t,e,n,i)=>{Lr(()=>{const r=i.scrollTop;Uee(t,e,r);const s=t[0],o=s.intersectionRect,a=o.width*o.height,l=s.rootBounds.width*s.rootBounds.height,c=a===0&&l===0,u=Math.abs(o.left-s.boundingClientRect.left),d=Math.abs(o.right-s.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(s.isIntersecting?(Qm(e,!1),Qm(n)):(o.x===0&&o.y===0||o.width!==0&&o.height!==0)&&r>0&&(Qm(e),Qm(n,!1),WA(e.el)))})},Qm=(t,e=!0)=>{const n=t.el,r=t.toolbars.map(s=>s.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),r.forEach(s=>{s&&s.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),r.forEach(s=>{s&&s.setAttribute("aria-hidden","true")}))},Vee=(t=[],e=1,n=!1)=>{t.forEach(i=>{const r=i.ionTitleEl,s=i.innerTitleEl;!r||r.size!=="large"||(s.style.transition=n?Nee:"",s.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},H4=(t,e,n)=>{hd(()=>{const i=t.scrollTop,r=e.clientHeight,s=n?n.clientHeight:0;if(n!==null&&i<s){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path","inset(".concat(r,"px 0px 0px 0px)"));return}const o=i-s,l=md(0,o/10,1);Lr(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},$ee="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",jee=$ee,zee="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",Hee=zee,qee=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await Xk(e);this.contentScrollCallback=()=>{H4(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),H4(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=wp(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Ae(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",r=n==="fade";if(this.destroyCollapsibleHeader(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?N_(s):null;Lr(()=>{const a=j4("ion-title");a.size="large",j4("ion-back-button")}),await this.setupCondenseHeader(o,s)}else if(r){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?N_(s):null;if(!o){B_(this.el);return}const a=o.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(o,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){B_(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Xk(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=z4(this.collapsibleMainHeader),s=z4(this.el);if(!r||!s)return;Qm(r,!1),WA(r.el,0);const o=a=>{Fee(a,r,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(o,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{Bee(this.scrollEl,s,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Lr(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=Ae(this),r=this.collapse||"none",s=mn("ion-menu",this.el)?"none":"banner";return z(He,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:s,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(r)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&e&&z("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),z("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:jee,md:Hee}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function YA(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,qee);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gee=YA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wee=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",Yee=Wee,Xee=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ve(this,"ionImgWillLoad",7),this.ionImgDidLoad=ve(this,"ionImgDidLoad",7),this.ionError=ve(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=yl(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:i,loadError:r,inheritedAttributes:s}=this,{draggable:o}=s;return z(He,{key:"da600442894427dee1974a28e545613afac69fca",class:Ae(this)},z("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:n,onLoad:i,onError:r,part:"image",draggable:Kee(o)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return Yee}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),Kee=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function Qee(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,Xee);break}})}const Zee=Qee;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jee={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i="".concat(t*e/n-t,"ms"),r=2*Math.PI*e/n;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,r="".concat(t*i-t,"ms"),s=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(s),"%"),left:"".concat(32*Math.cos(s),"%"),"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>{const n=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},q4=Jee,ete=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",tte=ete,nte=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||Ke.get("spinner"),n=Ae(this);return e||(n==="ios"?"lines":"circular")}render(){var e;const n=this,i=Ae(n),r=n.getName(),s=(e=q4[r])!==null&&e!==void 0?e:q4.lines,o=typeof n.duration=="number"&&n.duration>10?n.duration:s.dur,a=[];if(s.circles!==void 0)for(let l=0;l<s.circles;l++)a.push(ite(s,o,l,s.circles));else if(s.lines!==void 0)for(let l=0;l<s.lines;l++)a.push(rte(s,o,l,s.lines));return z(He,{key:"9d30ee9f5aa0dd0e220da07e75d05b8b2435224d",class:wn(n.color,{[i]:!0,["spinner-".concat(r)]:!0,"spinner-paused":n.paused||Ke.getBoolean("_testing")}),role:"progressbar",style:s.elmDuration?{animationDuration:o+"ms"}:{}},a)}static get style(){return tte}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),ite=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",z("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},z("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},rte=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",z("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},z("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function ste(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,nte);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X9=(t,e,n)=>{let i;const r=()=>!(e()===void 0||t.label!==void 0||n()===null),s=()=>{r()&&di(()=>{o()})},o=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&wt!==void 0&&"IntersectionObserver"in wt){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(o(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:s,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ote=(t,e,n)=>{let i,r;if(wt!==void 0&&"MutationObserver"in wt){const l=Array.isArray(e)?e:[e];i=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){n(),di(()=>s(d));return}}),i.observe(t,{childList:!0,subtree:!0})}const s=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},o=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:o}},ate=(t,e,n)=>{const i=t==null?0:t.toString().length,r=lte(i,e);if(n===void 0)return r;try{return n(i,e)}catch(s){return oQ("Exception in provided `counterFormatter`.",s),r}},lte=(t,e)=>"".concat(t," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cte=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",ute=cte,dte=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",hte=dte,fte=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.ionInput=ve(this,"ionInput",7),this.ionChange=ve(this,"ionChange",7),this.ionBlur=ve(this,"ionBlur",7),this.ionFocus=ve(this,"ionFocus",7),this.inputId="ion-input-".concat(pte++),this.helperTextId="".concat(this.inputId,"-helper-text"),this.errorTextId="".concat(this.inputId,"-error-text"),this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:uQ(e,n)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},wp(this.el)),yl(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=ote(e,["label","start","end"],()=>co(this)),this.notchController=X9(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Pc(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n,helperTextId:i,errorTextId:r}=this;return[z("div",{id:i,class:"helper-text"},e),z("div",{id:r,class:"error-text"},n)]}getHintTextID(){const{el:e,helperText:n,errorText:i,helperTextId:r,errorTextId:s}=this;if(e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&i)return s;if(n)return r}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:r}=this;if(!(e!==!0||n===void 0))return z("div",{class:"counter"},ate(r,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:r}=this;if(!(!(n||i)&&!(e===!0&&r!==void 0)))return z("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return z("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?z("slot",{name:"label"}):z("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Ae(this)==="md"&&this.fill==="outline"?[z("div",{class:"input-outline-container"},z("div",{class:"input-outline-start"}),z("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},z("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),z("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:n,readonly:i,shape:r,inputId:s,labelPlacement:o,el:a,hasFocus:l,clearInputIcon:c}=this,u=Ae(this),d=this.getValue(),h=mn("ion-item",this.el),m=u==="md"&&n!=="outline"&&!h,b=u==="ios"?fZ:pZ,g=c!=null?c:b,w=this.hasValue(),y=a.querySelector('[slot="start"], [slot="end"]')!==null,T=o==="stacked"||o==="floating"&&(w||l||y);return z(He,{key:"54b5662d9a7f011a85e4119650c92b9af275bf96",class:wn(this.color,{[u]:!0,"has-value":w,"has-focus":l,"label-floating":T,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(r)]:r!==void 0,["input-label-placement-".concat(o)]:!0,"in-item":h,"in-item-color":mn("ion-item.ion-color",this.el),"input-disabled":e})},z("label",{key:"551cf8a932af3275689ecf32988b84355404e8f1",class:"input-wrapper",htmlFor:s},this.renderLabelContainer(),z("div",{key:"b3601dca7e0f23517748f6e7feb899c953355bc4",class:"native-wrapper"},z("slot",{key:"d687a9bb4c5778cfee35ce1b8d6d16ddc8eca768",name:"start"}),z("input",Object.assign({key:"ab927e84e43bedf8b7827bb743888a1778292deb",class:"native-input",ref:k=>this.nativeInput=k,id:s,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!i&&!e&&z("button",{key:"0d2ee3f7e69cee75f071f37b2e9bc174572c5a01","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:k=>{k.preventDefault()},onFocusin:k=>{k.stopPropagation()},onClick:this.clearTextInput},z("ion-icon",{key:"c7715111897f43839c10d38662616edb662cd49b","aria-hidden":"true",icon:g})),z("slot",{key:"afc44cbe1ad50f17942d5297a12509abecbd6ecd",name:"end"})),m&&z("div",{key:"ee3af32cd9003d497f33e352e56313d43295f3a9",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}}static get style(){return{ios:ute,md:hte}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}]);let pte=0;function mte(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,fte);break;case"ion-icon":customElements.get(e)||Jc();break}})}const gte=mte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bte=(t,e,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(r=>{n(vte(r,e))});return i.observe(t,{childList:!0,subtree:!0}),i},vte=(t,e)=>{let n;return t.forEach(i=>{for(let r=0;r<i.addedNodes.length;r++)n=yte(i.addedNodes[r],e)||n}),n},yte=(t,e)=>{if(t.nodeType!==1)return;const n=t;return(n.tagName===e.toUpperCase()?[n]:Array.from(n.querySelectorAll(e))).find(r=>r.value===n.value)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _te=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",xte=_te,wte=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",Tte=wte,Ete=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.ionColor=ve(this,"ionColor",7),this.ionStyle=ve(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const e=this.position,n=Ae(this);return z(He,{key:"6353a70565ef6fbbbf4042b000e536c61bcf99a9",class:wn(this.color,{[n]:!0,"in-item-color":mn("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},z("slot",{key:"6ef9c2758c0168442aa84941af0a6cec1ef1ec21"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:xte,md:Tte}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function XA(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,Ete);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ste=XA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kte="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",Cte=kte,Ate="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",Ite=Ate,Dte=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=Ae(this),{lines:n,inset:i}=this;return z(He,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(n)]:n!==void 0,["list-".concat(e,"-lines-").concat(n)]:n!==void 0}})}get el(){return this}static get style(){return{ios:Cte,md:Ite}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function Dw(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,Dte);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rte=Dw;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pte=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",Ote=Pte,Lte=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",Mte=Lte,Nte=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=Ae(this);return z(He,{key:"fb78bd8601cbd7b90ec84a96e0c8325be1132b1e",class:wn(this.color,{[n]:!0,["list-header-lines-".concat(e)]:e!==void 0})},z("div",{key:"2580ad49f3a54973e15f14d645a1e55a6fa066ac",class:"list-header-inner"},z("slot",{key:"677b2e2ec8eeb3ae6ad329e86c76451cf3ae6c2f"})))}static get style(){return{ios:Ote,md:Mte}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function KA(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,Nte);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bte=KA,K9=1,Q9=2,U_=3;class Zk{constructor(e,n){this.component=e,this.params=n,this.state=K9}async init(e){if(this.state=Q9,!this.element){const n=this.component;this.element=await db(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){br(this.state!==U_,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=U_}}const G4=(t,e,n)=>!t||t.component!==e?!1:d9(t.params,n),W4=(t,e)=>t?t instanceof Zk?t:new Zk(t,e):null,Ute=t=>t.map(e=>e instanceof Zk?e:"component"in e?W4(e.component,e.componentProps===null?void 0:e.componentProps):W4(e,void 0)).filter(e=>e!==null),Fte=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Vte=Fte,$te=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ve(this,"ionNavWillLoad",7),this.ionNavWillChange=ve(this,"ionNavWillChange",3),this.ionNavDidChange=ve(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Ae(this);this.swipeGesture=Ke.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await xi(()=>import("./swipe-back-BGoC_k_y.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ua(e.element,SE),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,r){return this.insert(-1,e,n,i,r)}insert(e,n,i,r,s){return this.insertPages(e,[{component:n,componentProps:i}],r,s)}insertPages(e,n,i,r){return this.queueTrns({insertStart:e,insertViews:n,opts:i},r)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const r={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,r){return this.queueTrns({removeStart:e,removeCount:n,opts:i},r)}setRoot(e,n,i,r){return this.setPages([{component:e,componentProps:n}],i,r)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,r){const s=this.getActiveSync();if(G4(s,e,n))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(u=>o=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(m=>d=m);return o({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>G4(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===K9&&await i.init(this.el),this.postViewInit(i,n,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;r&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let s;r?s=await this.transition(i,n,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,r;const s=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){br(e.removeStart!==void 0,"removeView needs removeStart"),br(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;br(o.length>0,"length can not be zero");const a=Ute(o);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===U_)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const s=this.views,o=r+e.removeCount;for(let a=s.length-1;a>=0;a--){const l=s[a];if((a<r||a>=o)&&l!==n)return l}}}postViewInit(e,n,i){var r,s,o;br(n||e,"Both leavingView and enteringView are null"),br(i.resolve,"resolve must be valid"),br(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){br(c>=0,"removeStart can not be negative"),br(u>=0,"removeCount can not be negative"),d=[];for(let m=c;m<c+u;m++){const b=this.views[m];b!==void 0&&b!==e&&b!==n&&d.push(b)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((s=l==null?void 0:l.length)!==null&&s!==void 0?s:0)-(u!=null?u:0);if(br(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let m=i.insertStart;for(const b of l)this.insertViewAt(b,m),m++;i.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const m of d)Ua(m.element,h9),Ua(m.element,f9),Ua(m.element,SE);for(const m of d)this.destroyView(m)}}async transition(e,n,i){const r=i.opts,s=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,o=Ae(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&Ke.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||Ke.get("navAnimation")}),{hasCompleted:u}=await m9(c);return this.transitionFinish(u,e,n,r)}transitionFinish(e,n,i,r){const s=e?n:i;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:r.direction}}insertViewAt(e,n){const i=this.views,r=i.indexOf(e);r>-1?(br(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(n,0,e)):(br(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){br(e.state===Q9||e.state===U_,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);br(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let r=n.length-1;r>=0;r--){const s=n[r],o=s.element;o&&(r>i?(Ua(o,SE),this.destroyView(s)):r<i&&zk(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=Uf([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Uf([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return z("slot",{key:"dfe98cb6604a2015a49f41beffebdd2da957dfff"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return Vte}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function jte(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,$te);break}})}const zte=jte;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jk=(t,e,n)=>typeof n=="function"?n(t,e):typeof n=="string"?t[n]===e[n]:Array.isArray(e)?e.includes(t):t===e,Ay=(t,e,n)=>t===void 0?!1:Array.isArray(t)?t.some(i=>Jk(i,e,n)):Jk(t,e,n),Hte=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',qte=Hte,Gte=':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}',Wte=Gte,Yte=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ve(this,"ionFocus",7),this.ionBlur=ve(this,"ionBlur",7),this.inputId="ion-rb-".concat(Xte++),this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:n}=this.radioGroup;this.checked=Ay(n,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:n,disabled:i}=this;i||(n&&(e!=null&&e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){e!==void 0&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),g0(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(I_(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return z("div",{class:"radio-icon",part:"container"},z("div",{class:"radio-inner",part:"mark"}),z("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:n,color:i,el:r,justify:s,labelPlacement:o,hasLabel:a,buttonTabindex:l,alignment:c}=this,u=Ae(this),d=mn("ion-item",r);return z(He,{key:"5a0adab55ad009305de4856fa1b9f93f2279a734",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:wn(i,{[u]:!0,"in-item":d,"radio-checked":e,"radio-disabled":n,["radio-justify-".concat(s)]:s!==void 0,["radio-alignment-".concat(c)]:c!==void 0,["radio-label-placement-".concat(o)]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":n?"true":null,tabindex:l},z("label",{key:"f5673a798e6d87868339f046445f707e1d93b7b6",class:"radio-wrapper"},z("div",{key:"e9190c06f75a171cab63e3f74ccf771c3ed87005",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!a},part:"label"},z("slot",{key:"6cedf4e7b3bd03e4a635727dd7b6094bab64af64"})),z("div",{key:"26dd48d9d2848b7f100b732abdc4a3171adde483",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:qte,md:Wte}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);let Xte=0;function QA(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,Yte);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kte=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.ionChange=ve(this,"ionChange",7),this.ionValueChange=ve(this,"ionValueChange",7),this.inputId="ion-rg-".concat(Qte++),this.labelId="".concat(this.inputId,"-lbl"),this.setRadioTabindex=e=>{const n=this.getRadios(),i=n.find(o=>!o.disabled),r=n.find(o=>o.value===e&&!o.disabled);if(!i&&!r)return;const s=r||i;for(const o of n){const a=o===s?0:-1;o.setButtonTabindex(a)}},this.onClick=e=>{e.preventDefault();const n=e.target&&e.target.closest("ion-radio");if(n&&!n.disabled){const i=this.value,r=n.value;r!==i?(this.value=r,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const n=this.label=e.querySelector("ion-label");n&&(this.labelId=n.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:n}=this;this.ionChange.emit({value:n,event:e})}onKeydown(e){const n=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const i=this.getRadios().filter(r=>!r.disabled);if(e.target&&i.includes(e.target)){const r=i.findIndex(a=>a===e.target),s=i[r];let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=r===i.length-1?i[0]:i[r+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=r===0?i[i.length-1]:i[r-1]),o&&i.includes(o)&&(o.setFocus(e),n||(this.value=o.value,this.emitValueChange(e))),[" "].includes(e.key)){const a=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:s.value,(a!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find(n=>n.tabIndex!==-1);e==null||e.setFocus()}render(){const{label:e,labelId:n,el:i,name:r,value:s}=this,o=Ae(this);return FA(!0,i,r,s,!1),z(He,{key:"a853e38901f0f4ba17bbf21ebb5da5b5c20b327e",role:"radiogroup","aria-labelledby":e?n:null,onClick:this.onClick,class:o})}get el(){return this}static get watchers(){return{value:["valueChanged"]}}},[0,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let Qte=0;function ZA(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,Kte);break}})}const Zte=":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:grid;grid-auto-columns:1fr;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto;grid-auto-columns:minmax(-webkit-min-content, 1fr);grid-auto-columns:minmax(min-content, 1fr)}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.065);border-radius:8px;overflow:hidden;z-index:0}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.065)}:host(.in-toolbar){-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;width:auto}:host(.in-toolbar:not(.ion-color)){background:var(--ion-toolbar-segment-background, var(--background))}:host(.in-toolbar-color:not(.ion-color)){background:rgba(var(--ion-color-contrast-rgb), 0.11)}",Jte=Zte,ene=":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:grid;grid-auto-columns:1fr;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto;grid-auto-columns:minmax(-webkit-min-content, 1fr);grid-auto-columns:minmax(min-content, 1fr)}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:transparent;grid-auto-columns:minmax(auto, 360px)}:host(.in-toolbar){min-height:var(--min-height)}:host(.segment-scrollable) ::slotted(ion-segment-button){min-width:auto}",tne=ene,nne=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ve(this,"ionChange",7),this.ionSelect=ve(this,"ionSelect",7),this.ionStyle=ve(this,"ionStyle",7),this.segmentViewEl=null,this.onClick=e=>{const n=e.target,i=this.checked;n.tagName!=="ION-SEGMENT"&&(this.value=n.value,n!==i&&this.emitValueChange(),this.segmentViewEl?(this.updateSegmentView(),this.scrollable&&i&&this.checkButton(i,n)):(this.scrollable||!this.swipeGesture)&&(i?this.checkButton(i,n):this.setCheckedClasses()))},this.onSlottedItemsChange=()=>{this.valueChanged(this.value)},this.getSegmentButton=e=>{var n,i;const r=this.getButtons().filter(o=>!o.disabled),s=r.findIndex(o=>o===document.activeElement);switch(e){case"first":return r[0];case"last":return r[r.length-1];case"next":return(n=r[s+1])!==null&&n!==void 0?n:r[0];case"previous":return(i=r[s-1])!==null&&i!==void 0?i:r[r.length-1];default:return null}},this.activated=!1,this.color=void 0,this.disabled=!1,this.scrollable=!1,this.swipeGesture=!0,this.value=void 0,this.selectOnFocus=!1}colorChanged(e,n){(n===void 0&&e!==void 0||n!==void 0&&e===void 0)&&this.emitStyle()}swipeGestureChanged(){this.gestureChanged()}valueChanged(e,n){if(this.segmentViewEl&&e===void 0){this.value=this.getButtons()[0].value;return}if(n!==void 0&&e!==void 0){const i=this.getButtons(),r=i.find(o=>o.value===n),s=i.find(o=>o.value===e);r&&s&&(this.segmentViewEl?this.triggerScrollOnValueChange!==!1&&this.updateSegmentView():this.checkButton(r,s))}else e!==void 0&&n===void 0&&this.segmentViewEl&&this.updateSegmentView();this.ionSelect.emit({value:e}),this.segmentViewEl||this.scrollActiveButtonIntoView(),this.triggerScrollOnValueChange=void 0}disabledChanged(){if(this.gestureChanged(),this.segmentViewEl)this.segmentViewEl.disabled=this.disabled;else{const e=this.getButtons();for(const n of e)n.disabled=this.disabled}}gestureChanged(){this.gesture&&this.gesture.enable(!this.scrollable&&!this.disabled&&this.swipeGesture)}connectedCallback(){this.emitStyle(),this.segmentViewEl=this.getSegmentView()}disconnectedCallback(){this.segmentViewEl=null}componentWillLoad(){this.emitStyle()}async componentDidLoad(){this.segmentViewEl=this.getSegmentView(),this.setCheckedClasses(),di(()=>{this.scrollActiveButtonIntoView(!1)}),this.gesture=(await xi(()=>Promise.resolve().then(()=>NQ),void 0)).createGesture({el:this.el,gestureName:"segment",gesturePriority:100,threshold:0,passive:!1,onStart:e=>this.onStart(e),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.gestureChanged(),this.disabled&&this.disabledChanged(),this.updateSegmentView(!1)}onStart(e){this.valueBeforeGesture=this.value,this.activate(e)}onMove(e){this.setNextIndex(e)}onEnd(e){this.setActivated(!1),this.setNextIndex(e,!0),e.event.stopImmediatePropagation();const n=this.value;n!==void 0&&this.valueBeforeGesture!==n&&(this.emitValueChange(),this.updateSegmentView()),this.valueBeforeGesture=void 0}emitValueChange(){const{value:e}=this;this.ionChange.emit({value:e})}getButtons(){return Array.from(this.el.querySelectorAll("ion-segment-button"))}get checked(){return this.getButtons().find(e=>e.value===this.value)}setActivated(e){this.getButtons().forEach(i=>{i.classList.toggle("segment-button-activated",e)}),this.activated=e}activate(e){const n=e.event.target,r=this.getButtons().find(s=>s.value===this.value);n.tagName==="ION-SEGMENT-BUTTON"&&(r||(this.value=n.value,this.setCheckedClasses()),this.value===n.value&&this.setActivated(!0))}getIndicator(e){return(e.shadowRoot||e).querySelector(".segment-button-indicator")}checkButton(e,n){const i=this.getIndicator(e),r=this.getIndicator(n);if(i===null||r===null)return;const s=i.getBoundingClientRect(),o=r.getBoundingClientRect(),a=s.width/o.width,l=s.left-o.left,c="translate3d(".concat(l,"px, 0, 0) scaleX(").concat(a,")");Lr(()=>{r.classList.remove("segment-button-indicator-animated"),r.style.setProperty("transform",c),r.getBoundingClientRect(),r.classList.add("segment-button-indicator-animated"),r.style.setProperty("transform",""),this.scrollActiveButtonIntoView(!0)}),this.value=n.value,this.setCheckedClasses()}setCheckedClasses(){const e=this.getButtons(),i=e.findIndex(r=>r.value===this.value)+1;for(const r of e)r.classList.remove("segment-button-after-checked");i<e.length&&e[i].classList.add("segment-button-after-checked")}getSegmentView(){const n=this.getButtons().find(r=>r.contentId),i=document.querySelector('ion-segment-content[id="'.concat(n==null?void 0:n.contentId,'"]'));return i==null?void 0:i.closest("ion-segment-view")}handleSegmentViewScroll(e){const{scrollRatio:n,isManualScroll:i}=e.detail;if(!i)return;const r=e.target,s=this.segmentViewEl,o=this.el;if(e.composedPath().includes(s)||r!=null&&r.contains(o)){const a=this.getButtons();if(!a.length)return;const l=a.findIndex(d=>d.value===this.value),c=a[l],u=Math.round(n*(a.length-1));(this.lastNextIndex===void 0||this.lastNextIndex!==u)&&(this.lastNextIndex=u,this.triggerScrollOnValueChange=!1,this.checkButton(c,a[u]),this.emitValueChange())}}updateSegmentView(e=!0){const i=this.getButtons().find(s=>s.value===this.value);if(!(i!=null&&i.contentId))return;const r=this.segmentViewEl;r&&r.setContent(i.contentId,e)}scrollActiveButtonIntoView(e=!0){const{scrollable:n,value:i,el:r}=this;if(n){const o=this.getButtons().find(a=>a.value===i);if(o!==void 0){const a=r.getBoundingClientRect(),l=o.getBoundingClientRect(),u=l.x-a.x-a.width/2+l.width/2,d=r.scrollLeft+u;r.scrollTo({top:0,left:d,behavior:e?"smooth":"instant"})}}}setNextIndex(e,n=!1){const i=L_(this.el),r=this.activated,s=this.getButtons(),o=s.findIndex(k=>k.value===this.value),a=s[o];let l,c;if(o===-1)return;const u=a.getBoundingClientRect(),d=u.left,h=u.width,m=e.currentX,b=u.top+u.height/2,w=this.el.getRootNode().elementFromPoint(m,b),y=i?m>d+h:m<d,T=i?m<d:m>d+h;if(r&&!n){if(y){const k=o-1;k>=0&&(c=k)}else if(T&&r&&!n){const k=o+1;k<s.length&&(c=k)}c!==void 0&&!s[c].disabled&&(l=s[c])}if(!r&&n&&(l=w),l!=null){if(l.tagName==="ION-SEGMENT")return!1;a!==l&&this.checkButton(a,l)}return!0}emitStyle(){this.ionStyle.emit({segment:!0})}onKeyDown(e){const n=L_(this.el);let i=this.selectOnFocus,r;switch(e.key){case"ArrowRight":e.preventDefault(),r=n?this.getSegmentButton("previous"):this.getSegmentButton("next");break;case"ArrowLeft":e.preventDefault(),r=n?this.getSegmentButton("next"):this.getSegmentButton("previous");break;case"Home":e.preventDefault(),r=this.getSegmentButton("first");break;case"End":e.preventDefault(),r=this.getSegmentButton("last");break;case" ":case"Enter":e.preventDefault(),r=document.activeElement,i=!0}if(r){if(i){const s=this.checked;this.checkButton(s||r,r),r!==s&&this.emitValueChange()}r.setFocus()}}render(){const e=Ae(this);return z(He,{key:"b1eb4a6e4f953f6c4882395585799503735bbc6b",role:"tablist",onClick:this.onClick,class:wn(this.color,{[e]:!0,"in-toolbar":mn("ion-toolbar",this.el),"in-toolbar-color":mn("ion-toolbar[color]",this.el),"segment-activated":this.activated,"segment-disabled":this.disabled,"segment-scrollable":this.scrollable})},z("slot",{key:"e7df6b017d154f30eb8021bc965f2e6c8e6480bf",onSlotchange:this.onSlottedItemsChange}))}get el(){return this}static get watchers(){return{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}}static get style(){return{ios:Jte,md:tne}}},[33,"ion-segment",{color:[513],disabled:[4],scrollable:[4],swipeGesture:[4,"swipe-gesture"],value:[1032],selectOnFocus:[4,"select-on-focus"],activated:[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}]);function ine(){if(typeof customElements>"u")return;["ion-segment"].forEach(e=>{switch(e){case"ion-segment":customElements.get(e)||customElements.define(e,nne);break}})}const rne=ine;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sne=':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;grid-row:1;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;line-height:22px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:none;--background-hover-opacity:0;--background-focused:none;--background-focused-opacity:0;--border-radius:7px;--border-width:1px;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--border-style:solid;--indicator-box-shadow:0 0 5px rgba(0, 0, 0, 0.16);--indicator-color:var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff)));--indicator-height:100%;--indicator-transition:transform 260ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--transition:100ms all linear;--padding-top:0;--padding-end:13px;--padding-bottom:0;--padding-start:13px;margin-top:2px;margin-bottom:2px;position:relative;-ms-flex-direction:row;flex-direction:row;min-width:70px;min-height:28px;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);font-size:13px;font-weight:450;line-height:37px}:host::before{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;-webkit-transition:160ms opacity ease-in-out;transition:160ms opacity ease-in-out;-webkit-transition-delay:100ms;transition-delay:100ms;border-left:var(--border-width) var(--border-style) var(--border-color);content:"";opacity:1;will-change:opacity}:host(:first-of-type)::before{border-left-color:transparent}:host(.segment-button-disabled){opacity:0.3}::slotted(ion-icon){font-size:24px}:host(.segment-button-layout-icon-start) ::slotted(ion-label){-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:0;margin-inline-end:0}:host(.segment-button-layout-icon-end) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:2px;margin-inline-end:2px}.segment-button-indicator{-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;left:0;right:0;top:0;bottom:0}.segment-button-indicator-background{border-radius:var(--border-radius);background:var(--indicator-color)}.segment-button-indicator-background{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked)::before,:host(.segment-button-after-checked)::before{opacity:0}:host(.segment-button-checked){z-index:-1}:host(.segment-button-activated){--indicator-transform:scale(0.95)}:host(.ion-focused) .button-native{opacity:0.7}@media (any-hover: hover){:host(:hover) .button-native{opacity:0.5}:host(.segment-button-checked:hover) .button-native{opacity:1}}:host(.in-segment-color){background:none;color:var(--ion-text-color, #000)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff)))}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native,:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-text-color, #000)}}:host(.in-toolbar:not(.in-segment-color)){--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, var(--ion-toolbar-color), initial);--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-toolbar-color), initial);--indicator-color:var(--ion-toolbar-segment-indicator-color, var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff))))}:host(.in-toolbar-color) .segment-button-indicator-background{background:var(--ion-color-contrast)}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color):hover) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color):hover) .button-native{color:var(--ion-color-base)}}',one=sne,ane=':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;grid-row:1;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;line-height:22px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:var(--color-checked);--background-focused:var(--color-checked);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--indicator-box-shadow:none;--indicator-color:var(--color-checked);--indicator-height:2px;--indicator-transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--padding-top:0;--padding-end:16px;--padding-bottom:0;--padding-start:16px;--transition:color 0.15s linear 0s, opacity 0.15s linear 0s;min-width:90px;min-height:48px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);font-size:14px;font-weight:500;letter-spacing:0.06em;line-height:40px;text-transform:uppercase}:host(.segment-button-disabled){opacity:0.3}:host(.in-segment-color){background:none;color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color) ion-ripple-effect{color:var(--ion-color-base)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked) .button-native{color:var(--ion-color-base)}:host(.in-segment-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color:hover) .button-native::after{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-segment-color)){--background:var(--ion-toolbar-segment-background, none);--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6));--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-color-primary, #0054e9));--indicator-color:var(--ion-toolbar-segment-color-checked, var(--color-checked))}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:rgba(var(--ion-color-contrast-rgb), 0.6)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color)) .button-native::after{background:var(--ion-color-contrast)}}::slotted(ion-icon){margin-top:12px;margin-bottom:12px;font-size:24px}::slotted(ion-label){margin-top:12px;margin-bottom:12px}:host(.segment-button-layout-icon-top) ::slotted(ion-label),:host(.segment-button-layout-icon-bottom) ::slotted(ion-icon){margin-top:0}:host(.segment-button-layout-icon-top) ::slotted(ion-icon),:host(.segment-button-layout-icon-bottom) ::slotted(ion-label){margin-bottom:0}:host(.segment-button-layout-icon-start) ::slotted(ion-label){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:0;margin-inline-end:0}:host(.segment-button-layout-icon-end) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}:host(.segment-button-has-icon-only) ::slotted(ion-icon){margin-top:12px;margin-bottom:12px}:host(.segment-button-has-label-only) ::slotted(ion-label){margin-top:12px;margin-bottom:12px}.segment-button-indicator{left:0;right:0;bottom:0}.segment-button-indicator-background{background:var(--indicator-color)}:host(.in-toolbar:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-toolbar-segment-indicator-color, var(--indicator-color))}:host(.in-toolbar-color:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-color-contrast)}',lne=ane;let cne=0;const une=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.segmentEl=null,this.inheritedAttributes={},this.updateStyle=()=>{co(this)},this.updateState=()=>{const{segmentEl:e}=this;e&&(this.checked=e.value===this.value,e.disabled&&(this.disabled=!0))},this.checked=!1,this.contentId=void 0,this.disabled=!1,this.layout="icon-top",this.type="button",this.value="ion-sb-"+cne++}valueChanged(){this.updateState()}connectedCallback(){const e=this.segmentEl=this.el.closest("ion-segment");if(e&&(this.updateState(),g0(e,"ionSelect",this.updateState),g0(e,"ionStyle",this.updateStyle)),!this.contentId)return;const n=document.getElementById(this.contentId);if(!n){console.error('Segment Button: Unable to find Segment Content with id="'.concat(this.contentId,'".'));return}if(n.tagName!=="ION-SEGMENT-CONTENT"){console.error('Segment Button: Element with id="'.concat(this.contentId,'" is not an <ion-segment-content> element.'));return}this.disabled&&(console.warn("Segment Button: Segment buttons cannot be disabled when associated with an <ion-segment-content>."),this.disabled=!1)}disconnectedCallback(){const e=this.segmentEl;e&&(I_(e,"ionSelect",this.updateState),I_(e,"ionStyle",this.updateStyle),this.segmentEl=null)}componentWillLoad(){this.inheritedAttributes=Object.assign({},yl(this.el,["aria-label"]))}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}async setFocus(){const{nativeEl:e}=this;e!==void 0&&e.focus()}render(){const{checked:e,type:n,disabled:i,hasIcon:r,hasLabel:s,layout:o,segmentEl:a}=this,l=Ae(this),c=()=>(a==null?void 0:a.color)!==void 0;return z(He,{key:"d50a5d5e2f6206e8523598f258d8217d2903f69b",class:{[l]:!0,"in-toolbar":mn("ion-toolbar",this.el),"in-toolbar-color":mn("ion-toolbar[color]",this.el),"in-segment":mn("ion-segment",this.el),"in-segment-color":c(),"segment-button-has-label":s,"segment-button-has-icon":r,"segment-button-has-label-only":s&&!r,"segment-button-has-icon-only":r&&!s,"segment-button-disabled":i,"segment-button-checked":e,["segment-button-layout-".concat(o)]:!0,"ion-activatable":!0,"ion-activatable-instant":!0,"ion-focusable":!0}},z("button",Object.assign({key:"b4f6f145286ba8ab79669e11035b906daa85ae7e","aria-selected":e?"true":"false",role:"tab",ref:u=>this.nativeEl=u,type:n,class:"button-native",part:"native",disabled:i},this.inheritedAttributes),z("span",{key:"67965996c9ffe70553875e00d3da0ae5b2b1d814",class:"button-inner"},z("slot",{key:"5087988fe45a8fdf388ec44c395d0b745b207806"})),l==="md"&&z("ion-ripple-effect",{key:"b24858de0750bbc769b3183fac0077dfe817ba27"})),z("div",{key:"97b4359432acd1c9da0816360cd1df9472e183f7",part:"indicator",class:"segment-button-indicator segment-button-indicator-animated"},z("div",{key:"0561738ea15b0986f4ed3d8276d5e6f2d13f7e51",part:"indicator-background",class:"segment-button-indicator-background"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:one,md:lne}}},[33,"ion-segment-button",{contentId:[513,"content-id"],disabled:[1028],layout:[1],type:[1],value:[8],checked:[32],setFocus:[64]},void 0,{value:["valueChanged"]}]);function dne(){if(typeof customElements>"u")return;["ion-segment-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-segment-button":customElements.get(e)||customElements.define(e,une);break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}const hne=dne;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Z9=(t,e)=>{let n,i;const r=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)||u.disabled){o();return}u!==n&&(o(),s(u,c))},s=(a,l)=>{n=a,i||(i=n);const c=n;Lr(()=>c.classList.add("ion-activated")),l()},o=(a=!1)=>{if(!n)return;const l=n;Lr(()=>l.classList.remove("ion-activated")),a&&i!==n&&n.click(),n=void 0};return Tp({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>r(a.currentX,a.currentY,QJ),onMove:a=>r(a.currentX,a.currentY,ZJ),onEnd:()=>{o(!0),JJ(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},pne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},mne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},gne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},bne='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',vne=bne,yne='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',_ne=yne,xne=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.didPresent=ve(this,"ionActionSheetDidPresent",7),this.willPresent=ve(this,"ionActionSheetWillPresent",7),this.willDismiss=ve(this,"ionActionSheetWillDismiss",7),this.didDismiss=ve(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ve(this,"didPresent",7),this.willPresentShorthand=ve(this,"willPresent",7),this.willDismissShorthand=ve(this,"willDismiss",7),this.didDismissShorthand=ve(this,"didDismiss",7),this.delegateController=jA(this),this.lockController=Ep(),this.triggerController=Aw(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,bd)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(gd(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await gb(this,"actionSheetEnter",fne,mne),e()}async dismiss(e,n){const i=await this.lockController.lock(),r=await bb(this,e,n,"actionSheetLeave",pne,gne);return r&&this.delegateController.removeViewFromDom(),i(),r}onDidDismiss(){return ia(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return ia(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const n=e.role;return gd(n)?this.dismiss(e.data,n):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await Qu(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){pb(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||mb(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:n}=this;!this.gesture&&Ae(this)==="ios"&&n&&e&&hd(()=>{e.scrollHeight>e.clientHeight||(this.gesture=Z9(n,r=>r.classList.contains("action-sheet-button")),this.gesture.enable(!0))}),this.isOpen===!0&&di(()=>this.present()),this.triggerChanged()}render(){const{header:e,htmlAttributes:n,overlayIndex:i}=this,r=Ae(this),s=this.getButtons(),o=s.find(c=>c.role==="cancel"),a=s.filter(c=>c.role!=="cancel"),l="action-sheet-".concat(i,"-header");return z(He,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},n,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign(Object.assign({[r]:!0},or(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),z("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),z("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),z("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},z("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},z("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&z("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&z("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),a.map(c=>z("button",Object.assign({},c.htmlAttributes,{type:"button",id:c.id,class:Y4(c),onClick:()=>this.buttonClick(c),disabled:c.disabled}),z("span",{class:"action-sheet-button-inner"},c.icon&&z("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),r==="md"&&z("ion-ripple-effect",null)))),o&&z("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},z("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},o.htmlAttributes,{type:"button",class:Y4(o),onClick:()=>this.buttonClick(o)}),z("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},o.icon&&z("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:o.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),o.text),r==="md"&&z("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),z("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:vne,md:_ne}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Y4=t=>Object.assign({"action-sheet-button":!0,"ion-activatable":!t.disabled,"ion-focusable":!t.disabled,["action-sheet-".concat(t.role)]:t.role!==void 0},or(t.cssClass));function J9(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,xne);break;case"ion-backdrop":customElements.get(e)||vb();break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Tne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Ene=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},Sne=t=>{const e=Ie(),n=Ie(),i=Ie();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},kne=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",Cne=kne,Ane=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}",Ine=Ane,Dne=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.didPresent=ve(this,"ionAlertDidPresent",7),this.willPresent=ve(this,"ionAlertWillPresent",7),this.willDismiss=ve(this,"ionAlertWillDismiss",7),this.didDismiss=ve(this,"ionAlertDidDismiss",7),this.didPresentShorthand=ve(this,"didPresent",7),this.willPresentShorthand=ve(this,"willPresent",7),this.willDismissShorthand=ve(this,"willDismiss",7),this.didDismissShorthand=ve(this,"didDismiss",7),this.delegateController=jA(this),this.lockController=Ep(),this.triggerController=Aw(),this.customHTMLEnabled=Ke.get("innerHTMLTemplatesEnabled",E9),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,bd)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(gd(n)){const i=this.processedButtons.find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}onKeydown(e){const n=new Set(this.processedInputs.map(a=>a.type));if(n.has("checkbox")&&e.key==="Enter"){e.preventDefault();return}if(!n.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),r=Array.from(i).filter(a=>!a.disabled),s=r.findIndex(a=>a.id===e.target.id);let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=s===r.length-1?r[0]:r[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=s===0?r[r.length-1]:r[s-1]),o&&r.includes(o)){const a=this.processedInputs.find(l=>l.id===(o==null?void 0:o.id));a&&(this.rbClick(a),o.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(n=>typeof n=="string"?{text:n,role:n.toLowerCase()==="cancel"?"cancel":void 0}:n)}inputsChanged(){const e=this.inputs,n=e.find(o=>!o.disabled),r=e.find(o=>o.checked&&!o.disabled)||n,s=new Set(e.map(o=>o.type));s.has("checkbox")&&s.has("radio")&&console.warn("Alert cannot mix input types: ".concat(Array.from(s.values()).join("/"),". Please see alert docs for more info.")),this.inputType=s.values().next().value,this.processedInputs=e.map((o,a)=>{var l;return{type:o.type||"text",name:o.name||"".concat(a),placeholder:o.placeholder||"",value:o.value,label:o.label,checked:!!o.checked,disabled:!!o.disabled,id:o.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:o.handler,min:o.min,max:o.max,cssClass:(l=o.cssClass)!==null&&l!==void 0?l:"",attributes:o.attributes||{},tabindex:o.type==="radio"&&o!==r?-1:0}})}connectedCallback(){pb(this.el),this.triggerChanged()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||mb(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&Ae(this)==="ios"&&this.wrapperEl&&(this.gesture=Z9(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&di(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await gb(this,"alertEnter",wne,Ene),e()}async dismiss(e,n){const i=await this.lockController.lock(),r=await bb(this,e,n,"alertLeave",Tne,Sne);return r&&this.delegateController.removeViewFromDom(),i(),r}onDidDismiss(){return ia(this.el,"ionAlertDidDismiss")}onWillDismiss(){return ia(this.el,"ionAlertWillDismiss")}rbClick(e){for(const n of this.processedInputs)n.checked=n===e,n.tabindex=n===e?0:-1;this.activeId=e.id,Qu(e.handler,e),co(this)}cbClick(e){e.checked=!e.checked,Qu(e.handler,e),co(this)}async buttonClick(e){const n=e.role,i=this.getValues();if(gd(n))return this.dismiss({values:i},n);const r=await this.callButtonHandler(e,i);return r!==!1?this.dismiss(Object.assign({values:i},r),e.role):!1}async callButtonHandler(e,n){if(e!=null&&e.handler){const i=await Qu(e.handler,n);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const n=this.processedInputs.find(i=>!!i.checked);return n?n.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(n=>n.checked).map(n=>n.value);const e={};return this.processedInputs.forEach(n=>{e[n.name]=n.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,n=Ae(this);return e.length===0?null:z("div",{class:"alert-checkbox-group"},e.map(i=>z("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},or(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},z("div",{class:"alert-button-inner"},z("div",{class:"alert-checkbox-icon"},z("div",{class:"alert-checkbox-inner"})),z("div",{class:"alert-checkbox-label"},i.label)),n==="md"&&z("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:z("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(n=>z("button",{type:"button",onClick:()=>this.rbClick(n),"aria-checked":"".concat(n.checked),disabled:n.disabled,id:n.id,tabIndex:n.tabindex,class:Object.assign(Object.assign({},or(n.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":n.disabled||!1}),role:"radio"},z("div",{class:"alert-button-inner"},z("div",{class:"alert-radio-icon"},z("div",{class:"alert-radio-inner"})),z("div",{class:"alert-radio-label"},n.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:z("div",{class:"alert-input-group"},e.map(n=>{var i,r,s,o;return n.type==="textarea"?z("div",{class:"alert-input-wrapper"},z("textarea",Object.assign({placeholder:n.placeholder,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(r=(i=n.attributes)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:n.disabled,class:X4(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}}))):z("div",{class:"alert-input-wrapper"},z("input",Object.assign({placeholder:n.placeholder,type:n.type,min:n.min,max:n.max,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(o=(s=n.attributes)===null||s===void 0?void 0:s.disabled)!==null&&o!==void 0?o:n.disabled,class:X4(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,n=Ae(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return z("div",{class:i},e.map(r=>z("button",Object.assign({},r.htmlAttributes,{type:"button",id:r.id,class:Rne(r),tabIndex:0,onClick:()=>this.buttonClick(r)}),z("span",{class:"alert-button-inner"},r.text),n==="md"&&z("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?z("div",{id:e,class:"alert-message",innerHTML:T9(i)}):z("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:n,subHeader:i,message:r,htmlAttributes:s}=this,o=Ae(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-sub-hdr"),c="alert-".concat(e,"-msg"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=n&&i?"".concat(a," ").concat(l):n?a:i?l:null;return z(He,Object.assign({key:"ad7e14b4f92a09387aa80abfb718a755e4e889d6",role:u,"aria-modal":"true","aria-labelledby":d,"aria-describedby":r!==void 0?c:null,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},or(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),z("ion-backdrop",{key:"4b4693dca3c910aa9a61c4d90295d785ec6cbe3d",tappable:this.backdropDismiss}),z("div",{key:"64fd19b8f1d8246dcc869053f858bc33506def4b",tabindex:"0","aria-hidden":"true"}),z("div",{key:"e61ba6f339c3a02cecd37d8b641ee5043018eb29",class:"alert-wrapper ion-overlay-wrapper",ref:h=>this.wrapperEl=h},z("div",{key:"044e00667ffcb74aa2c5e0d0b42669c4004dbb4f",class:"alert-head"},n&&z("h2",{key:"1aaae8d58722c4cf5debb1f00415ab7ed0a52bbd",id:a,class:"alert-title"},n),i&&!n&&z("h2",{key:"9c9854dc3b0ad40f1861a49b76d5636afcae9c74",id:l,class:"alert-sub-title"},i),i&&n&&z("h3",{key:"19aaca9912f77cde4ae8079be210eda697ed8de1",id:l,class:"alert-sub-title"},i)),this.renderAlertMessage(c),this.renderAlertInputs(),this.renderAlertButtons()),z("div",{key:"a85d27c516f7cdbc85b19f40d2f0bd865490b6a7",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:Cne,md:Ine}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),X4=t=>{var e,n,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((n=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&n!==void 0?n:t.disabled)||!1},or(t.cssClass)),or(t.attributes?(i=t.attributes.class)===null||i===void 0?void 0:i.toString():""))},Rne=t=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(t.role)]:t.role!==void 0},or(t.cssClass));function eU(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,Dne);break;case"ion-backdrop":customElements.get(e)||vb();break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pne=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',One=Pne,Lne=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',Mne=Lne,tU=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=M4,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},s=this.itemStyles.get(n)||{};let o=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);s[l]||(o=!0),r[l]=!0}}),!o&&Object.keys(r).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(n,r),co(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=yl(this.el,["aria-label"])}componentDidLoad(){di(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:i,labelColorStyles:r,lines:s,disabled:o,href:a,rel:l,target:c,routerAnimation:u,routerDirection:d,inheritedAriaAttributes:h,multipleInputs:m}=this,b={},g=Ae(this),w=this.isClickable(),y=this.canActivate(),T=w?a===void 0?"button":"a":"div",k=T==="button"?{type:this.type}:{download:i,href:a,rel:l,target:c};let D={};const P=this.getFirstInteractive();(w||P!==void 0&&!m)&&(D={onClick:L=>{if(w&&kw(a,L,d,u),P!==void 0&&!m){const V=L.composedPath()[0];L.isTrusted&&this.el.shadowRoot.contains(V)&&(P.tagName==="ION-INPUT"||P.tagName==="ION-TEXTAREA"?P.setFocus():P.click())}}});const B=e!==void 0?e:g==="ios"&&w;this.itemStyles.forEach(L=>{Object.assign(b,L)});const O=o||b["item-interactive-disabled"]?"true":null,A=mn("ion-list",this.el)&&!mn("ion-radio-group",this.el),R=P!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(P.tagName);return z(He,{key:"02f540d8666146b5f2665ba6b39dfe774c65d5e6","aria-disabled":O,class:Object.assign(Object.assign(Object.assign({},b),r),wn(this.color,{item:!0,[g]:!0,"item-lines-default":s===void 0,["item-lines-".concat(s)]:s!==void 0,"item-control-needs-pointer-cursor":R,"item-disabled":o,"in-list":A,"item-multiple-inputs":this.multipleInputs,"ion-activatable":y,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:A?"listitem":null},z(T,Object.assign({key:"91cf3eedc2d7eca40a45fc3b0aaae5a87d387eb7"},k,h,{class:"item-native",part:"native",disabled:o},D),z("slot",{key:"ae4c679ca903a78a7c933c1d02f21f5d677b6388",name:"start"}),z("div",{key:"a61de72dce135b6dce18e6fa19680524958924dd",class:"item-inner"},z("div",{key:"d5b09966b6de8d6b4da8e139875edec4eeb1ae27",class:"input-wrapper"},z("slot",{key:"79077e5708a1783b135fab6f8caff9fb2f6f387a"})),z("slot",{key:"cdcc71689a87e985d32170ab98538ef25227f384",name:"end"}),B&&z("ion-icon",{key:"1e82f2d0e2d2fc18bd3429a7c72e4e57447cad7a",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===M4})),y&&g==="md"&&z("ion-ripple-effect",{key:"ab9842d0d9c64408573f07323e10f9ed29fbe6e2"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:One,md:Mne}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function JA(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,tU);break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const F_="ionKeyboardDidShow",nU="ionKeyboardDidHide",Nne=150;let V_={},Ja={},Sp=!1;const Bne=()=>{V_={},Ja={},Sp=!1},Une=t=>{if(G9.getEngine())Fne(t);else{if(!t.visualViewport)return;Ja=iI(t.visualViewport),t.visualViewport.onresize=()=>{sU(t),iU()||rU(t)?eI(t):nI(t)&&tI(t)}}},Fne=t=>{t.addEventListener("keyboardDidShow",e=>eI(t,e)),t.addEventListener("keyboardDidHide",()=>tI(t))},eI=(t,e)=>{Vne(t,e),Sp=!0},tI=t=>{$ne(t),Sp=!1},iU=()=>{const t=(V_.height-Ja.height)*Ja.scale;return!Sp&&V_.width===Ja.width&&t>Nne},rU=t=>Sp&&!nI(t),nI=t=>Sp&&Ja.height===t.innerHeight,Vne=(t,e)=>{const n=e?e.keyboardHeight:t.innerHeight-Ja.height,i=new CustomEvent(F_,{detail:{keyboardHeight:n}});t.dispatchEvent(i)},$ne=t=>{const e=new CustomEvent(nU);t.dispatchEvent(e)},sU=t=>{V_=Object.assign({},Ja),Ja=iI(t.visualViewport)},iI=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),jne=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:nU,KEYBOARD_DID_OPEN:F_,copyVisualViewport:iI,keyboardDidClose:nI,keyboardDidOpen:iU,keyboardDidResize:rU,resetKeyboardAssist:Bne,setKeyboardClose:tI,setKeyboardOpen:eI,startKeyboardAssist:Une,trackViewportChanges:sU},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ff;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Ff||(Ff={}));const rI={getEngine(){const t=M_();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){const e=this.getEngine();e&&e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return Ff.Default;const{style:e}=await t.getInfo();return e}},e2=(t,e)=>{if(e===1)return 0;const n=1/(1-e),i=-(e*n);return t*n+i},oU=()=>{!wt||wt.innerWidth>=768||rI.setStyle({style:Ff.Dark})},t2=(t=Ff.Default)=>{!wt||wt.innerWidth>=768||rI.setStyle({style:t})},aU=async(t,e)=>{typeof t.canDismiss!="function"||!await t.canDismiss(void 0,of)||(e.isRunning()?e.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},n2=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,$_={MIN_PRESENTING_SCALE:.915},zne=(t,e,n,i)=>{const s=t.offsetHeight;let o=!1,a=!1,l=null,c=null;const u=.2;let d=!0,h=0;const m=()=>l&&Oc(l)?l.scrollY:!0,T=Tp({el:t,gestureName:"modalSwipeToClose",gesturePriority:R9,direction:"y",threshold:10,canStart:k=>{const D=k.event.target;return D===null||!D.closest?!0:(l=q9(D),l?(Oc(l)?c=Ln(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):D.closest("ion-footer")===null)},onStart:k=>{const{deltaY:D}=k;d=m(),a=t.canDismiss!==void 0&&t.canDismiss!==!0,D>0&&l&&F4(l),e.progressStart(!0,o?1:0)},onMove:k=>{const{deltaY:D}=k;D>0&&l&&F4(l);const P=k.deltaY/s,B=P>=0&&a,O=B?u:.9999,A=B?n2(P/O):P,R=md(1e-4,A,O);e.progressStep(R),R>=.5&&h<.5?t2(n):R<.5&&h>=.5&&oU(),h=R},onEnd:k=>{const D=k.velocityY,P=k.deltaY/s,B=P>=0&&a,O=B?u:.9999,A=B?n2(P/O):P,R=md(1e-4,A,O),L=(k.deltaY+D*1e3)/s,U=!B&&L>=.5;let V=U?-.001:.001;U?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),V+=Uf([0,0],[.32,.72],[0,1],[1,1],R)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),V+=Uf([0,0],[1,0],[.68,.28],[1,1],R)[0]);const M=K4(U?P*s:(1-R)*s,D);o=U,T.enable(!1),l&&Aee(l,d),e.onFinish(()=>{U||T.enable(!0)}).progressEnd(U?1:0,V,M),B&&R>O/4?aU(t,e):U&&i()}});return T},K4=(t,e)=>md(400,t/Math.abs(e*1.1),500),lU=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i=n===void 0||n<e,r=i?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",s=Ie("backdropAnimation").fromTo("opacity",0,r);return i&&s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:Ie("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),backdropAnimation:s}},cU=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i="calc(var(--backdrop-opacity) * ".concat(e2(e,n),")"),r=[{offset:0,opacity:i},{offset:1,opacity:0}],s=[{offset:0,opacity:i},{offset:n,opacity:0},{offset:1,opacity:0}],o=Ie("backdropAnimation").keyframes(n!==0?s:r);return{wrapperAnimation:Ie("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:o}},Hne=()=>{const t=Ie().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Ie().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e}},Q4=(t,e)=>{const{presentingEl:n,currentBreakpoint:i}=e,r=Ln(t),{wrapperAnimation:s,backdropAnimation:o}=i!==void 0?lU(e):Hne();o.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=Ie("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(s);if(n){const l=window.innerWidth<768,c=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,u=Ln(n),d=Ie().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),h=document.body;if(l){const m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=c?"-10px":m,g=$_.MIN_PRESENTING_SCALE,w="translateY(".concat(b,") scale(").concat(g,")");d.afterStyles({transform:w}).beforeAddWrite(()=>h.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:w,borderRadius:"10px 10px 0 0"}]),a.addAnimation(d)}else if(a.addAnimation(o),!c)s.fromTo("opacity","0","1");else{const m=c?$_.MIN_PRESENTING_SCALE:1,b="translateY(-10px) scale(".concat(m,")");d.afterStyles({transform:b}).addElement(u.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);const g=Ie().afterStyles({transform:b}).addElement(u.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);a.addAnimation([d,g])}}else a.addAnimation(o);return a},qne=()=>{const t=Ie().fromTo("opacity","var(--backdrop-opacity)",0),e=Ie().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}},Z4=(t,e,n=500)=>{const{presentingEl:i,currentBreakpoint:r}=e,s=Ln(t),{wrapperAnimation:o,backdropAnimation:a}=r!==void 0?cU(e):qne();a.addElement(s.querySelector("ion-backdrop")),o.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=Ie("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(o);if(i){const c=window.innerWidth<768,u=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,d=Ln(i),h=Ie().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(b=>{if(b!==1)return;i.style.setProperty("overflow",""),Array.from(m.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(w=>w.presentingElement!==void 0).length<=1&&m.style.setProperty("background-color","")}),m=document.body;if(c){const b=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",g=u?"-10px":b,w=$_.MIN_PRESENTING_SCALE,y="translateY(".concat(g,") scale(").concat(w,")");h.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:y,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(h)}else if(l.addAnimation(a),!u)o.fromTo("opacity","1","0");else{const b=u?$_.MIN_PRESENTING_SCALE:1,g="translateY(-10px) scale(".concat(b,")");h.addElement(d.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:g},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const w=Ie().addElement(d.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:g},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([h,w])}}else l.addAnimation(a);return l},Gne=()=>{const t=Ie().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Ie().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},Wne=(t,e)=>{const{currentBreakpoint:n}=e,i=Ln(t),{wrapperAnimation:r,backdropAnimation:s}=n!==void 0?lU(e):Gne();return s.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),Ie().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,r])},Yne=()=>{const t=Ie().fromTo("opacity","var(--backdrop-opacity)",0),e=Ie().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},Xne=(t,e)=>{const{currentBreakpoint:n}=e,i=Ln(t),{wrapperAnimation:r,backdropAnimation:s}=n!==void 0?cU(e):Yne();return s.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),Ie().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,r])},Kne=(t,e,n,i,r,s,o=[],a,l,c)=>{const u=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}],h={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:r!==0?d:u},m=t.querySelector("ion-content"),b=n.clientHeight;let g=i,w=0,y=!1;const T=.95,k=s.childAnimations.find(he=>he.id==="wrapperAnimation"),D=s.childAnimations.find(he=>he.id==="backdropAnimation"),P=o[o.length-1],B=o[0],O=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove(_0)},A=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add(_0)};k&&D&&(k.keyframes([...h.WRAPPER_KEYFRAMES]),D.keyframes([...h.BACKDROP_KEYFRAMES]),s.progressStart(!0,1-g),g>r?O():A()),m&&g!==P&&(m.scrollY=!1);const R=he=>{const K=q9(he.event.target);if(g=a(),g===1&&K){const fe=Oc(K)?Ln(K).querySelector(".inner-scroll"):K;return!!!K.querySelector("ion-refresher")&&fe.scrollTop===0}return!0},L=he=>{y=t.canDismiss!==void 0&&t.canDismiss!==!0&&B===0,he.deltaY>0&&m&&(m.scrollY=!1),di(()=>{t.focus()}),s.progressStart(!0,1-g)},U=he=>{he.deltaY>0&&m&&(m.scrollY=!1);const K=1-g,fe=o.length>1?1-o[1]:void 0,ee=K+he.deltaY/b,ne=fe!==void 0&&ee>=fe&&y,Y=ne?T:.9999,pe=ne&&fe!==void 0?fe+n2((ee-fe)/(Y-fe)):ee;w=md(1e-4,pe,Y),s.progressStep(w)},V=he=>{const K=he.velocityY,fe=(he.deltaY+K*350)/b,ee=g-fe,ne=o.reduce((Y,pe)=>Math.abs(pe-ee)<Math.abs(Y-ee)?pe:Y);M({breakpoint:ne,breakpointOffset:w,canDismiss:y,animated:!0})},M=he=>{const{breakpoint:K,canDismiss:fe,breakpointOffset:ee,animated:ne}=he,Y=fe&&K===0,pe=Y?g:K,ge=pe!==0;return g=0,k&&D&&(k.keyframes([{offset:0,transform:"translateY(".concat(ee*100,"%)")},{offset:1,transform:"translateY(".concat((1-pe)*100,"%)")}]),D.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(e2(1-ee,r),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(e2(pe,r),")")}]),s.progressStep(0)),ae.enable(!1),Y?aU(t,s):ge||l(),m&&pe===o[o.length-1]&&(m.scrollY=!0),new Promise(De=>{s.onFinish(()=>{ge?k&&D?di(()=>{k.keyframes([...h.WRAPPER_KEYFRAMES]),D.keyframes([...h.BACKDROP_KEYFRAMES]),s.progressStart(!0,1-pe),g=pe,c(g),g>r?O():A(),ae.enable(!0),De()}):(ae.enable(!0),De()):De()},{oneTimeCallback:!0}).progressEnd(1,0,ne?500:0)})},ae=Tp({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:R,onStart:L,onMove:U,onEnd:V});return{gesture:ae,moveSheetToBreakpoint:M}},Qne=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',Zne=Qne,Jne=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',eie=Jne,tie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ve(this,"ionModalDidPresent",7),this.willPresent=ve(this,"ionModalWillPresent",7),this.willDismiss=ve(this,"ionModalWillDismiss",7),this.didDismiss=ve(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ve(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ve(this,"didPresent",7),this.willPresentShorthand=ve(this,"willPresent",7),this.willDismissShorthand=ve(this,"willDismiss",7),this.didDismissShorthand=ve(this,"didDismiss",7),this.ionMount=ve(this,"ionMount",7),this.lockController=Ep(),this.triggerController=Aw(),this.coreDelegate=$A(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:n}=this;n!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,bd)},this.onLifecycle=e=>{const n=this.usersElement,i=nie[e.type];if(n&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(r)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((n,i)=>n-i))}connectedCallback(){const{el:e}=this;pb(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:n,initialBreakpoint:i,el:r,htmlAttributes:s}=this,o=this.isSheetModal=n!==void 0&&i!==void 0,a=["aria-label","role"];this.inheritedAttributes=yl(r,a),s!==void 0&&a.forEach(l=>{s[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:s[l]}),delete s[l])}),o&&(this.currentBreakpoint=this.initialBreakpoint),n!==void 0&&i!==void 0&&!n.includes(i)&&ir("Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||mb(this.el)}componentDidLoad(){this.isOpen===!0&&di(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async checkCanDismiss(e,n){const{canDismiss:i}=this;return typeof i=="function"?i(e,n):i}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:n,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:r,delegate:s}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await db(s,i,this.component,["ion-page"],this.componentProps,r),m0(i)?await b0(this.usersElement):this.keepContentsMounted||await y9(),Lr(()=>this.el.classList.add("show-modal"));const o=n!==void 0;o&&Ae(this)==="ios"&&(this.statusBarStyle=await rI.getStyle(),oU()),await gb(this,"modalEnter",Q4,Wne,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),di(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(F_,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():o&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(Ae(this)!=="ios")return;const{el:n}=this,i=this.leaveAnimation||Ke.get("modalLeave",Z4),r=this.animation=i(n,{presentingEl:this.presentingElement});if(!N_(n)){B_(n);return}const o=(e=this.statusBarStyle)!==null&&e!==void 0?e:Ff.Default;this.gesture=zne(n,r,o,()=>{this.gestureAnimationDismissing=!0,t2(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,of),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:n,backdropBreakpoint:i}=this;if(!e||n===void 0)return;const r=this.enterAnimation||Ke.get("modalEnter",Q4),s=this.animation=r(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:i});s.progressStart(!0,1);const{gesture:o,moveSheetToBreakpoint:a}=Kne(this.el,this.backdropEl,e,n,i,s,this.sortedBreakpoints,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=o,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,of),this.gestureAnimationDismissing=!1})}async dismiss(e,n){var i;if(this.gestureAnimationDismissing&&n!==of)return!1;const r=await this.lockController.lock();if(n!=="handler"&&!await this.checkCanDismiss(e,n))return r(),!1;const{presentingElement:s}=this;s!==void 0&&Ae(this)==="ios"&&t2(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(F_,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const a=await bb(this,e,n,"modalLeave",Z4,Xne,{presentingEl:s,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(a){const{delegate:l}=this.getDelegate();await VA(l,this.usersElement),Lr(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,r(),a}onDidDismiss(){return ia(this.el,"ionModalDidDismiss")}onWillDismiss(){return ia(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){ir("setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){ir("Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:n,moveSheetToBreakpoint:i,canDismiss:r,breakpoints:s,animated:o}=this;n!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-n,canDismiss:r!==void 0&&r!==!0&&s[0]===0,animated:o}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:n}=this;if(!e||n==null)return!1;const i=e.filter(a=>a!==0),s=(i.indexOf(n)+1)%i.length,o=i[s];return await this.setCurrentBreakpoint(o),!0}render(){const{handle:e,isSheetModal:n,presentingElement:i,htmlAttributes:r,handleBehavior:s,inheritedAttributes:o,focusTrap:a}=this,l=e!==!1&&n,c=Ae(this),u=i!==void 0&&c==="ios",d=s==="cycle";return z(He,Object.assign({key:"b4da5111fe4719fa450c39b2d4bd884a302a7924","no-router":!0,tabindex:"-1"},r,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[c]:!0,"modal-default":!u&&!n,"modal-card":u,"modal-sheet":n,"overlay-hidden":!0,[_0]:a===!1},or(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),z("ion-backdrop",{key:"c12dbf747e0eb914eaf1331798548ffc7e147763",ref:h=>this.backdropEl=h,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),c==="ios"&&z("div",{key:"da546ee80c6576b5acc66e959fd5009e0b9a8160",class:"modal-shadow"}),z("div",Object.assign({key:"306ebe6427440ad5f7ed36d590e562d15a503b75",role:"dialog"},o,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:h=>this.wrapperEl=h}),l&&z("button",{key:"c5d17e346fe255a7c0cacbbf15c0083f2d09c488",class:"modal-handle",tabIndex:d?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:d?this.onHandleClick:void 0,part:"handle"}),z("slot",{key:"5cc714170a00b67f3eda0cd1d6f37c1489a99c83"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Zne,md:eie}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),nie={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function iie(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,tie);break;case"ion-backdrop":customElements.get(e)||vb();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rie=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",sie=rie,oie=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",aie=oie,lie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ve(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=Ae(this),n=this.getSize();return z(He,{key:"7293d2ecd6262feb0d8d769effbb208230baed89",class:wn(this.color,{[e]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},z("div",{key:"086ec3a361ebdf6506846a8704b457cda3a6f897",class:"toolbar-title"},z("slot",{key:"59add7eb92b82d6832a8f0894f897c51fdf4f214"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:sie,md:aie}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function sI(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,lie);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cie=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",uie=cie,die=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",hie=die,fie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(s=>s.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(s=>s.slot==="end")||i.find(s=>s.slot==="primary")||i.find(s=>s.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},s=this.childrenStyles.get(n)||{};let o=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==s[l]&&(o=!0),c&&(r[l]=!0)}),o&&(this.childrenStyles.set(n,r),co(this))}render(){const e=Ae(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),z(He,{key:"462538a5ecd01baf3cde116c9f029aeda26c81be",class:Object.assign(Object.assign({},n),wn(this.color,{[e]:!0,"in-toolbar":mn("ion-toolbar",this.el)}))},z("div",{key:"c0b4415d3b2472de643a9be7cb3b13b3b628621b",class:"toolbar-background"}),z("div",{key:"0ccb8a2dbeaa28d8f9bed87629c0c097446690c2",class:"toolbar-container"},z("slot",{key:"3e726dac359e923df21d80301651f16063a3de20",name:"start"}),z("slot",{key:"cd799330b56a7f8833bc61bb2807aafb21846f71",name:"secondary"}),z("div",{key:"395282e6ac8c53576922dcdb5f08c25d34638c86",class:"toolbar-content"},z("slot",{key:"a437c60e4ba5aae65e55169ae82a6f379868ec1d"})),z("slot",{key:"711af9b9d321a7b31ede924c9bdcad767aa9a1ca",name:"primary"}),z("slot",{key:"ecc02edeaf80a837890bcb08d5096df1e22a0b9a",name:"end"})))}get el(){return this}static get style(){return{ios:uie,md:hie}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function oI(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,fie);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pie=".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",mie=pie,gie='.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',bie=gie,vie=".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",yie=vie,_ie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(s=>s.checked).map(s=>s.value);const r=e?this.findOptionFromEvent(e):null;return r?r.value:void 0}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&Qu(n.handler,i)}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter(n=>n.checked).map(n=>n.value)[0];return z("ion-radio-group",{value:e,onIonChange:n=>this.callOptionHandler(n)},this.options.map(n=>z("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":n.value===e},or(n.cssClass))},z("ion-radio",{value:n.value,disabled:n.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:i=>{i.key===" "&&this.closeModal()}},n.text))))}renderCheckboxOptions(){return this.options.map(e=>z("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},or(e.cssClass))},z("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:n=>{this.setChecked(n),this.callOptionHandler(n),co(this)}},e.text)))}render(){return z(He,{key:"4df42c447b4026d09d9231f09dc4bdae9a8cfe4a",class:Ae(this)},z("ion-header",{key:"211c4e869b858867f3d60637e570aeb01de41de7"},z("ion-toolbar",{key:"dc4b151331aecbaaaafb460802ee9b689493601d"},this.header!==void 0&&z("ion-title",{key:"ba1347a59ae0a5c6770c239b5ec02a536a445bd1"},this.header),z("ion-buttons",{key:"43c98fd25d7e7f54b94b24e53535c6d5ba599892",slot:"end"},z("ion-button",{key:"51b2b3f3eed42637b2cfc213c95d0bcf10e4b89d",onClick:()=>this.closeModal()},"Close")))),z("ion-content",{key:"fe721b09f80555856211f7e40dbfc31a533acae1"},z("ion-list",{key:"d0b932d137136958d896408fb2fa571023775b92"},this.multiple===!0?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:mie,ios:bie,md:yie}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);function xie(){if(typeof customElements>"u")return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,_ie);break;case"ion-button":customElements.get(e)||B9();break;case"ion-buttons":customElements.get(e)||zA();break;case"ion-checkbox":customElements.get(e)||HA();break;case"ion-content":customElements.get(e)||qA();break;case"ion-header":customElements.get(e)||YA();break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-item":customElements.get(e)||JA();break;case"ion-list":customElements.get(e)||Dw();break;case"ion-radio":customElements.get(e)||QA();break;case"ion-radio-group":customElements.get(e)||ZA();break;case"ion-ripple-effect":customElements.get(e)||Fs();break;case"ion-title":customElements.get(e)||sI();break;case"ion-toolbar":customElements.get(e)||oI();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wie=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",Tie=wie,Eie=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",Sie=Eie,kie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&Qu(n.handler,i)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(s=>s.checked).map(s=>s.value);const r=this.findOptionFromEvent(e);return r?r.value:void 0}renderOptions(e){const{multiple:n}=this;switch(n){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(n=>z("ion-item",{class:Object.assign({"item-checkbox-checked":n.checked},or(n.cssClass))},z("ion-checkbox",{value:n.value,disabled:n.disabled,checked:n.checked,justify:"start",labelPlacement:"end",onIonChange:i=>{this.setChecked(i),this.callOptionHandler(i),co(this)}},n.text)))}renderRadioOptions(e){const n=e.filter(i=>i.checked).map(i=>i.value)[0];return z("ion-radio-group",{value:n,onIonChange:i=>this.callOptionHandler(i)},e.map(i=>z("ion-item",{class:Object.assign({"item-radio-checked":i.value===n},or(i.cssClass))},z("ion-radio",{value:i.value,disabled:i.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:r=>{r.key===" "&&this.dismissParentPopover()}},i.text))))}render(){const{header:e,message:n,options:i,subHeader:r}=this,s=r!==void 0||n!==void 0;return z(He,{key:"dd0990db4de4f175b176b27f35501dd1604ca400",class:Ae(this)},z("ion-list",{key:"cea2bc3687b8b2490a2a9ff4a1e16cd34169558e"},e!==void 0&&z("ion-list-header",{key:"194aebb53453c43f913daae45a1a3066a1708c4c"},e),s&&z("ion-item",{key:"b706b07a3c63ad8104d2db413e210c735ec1bec9"},z("ion-label",{key:"6e52b5b4cf6b04ff3dd5671d64264233de4190d5",class:"ion-text-wrap"},r!==void 0&&z("h3",{key:"6ef4440d17f5db8c96c63b9aa5073f4fe4b8ad62"},r),n!==void 0&&z("p",{key:"c7b3b76c30ecd606c0e985a0258c13d3a75756e7"},n))),this.renderOptions(i)))}get el(){return this}static get style(){return{ios:Tie,md:Sie}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function Cie(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,kie);break;case"ion-checkbox":customElements.get(e)||HA();break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-item":customElements.get(e)||JA();break;case"ion-label":customElements.get(e)||XA();break;case"ion-list":customElements.get(e)||Dw();break;case"ion-list-header":customElements.get(e)||KA();break;case"ion-radio":customElements.get(e)||QA();break;case"ion-radio-group":customElements.get(e)||ZA();break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Aie=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.ion-focused.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",Iie=Aie,Die=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.ion-focused.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.ion-focused){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.ion-focused){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.ion-focused) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.ion-focused) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.ion-focused) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.ion-focused) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",Rie=Die,Pie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ve(this,"ionChange",7),this.ionCancel=ve(this,"ionCancel",7),this.ionDismiss=ve(this,"ionDismiss",7),this.ionFocus=ve(this,"ionFocus",7),this.ionBlur=ve(this,"ionBlur",7),this.ionStyle=ve(this,"ionStyle",7),this.inputId="ion-sel-".concat(Mie++),this.inheritedAttributes={},this.onClick=e=>{const n=e.target,i=n.closest('[slot="start"], [slot="end"]');n===this.el||i===null?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.isExpanded=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=X9(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=bte(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),co(this)})}componentWillLoad(){this.inheritedAttributes=yl(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const n=this.overlay=await this.createOverlay(e);if(n.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await n.present(),this.interface==="popover"||this.interface==="modal"){const i=this.childOpts.findIndex(r=>r.value===this.value);if(i>-1){const r=n.querySelector(".select-interface-option:nth-child(".concat(i+1,")"));if(r){const s=r.querySelector("ion-radio, ion-checkbox");s&&s.setFocus(),D_(r)}}else{const r=n.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");r&&(r.setFocus(),D_(r.closest("ion-item")))}}return n}createOverlay(e){let n=this.interface;return n==="action-sheet"&&this.multiple&&(console.warn('Select interface cannot be "'.concat(n,'" with a multi-value select. Using the "alert" interface instead.')),n="alert"),n==="popover"&&!e&&(console.warn('Select interface cannot be a "'.concat(n,'" without passing an event. Using the "alert" interface instead.')),n="alert"),n==="action-sheet"?this.openActionSheet():n==="popover"?this.openPopover(e):n==="modal"?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const n=this.childOpts,i=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(n,i);break;case"popover":const r=e.querySelector("ion-select-popover");r&&(r.options=this.createOverlaySelectOptions(n,i));break;case"modal":const s=e.querySelector("ion-select-modal");s&&(s.options=this.createOverlaySelectOptions(n,i));break;case"alert":const o=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(n,o,i);break}}createActionSheetButtons(e,n){const i=e.map(r=>{const s=Iy(r),o=Array.from(r.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(DE," ").concat(o);return{role:Ay(n,s,this.compareWith)?"selected":"",text:r.textContent,cssClass:a,handler:()=>{this.setValue(s)}}});return i.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),i}createAlertInputs(e,n,i){return e.map(s=>{const o=Iy(s),a=Array.from(s.classList).filter(c=>c!=="hydrated").join(" "),l="".concat(DE," ").concat(a);return{type:n,cssClass:l,label:s.textContent||"",value:o,checked:Ay(i,o,this.compareWith),disabled:s.disabled}})}createOverlaySelectOptions(e,n){return e.map(r=>{const s=Iy(r),o=Array.from(r.classList).filter(l=>l!=="hydrated").join(" "),a="".concat(DE," ").concat(o);return{text:r.textContent||"",cssClass:a,value:s,checked:Ay(n,s,this.compareWith),disabled:r.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:n,labelPlacement:i}=this,r=this.interfaceOptions,s=Ae(this),o=s!=="md",a=this.multiple,l=this.value;let c=e,u="auto";i==="floating"||i==="stacked"||s==="md"&&n!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const h=Object.assign(Object.assign({mode:s,event:c,alignment:"center",size:u,showBackdrop:o},r),{component:"ion-select-popover",cssClass:["select-popover",r.cssClass],componentProps:{header:r.header,subHeader:r.subHeader,message:r.message,multiple:a,value:l,options:this.createOverlaySelectOptions(this.childOpts,l)}});return KQ.create(h)}async openActionSheet(){const e=Ae(this),n=this.interfaceOptions,i=Object.assign(Object.assign({mode:e},n),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",n.cssClass]});return YQ.create(i)}async openAlert(){const e=this.interfaceOptions,n=this.multiple?"checkbox":"radio",i=Ae(this),r=Object.assign(Object.assign({mode:i},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,n,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:s=>{this.setValue(s)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return C9.create(r)}openModal(){const{multiple:e,value:n,interfaceOptions:i}=this,r=Ae(this),s=Object.assign(Object.assign({},i),{mode:r,cssClass:["select-modal",i.cssClass],component:"ion-select-modal",componentProps:{header:i.header,multiple:e,value:n,options:this.createOverlaySelectOptions(this.childOpts,n)}});return XQ.create(s)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:n}=this;if(n!==null)return n.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:Lie(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,n={"interactive-disabled":e};this.ionStyle.emit(n)}renderLabel(){const{label:e}=this;return z("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?z("slot",{name:"label"}):z("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Ae(this)==="md"&&this.fill==="outline"?[z("div",{class:"select-outline-container"},z("div",{class:"select-outline-start"}),z("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},z("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),z("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this,n=this.getText();let i=!1,r=n;return r===""&&e!==void 0&&(r=e,i=!0),z("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":i},part:i?"placeholder":"text"},r)}renderSelectIcon(){const e=Ae(this),{isExpanded:n,toggleIcon:i,expandedIcon:r}=this;let s;if(n&&r!==void 0)s=r;else{const o=e==="ios"?hZ:uZ;s=i!=null?i:o}return z("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:s})}get ariaLabel(){var e;const{placeholder:n,inheritedAttributes:i}=this,r=this.getText(),s=(e=i["aria-label"])!==null&&e!==void 0?e:this.labelText;let o=r;return o===""&&n!==void 0&&(o=n),s!==void 0&&(o=o===""?s:"".concat(s,", ").concat(o)),o}renderListbox(){const{disabled:e,inputId:n,isExpanded:i}=this;return z("button",{disabled:e,id:n,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":"".concat(i),onFocus:this.onFocus,onBlur:this.onBlur,ref:r=>this.focusEl=r})}render(){const{disabled:e,el:n,isExpanded:i,expandedIcon:r,labelPlacement:s,justify:o,placeholder:a,fill:l,shape:c,name:u,value:d}=this,h=Ae(this),m=s==="floating"||s==="stacked",b=!m&&o!==void 0,g=L_(n)?"rtl":"ltr",w=mn("ion-item",this.el),y=h==="md"&&l!=="outline"&&!w,T=this.hasValue(),k=n.querySelector('[slot="start"], [slot="end"]')!==null;FA(!0,n,u,Oie(d),e);const D=s==="stacked"||s==="floating"&&(T||i||k);return z(He,{key:"144dfa5c49549a74fe516c65b9b8104a477ac789",onClick:this.onClick,class:wn(this.color,{[h]:!0,"in-item":w,"in-item-color":mn("ion-item.ion-color",n),"select-disabled":e,"select-expanded":i,"has-expanded-icon":r!==void 0,"has-value":T,"label-floating":D,"has-placeholder":a!==void 0,"ion-focusable":!0,["select-".concat(g)]:!0,["select-fill-".concat(l)]:l!==void 0,["select-justify-".concat(o)]:b,["select-shape-".concat(c)]:c!==void 0,["select-label-placement-".concat(s)]:!0})},z("label",{key:"0edcfcbac575a9dccc77991531b6980d1caebf42",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),z("div",{key:"348151d90cb093f5d21c7d4a834264ac4a312c40",class:"select-wrapper-inner"},z("slot",{key:"8b7708c7f81217435c58276da0c08bba766d9500",name:"start"}),z("div",{key:"10c520a335da0a0d1cf40f9365597beb244d3b48",class:"native-wrapper",ref:P=>this.nativeWrapperEl=P,part:"container"},this.renderSelectText(),this.renderListbox()),z("slot",{key:"0f15c40a5495e98e29d2a21ba21e0bc6f1c0125a",name:"end"}),!m&&this.renderSelectIcon()),m&&this.renderSelectIcon(),y&&z("div",{key:"c87faad2e5ebf7f9453397d7ede43abd64d21294",class:"select-highlight"})))}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:Iie,md:Rie}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],isExpanded:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),Iy=t=>{const e=t.value;return e===void 0?t.textContent||"":e},Oie=t=>{if(t!=null)return Array.isArray(t)?t.join(","):t.toString()},Lie=(t,e,n)=>e===void 0?"":Array.isArray(e)?e.map(i=>J4(t,i,n)).filter(i=>i!==null).join(", "):J4(t,e,n)||"",J4=(t,e,n)=>{const i=t.find(r=>Jk(e,Iy(r),n));return i?i.textContent:null};let Mie=0;const DE="select-interface-option";function Nie(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,Pie);break;case"ion-action-sheet":customElements.get(e)||J9();break;case"ion-alert":customElements.get(e)||eU();break;case"ion-backdrop":customElements.get(e)||vb();break;case"ion-button":customElements.get(e)||B9();break;case"ion-buttons":customElements.get(e)||zA();break;case"ion-checkbox":customElements.get(e)||HA();break;case"ion-content":customElements.get(e)||qA();break;case"ion-header":customElements.get(e)||YA();break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-item":customElements.get(e)||JA();break;case"ion-label":customElements.get(e)||XA();break;case"ion-list":customElements.get(e)||Dw();break;case"ion-list-header":customElements.get(e)||KA();break;case"ion-modal":customElements.get(e)||iie();break;case"ion-popover":customElements.get(e)||kee();break;case"ion-radio":customElements.get(e)||QA();break;case"ion-radio-group":customElements.get(e)||ZA();break;case"ion-ripple-effect":customElements.get(e)||Fs();break;case"ion-select-modal":customElements.get(e)||xie();break;case"ion-select-popover":customElements.get(e)||Cie();break;case"ion-title":customElements.get(e)||sI();break;case"ion-toolbar":customElements.get(e)||oI();break}})}const Bie=Nie;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Uie=":host{display:none}",Fie=Uie,Vie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-".concat($ie++),this.disabled=!1,this.value=void 0}render(){return z(He,{key:"2e6fa159464f04f6d8720f960141f67918bc7534",role:"option",id:this.inputId,class:Ae(this)})}get el(){return this}static get style(){return Fie}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let $ie=0;function jie(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,Vie);break}})}const zie=jie;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hie=ste;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qie=":host(.tab-hidden){display:none !important}",Gie=qie,Wie=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return db(this.delegate,this.el,this.component,["ion-page"])}catch(e){console.error(e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:i}=this;return z(He,{key:"cb75d0877979b3b8df8f7e1952bfa9677da1eaa5",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":"tab-button-".concat(e),class:{"ion-page":i===void 0,"tab-hidden":!n}},z("slot",{key:"37fbb7b7a6b03eb93b1dacd2dc1025b78eb2aa6b"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return Gie}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function Yie(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,Wie);break}})}const Xie=Yie;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kie=sI;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qie=oI;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Zie=N9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jie=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",ere=Jie,tre=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",nre=tre,ire=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=yl(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const n=this.isClickable();if(!n)return[z("slot",null)];const{href:i,routerAnimation:r,routerDirection:s,inheritedAriaAttributes:o}=this,a=n?i===void 0?"button":"a":"div",l=a==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return z(a,Object.assign({},l,o,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>kw(i,c,s,r)}),z("slot",null),n&&e==="md"&&z("ion-ripple-effect",null))}render(){const e=Ae(this);return z(He,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:wn(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:ere,md:nre}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),rre=ire;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sre=tU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ore=eU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function are(t,e,n,i){let r;if(n==="md"?r=t==="top"?8:-8:r=t==="top"?10:-10,e&&wt){lre(e,i);const s=e.getBoundingClientRect();return t==="top"?r+=s.bottom:t==="bottom"&&(r-=wt.innerHeight-s.top),{top:"".concat(r,"px"),bottom:"".concat(r,"px")}}else return{top:"calc(".concat(r,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(r,"px - var(--ion-safe-area-bottom, 0px))")}}function lre(t,e){t.offsetParent===null&&ir("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const aI=(t,e)=>Math.floor(t/2-e/2),cre=(t,e)=>{const n=Ie(),i=Ie(),{position:r,top:s,bottom:o}=e,l=Ln(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":i.fromTo("transform","translateY(-100%)","translateY(".concat(s,")"));break;case"middle":const c=aI(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY(".concat(o,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},ure=(t,e)=>{const n=Ie(),i=Ie(),{position:r,top:s,bottom:o}=e,l=Ln(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":i.fromTo("transform","translateY(".concat(s,")"),"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY(".concat(o,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},dre=(t,e)=>{const n=Ie(),i=Ie(),{position:r,top:s,bottom:o}=e,l=Ln(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":l.style.setProperty("transform","translateY(".concat(s,")")),i.fromTo("opacity",.01,1);break;case"middle":const c=aI(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(o,")")),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},hre=t=>{const e=Ie(),n=Ie(),r=Ln(t).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},fre=(t,e,n)=>{const i=Ln(t).querySelector(".toast-wrapper"),r=t.clientHeight,s=i.getBoundingClientRect();let o=0;const a=.5,l=t.position==="middle"?.5:0,c=t.position==="top"?-1:1,u=aI(r,s.height),d=[{offset:0,transform:"translateY(-".concat(u+s.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+s.height,"px)")}],h=Ie("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(t.position){case"middle":o=r+s.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":o=s.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:o=r-s.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const m=y=>y*c/o,w=Tp({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:R9,direction:"y",onMove:y=>{const T=l+m(y.deltaY);h.progressStep(T)},onEnd:y=>{const T=y.velocityY,k=(y.deltaY+T*1e3)/o*c;w.enable(!1);let D=!0,P=1,B=0,O=0;if(t.position==="middle"){D=k>=a/2||k<=-a/2,P=1,B=0;const R=i.getBoundingClientRect(),L=R.top-u,U="".concat(L,"px"),V=y.deltaY<=0?-1:1,M=(u+R.height)*V,ae=D?"".concat(M,"px"):"0px",he=[{offset:0,transform:"translateY(".concat(U,")")},{offset:1,transform:"translateY(".concat(ae,")")}];h.keyframes(he),O=M-L}else D=k>=a,P=D?1:0,B=m(y.deltaY),O=(D?1-B:B)*o;const A=Math.min(Math.abs(O)/Math.abs(T),200);h.onFinish(()=>{D?(n(),h.destroy()):(t.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),w.enable(!0))},{oneTimeCallback:!0}).progressEnd(P,B,A)}});return w},pre=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",mre=pre,gre=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",bre=gre,vre=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ve(this,"ionToastDidPresent",7),this.willPresent=ve(this,"ionToastWillPresent",7),this.willDismiss=ve(this,"ionToastWillDismiss",7),this.didDismiss=ve(this,"ionToastDidDismiss",7),this.didPresentShorthand=ve(this,"didPresent",7),this.willPresentShorthand=ve(this,"willPresent",7),this.willDismissShorthand=ve(this,"willDismiss",7),this.didDismissShorthand=ve(this,"didDismiss",7),this.delegateController=jA(this),this.lockController=Ep(),this.triggerController=Aw(),this.customHTMLEnabled=Ke.get("innerHTMLTemplatesEnabled",E9),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(gd(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=e=>{(this.gesture=fre(this.el,e,()=>{this.dismiss(void 0,of)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=Ke.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){pb(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;!((e=this.htmlAttributes)===null||e===void 0)&&e.id||mb(this.el)}componentDidLoad(){this.isOpen===!0&&di(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,r=this.getAnchorElement(),s=are(i,r,Ae(this),n);this.lastPresentedPosition=s,await gb(this,"toastEnter",cre,dre,{position:i,top:s.top,bottom:s.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(s),e()}async dismiss(e,n){var i,r;const s=await this.lockController.lock(),{durationTimeout:o,position:a,lastPresentedPosition:l}=this;o&&clearTimeout(o);const c=await bb(this,e,n,"toastLeave",ure,hre,{position:a,top:(i=l==null?void 0:l.top)!==null&&i!==void 0?i:"",bottom:(r=l==null?void 0:l.bottom)!==null&&r!==void 0?r:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),s(),c}onDidDismiss(){return ia(this.el,"ionToastDidDismiss")}onWillDismiss(){return ia(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:i}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){ir('The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const r=document.getElementById(n);if(r===null){ir('An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),i);return}return r}if(n instanceof Fe)return n;ir("Invalid positionAnchor value:",n,i)}}async buttonClick(e){const n=e.role;return gd(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await Qu(e.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=Ae(this),r={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return z("div",{class:r},e.map(s=>z("button",Object.assign({},s.htmlAttributes,{type:"button",class:yre(s),tabIndex:0,onClick:()=>this.buttonClick(s),part:_re(s)}),z("div",{class:"toast-button-inner"},s.icon&&z("ion-icon",{"aria-hidden":"true",icon:s.icon,slot:s.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),s.text),i==="md"&&z("ion-ripple-effect",{type:s.icon!==void 0&&s.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:r}=this;return i?z("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:T9(r)}):z("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},r)}renderHeader(e,n=null){return z("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:r,message:s}=this,o=this.getButtons(),a=o.filter(d=>d.side==="start"),l=o.filter(d=>d.side!=="start"),c=Ae(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&ir("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),z(He,Object.assign({key:"c05655ff06af8d0e48c2a85396b07ad942fa81b4",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:wn(this.color,Object.assign(Object.assign({[c]:!0},or(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),z("div",{key:"9393ead4de1bf28529661d6f64049d34e18d725c",class:u},z("div",{key:"3e9dd73c17c337849c3f26e8d0f395b3e5ee20a7",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&z("ion-icon",{key:"5d15b18364301ad55e44e9f601014ac33181590b",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),z("div",{key:"f6dd164502637a882c5caf18445d8509b85ad6f9",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&r!==void 0&&this.renderHeader("oldHeader","true"),!i&&s!==void 0&&this.renderToastMessage("oldMessage","true"),i&&r!==void 0&&this.renderHeader("header"),i&&s!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:mre,md:bre}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),yre=t=>({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0}),_re=t=>gd(t.role)?"button cancel":"button";function xre(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,vre);break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}const wre=xre;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tre=J9,Ere="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",Sre=Ere,kre=$e(class extends Fe{constructor(){super(),this.__registerHost()}componentDidLoad(){Are(async()=>{const e=Fo(window,"hybrid");if(Ke.getBoolean("_testing")||xi(()=>import("./index9-DSZtybMM.js"),[]).then(r=>r.startTapClick(Ke)),Ke.getBoolean("statusTap",e)&&xi(()=>import("./status-tap-DfuOhMlf.js"),[]).then(r=>r.startStatusTap()),Ke.getBoolean("inputShims",Cre())){const r=Fo(window,"ios")?"ios":"android";xi(()=>import("./input-shims-CUhCrMI2.js"),[]).then(s=>s.startInputShims(Ke,r))}const n=await xi(()=>Promise.resolve().then(()=>GQ),void 0),i=e||v0();Ke.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(v0()&&ir("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&xi(()=>Promise.resolve().then(()=>jne),void 0).then(r=>r.startKeyboardAssist(window)),xi(()=>import("./focus-visible-supuXXMI.js"),[]).then(r=>this.focusVisible=r.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Ae(this);return z(He,{key:"96715520fd05d6f0e6fa26a8ba78792cfccd4c0a",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Ke.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return Sre}},[0,"ion-app",{setFocus:[64]}]),Cre=()=>!!(Fo(window,"ios")&&Fo(window,"mobile")||Fo(window,"android")&&Fo(window,"mobileweb")),Are=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function Ire(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,kre);break}})}const Dre=Ire;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rre=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',Pre=Rre,Ore=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',Lre=Ore,Mre=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):kw(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=wp(this.el),this.defaultHref===void 0&&(this.defaultHref=Ke.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:Ae(this)==="ios"?Ke.get("backButtonIcon",dZ):Ke.get("backButtonIcon",cZ)}get backButtonText(){const e=Ae(this)==="ios"?"Back":null;return this.text!=null?this.text:Ke.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:r,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=n!==void 0,d=Ae(this),h=c["aria-label"]||a||"back";return z(He,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:wn(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":s,"in-toolbar":mn("ion-toolbar",this.el),"in-toolbar-color":mn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},z("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:r,disabled:i,class:"button-native",part:"native","aria-label":h},z("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},o&&z("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&z("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&z("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:Pre,md:Lre}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function Nre(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Mre);break;case"ion-icon":customElements.get(e)||Jc();break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}const Bre=Nre,Ure=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Fre=Ure,Vre=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ve(this,"ionNavWillLoad",7),this.ionNavWillChange=ve(this,"ionNavWillChange",3),this.ionNavDidChange=ve(this,"ionNavDidChange",3),this.lockController=Ep(),this.gestureOrAnimationInProgress=!1,this.mode=Ae(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await xi(()=>import("./swipe-back-BGoC_k_y.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=Uf([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Uf([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,s,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const r=await this.lockController.lock();let s=!1;try{s=await this.transition(e,n,i)}catch(o){console.error(o)}return r(),s}async setRouteId(e,n,i,r){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&d9(n,this.activeParams))return!1;const r=this.activeEl,s=await db(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=s,this.activeParams=n,await this.commit(s,r,i),await VA(this.delegate,r),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:s}=this,o=this.animated&&Ke.getBoolean("animated",!0),a=i.animationBuilder||this.animation||Ke.get("navAnimation");return await m9(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:n,baseEl:r,deepWait:m0(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return z("slot",{key:"a70341f58d19df55de1dad00e3464388e446aa2a"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Fre}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function $re(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,Vre);break}})}const jre=$re;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zre=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",Hre=zre,qre=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",Gre=qre,Wre=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ve(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ve(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await Y9(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,r=Ae(this),s=i&&this.el.getAttribute("slot")!=="top";return z(He,{key:"a87fd2ea5df053705a37ea7ffec043e75c4a9907",role:"tablist","aria-hidden":s?"true":null,class:wn(e,{[r]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},z("slot",{key:"81a6223299b6cab29d7ddced590e9152e2b3ded0"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:Hre,md:Gre}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function Yre(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,Wre);break}})}const Xre=Yre;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kre=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',Qre=Kre,Zre=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',Jre=Zre,ese=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ve(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},yl(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Ke.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:r,rel:s,target:o,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=Ae(this),h={download:this.download,href:r,rel:s,target:o};return z(He,{key:"5976c45943ea7ea8e7c1a85fc9996de421439f08",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},z("a",Object.assign({key:"1db09d861b67ff292018fb4b0dc7b85bd4677eb8"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),z("span",{key:"4381eafcb27e8c7bb0d86d4f115ceb0caf03b9b4",class:"button-inner"},z("slot",{key:"1981135f6fbb88376c1bd923c55c70fe8b5c5159"})),d==="md"&&z("ion-ripple-effect",{key:"0509bc7155d055d1ed710600e9cf4df135881491",type:"unbounded"})))}get el(){return this}static get style(){return{ios:Qre,md:Jre}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function tse(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,ese);break;case"ion-ripple-effect":customElements.get(e)||Fs();break}})}const nse=tse;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ise=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",rse=ise,sse=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ve(this,"ionNavWillLoad",7),this.ionTabsWillChange=ve(this,"ionTabsWillChange",3),this.ionTabsDidChange=ve(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:n,tab:i}=e.detail;if(this.useRouter&&n!==void 0){const r=document.querySelector("ion-router");r&&r.push(n)}else this.select(i)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const n=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=n}}async select(e){const n=RE(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return RE(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=RE(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return z(He,{key:"e01ccf6bfaccad094515be50e407399c733fc226",onIonTabButtonClick:this.onTabClicked},z("slot",{key:"38d2d01dbfd8a08f01e6f0e27274b21d75424e37",name:"top"}),z("div",{key:"7e894f0f423e2d43e1c68daff5f9f6c442fad237",class:"tabs-inner"},z("slot",{key:"df16be529a0370a26d0adf850530b31607507c23"})),z("slot",{key:"44642e1cb24c3281c43db75fd69a32fe0defe40a",name:"bottom"}))}get el(){return this}static get style(){return rse}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),RE=(t,e)=>{const n=typeof e=="string"?t.find(i=>i.tab===e):e;return n||console.error('tab with id: "'.concat(n,'" does not exist')),n};function ose(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,sse);break}})}const ase=ose;let PE;const lse=()=>{if(typeof window>"u")return new Map;if(!PE){const t=window;t.Ionicons=t.Ionicons||{},PE=t.Ionicons.map=t.Ionicons.map||new Map}return PE},cse=t=>{let e=OE(t.src);return e||(e=uU(t.name,t.icon,t.mode,t.ios,t.md),e?use(e,t):t.icon&&(e=OE(t.icon),e||(e=OE(t.icon[t.mode]),e))?e:null)},use=(t,e)=>{const n=lse().get(t);if(n)return n;try{return GB("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},uU=(t,e,n,i,r)=>(n=(n&&Wv(n))==="ios"?"ios":"md",i&&n==="ios"?t=Wv(i):r&&n==="md"?t=Wv(r):(!t&&e&&!dU(e)&&(t=e),j_(t)&&(t=Wv(t))),!j_(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),OE=t=>j_(t)&&(t=t.trim(),dU(t))?t:null,dU=t=>t.length>0&&/(\/|\.)/.test(t),j_=t=>typeof t=="string",Wv=t=>t.toLowerCase(),dse=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},hse=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",fse=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),hU(n))return e.innerHTML}return""},hU=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(j_(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!hU(t.childNodes[e]))return!1}return!0},pse=t=>t.startsWith("data:image/svg+xml"),mse=t=>t.indexOf(";utf8,")!==-1,Uu=new Map,eL=new Map;let LE;const gse=(t,e)=>{let n=eL.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(pse(t)&&mse(t)){LE||(LE=new DOMParser);const r=LE.parseFromString(t,"text/html").querySelector("svg");return r&&Uu.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=fse(r)),Uu.set(t,r||"")});Uu.set(t,"")}),eL.set(t,n);else return Uu.set(t,""),Promise.resolve();return n},bse=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",vse=$e(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=yse(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=dse(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=cse(this);e&&(Uu.has(e)?this.svgContent=Uu.get(e):gse(e,this.sanitize).then(()=>this.svgContent=Uu.get(e)),this.didLoadIcon=!0)}this.iconName=uU(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return z(He,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},_se(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&hse(r)})},i),this.svgContent?z("div",{class:"icon-inner",innerHTML:this.svgContent}):z("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return bse}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),yse=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",_se=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function xse(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,vse);break}})}const wse=xse,lI=J.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),Tse=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(i=>i.id===t.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),e=e.filter(i=>i.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},go=J.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),cI=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Rw=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),Pw=(t,e,n={})=>{if(t instanceof Element){const i=Ese(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const s=r.substring(2),o=s[0].toLowerCase()+s.substring(1);yb(o)||kse(t,o,e[r])}else t[r]=e[r],typeof e[r]==="string"&&t.setAttribute(Rw(r),e[r])})}},Ese=(t,e,n)=>{const i=e.className||e.class,r=n.className||n.class,s=ME(t),o=ME(i?i.split(" "):[]),a=ME(r?r.split(" "):[]),l=[];return s.forEach(c=>{o.has(c)?(l.push(c),o.delete(c)):a.has(c)||l.push(c)}),o.forEach(c=>l.push(c)),l.join(" ")},Sse=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const yb=t=>{if(typeof document>"u")return!0;{const e="on"+Sse(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},kse=(t,e,n)=>{const i=t.__events||(t.__events={}),r=i[e];r&&t.removeEventListener(e,r),t.addEventListener(e,i[e]=function(o){n&&n.call(this,o)})},ME=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},Cse=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},Ow=(...t)=>e=>{t.forEach(n=>{Cse(n,e)})},Ase=(t,e)=>{const n=(i,r)=>J.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,J.forwardRef(n)},Ise=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},yt=(t,e,n,i)=>{i!==void 0&&i();const r=cI(t),s=class extends J.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){Pw(this.componentEl,this.props,o)}render(){const o=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=o,h=gn(o,["children","forwardedRef","style","className","ref"]);let m=Object.keys(h).reduce((g,w)=>{const y=h[w];if(w.indexOf("on")===0&&w[2]===w[2].toUpperCase()){const T=w.substring(2).toLowerCase();typeof document<"u"&&yb(T)&&(g[w]=y)}else{const T=typeof y;(T==="string"||T==="boolean"||T==="number")&&(g[Rw(w)]=y)}return g},{});const b=Object.assign(Object.assign({},m),{ref:Ow(l,this.setComponentElRef),style:c});return te.createElement(t,b,a)}static get displayName(){return r}};return Ase(s,r)},Lc=yt("ion-avatar",void 0,void 0,MZ),uI=yt("ion-buttons",void 0,void 0,GZ),fU=yt("ion-card-content",void 0,void 0,JZ),pU=yt("ion-card-header",void 0,void 0,oJ),Dse=yt("ion-card-subtitle",void 0,void 0,fJ),dI=yt("ion-card-title",void 0,void 0,_J),Rse=yt("ion-chip",void 0,void 0,FJ),Ls=yt("ion-content",void 0,void 0,GJ),Pse=yt("ion-footer",void 0,void 0,Mee),Mc=yt("ion-header",void 0,void 0,Gee),_b=yt("ion-img",void 0,void 0,Zee),z_=yt("ion-input",void 0,void 0,gte),Si=yt("ion-label",void 0,void 0,Ste),af=yt("ion-list",void 0,void 0,Rte),NE=yt("ion-list-header",void 0,void 0,Bte),Ose=yt("ion-segment",void 0,void 0,rne),Yv=yt("ion-segment-button",void 0,void 0,hne),Lo=yt("ion-select",void 0,void 0,Bie),Mo=yt("ion-select-option",void 0,void 0,zie),Nc=yt("ion-spinner",void 0,void 0,Hie),Lse=yt("ion-tab",void 0,void 0,Xie),Bc=yt("ion-title",void 0,void 0,Kie),uo=yt("ion-toolbar",void 0,void 0,Qie),Md=(t,e)=>{const n=(i,r)=>J.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,J.forwardRef(n)},hI=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},fI=(t,e)=>{Ise(t,e);const n=cI(t),i=class extends J.Component{constructor(r){super(r),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,c,l))},this.ref=J.createRef(),this.stableMergedRefs=Ow(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const s=this.ref.current;Pw(s,this.props,r)}render(){const r=this.props,{children:s,forwardedRef:o,style:a,className:l,ref:c}=r,u=gn(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((m,b)=>{if(b.indexOf("on")===0&&b[2]===b[2].toUpperCase()){const g=b.substring(2).toLowerCase();yb(g)&&(m[b]=u[b])}else["string","boolean","number"].includes(typeof u[b])&&(m[Rw(b)]=u[b]);return m},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const m=h.onClick;h.onClick=b=>{m(b),b.defaultPrevented||this.handleClick(b)}}else h.onClick=this.handleClick;return te.createElement(t,h,s)}static get displayName(){return n}static get contextType(){return go}};return Md(i,n)},ai=fI("ion-button",Zie),pI=fI("ion-card",rre),vs=fI("ion-item",sre),Mse=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);yb(r)||Nse(t,r)}})},Nse=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},Bse=(t,e,n)=>{e&&e();const i=cI(t),r=class extends J.Component{constructor(s){super(s),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=o=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(o)},this.handleDidDismiss=o=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(o)},this.ref=J.createRef(),this.stableMergedRefs=Ow(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=J.createRef()}componentDidMount(){var s,o,a;this.componentDidUpdate(this.props),(s=this.ref.current)===null||s===void 0||s.addEventListener("ionMount",this.handleIonMount),(o=this.ref.current)===null||o===void 0||o.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(s){const o=this.ref.current,a=this.props,l=gn(a,["onDidDismiss","onWillPresent"]);Pw(o,l,s)}componentWillUnmount(){const s=this.ref.current;s&&this.state.isOpen&&(s.removeEventListener("didDismiss",this.handleDidDismiss),s.remove(),Mse(s,this.props))}render(){const s=this.props,{children:o,forwardedRef:a,style:l,className:c,ref:u}=s,d=gn(s,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((g,w)=>{if(w.indexOf("on")===0&&w[2]===w[2].toUpperCase()){const y=w.substring(2).toLowerCase();yb(y)&&(g[w]=d[w])}else["string","boolean","number"].includes(typeof d[w])&&(g[Rw(w)]=d[w]);return g},{}),m=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),b=()=>n?"".concat(tL," ion-page"):tL;return te.createElement("template",{},te.createElement(t,m,this.state.isOpen||this.props.keepContentsMounted?te.createElement("div",{ref:this.wrapperRef,className:b()},o):null))}static get displayName(){return i}};return Md(r,i)},tL="ion-delegate-host",Use=Bse("ion-action-sheet",Tre),Fse=J.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),Vse=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=te.useState({}),r=te.useRef({});te.useEffect(()=>{t(s),e(o)},[]);const s=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},r.current=d,i(d)},o=l=>{const c=Object.assign({},r.current);delete c[l],r.current=c,i(c)},a=Object.keys(n);return J.createElement(J.Fragment,null,a.map(l=>{const c=n[l];return fW.createPortal(c.component,c.containerElement,"overlay-".concat(l))}))},$se=yt("ion-tab-button",void 0,void 0,nse),jse=yt("ion-tab-bar",void 0,void 0,Xre),nL=yt("ion-tabs",void 0,void 0,ase),zse=yt("ion-back-button",void 0,void 0,Bre),i2=yt("ion-router-outlet",void 0,void 0,jre),Hse=yt("ion-app",void 0,void 0,Dre),qse=yt("ion-icon",void 0,void 0,wse),Gse=class extends J.Component{constructor(t){super(t),this.ionContext={addOverlay:(e,n,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,n,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return J.createElement(Fse.Provider,{value:this.ionContext},J.createElement(Hse,Object.assign({},this.props),this.props.children),J.createElement(Vse,{onAddOverlay:t=>{this.addOverlayCallback=t},onRemoveOverlay:t=>{this.removeOverlayCallback=t}}))}static get displayName(){return"IonApp"}},mI=J.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class gI extends J.PureComponent{constructor(e){super(e),this.ionPageElementRef=J.createRef(),this.stableMergedRefs=Ow(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:i,routeInfo:r,forwardedRef:s}=e,o=gn(e,["className","children","routeInfo","forwardedRef"]);return J.createElement(lI.Consumer,null,a=>(this.ionLifeCycleContext=a,J.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:this.stableMergedRefs},o),i)))}static get contextType(){return mI}}class Wse extends J.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:i,forwardedRef:r}=e,s=gn(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?J.createElement(gI,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:r},s),i):J.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:r},s),i)}static get displayName(){return"IonPage"}static get contextType(){return go}}const Ms=Md(Wse,"IonPage"),iL={main:0},x0=(t="main")=>{var e;const n=((e=iL[t])!==null&&e!==void 0?e:0)+1;return iL[t]=n,n.toString()},Yse=(t,e)=>{const n=new WeakMap,i="react-delegate-".concat(x0());let r=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const h=l(c),m="".concat(i,"-").concat(r++),b=VC.createPortal(h,d,m);return n.set(d,b),t(b),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},Xse=yt("ion-nav",void 0,void 0,zte),Kse=t=>{var{children:e,forwardedRef:n}=t,i=gn(t,["children","forwardedRef"]);const[r,s]=te.useState([]),o=c=>s(u=>[...u,c]),a=c=>s(u=>u.filter(d=>d!==c)),l=te.useMemo(()=>Yse(o,a),[]);return J.createElement(Xse,Object.assign({delegate:l,ref:n},i),r)};Md(Kse,"IonNav");const mU=J.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:J.createRef()}}),Qse=typeof HTMLElement<"u"?HTMLElement:class{};class Zse extends J.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Pc(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:i,routeInfo:r}=e,s=gn(e,["StackManager","children","routeInfo"]);return J.createElement(lI.Consumer,null,o=>(this.ionLifeCycleContext=o,J.createElement(n,{routeInfo:r},J.createElement(i2,Object.assign({setRef:a=>this.ionRouterOutlet=a},s),i))))}static get contextType(){return mI}}class Jse extends J.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:i,forwardedRef:r}=n,s=gn(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?s.ionPage?J.createElement(Zse,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},s),i):J.createElement(e,{routeInfo:this.context.routeInfo},J.createElement(i2,Object.assign({},s,{forwardedRef:r}),i)):J.createElement(i2,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return go}}const Hh=Md(Jse,"IonRouterOutlet");class eoe extends Qse{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",eoe));const toe=class extends J.Component{constructor(t){super(t),this.routerOutletRef=J.createRef(),this.tabBarRef=J.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=t=>{this.ionTabContextState.activeTab=t},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(t,e){return J.createElement(nL,Object.assign({},this.props),J.Children.map(t,n=>J.isValidElement(n)&&(n.type===Hh||n.type.isRouterOutlet||n.type===te.Fragment&&n.props.children[0].type===Hh)?e:n))}render(){let t,e=!1;const n=this.props,{className:i,onIonTabsDidChange:r,onIonTabsWillChange:s}=n,o=gn(n,["className","onIonTabsDidChange","onIonTabsWillChange"]),a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(J.Children.forEach(a,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===Hh||l.type.isRouterOutlet?t=J.cloneElement(l):l.type===te.Fragment&&l.props.children[0].type===Hh?t=J.cloneElement(l.props.children[0]):l.type===Lse&&(e=!0),this.ionTabContextState.hasRouterOutlet=!!t;let c=Object.assign({},this.ionTabContextState.tabBarProps);r!==void 0&&(c=Object.assign(Object.assign({},c),{onIonTabsDidChange:r})),s!==void 0&&(c=Object.assign(Object.assign({},c),{onIonTabsWillChange:s})),this.ionTabContextState.tabBarProps=c}),!t&&!e)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(t&&e)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return e?J.createElement(nL,Object.assign({},this.props)):J.createElement(mU.Provider,{value:this.ionTabContextState},this.context.hasIonicRouter()?J.createElement(gI,Object.assign({className:i?"".concat(i):"",routeInfo:this.context.routeInfo},o),this.renderTabsInner(a,t)):this.renderTabsInner(a,t))}static get contextType(){return go}},Fu=class extends J.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=gn(t,["onClick"]);return J.createElement($se,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}};class noe extends J.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};J.Children.forEach(e.children,i=>{var r,s,o,a;i!=null&&typeof i=="object"&&i.props&&(i.type===Fu||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions:void 0,currentRouteOptions:i.props.href===((o=e.routeInfo)===null||o===void 0?void 0:o.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const s=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(s)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var i,r,s;const o=Object.assign({},n.tabs),l=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});J.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Fu||u.type.isTabButton)){const d=o[u.props.tab];(!d||d.originalHref!==u.props.href)&&(o[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=n;if(l&&c){const u=n.tabs[c].currentHref,d=n.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(o[l]={originalHref:o[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[l].originalRouteOptions,currentRouteOptions:(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(o[c]={originalHref:o[c].originalHref,currentHref:o[c].originalHref,originalRouteOptions:o[c].originalRouteOptions,currentRouteOptions:o[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:o}}onTabButtonClick(e,n){var i;const r=this.state.tabs[e.detail.tab],s=r.originalHref,o=(i=this.props.tabsContext)===null||i===void 0?void 0:i.hasRouterOutlet,a=o?e.detail.href:"",{activeTab:l}=this.state;n&&n(e),l===e.detail.tab?s!==a&&this.context.resetTab(e.detail.tab,s,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,a,e.detail.routeOptions)))}renderTabButton(e){return n=>{var i,r;if(n!=null&&n.props&&(n.type===Fu||n.type.isTabButton)){const s=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,o=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return J.cloneElement(n,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return J.createElement(jse,Object.assign({},this.props,{selectedTab:e}),J.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return go}}const ioe=J.memo(t=>{var{forwardedRef:e}=t,n=gn(t,["forwardedRef"]);const i=te.useContext(go),r=te.useContext(mU),s=e||r.tabBarProps.ref,o=Object.assign(Object.assign({},r.tabBarProps),{ref:s});return J.createElement(noe,Object.assign({ref:s},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab,tabsContext:Object.assign(Object.assign({},r),{tabBarProps:o})}),n.children)}),roe=Md(ioe,"IonTabBar"),bI=class extends J.Component{constructor(){super(...arguments),this.clickButton=t=>{if(t.target&&t.target.closest("ion-nav")!==null)return;const{defaultHref:e,routerAnimation:n}=this.props;this.context.hasIonicRouter()?(t.stopPropagation(),this.context.goBack(e,n)):e!==void 0&&(window.location.href=e)}}render(){return J.createElement(zse,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return go}};class soe extends J.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const i=this.props,{icon:r,ios:s,md:o,mode:a}=i,l=gn(i,["icon","ios","md","mode"]);let c;const u=hI(),d=a||(u==null?void 0:u.get("mode"));return s||o?d==="ios"?c=(e=s!=null?s:o)!==null&&e!==void 0?e:r:c=(n=o!=null?o:s)!==null&&n!==void 0?n:r:c=r,J.createElement(qse,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return go}}const ki=Md(soe,"IonIcon");class vI extends J.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!vI?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):J.createElement(e,Object.assign({},this.props))}static get contextType(){return go}}class gU extends J.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!gU?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):J.createElement(e,Object.assign({},this.props))}static get contextType(){return go}}const bU=J.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function Lw(){const t=te.useContext(bU);return te.useMemo(()=>({back:t.back,push:t.push,goBack:t.back,canGoBack:t.canGoBack,routeInfo:t.routeInfo}),[t.back,t.push,t.canGoBack,t.routeInfo])}class OAe extends J.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Ie(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),rL(n,e),sL(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;rL(n,i,e),ooe(n,i,e),sL(n,i,e)}render(){const{children:e}=this.props;return J.createElement(J.Fragment,null,J.Children.map(e,(n,i)=>J.cloneElement(n,{ref:r=>this.nodes.set(i,r)})))}}const rL=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const r=e.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach(c=>t.from(c.property,c.value));const s=e.to;s&&s!==n.to&&(Array.isArray(s)?s:[s]).forEach(c=>t.to(c.property,c.value));const o=e.fromTo;o&&o!==n.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},ooe=(t,e={},n={})=>{var i,r,s,o,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=n.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=n.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&t.progressStart(l.forceLinearEasing,l.step),c&&((s=n.progressStep)===null||s===void 0?void 0:s.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),u&&(((o=n.progressEnd)===null||o===void 0?void 0:o.playTo)!==(u==null?void 0:u.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(n==null?void 0:n.dur)!==(u==null?void 0:u.dur))&&t.progressEnd(u.playTo,u.step,u.dur)},sL=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};function vU(t,e,n){const i=te.useRef(),r=te.useMemo(()=>"on".concat(t,"DidDismiss"),[t]),s=te.useMemo(()=>"on".concat(t,"DidPresent"),[t]),o=te.useMemo(()=>"on".concat(t,"WillDismiss"),[t]),a=te.useMemo(()=>"on".concat(t,"WillPresent"),[t]);n();const l=te.useCallback(async u=>{if(i.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:m,onWillPresent:b}=u,g=gn(u,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]),w=y=>{d&&d(y),i.current=void 0};i.current=await e.create(Object.assign({},g)),Pw(i.current,{[r]:w,[s]:y=>m&&m(y),[o]:y=>h&&h(y),[a]:y=>b&&b(y)}),i.current.present()},[e]),c=te.useCallback(async()=>{i.current&&await i.current.dismiss(),i.current=void 0},[]);return{present:l,dismiss:c}}function xb(){const t=vU("IonAlert",C9,ore);return[te.useCallback((n,i)=>typeof n=="string"?t.present({message:n,buttons:i!=null?i:[{text:"Ok"}]}):t.present(n),[t.present]),t.dismiss]}function wb(){const t=vU("IonToast",QQ,wre);return[te.useCallback((n,i)=>typeof n=="string"?t.present({message:n,duration:i}):t.present(n),[t.present]),t.dismiss]}const aoe=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),sQ(Object.assign({},t))},yU=J.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class oL extends J.Component{constructor(e){super(e),this.ionLifeCycleContext=new Tse,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return J.createElement(lI.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class loe{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(r=>r.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(s=>s.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const r=n[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class coe extends J.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,r,s,o)=>{this.navigate(n,i,r,o,s)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",r,s,o){this.props.onNavigate(e,i,n,r,s,o)}getPageManager(){return gI}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return J.createElement(go.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},J.createElement(bU.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class uoe{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const r=i.find(s=>s.id===e.id);r&&(r.mount=!1,this.viewStacks[n]=i.filter(s=>s.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r2(t,e)}function Uc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r2(t,e)}var _U={exports:{}},doe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hoe=doe,foe=hoe;function xU(){}function wU(){}wU.resetWarningCache=xU;var poe=function(){function t(i,r,s,o,a,l){if(l!==foe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wU,resetWarningCache:xU};return n.PropTypes=n,n};_U.exports=poe();var moe=_U.exports;const aL=da(moe);function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ft.apply(null,arguments)}const goe=Object.freeze(Object.defineProperty({__proto__:null,get default(){return ft}},Symbol.toStringTag,{value:"Module"}));function Xv(t){return t.charAt(0)==="/"}function BE(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function boe(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&Xv(t),s=e&&Xv(e),o=r||s;if(t&&Xv(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?BE(i,u):d===".."?(BE(i,u),c++):c&&(BE(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");o&&i[0]!==""&&(!i[0]||!Xv(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function lL(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Dy(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(r,s){return Dy(r,e[s])});if(typeof t=="object"||typeof e=="object"){var n=lL(t),i=lL(e);return n!==t||i!==e?Dy(n,i):Object.keys(Object.assign({},t,e)).every(function(r){return Dy(t[r],e[r])})}return!1}var voe="Invariant failed";function Nd(t,e){throw new Error(voe)}function Ag(t){return t.charAt(0)==="/"?t:"/"+t}function cL(t){return t.charAt(0)==="/"?t.substr(1):t}function yoe(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function TU(t,e){return yoe(t,e)?t.substr(e.length):t}function EU(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function _oe(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function gs(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function kr(t,e,n,i){var r;typeof t=="string"?(r=_oe(t),r.state=e):(r=ft({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=boe(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function xoe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Dy(t.state,e.state)}function yI(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,l,c){if(t!=null){var u=typeof t=="function"?t(o,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:s}}var SU=!!(typeof window<"u"&&window.document&&window.document.createElement);function kU(t,e){e(window.confirm(t))}function woe(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Toe(){return window.navigator.userAgent.indexOf("Trident")===-1}function Eoe(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Soe(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var uL="popstate",dL="hashchange";function hL(){try{return window.history.state||{}}catch(t){return{}}}function koe(t){t===void 0&&(t={}),SU||Nd();var e=window.history,n=woe(),i=!Toe(),r=t,s=r.forceRefresh,o=s===void 0?!1:s,a=r.getUserConfirmation,l=a===void 0?kU:a,c=r.keyLength,u=c===void 0?6:c,d=t.basename?EU(Ag(t.basename)):"";function h(ne){var Y=ne||{},pe=Y.key,ge=Y.state,De=window.location,Ne=De.pathname,ue=De.search,Ee=De.hash,ye=Ne+ue+Ee;return d&&(ye=TU(ye,d)),kr(ye,ge,pe)}function m(){return Math.random().toString(36).substr(2,u)}var b=yI();function g(ne){ft(ee,ne),ee.length=e.length,b.notifyListeners(ee.location,ee.action)}function w(ne){Soe(ne)||k(h(ne.state))}function y(){k(h(hL()))}var T=!1;function k(ne){if(T)T=!1,g();else{var Y="POP";b.confirmTransitionTo(ne,Y,l,function(pe){pe?g({action:Y,location:ne}):D(ne)})}}function D(ne){var Y=ee.location,pe=B.indexOf(Y.key);pe===-1&&(pe=0);var ge=B.indexOf(ne.key);ge===-1&&(ge=0);var De=pe-ge;De&&(T=!0,L(De))}var P=h(hL()),B=[P.key];function O(ne){return d+gs(ne)}function A(ne,Y){var pe="PUSH",ge=kr(ne,Y,m(),ee.location);b.confirmTransitionTo(ge,pe,l,function(De){if(De){var Ne=O(ge),ue=ge.key,Ee=ge.state;if(n)if(e.pushState({key:ue,state:Ee},null,Ne),o)window.location.href=Ne;else{var ye=B.indexOf(ee.location.key),Ye=B.slice(0,ye+1);Ye.push(ge.key),B=Ye,g({action:pe,location:ge})}else window.location.href=Ne}})}function R(ne,Y){var pe="REPLACE",ge=kr(ne,Y,m(),ee.location);b.confirmTransitionTo(ge,pe,l,function(De){if(De){var Ne=O(ge),ue=ge.key,Ee=ge.state;if(n)if(e.replaceState({key:ue,state:Ee},null,Ne),o)window.location.replace(Ne);else{var ye=B.indexOf(ee.location.key);ye!==-1&&(B[ye]=ge.key),g({action:pe,location:ge})}else window.location.replace(Ne)}})}function L(ne){e.go(ne)}function U(){L(-1)}function V(){L(1)}var M=0;function ae(ne){M+=ne,M===1&&ne===1?(window.addEventListener(uL,w),i&&window.addEventListener(dL,y)):M===0&&(window.removeEventListener(uL,w),i&&window.removeEventListener(dL,y))}var he=!1;function K(ne){ne===void 0&&(ne=!1);var Y=b.setPrompt(ne);return he||(ae(1),he=!0),function(){return he&&(he=!1,ae(-1)),Y()}}function fe(ne){var Y=b.appendListener(ne);return ae(1),function(){ae(-1),Y()}}var ee={length:e.length,action:"POP",location:P,createHref:O,push:A,replace:R,go:L,goBack:U,goForward:V,block:K,listen:fe};return ee}var fL="hashchange",Coe={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+cL(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:cL,decodePath:Ag},slash:{encodePath:Ag,decodePath:Ag}};function CU(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Pm(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Aoe(t){window.location.hash=t}function UE(t){window.location.replace(CU(window.location.href)+"#"+t)}function Ioe(t){t===void 0&&(t={}),SU||Nd();var e=window.history;Eoe();var n=t,i=n.getUserConfirmation,r=i===void 0?kU:i,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?EU(Ag(t.basename)):"",l=Coe[o],c=l.encodePath,u=l.decodePath;function d(){var Y=u(Pm());return a&&(Y=TU(Y,a)),kr(Y)}var h=yI();function m(Y){ft(ne,Y),ne.length=e.length,h.notifyListeners(ne.location,ne.action)}var b=!1,g=null;function w(Y,pe){return Y.pathname===pe.pathname&&Y.search===pe.search&&Y.hash===pe.hash}function y(){var Y=Pm(),pe=c(Y);if(Y!==pe)UE(pe);else{var ge=d(),De=ne.location;if(!b&&w(De,ge)||g===gs(ge))return;g=null,T(ge)}}function T(Y){if(b)b=!1,m();else{var pe="POP";h.confirmTransitionTo(Y,pe,r,function(ge){ge?m({action:pe,location:Y}):k(Y)})}}function k(Y){var pe=ne.location,ge=O.lastIndexOf(gs(pe));ge===-1&&(ge=0);var De=O.lastIndexOf(gs(Y));De===-1&&(De=0);var Ne=ge-De;Ne&&(b=!0,U(Ne))}var D=Pm(),P=c(D);D!==P&&UE(P);var B=d(),O=[gs(B)];function A(Y){var pe=document.querySelector("base"),ge="";return pe&&pe.getAttribute("href")&&(ge=CU(window.location.href)),ge+"#"+c(a+gs(Y))}function R(Y,pe){var ge="PUSH",De=kr(Y,void 0,void 0,ne.location);h.confirmTransitionTo(De,ge,r,function(Ne){if(Ne){var ue=gs(De),Ee=c(a+ue),ye=Pm()!==Ee;if(ye){g=ue,Aoe(Ee);var Ye=O.lastIndexOf(gs(ne.location)),Ut=O.slice(0,Ye+1);Ut.push(ue),O=Ut,m({action:ge,location:De})}else m()}})}function L(Y,pe){var ge="REPLACE",De=kr(Y,void 0,void 0,ne.location);h.confirmTransitionTo(De,ge,r,function(Ne){if(Ne){var ue=gs(De),Ee=c(a+ue),ye=Pm()!==Ee;ye&&(g=ue,UE(Ee));var Ye=O.indexOf(gs(ne.location));Ye!==-1&&(O[Ye]=ue),m({action:ge,location:De})}})}function U(Y){e.go(Y)}function V(){U(-1)}function M(){U(1)}var ae=0;function he(Y){ae+=Y,ae===1&&Y===1?window.addEventListener(fL,y):ae===0&&window.removeEventListener(fL,y)}var K=!1;function fe(Y){Y===void 0&&(Y=!1);var pe=h.setPrompt(Y);return K||(he(1),K=!0),function(){return K&&(K=!1,he(-1)),pe()}}function ee(Y){var pe=h.appendListener(Y);return he(1),function(){he(-1),pe()}}var ne={length:e.length,action:"POP",location:B,createHref:A,push:R,replace:L,go:U,goBack:V,goForward:M,block:fe,listen:ee};return ne}function pL(t,e,n){return Math.min(Math.max(t,e),n)}function Doe(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,c=yI();function u(A){ft(O,A),O.length=O.entries.length,c.notifyListeners(O.location,O.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=pL(o,0,r.length-1),m=r.map(function(A){return typeof A=="string"?kr(A,void 0,d()):kr(A,void 0,A.key||d())}),b=gs;function g(A,R){var L="PUSH",U=kr(A,R,d(),O.location);c.confirmTransitionTo(U,L,n,function(V){if(V){var M=O.index,ae=M+1,he=O.entries.slice(0);he.length>ae?he.splice(ae,he.length-ae,U):he.push(U),u({action:L,location:U,index:ae,entries:he})}})}function w(A,R){var L="REPLACE",U=kr(A,R,d(),O.location);c.confirmTransitionTo(U,L,n,function(V){V&&(O.entries[O.index]=U,u({action:L,location:U}))})}function y(A){var R=pL(O.index+A,0,O.entries.length-1),L="POP",U=O.entries[R];c.confirmTransitionTo(U,L,n,function(V){V?u({action:L,location:U,index:R}):u()})}function T(){y(-1)}function k(){y(1)}function D(A){var R=O.index+A;return R>=0&&R<O.entries.length}function P(A){return A===void 0&&(A=!1),c.setPrompt(A)}function B(A){return c.appendListener(A)}var O={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:b,push:g,replace:w,go:y,goBack:T,goForward:k,canGo:D,block:P,listen:B};return O}var kp={exports:{}},Roe=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},H_=Roe;kp.exports=DU;kp.exports.parse=_I;kp.exports.compile=Loe;kp.exports.tokensToFunction=AU;kp.exports.tokensToRegExp=IU;var Poe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function _I(t,e){for(var n=[],i=0,r=0,s="",o=e&&e.delimiter||"/",a;(a=Poe.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(s+=t.slice(r,u),r=u+l.length,c){s+=c[1];continue}var d=t[r],h=a[2],m=a[3],b=a[4],g=a[5],w=a[6],y=a[7];s&&(n.push(s),s="");var T=h!=null&&d!=null&&d!==h,k=w==="+"||w==="*",D=w==="?"||w==="*",P=h||o,B=b||g,O=h||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:m||i++,prefix:h||"",delimiter:P,optional:D,repeat:k,partial:T,asterisk:!!y,pattern:B?Boe(B):y?".*":Ooe(P,O)})}return r<t.length&&(s+=t.substr(r)),s&&n.push(s),n}function Ooe(t,e){return!e||e.indexOf(t)>-1?"[^"+Vu(t)+"]+?":Vu(e)+"|(?:(?!"+Vu(e)+")[^"+Vu(t)+"])+?"}function Loe(t,e){return AU(_I(t,e),e)}function Moe(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Noe(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function AU(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",wI(e)));return function(r,s){for(var o="",a=r||{},l=s||{},c=l.pretty?Moe:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){o+=d;continue}var h=a[d.name],m;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(H_(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var b=0;b<h.length;b++){if(m=c(h[b]),!n[u].test(m))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(m)+"`");o+=(b===0?d.prefix:d.delimiter)+m}continue}if(m=d.asterisk?Noe(h):c(h),!n[u].test(m))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+m+'"');o+=d.prefix+m}return o}}function Vu(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Boe(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function xI(t,e){return t.keys=e,t}function wI(t){return t&&t.sensitive?"":"i"}function Uoe(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return xI(t,e)}function Foe(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(DU(t[r],e,n).source);var s=new RegExp("(?:"+i.join("|")+")",wI(n));return xI(s,e)}function Voe(t,e,n){return IU(_I(t,n),e,n)}function IU(t,e,n){H_(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Vu(a);else{var l=Vu(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var u=Vu(n.delimiter||"/"),d=s.slice(-u.length)===u;return i||(s=(d?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),r?s+="$":s+=i&&d?"":"(?="+u+"|$)",xI(new RegExp("^"+s,wI(n)),e)}function DU(t,e,n){return H_(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Uoe(t,e):H_(t)?Foe(t,e,n):Voe(t,e,n)}var $oe=kp.exports;const RU=da($oe);var Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=typeof Symbol=="function"&&Symbol.for,TI=fi?Symbol.for("react.element"):60103,EI=fi?Symbol.for("react.portal"):60106,Mw=fi?Symbol.for("react.fragment"):60107,Nw=fi?Symbol.for("react.strict_mode"):60108,Bw=fi?Symbol.for("react.profiler"):60114,Uw=fi?Symbol.for("react.provider"):60109,Fw=fi?Symbol.for("react.context"):60110,SI=fi?Symbol.for("react.async_mode"):60111,Vw=fi?Symbol.for("react.concurrent_mode"):60111,$w=fi?Symbol.for("react.forward_ref"):60112,jw=fi?Symbol.for("react.suspense"):60113,joe=fi?Symbol.for("react.suspense_list"):60120,zw=fi?Symbol.for("react.memo"):60115,Hw=fi?Symbol.for("react.lazy"):60116,zoe=fi?Symbol.for("react.block"):60121,Hoe=fi?Symbol.for("react.fundamental"):60117,qoe=fi?Symbol.for("react.responder"):60118,Goe=fi?Symbol.for("react.scope"):60119;function os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case TI:switch(t=t.type,t){case SI:case Vw:case Mw:case Bw:case Nw:case jw:return t;default:switch(t=t&&t.$$typeof,t){case Fw:case $w:case Hw:case zw:case Uw:return t;default:return e}}case EI:return e}}}function PU(t){return os(t)===Vw}Rt.AsyncMode=SI;Rt.ConcurrentMode=Vw;Rt.ContextConsumer=Fw;Rt.ContextProvider=Uw;Rt.Element=TI;Rt.ForwardRef=$w;Rt.Fragment=Mw;Rt.Lazy=Hw;Rt.Memo=zw;Rt.Portal=EI;Rt.Profiler=Bw;Rt.StrictMode=Nw;Rt.Suspense=jw;Rt.isAsyncMode=function(t){return PU(t)||os(t)===SI};Rt.isConcurrentMode=PU;Rt.isContextConsumer=function(t){return os(t)===Fw};Rt.isContextProvider=function(t){return os(t)===Uw};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===TI};Rt.isForwardRef=function(t){return os(t)===$w};Rt.isFragment=function(t){return os(t)===Mw};Rt.isLazy=function(t){return os(t)===Hw};Rt.isMemo=function(t){return os(t)===zw};Rt.isPortal=function(t){return os(t)===EI};Rt.isProfiler=function(t){return os(t)===Bw};Rt.isStrictMode=function(t){return os(t)===Nw};Rt.isSuspense=function(t){return os(t)===jw};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mw||t===Vw||t===Bw||t===Nw||t===jw||t===joe||typeof t=="object"&&t!==null&&(t.$$typeof===Hw||t.$$typeof===zw||t.$$typeof===Uw||t.$$typeof===Fw||t.$$typeof===$w||t.$$typeof===Hoe||t.$$typeof===qoe||t.$$typeof===Goe||t.$$typeof===zoe)};Rt.typeOf=os;function OU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}var LU={exports:{}},Et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=typeof Symbol=="function"&&Symbol.for,kI=pi?Symbol.for("react.element"):60103,CI=pi?Symbol.for("react.portal"):60106,qw=pi?Symbol.for("react.fragment"):60107,Gw=pi?Symbol.for("react.strict_mode"):60108,Ww=pi?Symbol.for("react.profiler"):60114,Yw=pi?Symbol.for("react.provider"):60109,Xw=pi?Symbol.for("react.context"):60110,AI=pi?Symbol.for("react.async_mode"):60111,Kw=pi?Symbol.for("react.concurrent_mode"):60111,Qw=pi?Symbol.for("react.forward_ref"):60112,Zw=pi?Symbol.for("react.suspense"):60113,Woe=pi?Symbol.for("react.suspense_list"):60120,Jw=pi?Symbol.for("react.memo"):60115,e1=pi?Symbol.for("react.lazy"):60116,Yoe=pi?Symbol.for("react.block"):60121,Xoe=pi?Symbol.for("react.fundamental"):60117,Koe=pi?Symbol.for("react.responder"):60118,Qoe=pi?Symbol.for("react.scope"):60119;function as(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kI:switch(t=t.type,t){case AI:case Kw:case qw:case Ww:case Gw:case Zw:return t;default:switch(t=t&&t.$$typeof,t){case Xw:case Qw:case e1:case Jw:case Yw:return t;default:return e}}case CI:return e}}}function MU(t){return as(t)===Kw}Et.AsyncMode=AI;Et.ConcurrentMode=Kw;Et.ContextConsumer=Xw;Et.ContextProvider=Yw;Et.Element=kI;Et.ForwardRef=Qw;Et.Fragment=qw;Et.Lazy=e1;Et.Memo=Jw;Et.Portal=CI;Et.Profiler=Ww;Et.StrictMode=Gw;Et.Suspense=Zw;Et.isAsyncMode=function(t){return MU(t)||as(t)===AI};Et.isConcurrentMode=MU;Et.isContextConsumer=function(t){return as(t)===Xw};Et.isContextProvider=function(t){return as(t)===Yw};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kI};Et.isForwardRef=function(t){return as(t)===Qw};Et.isFragment=function(t){return as(t)===qw};Et.isLazy=function(t){return as(t)===e1};Et.isMemo=function(t){return as(t)===Jw};Et.isPortal=function(t){return as(t)===CI};Et.isProfiler=function(t){return as(t)===Ww};Et.isStrictMode=function(t){return as(t)===Gw};Et.isSuspense=function(t){return as(t)===Zw};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qw||t===Kw||t===Ww||t===Gw||t===Zw||t===Woe||typeof t=="object"&&t!==null&&(t.$$typeof===e1||t.$$typeof===Jw||t.$$typeof===Yw||t.$$typeof===Xw||t.$$typeof===Qw||t.$$typeof===Xoe||t.$$typeof===Koe||t.$$typeof===Qoe||t.$$typeof===Yoe)};Et.typeOf=as;LU.exports=Et;var Zoe=LU.exports,II=Zoe,Joe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DI={};DI[II.ForwardRef]=tae;DI[II.Memo]=NU;function mL(t){return II.isMemo(t)?NU:DI[t.$$typeof]||Joe}var nae=Object.defineProperty,iae=Object.getOwnPropertyNames,gL=Object.getOwnPropertySymbols,rae=Object.getOwnPropertyDescriptor,sae=Object.getPrototypeOf,bL=Object.prototype;function BU(t,e,n){if(typeof e!="string"){if(bL){var i=sae(e);i&&i!==bL&&BU(t,i,n)}var r=iae(e);gL&&(r=r.concat(gL(e)));for(var s=mL(t),o=mL(e),a=0;a<r.length;++a){var l=r[a];if(!eae[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=rae(e,l);try{nae(t,l,c)}catch(u){}}}}return t}var oae=BU;const aae=da(oae);var FE=1073741823,vL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function lae(){var t="__global_unique_id__";return vL[t]=(vL[t]||0)+1}function cae(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function uae(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(s){return s(t,r)})}}}function dae(t){return Array.isArray(t)?t[0]:t}function hae(t,e){var n,i,r="__create-react-context-"+lae()+"__",s=function(a){Uc(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=uae(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,m=d.value,b;cae(h,m)?b=0:(b=typeof e=="function"?e(h,m):FE,b|=0,b!==0&&this.emitter.set(d.value,b))}},c.render=function(){return this.props.children},l}(J.Component);s.childContextTypes=(n={},n[r]=aL.object.isRequired,n);var o=function(a){Uc(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(b,g){var w=u.observedBits|0;w&g&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?FE:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?FE:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return dae(this.props.children)(this.state.value)},l}(J.Component);return o.contextTypes=(i={},i[r]=aL.object,i),{Provider:s,Consumer:o}}var fae=J.createContext||hae,UU=function(e){var n=fae();return n.displayName=e,n},pae=UU("Router-History"),Vf=UU("Router"),Tb=function(t){Uc(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(s){r._pendingLocation=s})),r}var n=e.prototype;return n.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){r._isMounted&&r.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return J.createElement(Vf.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},J.createElement(pae.Provider,{children:this.props.children||null,value:this.props.history}))},e}(J.Component);J.Component;var mae=function(t){Uc(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(r){this.props.onUpdate&&this.props.onUpdate.call(this,this,r)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(J.Component),VE={},gae=1e4,yL=0;function bae(t){if(VE[t])return VE[t];var e=RU.compile(t);return yL<gae&&(VE[t]=e,yL++),e}function _L(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:bae(t)(e,{pretty:!0})}function vae(t){var e=t.computedMatch,n=t.to,i=t.push,r=i===void 0?!1:i;return J.createElement(Vf.Consumer,null,function(s){s||Nd();var o=s.history,a=s.staticContext,l=r?o.push:o.replace,c=kr(e?typeof n=="string"?_L(n,e.params):ft({},n,{pathname:_L(n.pathname,e.params)}):n);return a?(l(c),null):J.createElement(mae,{onMount:function(){l(c)},onUpdate:function(d,h){var m=kr(h.to);xoe(m,ft({},c,{key:m.key}))||l(c)},to:n})})}var xL={},yae=1e4,wL=0;function _ae(t,e){var n=""+e.end+e.strict+e.sensitive,i=xL[n]||(xL[n]={});if(i[t])return i[t];var r=[],s=RU(t,r,e),o={regexp:s,keys:r};return wL<yae&&(i[t]=o,wL++),o}function RI(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,s=r===void 0?!1:r,o=n.strict,a=o===void 0?!1:o,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var m=_ae(h,{end:s,strict:a,sensitive:c}),b=m.regexp,g=m.keys,w=b.exec(t);if(!w)return null;var y=w[0],T=w.slice(1),k=t===y;return s&&!k?null:{path:h,url:h==="/"&&y===""?"/":y,isExact:k,params:g.reduce(function(D,P,B){return D[P.name]=T[B],D},{})}},null)}function xae(t){return J.Children.count(t)===0}var Ra=function(t){Uc(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return J.createElement(Vf.Consumer,null,function(s){s||Nd();var o=r.props.location||s.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?RI(o.pathname,r.props):s.match,l=ft({},s,{location:o,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&xae(u)&&(u=null),J.createElement(Vf.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?J.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(J.Component);function PI(t){return t.charAt(0)==="/"?t:"/"+t}function wae(t,e){return t?ft({},e,{pathname:PI(t)+e.pathname}):e}function Tae(t,e){if(!t)return e;var n=PI(t);return e.pathname.indexOf(n)!==0?e:ft({},e,{pathname:e.pathname.substr(n.length)})}function TL(t){return typeof t=="string"?t:gs(t)}function $E(t){return function(){Nd()}}function EL(){}J.Component;var Eae=function(t){Uc(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return J.createElement(Vf.Consumer,null,function(s){s||Nd();var o=r.props.location||s.location,a,l;return J.Children.forEach(r.props.children,function(c){if(l==null&&J.isValidElement(c)){a=c;var u=c.props.path||c.props.from;l=u?RI(o.pathname,ft({},c.props,{path:u})):s.match}}),l?J.cloneElement(a,{location:o,computedMatch:l}):null})},e}(J.Component);function Sae(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(r){var s=r.wrappedComponentRef,o=OU(r,["wrappedComponentRef"]);return J.createElement(Vf.Consumer,null,function(a){return a||Nd(),J.createElement(t,ft({},o,a,{ref:s}))})};return n.displayName=e,n.WrappedComponent=t,aae(n,t)}J.useContext;const kae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M216.08 192v143.85a40.08 40.08 0 0080.15 0l.13-188.55a67.94 67.94 0 10-135.87 0v189.82a95.51 95.51 0 10191 0V159.74' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Cae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 014.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 00-11.13-2.07 30.7 30.7 0 00-12.08 2.43L81.5 462.78a15.92 15.92 0 01-4.66 1.22 9.61 9.61 0 01-9.58-9.74 15.85 15.85 0 01.6-3.29z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='160' cy='256' r='32'/><circle cx='256' cy='256' r='32'/><circle cx='352' cy='256' r='32'/></svg>",Aae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Iae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",FU="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Dae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='96' width='416' height='320' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='336' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='256' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='176' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='96' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='336' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='256' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='176' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='96' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='128' y='96' width='256' height='160' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='128' y='256' width='256' height='160' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Rae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Pae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",Oae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Lae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z'/></svg>",VU="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z'/></svg>",Mae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>",Nae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M470.3 271.15L43.16 447.31a7.83 7.83 0 01-11.16-7V327a8 8 0 016.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 01-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 010 29.39z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Bae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z'/></svg>",Uae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Fae="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";class Vae extends J.PureComponent{render(){return J.createElement(Ra,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const w0=({pathname:t,componentProps:e})=>{const{exact:n,component:i}=e,r=e.path||e.from,o=RI(t,{exact:n,path:r,component:i});return o||!1};class $ae extends uoe{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,r){const s={id:x0("viewItem"),outletId:e,ionPageElement:r,reactElement:n,mount:!0,ionRoute:!1};return n.type===vI&&(s.ionRoute=!0,s.disableIonPageManagement=n.props.disableIonPageManagement),s.routeData={match:w0({pathname:i.pathname,componentProps:n.props}),childProps:n.props},s}getChildrenToRender(e,n,i){const r=this.getViewItemsForOutlet(e);return J.Children.forEach(n.props.children,o=>{const a=r.find(l=>SL(o,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=o)}),r.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=J.createElement(oL,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},J.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const l=SL(o.reactElement,i.pathname);a=J.createElement(oL,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},J.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!l&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:r,match:s}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&r&&s&&(r.routeData.match=s),r}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,n,i);return r}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i){let r,s,o;if(n)o=this.getViewItemsForOutlet(n),o.some(a),r||o.some(l);else{const c=this.getAllViewItems();c.some(a),r||c.some(l)}return{viewItem:r,match:s};function a(c){var u,d;if(i&&!c.ionRoute)return!1;if(s=w0({pathname:e,componentProps:c.routeData.childProps}),s){const h=s.path.includes(":");if(!h||h&&s.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return r=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(s={path:e,url:e,isExact:!0,params:{}},r=c,!0):!1}}}function SL(t,e){return w0({pathname:e,componentProps:t.props})}function jae(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const kL=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class zae extends J.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=x0("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(s.mount=!1):e.routeDirection!=="none"&&r!==s&&(s.mount=!1));const o=Hae((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=o:o&&(r=this.context.createViewItem(this.id,o,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===s&&r.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),kL(r.ionPageElement)&&s!==void 0&&!kL(s.ionPageElement)))return;this.transitionPage(e,r,s)}else s&&!o&&!r&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const s=hI();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),l=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&l&&await this.transitionPage(s,a,l,"back",!0),Promise.resolve()},r=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(o,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:r}}async transitionPage(e,n,i,r,s=!1){const o=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(qae(i.reactElement,e.pathname,!0)){const d=jae(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await o(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await o(n.ionPageElement,void 0);else await o(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!s&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=J.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return J.createElement(mI.Provider,{value:this.stackContextValue},J.cloneElement(n,{ref:r=>{n.props.setRef&&n.props.setRef(r),n.props.forwardedRef&&(n.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:s}=n;typeof s=="function"&&s(r)}},i))}static get contextType(){return yU}}function Hae(t,e){let n;return J.Children.forEach(t,i=>{w0({pathname:e.pathname,componentProps:i.props})&&(n=i)}),n||(J.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function qae(t,e,n){return w0({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class Gae extends J.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new loe,this.viewStack=new $ae,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:x0("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=n.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===s?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,r,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:x0("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)l.tab=o.tab,l.pushedByRoute=o.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==o.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,r,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:s,routeAnimation:r,tab:o}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=hI();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const s=this.locationHistory.findLastLocation(r);if(s){const o=n||r.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:o}),r.lastPathname===r.pushedByRoute||s.pathname===r.pushedByRoute&&r.tab===""&&s.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",o)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const s=Object.assign({},r);s.pathname=n,s.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return J.createElement(yU.Provider,{value:this.routeMangerContextState},J.createElement(coe,{ionRoute:Vae,ionRedirect:{},stackManager:zae,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const t1=Sae(Gae);t1.displayName="IonRouter";class Wae extends J.Component{constructor(e){super(e);const{history:n}=e,i=gn(e,["history"]);this.history=n||koe(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=gn(e,["children"]);return J.createElement(Tb,Object.assign({history:this.history},i),J.createElement(t1,{registerHistoryListener:this.registerHistoryListener},n))}}class LAe extends J.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=gn(e,["children"]);return J.createElement(Tb,Object.assign({},i),J.createElement(t1,{registerHistoryListener:this.registerHistoryListener},n))}}class MAe extends J.Component{constructor(e){super(e);const{history:n}=e,i=gn(e,["history"]);this.history=n||Ioe(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=gn(e,["children"]);return J.createElement(Tb,Object.assign({history:this.history},i),J.createElement(t1,{registerHistoryListener:this.registerHistoryListener},n))}}const Yae="1.0.7",Xae=["ad","adfree"],Kae=["gogo","nineanime","animepahe","zoro","animefox","animedrive","anify","crunchyroll","bilibili","marin","animesaturn","animeunity","monoschinos"],Qae=["dramacool","flixhq","fmovies","goku","kissasian","moviehdwatch","smashystream","turkish","viewasian","tmdb"];let Zae=["http://localhost:3000","http://65.1.92.65","http://192.168.101.62:3000","http://192.168.220.210:3000",""];const Jae=()=>{};var CL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(t,e){if(!t)throw Cp(e)},Cp=function(t){return new Error("Firebase Database ("+$U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ele=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),i.push(n[u],n[d],n[h],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ele(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new tle;const h=s<<2|a>>4;if(i.push(h),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const b=c<<6&192|d;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zU=function(t){const e=jU(t);return OI.encodeByteArray(e,!0)},q_=function(t){return zU(t).replace(/\./g,"")},G_=function(t){try{return OI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nle(t){return HU(void 0,t)}function HU(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ile(n)||(t[n]=HU(t[n],e[n]));return t}function ile(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=()=>qU().__FIREBASE_DEFAULTS__,sle=()=>{if(typeof process>"u"||typeof CL>"u")return;const t=CL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ole=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&G_(t[1]);return e&&JSON.parse(e)},n1=()=>{try{return Jae()||rle()||sle()||ole()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},GU=t=>{var e,n;return(n=(e=n1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i1=t=>{const e=GU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},WU=()=>{var t;return(t=n1())===null||t===void 0?void 0:t.config},YU=t=>{var e;return(e=n1())===null||e===void 0?void 0:e["_".concat(t)]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}async function Sb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(i),aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[q_(JSON.stringify(n)),q_(JSON.stringify(o)),""].join(".")}const Ig={};function ale(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ig))Ig[e]?t.emulator.push(e):t.prod.push(e);return t}function lle(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let AL=!1;function kb(t,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Ig[t]===e||Ig[t]||AL)return;Ig[t]=e;function n(h){return"__firebase__banner__".concat(h)}const i="__firebase__banner",s=ale().prod.length>0;function o(){const h=document.getElementById(i);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{AL=!0,o()},h}function u(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=lle(i),m=n("text"),b=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),T=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const k=h.element;a(k),u(w,g);const D=c();l(T,y),k.append(T,b,w,D),document.body.appendChild(k)}s?(b.innerText="Preview backend disconnected.",T.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(T.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function cle(){var t;const e=(t=n1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function ule(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dle(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hle(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KU(){return $U.NODE_ADMIN===!0}function fle(){return!cle()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QU(){try{return typeof indexedDB=="object"}catch(t){return!1}}function ple(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle="FirebaseError";class vo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=mle,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cb.prototype.create)}}class Cb{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r="".concat(this.service,"/").concat(e),s=this.errors[e],o=s?gle(s,i):"Error",a="".concat(this.serviceName,": ").concat(o," (").concat(r,").");return new vo(r,a,i)}}function gle(t,e){return t.replace(ble,(n,i)=>{const r=e[i];return r!=null?String(r):"<".concat(i,"?>")})}const ble=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){return JSON.parse(t)}function ri(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=T0(G_(s[0])||""),n=T0(G_(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},vle=function(t){const e=ZU(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yle=function(t){const e=ZU(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $f(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function s2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W_(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Fc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(IL(s)&&IL(o)){if(!Fc(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function IL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Jm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function xle(t,e){const n=new wle(t,e);return n.subscribe.bind(n)}class wle{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Tle(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=jE),r.error===void 0&&(r.error=jE),r.complete===void 0&&(r.complete=jE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(o){}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tle(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jE(){}function r1(t,e){return"".concat(t," failed: ").concat(e," argument ")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,_e(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},s1=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t){return t&&t._delegate?t._delegate:t}let ra=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sle{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Eb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(Cle(e))try{this.getOrInitializeService({instanceIdentifier:Iu})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=Iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Iu){return this.instances.has(e)}getOptions(e=Iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kle(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Iu){return this.component?this.component.multipleInstances?e:Iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kle(t){return t===Iu?void 0:t}function Cle(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sle(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const Ile={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},Dle=rt.INFO,Rle={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Ple=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Rle[e];if(r)console[r]("[".concat(i,"]  ").concat(t.name,":"),...n);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class o1{constructor(e){this.name=e,this._logLevel=Dle,this._logHandler=Ple,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ile[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const Ole=(t,e)=>e.some(n=>t instanceof n);let DL,RL;function Lle(){return DL||(DL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mle(){return RL||(RL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JU=new WeakMap,o2=new WeakMap,e7=new WeakMap,zE=new WeakMap,NI=new WeakMap;function Nle(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xc(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JU.set(n,t)}).catch(()=>{}),NI.set(e,t),e}function Ble(t){if(o2.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});o2.set(t,e)}let a2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e7.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ule(t){a2=t(a2)}function Fle(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(HE(this),e,...n);return e7.set(i,e.sort?e.sort():[e]),xc(i)}:Mle().includes(t)?function(...e){return t.apply(HE(this),e),xc(JU.get(this))}:function(...e){return xc(t.apply(HE(this),e))}}function Vle(t){return typeof t=="function"?Fle(t):(t instanceof IDBTransaction&&Ble(t),Ole(t,Lle())?new Proxy(t,a2):t)}function xc(t){if(t instanceof IDBRequest)return Nle(t);if(zE.has(t))return zE.get(t);const e=Vle(t);return e!==t&&(zE.set(t,e),NI.set(e,t)),e}const HE=t=>NI.get(t);function $le(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=xc(o);return i&&o.addEventListener("upgradeneeded",l=>{i(xc(o.result),l.oldVersion,l.newVersion,xc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jle=["get","getKey","getAll","getAllKeys","count"],zle=["put","add","delete","clear"],qE=new Map;function PL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qE.get(e))return qE.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=zle.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||jle.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return qE.set(e,s),s}Ule(t=>({...t,get:(e,n,i)=>PL(e,n)||t.get(e,n,i),has:(e,n)=>!!PL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qle(n)){const i=n.getImmediate();return"".concat(i.library,"/").concat(i.version)}else return null}).filter(n=>n).join(" ")}}function qle(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l2="@firebase/app",OL="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new o1("@firebase/app"),Gle="@firebase/app-compat",Wle="@firebase/analytics-compat",Yle="@firebase/analytics",Xle="@firebase/app-check-compat",Kle="@firebase/app-check",Qle="@firebase/auth",Zle="@firebase/auth-compat",Jle="@firebase/database",ece="@firebase/data-connect",tce="@firebase/database-compat",nce="@firebase/functions",ice="@firebase/functions-compat",rce="@firebase/installations",sce="@firebase/installations-compat",oce="@firebase/messaging",ace="@firebase/messaging-compat",lce="@firebase/performance",cce="@firebase/performance-compat",uce="@firebase/remote-config",dce="@firebase/remote-config-compat",hce="@firebase/storage",fce="@firebase/storage-compat",pce="@firebase/firestore",mce="@firebase/ai",gce="@firebase/firestore-compat",bce="firebase",vce="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="[DEFAULT]",yce={[l2]:"fire-core",[Gle]:"fire-core-compat",[Yle]:"fire-analytics",[Wle]:"fire-analytics-compat",[Kle]:"fire-app-check",[Xle]:"fire-app-check-compat",[Qle]:"fire-auth",[Zle]:"fire-auth-compat",[Jle]:"fire-rtdb",[ece]:"fire-data-connect",[tce]:"fire-rtdb-compat",[nce]:"fire-fn",[ice]:"fire-fn-compat",[rce]:"fire-iid",[sce]:"fire-iid-compat",[oce]:"fire-fcm",[ace]:"fire-fcm-compat",[lce]:"fire-perf",[cce]:"fire-perf-compat",[uce]:"fire-rc",[dce]:"fire-rc-compat",[hce]:"fire-gcs",[fce]:"fire-gcs-compat",[pce]:"fire-fst",[gce]:"fire-fst-compat",[mce]:"fire-vertex","fire-js":"fire-js",[bce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map,_ce=new Map,u2=new Map;function LL(t,e){try{t.container.addComponent(e)}catch(n){al.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function ll(t){const e=t.name;if(u2.has(e))return al.debug("There were multiple attempts to register component ".concat(e,".")),!1;u2.set(e,t);for(const n of Y_.values())LL(n,t);for(const n of _ce.values())LL(n,t);return!0}function Ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wc=new Cb("app","Firebase",xce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=vce;function t7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:c2,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw wc.create("bad-app-name",{appName:String(r)});if(n||(n=WU()),!n)throw wc.create("no-options");const s=Y_.get(r);if(s){if(Fc(n,s.options)&&Fc(i,s.config))return s;throw wc.create("duplicate-app",{appName:r})}const o=new Ale(r);for(const l of u2.values())o.addComponent(l);const a=new wce(n,i,o);return Y_.set(r,a),a}function Ab(t=c2){const e=Y_.get(t);if(!e&&t===c2&&WU())return t7();if(!e)throw wc.create("no-app",{appName:t});return e}function Dr(t,e,n){var i;let r=(i=yce[t])!==null&&i!==void 0?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];s&&a.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&a.push("and"),o&&a.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),al.warn(a.join(" "));return}ll(new ra("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce="firebase-heartbeat-database",Ece=1,E0="firebase-heartbeat-store";let GE=null;function n7(){return GE||(GE=$le(Tce,Ece,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(E0)}catch(n){console.warn(n)}}}}).catch(t=>{throw wc.create("idb-open",{originalErrorMessage:t.message})})),GE}async function Sce(t){try{const n=(await n7()).transaction(E0),i=await n.objectStore(E0).get(i7(t));return await n.done,i}catch(e){if(e instanceof vo)al.warn(e.message);else{const n=wc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});al.warn(n.message)}}}async function ML(t,e){try{const i=(await n7()).transaction(E0,"readwrite");await i.objectStore(E0).put(e,i7(t)),await i.done}catch(n){if(n instanceof vo)al.warn(n.message);else{const i=wc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});al.warn(i.message)}}}function i7(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce=1024,Cce=30;class Ace{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dce(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NL();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Cce){const o=Rce(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){al.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NL(),{heartbeatsToSend:i,unsentEntries:r}=Ice(this._heartbeatsCache.heartbeats),s=q_(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return al.warn(n),""}}}function NL(){return new Date().toISOString().substring(0,10)}function Ice(t,e=kce){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),BL(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),BL(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Dce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QU()?ple().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sce(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ML(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ML(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function BL(t){return q_(JSON.stringify({version:2,heartbeats:t})).length}function Rce(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(t){ll(new ra("platform-logger",e=>new Hle(e),"PRIVATE")),ll(new ra("heartbeat",e=>new Ace(e),"PRIVATE")),Dr(l2,OL,t),Dr(l2,OL,"esm2017"),Dr("fire-js","")}Pce("");var Oce="firebase",Lce="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(Oce,Lce,"app");function r7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mce=r7,s7=new Cb("auth","Firebase",r7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new o1("@firebase/auth");function Nce(t,...e){X_.logLevel<=rt.WARN&&X_.warn("Auth (".concat(eu,"): ").concat(t),...e)}function Ry(t,...e){X_.logLevel<=rt.ERROR&&X_.error("Auth (".concat(eu,"): ").concat(t),...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,...e){throw UI(t,...e)}function Rr(t,...e){return UI(t,...e)}function BI(t,e,n){const i=Object.assign(Object.assign({},Mce()),{[e]:n});return new Cb("auth","Firebase",i).create(e,{appName:t.name})}function ar(t){return BI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a1(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ns(t,"argument-error"),BI(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function UI(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return s7.create(t,...e)}function Se(t,e,...n){if(!t)throw UI(e,...n)}function Ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ry(e),new Error(e)}function cl(t,e){t||Ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FI(){return UL()==="http:"||UL()==="https:"}function UL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||dle()||"connection"in navigator)?navigator.onLine:!0}function Uce(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.shortDelay=e,this.longDelay=n,cl(n>e,"Short delay should be less than long delay!"),this.isMobile=MI()||XU()}get(){return Bce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){cl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$ce=new Ib(3e4,6e4);function zn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hn(t,e,n,i,r={}){return a7(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Bd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return ule()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&bo(t.emulatorConfig.host)&&(c.credentials="include"),o7.fetch()(await l7(t,t.config.apiHost,n,a),c)})}async function a7(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Fce),e);try{const r=new zce(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw eg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw eg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw eg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw eg(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw BI(t,u,c);Ns(t,u)}}catch(r){if(r instanceof vo)throw r;Ns(t,"network-request-failed",{message:String(r)})}}async function _l(t,e,n,i,r={}){const s=await Hn(t,e,n,i,r);return"mfaPendingCredential"in s&&Ns(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function l7(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i),s=t,o=s.config.emulator?VI(t.config,r):"".concat(t.config.apiScheme,"://").concat(r);return Vce.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function jce(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Rr(this.auth,"network-request-failed")),$ce.get())})}}function eg(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Rr(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){return t!==void 0&&t.getResponse!==void 0}function VL(t){return t!==void 0&&t.enterprise!==void 0}class c7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jce(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hce(t){return(await Hn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function u7(t,e){return Hn(t,"GET","/v2/recaptchaConfig",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qce(t,e){return Hn(t,"POST","/v1/accounts:delete",e)}async function Gce(t,e){return Hn(t,"POST","/v1/accounts:update",e)}async function K_(t,e){return Hn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function Wce(t,e=!1){const n=Pe(t),i=await n.getIdToken(e),r=l1(i);Se(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Dg(WE(r.auth_time)),issuedAtTime:Dg(WE(r.iat)),expirationTime:Dg(WE(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function WE(t){return Number(t)*1e3}function l1(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ry("JWT malformed, contained fewer than 3 sections"),null;try{const r=G_(n);return r?JSON.parse(r):(Ry("Failed to decode base64 JWT payload"),null)}catch(r){return Ry("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $L(t){const e=l1(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vo&&Yce(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Yce({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dg(this.lastLoginAt),this.creationTime=Dg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(t){var e;const n=t.auth,i=await t.getIdToken(),r=await vd(t,K_(n,{idToken:i}));Se(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?d7(s.providerUserInfo):[],a=Qce(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new d2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Kce(t){const e=Pe(t);await k0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qce(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function d7(t){return t.map(e=>{var{providerId:n}=e,i=gn(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zce(t,e){const n=await a7(t,{},async()=>{const i=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=await l7(t,r,"/v1/token","key=".concat(s)),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:i};return t.emulatorConfig&&bo(t.emulatorConfig.host)&&(l.credentials="include"),o7.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jce(t,e){return Hn(t,"POST","/v2/accounts:revokeToken",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$L(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=$L(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Zce(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new lf;return i&&(Se(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Se(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lf,this.toJSON())}_performRefresh(){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vd(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wce(this,e)}reload(){return Kce(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await k0(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await vd(this,qce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:D,isAnonymous:P,providerData:B,stsTokenManager:O}=n;Se(k&&O,e,"internal-error");const A=lf.fromJSON(this.name,O);Se(typeof k=="string",e,"internal-error"),Vl(d,e.name),Vl(h,e.name),Se(typeof D=="boolean",e,"internal-error"),Se(typeof P=="boolean",e,"internal-error"),Vl(m,e.name),Vl(b,e.name),Vl(g,e.name),Vl(w,e.name),Vl(y,e.name),Vl(T,e.name);const R=new to({uid:k,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:P,photoURL:b,phoneNumber:m,tenantId:g,stsTokenManager:A,createdAt:y,lastLoginAt:T});return B&&Array.isArray(B)&&(R.providerData=B.map(L=>Object.assign({},L))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,n,i=!1){const r=new lf;r.updateFromServerResponse(n);const s=new to({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await k0(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Se(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?d7(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new lf;a.updateFromIdToken(i);const l=new to({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new d2(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Map;function Xa(t){cl(t instanceof Function,"Expected a class definition");let e=jL.get(t);return e?(cl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h7.type="NONE";const zL=h7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){return"firebase:".concat(t,":").concat(e,":").concat(n)}class cf{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Py(this.userKey,r.apiKey,s),this.fullPersistenceKey=Py("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await K_(this.auth,{idToken:e}).catch(()=>{});return n?to._fromGetAccountInfoResponse(this.auth,n,e):null}return to._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cf(Xa(zL),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Xa(zL);const o=Py(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const h=await K_(e,{idToken:u}).catch(()=>{});if(!h)break;d=await to._fromGetAccountInfoResponse(e,h,u)}else d=to._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new cf(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch(u){}})),new cf(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v7(e))return"Blackberry";if(y7(e))return"Webos";if(p7(e))return"Safari";if((e.includes("chrome/")||m7(e))&&!e.includes("edge/"))return"Chrome";if(b7(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function f7(t=jn()){return/firefox\//i.test(t)}function p7(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m7(t=jn()){return/crios\//i.test(t)}function g7(t=jn()){return/iemobile/i.test(t)}function b7(t=jn()){return/android/i.test(t)}function v7(t=jn()){return/blackberry/i.test(t)}function y7(t=jn()){return/webos/i.test(t)}function $I(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eue(t=jn()){var e;return $I(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tue(){return hle()&&document.documentMode===10}function _7(t=jn()){return $I(t)||b7(t)||y7(t)||v7(t)||/windows phone/i.test(t)||g7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t,e=[]){let n;switch(t){case"Browser":n=HL(jn());break;case"Worker":n="".concat(HL(jn()),"-").concat(t);break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/JsCore/").concat(eu,"/").concat(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iue(t,e={}){return Hn(t,"GET","/v2/passwordPolicy",zn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue=6;class sue{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rue,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qL(this),this.idTokenSubscription=new qL(this),this.beforeStateQueue=new nue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xa(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await cf.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await K_(this,{idToken:e}),i=await to._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await k0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uce()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(ar(this));const n=e?Pe(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iue(this),n=new sue(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cb("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Jce(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xa(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await cf.create(this,[Xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Nce("Error while retrieving App Check token: ".concat(n.error)),n==null?void 0:n.token}}function mi(t){return Pe(t)}class qL{constructor(e){this.auth=e,this.observer=null,this.addObserver=xle(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Db={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aue(t){Db=t}function jI(t){return Db.loadJS(t)}function lue(){return Db.recaptchaV2Script}function cue(){return Db.recaptchaEnterpriseScript}function uue(){return Db.gapiScript}function w7(t){return"__".concat(t).concat(Math.floor(Math.random()*1e6))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const due=500,hue=6e4,Kv=1e12;class fue{constructor(e){this.auth=e,this.counter=Kv,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new gue(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||Kv;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||Kv;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||Kv;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class pue{constructor(){this.enterprise=new mue}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mue{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gue{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;Se(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=bue(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch(i){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch(i){}this.isVisible&&this.execute()},hue)},due))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function bue(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const vue="recaptcha-enterprise",Rg="NO_RECAPTCHA";class T7{constructor(e){this.type=vue,this.auth=mi(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{u7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new c7(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;VL(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Rg)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pue().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&VL(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cue();l.length!==0&&(l+=a),jI(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Om(t,e,n,i=!1,r=!1){const s=new T7(t);let o;if(r)o=Rg;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Tc(t,e,n,i,r){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Om(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const l=await Om(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)});else if(r==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Om(t,e,n);return i(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const u=await Om(t,e,n,!1,!0);return i(t,u)}return Promise.reject(l)})}else{const a=await Om(t,e,n,!1,!0);return i(t,a)}else return Promise.reject(r+" provider is not supported.")}async function yue(t){const e=mi(t),n=await u7(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new c7(n);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new T7(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(t,e){const n=Ap(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Fc(s,e!=null?e:{}))return r;Ns(r,"already-initialized")}return n.initialize({options:e})}function xue(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Xa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wue(t,e,n){const i=mi(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=E7(e),{host:o,port:a}=Tue(e),l=a===null?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Fc(c,i.config.emulator)&&Fc(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,bo(o)?(Sb("".concat(s,"//").concat(o).concat(l)),kb("Auth",!0)):Eue()}function E7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tue(t){const e=E7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:GL(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:GL(o)}}}function GL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Eue(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ya("not implemented")}_getIdTokenResponse(e){return Ya("not implemented")}_linkToIdToken(e,n){return Ya("not implemented")}_getReauthenticationResolver(e){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sue(t,e){return Hn(t,"POST","/v1/accounts:resetPassword",zn(t,e))}async function kue(t,e){return Hn(t,"POST","/v1/accounts:update",e)}async function Cue(t,e){return Hn(t,"POST","/v1/accounts:signUp",e)}async function Aue(t,e){return Hn(t,"POST","/v1/accounts:update",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iue(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",zn(t,e))}async function u1(t,e){return Hn(t,"POST","/v1/accounts:sendOobCode",zn(t,e))}async function Due(t,e){return u1(t,e)}async function Rue(t,e){return u1(t,e)}async function Pue(t,e){return u1(t,e)}async function Oue(t,e){return u1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lue(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",zn(t,e))}async function Mue(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends c1{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new C0(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new C0(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tc(e,n,"signInWithPassword",Iue,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lue(e,{email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tc(e,i,"signUpPassword",Cue,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Mue(e,{idToken:n,email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nue="http://localhost";class ul extends c1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=gn(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new ul(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uf(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,uf(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uf(e,n)}buildRequest(){const e={requestUri:Nue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e){return Hn(t,"POST","/v1/accounts:sendVerificationCode",zn(t,e))}async function Bue(t,e){return _l(t,"POST","/v1/accounts:signInWithPhoneNumber",zn(t,e))}async function Uue(t,e){const n=await _l(t,"POST","/v1/accounts:signInWithPhoneNumber",zn(t,e));if(n.temporaryProof)throw eg(t,"account-exists-with-different-credential",n);return n}const Fue={USER_NOT_FOUND:"user-not-found"};async function Vue(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _l(t,"POST","/v1/accounts:signInWithPhoneNumber",zn(t,n),Fue)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends c1{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Pg({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Pg({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Bue(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Uue(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Vue(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return!i&&!n&&!r&&!s?null:new Pg({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ue(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jue(t){const e=Zm(Jm(t)).link,n=e?Zm(Jm(e)).deep_link_id:null,i=Zm(Jm(t)).deep_link_id;return(i?Zm(Jm(i)).link:null)||i||n||e||t}class d1{constructor(e){var n,i,r,s,o,a;const l=Zm(Jm(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=$ue((r=l.mode)!==null&&r!==void 0?r:null);Se(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jue(e);try{return new d1(n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.providerId=Ud.PROVIDER_ID}static credential(e,n){return C0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=d1.parseLink(n);return Se(i,"argument-error"),C0._fromEmailAndCode(e,i.code,i.tenantId)}}Ud.PROVIDER_ID="password";Ud.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ud.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Ip{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oy extends Dp{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Se("providerId"in n&&"signInMethod"in n,"argument-error"),ul._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Se(e.idToken||e.accessToken,"argument-error"),ul._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Oy.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Oy.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=e;if(!i&&!r&&!n&&!s||!a)return null;try{return new Oy(a)._credential({idToken:n,accessToken:i,nonce:o,pendingToken:s})}catch(l){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Dp{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:tc.PROVIDER_ID,signInMethod:tc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tc.credentialFromTaggedObject(e)}static credentialFromError(e){return tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tc.credential(e.oauthAccessToken)}catch(n){return null}}}tc.FACEBOOK_SIGN_IN_METHOD="facebook.com";tc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fa.credential(n,i)}catch(r){return null}}}Fa.GOOGLE_SIGN_IN_METHOD="google.com";Fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Dp{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nc.credentialFromTaggedObject(e)}static credentialFromError(e){return nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nc.credential(e.oauthAccessToken)}catch(n){return null}}}nc.GITHUB_SIGN_IN_METHOD="github.com";nc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends Dp{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ic.credentialFromTaggedObject(e)}static credentialFromError(e){return ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ic.credential(n,i)}catch(r){return null}}}ic.TWITTER_SIGN_IN_METHOD="twitter.com";ic.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e){return _l(t,"POST","/v1/accounts:signUp",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await to._fromIdTokenResponse(e,i,r),o=YL(i);return new sa({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=YL(i);return new sa({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function YL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BAe(t){var e;if(un(t.app))return Promise.reject(ar(t));const n=mi(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new sa({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await S7(n,{returnSecureToken:!0}),r=await sa._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends vo{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Q_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Q_(e,n,i,r)}}function k7(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Q_._fromErrorAndOperation(t,s,e,i):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UAe(t,e){const n=Pe(t);await h1(!0,n,e);const{providerUserInfo:i}=await Gce(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),r=C7(i||[]);return n.providerData=n.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function A7(t,e,n=!1){const i=await vd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",i)}async function h1(t,e,n){await k0(e);const i=C7(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";Se(i.has(n)===t,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zue(t,e,n=!1){const{auth:i}=t;if(un(i.app))return Promise.reject(ar(i));const r="reauthenticate";try{const s=await vd(t,k7(i,r,e,t),n);Se(s.idToken,i,"internal-error");const o=l1(s.idToken);Se(o,i,"internal-error");const{sub:a}=o;return Se(t.uid===a,i,"user-mismatch"),sa._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ns(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e,n=!1){if(un(t.app))return Promise.reject(ar(t));const i="signIn",r=await k7(t,i,e),s=await sa._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function f1(t,e){return I7(mi(t),e)}async function Hue(t,e){const n=Pe(t);return await h1(!1,n,e.providerId),A7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function que(t,e){return _l(t,"POST","/v1/accounts:signInWithCustomToken",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FAe(t,e){if(un(t.app))return Promise.reject(ar(t));const n=mi(t),i=await que(n,{token:e,returnSecureToken:!0}),r=await sa._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){var i;Se(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Se(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Se(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Se(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Se(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t){const e=mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VAe(t,e,n){const i=mi(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&p1(i,r,n),await Tc(i,r,"getOobCode",Rue,"EMAIL_PASSWORD_PROVIDER")}async function $Ae(t,e,n){await Sue(Pe(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zI(t),i})}async function jAe(t,e){await Aue(Pe(t),{oobCode:e})}async function zAe(t,e,n){if(un(t.app))return Promise.reject(ar(t));const i=mi(t),o=await Tc(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S7,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zI(t),l}),a=await sa._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function HAe(t,e,n){return un(t.app)?Promise.reject(ar(t)):f1(Pe(t),Ud.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zI(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qAe(t,e,n){const i=mi(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){Se(a.handleCodeInApp,i,"argument-error"),a&&p1(i,o,a)}s(r,n),await Tc(i,r,"getOobCode",Pue,"EMAIL_PASSWORD_PROVIDER")}function GAe(t,e){const n=d1.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function WAe(t,e,n){if(un(t.app))return Promise.reject(ar(t));const i=Pe(t),r=Ud.credentialWithLink(e,n||S0());return Se(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),f1(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gue(t,e){return Hn(t,"POST","/v1/accounts:createAuthUri",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YAe(t,e){const n=FI()?S0():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=await Gue(Pe(t),i);return r||[]}async function XAe(t,e){const n=Pe(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&p1(n.auth,r,e);const{email:s}=await Due(n.auth,r);s!==t.email&&await t.reload()}async function KAe(t,e,n){const i=Pe(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&p1(i.auth,s,n);const{email:o}=await Oue(i.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wue(t,e){return Hn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QAe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Pe(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await vd(i,Wue(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function ZAe(t,e){const n=Pe(t);return un(n.auth.app)?Promise.reject(ar(n.auth)):D7(n,e,null)}function JAe(t,e){return D7(Pe(t),null,e)}async function D7(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await vd(t,kue(i,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yue(t){var e,n;if(!t)return null;const{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const o=(n=(e=l1(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new df(s,a)}}if(!i)return null;switch(i){case"facebook.com":return new Xue(s,r);case"github.com":return new Kue(s,r);case"google.com":return new Que(s,r);case"twitter.com":return new Zue(s,r,t.screenName||null);case"custom":case"anonymous":return new df(s,null);default:return new df(s,i,r)}}class df{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class R7 extends df{constructor(e,n,i,r){super(e,n,i),this.username=r}}class Xue extends df{constructor(e,n){super(e,"facebook.com",n)}}class Kue extends R7{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Que extends df{constructor(e,n){super(e,"google.com",n)}}class Zue extends R7{constructor(e,n,i){super(e,"twitter.com",n,i)}}function eIe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Yue(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tIe(t,e){return Pe(t).setPersistence(e)}function Jue(t,e,n,i){return Pe(t).onIdTokenChanged(e,n,i)}function ede(t,e,n){return Pe(t).beforeAuthStateChanged(e,n)}function P7(t,e,n,i){return Pe(t).onAuthStateChanged(e,n,i)}function nIe(t,e){return mi(t).revokeAccessToken(e)}async function iIe(t){return Pe(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){return Hn(t,"POST","/v2/accounts/mfaEnrollment:start",zn(t,e))}const Z_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Z_,"1"),this.storage.removeItem(Z_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tde=1e3,nde=10;class L7 extends O7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);tue()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,nde):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L7.type="LOCAL";const ide=L7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7 extends O7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M7.type="SESSION";const N7=M7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rde(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new m1(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await rde(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=g1("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function ode(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function ade(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function lde(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cde(){return HI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="firebaseLocalStorageDb",ude=1,J_="firebaseLocalStorage",U7="fbase_key";class Rb{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function b1(t,e){return t.transaction([J_],e?"readwrite":"readonly").objectStore(J_)}function dde(){const t=indexedDB.deleteDatabase(B7);return new Rb(t).toPromise()}function h2(){const t=indexedDB.open(B7,ude);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(J_,{keyPath:U7})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(J_)?e(i):(i.close(),await dde(),e(await h2()))})})}async function KL(t,e,n){const i=b1(t,!0).put({[U7]:e,value:n});return new Rb(i).toPromise()}async function hde(t,e){const n=b1(t,!1).get(e),i=await new Rb(n).toPromise();return i===void 0?null:i.value}function QL(t,e){const n=b1(t,!0).delete(e);return new Rb(n).toPromise()}const fde=800,pde=3;class F7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>pde)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m1._getInstance(cde()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ade(),!this.activeServiceWorker)return;this.sender=new sde(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h2();return await KL(e,Z_,"1"),await QL(e,Z_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>KL(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>hde(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=b1(r,!1).getAll();return new Rb(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F7.type="LOCAL";const mde=F7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t,e){return Hn(t,"POST","/v2/accounts/mfaSignIn:start",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=w7("rcb"),gde=new Ib(3e4,6e4);class bde{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=An().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Se(vde(n),e,"argument-error"),this.shouldResolveImmediately(n)&&FL(An().grecaptcha)?Promise.resolve(An().grecaptcha):new Promise((i,r)=>{const s=An().setTimeout(()=>{r(Rr(e,"network-request-failed"))},gde.get());An()[YE]=()=>{An().clearTimeout(s),delete An()[YE];const a=An().grecaptcha;if(!a||!FL(a)){r(Rr(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,i(a)};const o="".concat(lue(),"?").concat(Bd({onload:YE,render:"explicit",hl:n}));jI(o).catch(()=>{clearTimeout(s),r(Rr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=An().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function vde(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class yde{async load(e){return new fue(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="recaptcha",_de={theme:"light",type:"image"};class rIe{constructor(e,n,i=Object.assign({},_de)){this.parameters=i,this.type=Og,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mi(e),this.isInvisible=this.parameters.size==="invisible",Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof n=="string"?document.getElementById(n):n;Se(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yde:new bde,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),r(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=An()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Se(FI()&&!HI(),this.auth,"internal-error"),await xde(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Hce(this.auth);Se(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function xde(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Pg._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function sIe(t,e,n){if(un(t.app))return Promise.reject(ar(t));const i=mi(t),r=await $7(i,e,Pe(n));return new V7(r,s=>f1(i,s))}async function oIe(t,e,n){const i=Pe(t);await h1(!1,i,"phone");const r=await $7(i.auth,e,Pe(n));return new V7(r,s=>Hue(i,s))}async function $7(t,e,n){var i;if(!t._getRecaptchaConfig())try{await yue(t)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){Se(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Tc(t,o,"mfaSmsEnrollment",async(u,d)=>{if(d.phoneEnrollmentInfo.captchaResponse===Rg){Se((n==null?void 0:n.type)===Og,u,"argument-error");const h=await XE(u,d,n);return XL(u,h)}return XL(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{Se(s.type==="signin",t,"internal-error");const o=((i=r.multiFactorHint)===null||i===void 0?void 0:i.uid)||r.multiFactorUid;Se(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Tc(t,a,"mfaSmsSignIn",async(d,h)=>{if(h.phoneSignInInfo.captchaResponse===Rg){Se((n==null?void 0:n.type)===Og,d,"argument-error");const m=await XE(d,h,n);return ZL(d,m)}return ZL(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Tc(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===Rg){Se((n==null?void 0:n.type)===Og,c,"argument-error");const d=await XE(c,u,n);return WL(c,d)}return WL(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function XE(t,e,n){Se(n.type===Og,t,"argument-error");const i=await n.verify();Se(typeof i=="string",t,"argument-error");const r=Object.assign({},e);if("phoneEnrollmentInfo"in r){const s=r.phoneEnrollmentInfo.phoneNumber,o=r.phoneEnrollmentInfo.captchaResponse,a=r.phoneEnrollmentInfo.clientType,l=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:i,captchaResponse:o,clientType:a,recaptchaVersion:l}}),r}else if("phoneSignInInfo"in r){const s=r.phoneSignInInfo.captchaResponse,o=r.phoneSignInInfo.clientType,a=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:s,clientType:o,recaptchaVersion:a}}),r}else return Object.assign(r,{recaptchaToken:i}),r}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e){return e?Xa(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends c1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wde(t){return I7(t.auth,new qI(t),t.bypassAuthState)}function Tde(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),zue(n,new qI(t),t.bypassAuthState)}async function Ede(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),A7(n,new qI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wde;case"linkViaPopup":case"linkViaRedirect":return Ede;case"reauthViaPopup":case"reauthViaRedirect":return Tde;default:Ns(this.auth,"internal-error")}}resolve(e){cl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde=new Ib(2e3,1e4);async function aIe(t,e,n){if(un(t.app))return Promise.reject(Rr(t,"operation-not-supported-in-this-environment"));const i=mi(t);a1(t,e,Ip);const r=Pb(i,n);return new ac(i,"signInViaPopup",e,r).executeNotNull()}async function lIe(t,e,n){const i=Pe(t);a1(i.auth,e,Ip);const r=Pb(i.auth,n);return new ac(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class ac extends j7{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){cl(this.filter.length===1,"Popup operations only handle one event");const e=g1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sde.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde="pendingRedirect",Ly=new Map;class Cde extends j7{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ly.get(this.auth._key());if(!e){try{const i=await Ade(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ly.set(this.auth._key(),e)}return this.bypassAuthState||Ly.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ade(t,e){const n=q7(e),i=H7(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}async function z7(t,e){return H7(t)._set(q7(e),"true")}function Ide(t,e){Ly.set(t._key(),e)}function H7(t){return Xa(t._redirectPersistence)}function q7(t){return Py(kde,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cIe(t,e,n){return Dde(t,e,n)}async function Dde(t,e,n){if(un(t.app))return Promise.reject(ar(t));const i=mi(t);a1(t,e,Ip),await i._initializationPromise;const r=Pb(i,n);return await z7(r,i),r._openRedirect(i,e,"signInViaRedirect")}function uIe(t,e,n){return Rde(t,e,n)}async function Rde(t,e,n){const i=Pe(t);a1(i.auth,e,Ip),await i.auth._initializationPromise;const r=Pb(i.auth,n);await h1(!1,i,e.providerId),await z7(r,i.auth);const s=await Pde(i);return r._openRedirect(i.auth,e,"linkViaRedirect",s)}async function dIe(t,e){return await mi(t)._initializationPromise,G7(t,e,!1)}async function G7(t,e,n=!1){if(un(t.app))return Promise.reject(ar(t));const i=mi(t),r=Pb(i,e),o=await new Cde(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}async function Pde(t){const e=g1("".concat(t.uid,":::"));return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ode=10*60*1e3;class Lde{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mde(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!W7(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ode&&this.cachedEventUids.clear(),this.cachedEventUids.has(JL(e))}saveEventToCache(e){this.cachedEventUids.add(JL(e)),this.lastProcessedEventTime=Date.now()}}function JL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mde(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nde(t,e={}){return Hn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bde=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ude=/^https?/;async function Fde(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nde(t);for(const n of e)try{if(Vde(n))return}catch(i){}Ns(t,"unauthorized-domain")}function Vde(t){const e=S0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Ude.test(n))return!1;if(Bde.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $de=new Ib(3e4,6e4);function e3(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jde(t){return new Promise((e,n)=>{var i,r,s;function o(){e3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e3(),n(Rr(t,"network-request-failed"))},timeout:$de.get()})}if(!((r=(i=An().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{const a=w7("iframefcb");return An()[a]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},jI("".concat(uue(),"?onload=").concat(a)).catch(l=>n(l))}}).catch(e=>{throw My=null,e})}let My=null;function zde(t){return My=My||jde(t),My}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde=new Ib(5e3,15e3),qde="__/auth/iframe",Gde="emulator/auth/iframe",Wde={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yde=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xde(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VI(e,Gde):"https://".concat(t.config.authDomain,"/").concat(qde),i={apiKey:e.apiKey,appName:t.name,v:eu},r=Yde.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(Bd(i).slice(1))}async function Kde(t){const e=await zde(t),n=An().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:Xde(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wde,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),a=An().setTimeout(()=>{s(o)},Hde.get());function l(){An().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qde={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zde=500,Jde=600,ehe="_blank",the="http://localhost";class t3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function nhe(t,e,n,i=Zde,r=Jde){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Qde),{width:i.toString(),height:r.toString(),top:s,left:o}),c=jn().toLowerCase();n&&(a=m7(c)?ehe:n),f7(c)&&(e=e||the,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,b])=>"".concat(h).concat(m,"=").concat(b,","),"");if(eue(c)&&a!=="_self")return ihe(e||"",a),new t3(null);const d=window.open(e||"",a,u);Se(d,t,"popup-blocked");try{d.focus()}catch(h){}return new t3(d)}function ihe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rhe="__/auth/handler",she="emulator/auth/handler",ohe=encodeURIComponent("fac");async function n3(t,e,n,i,r,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:eu,eventId:r};if(e instanceof Ip){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Dp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(ohe,"=").concat(encodeURIComponent(l)):"";return"".concat(ahe(t),"?").concat(Bd(a).slice(1)).concat(c)}function ahe({config:t}){return t.emulator?VI(t,she):"https://".concat(t.authDomain,"/").concat(rhe)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="webStorageSupport";class lhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N7,this._completeRedirectFn=G7,this._overrideRedirectResult=Ide}async _openPopup(e,n,i,r){var s;cl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await n3(e,n,i,S0(),r);return nhe(e,o,g1())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await n3(e,n,i,S0(),r);return ode(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(cl(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Kde(e),i=new Lde(e);return n.register("authEvent",r=>(Se(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(KE,{type:KE},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[KE];o!==void 0&&n(!!o),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fde(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _7()||p7()||$I()}}const che=lhe;var i3="@firebase/auth",r3="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hhe(t){ll(new ra("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x7(t)},c=new oue(i,r,s,l);return xue(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ll(new ra("auth-internal",e=>{const n=mi(e.getProvider("auth").getImmediate());return(i=>new uhe(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(i3,r3,dhe(t)),Dr(i3,r3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe=5*60,phe=YU("authIdTokenMaxAge")||fhe;let s3=null;const mhe=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>phe)return;const r=n==null?void 0:n.token;s3!==r&&(s3=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))};function Y7(t=Ab()){const e=Ap(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_ue(t,{popupRedirectResolver:che,persistence:[mde,ide,N7]}),i=YU("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=mhe(s.toString());ede(n,o,()=>o(n.currentUser)),Jue(n,a=>o(a))}}const r=GU("auth");return r&&wue(n,"http://".concat(r)),n}function ghe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aue({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Rr("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",ghe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hhe("Browser");/*! Capacitor: https://capacitorjs.com/ - MIT License */var jf;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(jf||(jf={}));class hf extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const bhe=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},vhe=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},i=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:bhe(t),s=()=>r()!=="web",o=d=>{const h=c.get(d);return!!(h!=null&&h.platforms.has(r())||a(d))},a=d=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(m=>m.name===d)},l=d=>t.console.error(d),c=new Map,u=(d,h={})=>{const m=c.get(d);if(m)return console.warn('Capacitor plugin "'.concat(d,'" already registered. Cannot register plugins twice.')),m.proxy;const b=r(),g=a(d);let w;const y=async()=>(!w&&b in h?w=typeof h[b]=="function"?w=await h[b]():w=h[b]:e!==null&&!w&&"web"in h&&(w=typeof h.web=="function"?w=await h.web():w=h.web),w),T=(A,R)=>{var L,U;if(g){const V=g==null?void 0:g.methods.find(M=>R===M.name);if(V)return V.rtype==="promise"?M=>n.nativePromise(d,R.toString(),M):(M,ae)=>n.nativeCallback(d,R.toString(),M,ae);if(A)return(L=A[R])===null||L===void 0?void 0:L.bind(A)}else{if(A)return(U=A[R])===null||U===void 0?void 0:U.bind(A);throw new hf('"'.concat(d,'" plugin is not implemented on ').concat(b),jf.Unimplemented)}},k=A=>{let R;const L=(...U)=>{const V=y().then(M=>{const ae=T(M,A);if(ae){const he=ae(...U);return R=he==null?void 0:he.remove,he}else throw new hf('"'.concat(d,".").concat(A,'()" is not implemented on ').concat(b),jf.Unimplemented)});return A==="addListener"&&(V.remove=async()=>R()),V};return L.toString=()=>"".concat(A.toString(),"() { [capacitor code] }"),Object.defineProperty(L,"name",{value:A,writable:!1,configurable:!1}),L},D=k("addListener"),P=k("removeListener"),B=(A,R)=>{const L=D({eventName:A},R),U=async()=>{const M=await L;P({eventName:A,callbackId:M},R)},V=new Promise(M=>L.then(()=>M({remove:U})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await U()},V},O=new Proxy({},{get(A,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?B:D;case"removeListener":return P;default:return k(R)}}});return i[d]=O,c.set(d,{name:d,proxy:O,platforms:new Set([...Object.keys(h),...g?[b]:[]])}),O};return n.convertFileSrc||(n.convertFileSrc=d=>d),n.getPlatform=r,n.handleError=l,n.isNativePlatform=s,n.isPluginAvailable=o,n.registerPlugin=u,n.Exception=hf,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},yhe=t=>t.Capacitor=vhe(t),A0=yhe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),yo=A0.registerPlugin;class GI{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const r=this.listeners[e];if(!r){if(i){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}r.forEach(s=>s(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new A0.Exception(e,jf.Unimplemented)}unavailable(e="not available"){return new A0.Exception(e,jf.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const r=i.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const o3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),a3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _he extends GI{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=a3(r).trim(),s=a3(s).trim(),n[r]=s}),n}async setCookie(e){try{const n=o3(e.key),i=o3(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(n,"=").concat(i||"").concat(r,"; path=").concat(s,"; ").concat(o,";")}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}yo("CapacitorCookies",{web:()=>new _he});const xhe=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>n(r),i.readAsDataURL(t)}),whe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,s,o)=>(r[s]=t[e[o]],r),{})},The=(t,e=!0)=>t?Object.entries(t).reduce((i,r)=>{const[s,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+="".concat(s,"=").concat(a,"&")}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l="".concat(s,"=").concat(a)),"".concat(i,"&").concat(l)},"").substr(1):null,Ehe=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=whe(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))s.set(o,a);n.body=s.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(t.data))s.append(a,t.data[a]);n.body=s;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class She extends GI{async request(e){const n=Ehe(e,e.webFetchExtra),i=The(e.params,e.shouldEncodeUrlParams),r=i?"".concat(e.url,"?").concat(i):e.url,s=await fetch(r,n),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await xhe(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const u={};return s.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}yo("CapacitorHttp",{web:()=>new She});var l3;(function(t){t.IndexedDbLocal="INDEXED_DB_LOCAL",t.InMemory="IN_MEMORY",t.BrowserLocal="BROWSER_LOCAL",t.BrowserSession="BROWSER_SESSION"})(l3||(l3={}));var c3;(function(t){t.APPLE="apple.com",t.FACEBOOK="facebook.com",t.GAME_CENTER="gc.apple.com",t.GITHUB="github.com",t.GOOGLE="google.com",t.MICROSOFT="microsoft.com",t.PLAY_GAMES="playgames.google.com",t.TWITTER="twitter.com",t.YAHOO="yahoo.com",t.PASSWORD="password",t.PHONE="phone"})(c3||(c3={}));const khe=yo("FirebaseAuthentication",{web:()=>xi(()=>import("./web-B338mL0M.js"),[]).then(t=>new t.FirebaseAuthenticationWeb)});yo("FirebaseFirestore",{web:()=>xi(()=>import("./web-DucnYOke.js"),[]).then(t=>new t.FirebaseFirestoreWeb)});yo("FirebaseFunctions",{web:()=>xi(()=>import("./web-OykYGxzj.js"),[]).then(t=>new t.FirebaseFunctionsWeb)});const Che=yo("FirebaseStorage",{web:()=>xi(()=>import("./web-rDbu3lTo.js"),[]).then(t=>new t.FirebaseStorageWeb)});var u3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ec,X7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(L,U,V){for(var M=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)M[ae-2]=arguments[ae];return A.prototype[U].apply(L,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,A,R){R||(R=0);var L=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)L[U]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(U=0;16>U;++U)L[U]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],U=O.g[2];var V=O.g[3],M=A+(V^R&(U^V))+L[0]+3614090360&4294967295;A=R+(M<<7&4294967295|M>>>25),M=V+(U^A&(R^U))+L[1]+3905402710&4294967295,V=A+(M<<12&4294967295|M>>>20),M=U+(R^V&(A^R))+L[2]+606105819&4294967295,U=V+(M<<17&4294967295|M>>>15),M=R+(A^U&(V^A))+L[3]+3250441966&4294967295,R=U+(M<<22&4294967295|M>>>10),M=A+(V^R&(U^V))+L[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=V+(U^A&(R^U))+L[5]+1200080426&4294967295,V=A+(M<<12&4294967295|M>>>20),M=U+(R^V&(A^R))+L[6]+2821735955&4294967295,U=V+(M<<17&4294967295|M>>>15),M=R+(A^U&(V^A))+L[7]+4249261313&4294967295,R=U+(M<<22&4294967295|M>>>10),M=A+(V^R&(U^V))+L[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=V+(U^A&(R^U))+L[9]+2336552879&4294967295,V=A+(M<<12&4294967295|M>>>20),M=U+(R^V&(A^R))+L[10]+4294925233&4294967295,U=V+(M<<17&4294967295|M>>>15),M=R+(A^U&(V^A))+L[11]+2304563134&4294967295,R=U+(M<<22&4294967295|M>>>10),M=A+(V^R&(U^V))+L[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=V+(U^A&(R^U))+L[13]+4254626195&4294967295,V=A+(M<<12&4294967295|M>>>20),M=U+(R^V&(A^R))+L[14]+2792965006&4294967295,U=V+(M<<17&4294967295|M>>>15),M=R+(A^U&(V^A))+L[15]+1236535329&4294967295,R=U+(M<<22&4294967295|M>>>10),M=A+(U^V&(R^U))+L[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^U&(A^R))+L[6]+3225465664&4294967295,V=A+(M<<9&4294967295|M>>>23),M=U+(A^R&(V^A))+L[11]+643717713&4294967295,U=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(U^V))+L[0]+3921069994&4294967295,R=U+(M<<20&4294967295|M>>>12),M=A+(U^V&(R^U))+L[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^U&(A^R))+L[10]+38016083&4294967295,V=A+(M<<9&4294967295|M>>>23),M=U+(A^R&(V^A))+L[15]+3634488961&4294967295,U=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(U^V))+L[4]+3889429448&4294967295,R=U+(M<<20&4294967295|M>>>12),M=A+(U^V&(R^U))+L[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^U&(A^R))+L[14]+3275163606&4294967295,V=A+(M<<9&4294967295|M>>>23),M=U+(A^R&(V^A))+L[3]+4107603335&4294967295,U=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(U^V))+L[8]+1163531501&4294967295,R=U+(M<<20&4294967295|M>>>12),M=A+(U^V&(R^U))+L[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=V+(R^U&(A^R))+L[2]+4243563512&4294967295,V=A+(M<<9&4294967295|M>>>23),M=U+(A^R&(V^A))+L[7]+1735328473&4294967295,U=V+(M<<14&4294967295|M>>>18),M=R+(V^A&(U^V))+L[12]+2368359562&4294967295,R=U+(M<<20&4294967295|M>>>12),M=A+(R^U^V)+L[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^U)+L[8]+2272392833&4294967295,V=A+(M<<11&4294967295|M>>>21),M=U+(V^A^R)+L[11]+1839030562&4294967295,U=V+(M<<16&4294967295|M>>>16),M=R+(U^V^A)+L[14]+4259657740&4294967295,R=U+(M<<23&4294967295|M>>>9),M=A+(R^U^V)+L[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^U)+L[4]+1272893353&4294967295,V=A+(M<<11&4294967295|M>>>21),M=U+(V^A^R)+L[7]+4139469664&4294967295,U=V+(M<<16&4294967295|M>>>16),M=R+(U^V^A)+L[10]+3200236656&4294967295,R=U+(M<<23&4294967295|M>>>9),M=A+(R^U^V)+L[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^U)+L[0]+3936430074&4294967295,V=A+(M<<11&4294967295|M>>>21),M=U+(V^A^R)+L[3]+3572445317&4294967295,U=V+(M<<16&4294967295|M>>>16),M=R+(U^V^A)+L[6]+76029189&4294967295,R=U+(M<<23&4294967295|M>>>9),M=A+(R^U^V)+L[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=V+(A^R^U)+L[12]+3873151461&4294967295,V=A+(M<<11&4294967295|M>>>21),M=U+(V^A^R)+L[15]+530742520&4294967295,U=V+(M<<16&4294967295|M>>>16),M=R+(U^V^A)+L[2]+3299628645&4294967295,R=U+(M<<23&4294967295|M>>>9),M=A+(U^(R|~V))+L[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~U))+L[7]+1126891415&4294967295,V=A+(M<<10&4294967295|M>>>22),M=U+(A^(V|~R))+L[14]+2878612391&4294967295,U=V+(M<<15&4294967295|M>>>17),M=R+(V^(U|~A))+L[5]+4237533241&4294967295,R=U+(M<<21&4294967295|M>>>11),M=A+(U^(R|~V))+L[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~U))+L[3]+2399980690&4294967295,V=A+(M<<10&4294967295|M>>>22),M=U+(A^(V|~R))+L[10]+4293915773&4294967295,U=V+(M<<15&4294967295|M>>>17),M=R+(V^(U|~A))+L[1]+2240044497&4294967295,R=U+(M<<21&4294967295|M>>>11),M=A+(U^(R|~V))+L[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~U))+L[15]+4264355552&4294967295,V=A+(M<<10&4294967295|M>>>22),M=U+(A^(V|~R))+L[6]+2734768916&4294967295,U=V+(M<<15&4294967295|M>>>17),M=R+(V^(U|~A))+L[13]+1309151649&4294967295,R=U+(M<<21&4294967295|M>>>11),M=A+(U^(R|~V))+L[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=V+(R^(A|~U))+L[11]+3174756917&4294967295,V=A+(M<<10&4294967295|M>>>22),M=U+(A^(V|~R))+L[2]+718787259&4294967295,U=V+(M<<15&4294967295|M>>>17),M=R+(V^(U|~A))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+V&4294967295}i.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,L=this.B,U=this.h,V=0;V<A;){if(U==0)for(;V<=R;)r(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<A;)if(L[U++]=O.charCodeAt(V++),U==this.blockSize){r(this,L),U=0;break}}else for(;V<A;)if(L[U++]=O[V++],U==this.blockSize){r(this,L),U=0;break}}this.h=U,this.o+=A},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var L=0;32>L;L+=8)O[R++]=this.g[A]>>>L&255;return O};function s(O,A){var R=a;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function o(O,A){this.h=A;for(var R=[],L=!0,U=O.length-1;0<=U;U--){var V=O[U]|0;L&&V==A||(R[U]=V,L=!1)}this.g=R}var a={};function l(O){return-128<=O&&128>O?s(O,function(A){return new o([A|0],0>A?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return d;if(0>O)return w(c(-O));for(var A=[],R=1,L=0;O>=R;L++)A[L]=O/R|0,R*=4294967296;return new o(A,0)}function u(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return w(u(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(A,8)),L=d,U=0;U<O.length;U+=8){var V=Math.min(8,O.length-U),M=parseInt(O.substring(U,U+V),A);8>V?(V=c(Math.pow(A,V)),L=L.j(V).add(c(M))):(L=L.j(R),L=L.add(c(M)))}return L}var d=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var L=this.i(R);O+=(0<=L?L:4294967296+L)*A,A*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(g(this))return"-"+w(this).toString(O);for(var A=c(Math.pow(O,6)),R=this,L="";;){var U=D(R,A).g;R=y(R,U.j(A));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=U,b(R))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function g(O){return O.h==-1}t.l=function(O){return O=y(this,O),g(O)?-1:b(O)?0:1};function w(O){for(var A=O.g.length,R=[],L=0;L<A;L++)R[L]=~O.g[L];return new o(R,~O.h).add(h)}t.abs=function(){return g(this)?w(this):this},t.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],L=0,U=0;U<=A;U++){var V=L+(this.i(U)&65535)+(O.i(U)&65535),M=(V>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);L=M>>>16,V&=65535,M&=65535,R[U]=M<<16|V}return new o(R,R[R.length-1]&-2147483648?-1:0)};function y(O,A){return O.add(w(A))}t.j=function(O){if(b(this)||b(O))return d;if(g(this))return g(O)?w(this).j(w(O)):w(w(this).j(O));if(g(O))return w(this.j(w(O)));if(0>this.l(m)&&0>O.l(m))return c(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<O.g.length;U++){var V=this.i(L)>>>16,M=this.i(L)&65535,ae=O.i(U)>>>16,he=O.i(U)&65535;R[2*L+2*U]+=M*he,T(R,2*L+2*U),R[2*L+2*U+1]+=V*he,T(R,2*L+2*U+1),R[2*L+2*U+1]+=M*ae,T(R,2*L+2*U+1),R[2*L+2*U+2]+=V*ae,T(R,2*L+2*U+2)}for(L=0;L<A;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=A;L<2*A;L++)R[L]=0;return new o(R,0)};function T(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function k(O,A){this.g=O,this.h=A}function D(O,A){if(b(A))throw Error("division by zero");if(b(O))return new k(d,d);if(g(O))return A=D(w(O),A),new k(w(A.g),w(A.h));if(g(A))return A=D(O,w(A)),new k(w(A.g),A.h);if(30<O.g.length){if(g(O)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var R=h,L=A;0>=L.l(O);)R=P(R),L=P(L);var U=B(R,1),V=B(L,1);for(L=B(L,2),R=B(R,2);!b(L);){var M=V.add(L);0>=M.l(O)&&(U=U.add(R),V=M),L=B(L,1),R=B(R,1)}return A=y(O,U.j(A)),new k(U,A)}for(U=d;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=c(R),M=V.j(A);g(M)||0<M.l(O);)R-=L,V=c(R),M=V.j(A);b(V)&&(V=h),U=U.add(V),O=y(O,M)}return new k(U,O)}t.A=function(O){return D(this,O).h},t.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)&O.i(L);return new o(R,this.h&O.h)},t.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)|O.i(L);return new o(R,this.h|O.h)},t.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)^O.i(L);return new o(R,this.h^O.h)};function P(O){for(var A=O.g.length+1,R=[],L=0;L<A;L++)R[L]=O.i(L)<<1|O.i(L-1)>>>31;return new o(R,O.h)}function B(O,A){var R=A>>5;A%=32;for(var L=O.g.length-R,U=[],V=0;V<L;V++)U[V]=0<A?O.i(V+R)>>>A|O.i(V+R+1)<<32-A:O.i(V+R);return new o(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,X7=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ec=o}).apply(typeof u3<"u"?u3:typeof self<"u"?self:typeof window<"u"?window:{});var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K7,tg,Q7,Ny,f2,Z7,J7,eF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,I){return f==Array.prototype||f==Object.prototype||(f[E]=I.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qv=="object"&&Qv];for(var E=0;E<f.length;++E){var I=f[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var i=n(this);function r(f,E){if(E)e:{var I=i;f=f.split(".");for(var F=0;F<f.length-1;F++){var X=f[F];if(!(X in I))break e;I=I[X]}f=f[f.length-1],F=I[f],E=E(F),E!=F&&E!=null&&e(I,f,{configurable:!0,writable:!0,value:E})}}function s(f,E){f instanceof String&&(f+="");var I=0,F=!1,X={next:function(){if(!F&&I<f.length){var re=I++;return{value:E(re,f[re]),done:!1}}return F=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}r("Array.prototype.values",function(f){return f||function(){return s(this,function(E,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function c(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function u(f,E,I){return f.call.apply(f.bind,arguments)}function d(f,E,I){if(!f)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,F),f.apply(E,X)}}return function(){return f.apply(E,arguments)}}function h(f,E,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function m(f,E){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),f.apply(this,F)}}function b(f,E){function I(){}I.prototype=E.prototype,f.aa=E.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(F,X,re){for(var xe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)xe[gt-2]=arguments[gt];return E.prototype[X].apply(F,xe)}}function g(f){const E=f.length;if(0<E){const I=Array(E);for(let F=0;F<E;F++)I[F]=f[F];return I}return[]}function w(f,E){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(l(F)){const X=f.length||0,re=F.length||0;f.length=X+re;for(let xe=0;xe<re;xe++)f[X+xe]=F[xe]}else f.push(F)}}class y{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function T(f){return/^[\s\xa0]*$/.test(f)}function k(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function D(f){return D[" "](f),f}D[" "]=function(){};var P=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function B(f,E,I){for(const F in f)E.call(I,f[F],F,f)}function O(f,E){for(const I in f)E.call(void 0,f[I],I,f)}function A(f){const E={};for(const I in f)E[I]=f[I];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,E){let I,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(I in F)f[I]=F[I];for(let re=0;re<R.length;re++)I=R[re],Object.prototype.hasOwnProperty.call(F,I)&&(f[I]=F[I])}}function U(f){var E=1;f=f.split(":");const I=[];for(;0<E&&f.length;)I.push(f.shift()),E--;return f.length&&I.push(f.join(":")),I}function V(f){a.setTimeout(()=>{throw f},0)}function M(){var f=ne;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class ae{constructor(){this.h=this.g=null}add(E,I){const F=he.get();F.set(E,I),this.h?this.h.next=F:this.g=F,this.h=F}}var he=new y(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ee=!1,ne=new ae,Y=()=>{const f=a.Promise.resolve(void 0);fe=()=>{f.then(pe)}};var pe=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(I){V(I)}var E=he;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}ee=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};a.addEventListener("test",I,E),a.removeEventListener("test",I,E)}catch(I){}return f}();function ue(f,E){if(De.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,F=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(P){e:{try{D(E.nodeName);var X=!0;break e}catch(re){}X=!1}X||(E=null)}}else I=="mouseover"?E=f.fromElement:I=="mouseout"&&(E=f.toElement);this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ue.aa.h.call(this)}}b(ue,De);var Ee={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Ut(f,E,I,F,X){this.listener=f,this.proxy=null,this.src=E,this.type=I,this.capture=!!F,this.ha=X,this.key=++Ye,this.da=this.fa=!1}function qn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function gi(f){this.src=f,this.g={},this.h=0}gi.prototype.add=function(f,E,I,F,X){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var xe=Di(f,E,F,X);return-1<xe?(E=f[xe],I||(E.fa=!1)):(E=new Ut(E,this.src,re,!!F,X),E.fa=I,f.push(E)),E};function Tn(f,E){var I=E.type;if(I in f.g){var F=f.g[I],X=Array.prototype.indexOf.call(F,E,void 0),re;(re=0<=X)&&Array.prototype.splice.call(F,X,1),re&&(qn(E),f.g[I].length==0&&(delete f.g[I],f.h--))}}function Di(f,E,I,F){for(var X=0;X<f.length;++X){var re=f[X];if(!re.da&&re.listener==E&&re.capture==!!I&&re.ha==F)return X}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),bi={};function ls(f,E,I,F,X){if(Array.isArray(E)){for(var re=0;re<E.length;re++)ls(f,E[re],I,F,X);return null}return I=cs(I),f&&f[ye]?f.K(E,I,c(F)?!!F.capture:!!F,X):xo(f,E,I,!1,F,X)}function xo(f,E,I,F,X,re){if(!E)throw Error("Invalid event type");var xe=c(X)?!!X.capture:!!X,gt=Hs(f);if(gt||(f[Qt]=gt=new gi(f)),I=gt.add(E,I,F,xe,re),I.proxy)return I;if(F=Gn(),I.proxy=F,F.src=f,F.listener=I,f.addEventListener)Ne||(X=xe),X===void 0&&(X=!1),f.addEventListener(E.toString(),F,X);else if(f.attachEvent)f.attachEvent(js(E.toString()),F);else if(f.addListener&&f.removeListener)f.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Gn(){function f(I){return E.call(f.src,f.listener,I)}const E=zs;return f}function dr(f,E,I,F,X){if(Array.isArray(E))for(var re=0;re<E.length;re++)dr(f,E[re],I,F,X);else F=c(F)?!!F.capture:!!F,I=cs(I),f&&f[ye]?(f=f.i,E=String(E).toString(),E in f.g&&(re=f.g[E],I=Di(re,I,F,X),-1<I&&(qn(re[I]),Array.prototype.splice.call(re,I,1),re.length==0&&(delete f.g[E],f.h--)))):f&&(f=Hs(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Di(E,I,F,X)),(I=-1<f?E[f]:null)&&Xe(I))}function Xe(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ye])Tn(E.i,f);else{var I=f.type,F=f.proxy;E.removeEventListener?E.removeEventListener(I,F,f.capture):E.detachEvent?E.detachEvent(js(I),F):E.addListener&&E.removeListener&&E.removeListener(F),(I=Hs(E))?(Tn(I,f),I.h==0&&(I.src=null,E[Qt]=null)):qn(f)}}}function js(f){return f in bi?bi[f]:bi[f]="on"+f}function zs(f,E){if(f.da)f=!0;else{E=new ue(E,this);var I=f.listener,F=f.ha||f.src;f.fa&&Xe(f),f=I.call(F,E)}return f}function Hs(f){return f=f[Qt],f instanceof gi?f:null}var Fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(f){return typeof f=="function"?f:(f[Fr]||(f[Fr]=function(E){return f.handleEvent(E)}),f[Fr])}function St(){ge.call(this),this.i=new gi(this),this.M=this,this.F=null}b(St,ge),St.prototype[ye]=!0,St.prototype.removeEventListener=function(f,E,I,F){dr(this,f,E,I,F)};function Ft(f,E){var I,F=f.F;if(F)for(I=[];F;F=F.F)I.push(F);if(f=f.M,F=E.type||E,typeof E=="string")E=new De(E,f);else if(E instanceof De)E.target=E.target||f;else{var X=E;E=new De(F,f),L(E,X)}if(X=!0,I)for(var re=I.length-1;0<=re;re--){var xe=E.g=I[re];X=Wn(xe,F,!0,E)&&X}if(xe=E.g=f,X=Wn(xe,F,!0,E)&&X,X=Wn(xe,F,!1,E)&&X,I)for(re=0;re<I.length;re++)xe=E.g=I[re],X=Wn(xe,F,!1,E)&&X}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var I=f.g[E],F=0;F<I.length;F++)qn(I[F]);delete f.g[E],f.h--}}this.F=null},St.prototype.K=function(f,E,I,F){return this.i.add(String(f),E,!1,I,F)},St.prototype.L=function(f,E,I,F){return this.i.add(String(f),E,!0,I,F)};function Wn(f,E,I,F){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var X=!0,re=0;re<E.length;++re){var xe=E[re];if(xe&&!xe.da&&xe.capture==I){var gt=xe.listener,Nn=xe.ha||xe.src;xe.fa&&Tn(f.i,xe),X=gt.call(Nn,F)!==!1&&X}}return X&&!F.defaultPrevented}function wo(f,E,I){if(typeof f=="function")I&&(f=h(f,I));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(f,E||0)}function ma(f){f.g=wo(()=>{f.g=null,f.i&&(f.i=!1,ma(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class qs extends ge{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(f){ge.call(this),this.h=f,this.g={}}b(lt,ge);var Sl=[];function ga(f){B(f.g,function(E,I){this.g.hasOwnProperty(I)&&Xe(E)},f),f.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ga(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cu=a.JSON.stringify,Kp=a.JSON.parse,Qp=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function uu(){}uu.prototype.h=null;function Hd(f){return f.h||(f.h=f.i())}function qd(){}var ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function du(){De.call(this,"d")}b(du,De);function hu(){De.call(this,"c")}b(hu,De);var Gs={},Gd=null;function va(){return Gd=Gd||new St}Gs.La="serverreachability";function Wd(f){De.call(this,Gs.La,f)}b(Wd,De);function us(f){const E=va();Ft(E,new Wd(E))}Gs.STAT_EVENT="statevent";function Yd(f,E){De.call(this,Gs.STAT_EVENT,f),this.stat=E}b(Yd,De);function En(f){const E=va();Ft(E,new Yd(E,f))}Gs.Ma="timingevent";function To(f,E){De.call(this,Gs.Ma,f),this.size=E}b(To,De);function Ws(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},E)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function kl(f,E,I,F,X,re){f.info(function(){if(f.g)if(re)for(var xe="",gt=re.split("&"),Nn=0;Nn<gt.length;Nn++){var ut=gt[Nn].split("=");if(1<ut.length){var Xn=ut[0];ut=ut[1];var Sn=Xn.split("_");xe=2<=Sn.length&&Sn[1]=="type"?xe+(Xn+"="+ut+"&"):xe+(Xn+"=redacted&")}}else xe=null;else xe=re;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+E+"\n"+I+"\n"+xe})}function Yn(f,E,I,F,X,re,xe){f.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+E+"\n"+I+"\n"+re+" "+xe})}function Eo(f,E,I,F){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Cl(f,I)+(F?" "+F:"")})}function Xd(f,E){f.info(function(){return"TIMEOUT: "+E})}sn.prototype.info=function(){};function Cl(f,E){if(!f.g)return E;if(!E)return null;try{var I=JSON.parse(E);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var F=I[f];if(!(2>F.length)){var X=F[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var xe=1;xe<X.length;xe++)X[xe]=""}}}}return cu(I)}catch(gt){return E}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ya={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pt;function _a(){}b(_a,uu),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},pt=new _a;function qi(f,E,I,F){this.j=f,this.i=E,this.l=I,this.R=F||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new So}function So(){this.i=null,this.g="",this.h=!1}var Zp={},ds={};function Z(f,E,I){f.L=1,f.v=eh(fr(E)),f.m=I,f.P=!0,Ce(f,null)}function Ce(f,E){f.F=Date.now(),on(f),f.A=fr(f.v);var I=f.A,F=f.R;Array.isArray(F)||(F=[String(F)]),lv(I.i,"t",F),f.C=0,I=f.j.J,f.h=new So,f.g=Io(f.j,I?E:null,!f.m),0<f.O&&(f.M=new qs(h(f.Y,f,f.g),f.O)),E=f.U,I=f.g,F=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Sl[0]=X.toString()),X=Sl);for(var re=0;re<X.length;re++){var xe=ls(I,X[re],F||E.handleEvent,!1,E.h||E);if(!xe)break;E.g[xe.key]=xe}E=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),us(),kl(f.i,f.u,f.A,f.l,f.R,f.m)}qi.prototype.ca=function(f){f=f.target;const E=this.M;E&&pr(f)==3?E.j():this.Y(f)},qi.prototype.Y=function(f){try{if(f==this.g)e:{const Sn=pr(this.g);var E=this.g.Ba();const Ml=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||fv(this.g)))){this.J||Sn!=4||E==7||(E==8||0>=Ml?us(3):us(2)),hr(this);var I=this.g.Z();this.X=I;t:if(je(this)){var F=fv(this.g);f="";var X=F.length,re=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),xa(this);var xe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<X;E++)this.h.h=!0,f+=this.h.i.decode(F[E],{stream:!(re&&E==X-1)});F.length=0,this.h.g+=f,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=I==200,Yn(this.i,this.u,this.A,this.l,this.R,Sn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,Nn=this.g;if((gt=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(gt)){var ut=gt;break t}}ut=null}if(I=ut)Eo(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kd(this,I);else{this.o=!1,this.s=3,En(12),Ys(this),xa(this);break e}}if(this.P){I=!0;let gr;for(;!this.J&&this.C<xe.length;)if(gr=Vt(this,xe),gr==ds){Sn==4&&(this.s=4,En(14),I=!1),Eo(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==Zp){this.s=4,En(15),Eo(this.i,this.l,xe,"[Invalid Chunk]"),I=!1;break}else Eo(this.i,this.l,gr,null),Kd(this,gr);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||xe.length!=0||this.h.h||(this.s=1,En(16),I=!1),this.o=this.o&&I,!I)Eo(this.i,this.l,xe,"[Invalid Chunked Response]"),Ys(this),xa(this);else if(0<xe.length&&!this.W){this.W=!0;var Xn=this.j;Xn.g==this&&Xn.ba&&!Xn.M&&(Xn.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),um(Xn),Xn.M=!0,En(11))}}else Eo(this.i,this.l,xe,null),Kd(this,xe);Sn==4&&Ys(this),this.o&&!this.J&&(Sn==4?dm(this.j,this):(this.o=!1,on(this)))}else MT(this.g),I==400&&0<xe.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),Ys(this),xa(this)}}}catch(Sn){}finally{}};function je(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Vt(f,E){var I=f.C,F=E.indexOf("\n",I);return F==-1?ds:(I=Number(E.substring(I,F)),isNaN(I)?Zp:(F+=1,F+I>E.length?ds:(E=E.slice(F,F+I),f.C=F+I,E)))}qi.prototype.cancel=function(){this.J=!0,Ys(this)};function on(f){f.S=Date.now()+f.I,Gi(f,f.I)}function Gi(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ws(h(f.ba,f),E)}function hr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}qi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Xd(this.i,this.A),this.L!=2&&(us(),En(17)),Ys(this),this.s=2,xa(this)):Gi(this,this.S-f)};function xa(f){f.j.G==0||f.J||dm(f.j,f)}function Ys(f){hr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,ga(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Kd(f,E){try{var I=f.j;if(I.G!=0&&(I.g==f||Qd(I.h,f))){if(!f.K&&Qd(I.h,f)&&I.G==3){try{var F=I.Da.g.parse(E)}catch(ut){F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)lh(I),Sa(I);else break e;cm(I),En(18)}}else I.za=X[1],0<I.za-I.T&&37500>X[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ws(h(I.Za,I),6e3));if(1>=pu(I.h)&&I.ca){try{I.ca()}catch(ut){}I.ca=void 0}}else hs(I,11)}else if((f.K||I.g==f)&&lh(I),!T(E))for(X=I.Da.g.parse(E),E=0;E<X.length;E++){let ut=X[E];if(I.T=ut[0],ut=ut[1],I.G==2)if(ut[0]=="c"){I.K=ut[1],I.ia=ut[2];const Xn=ut[3];Xn!=null&&(I.la=Xn,I.j.info("VER="+I.la));const Sn=ut[4];Sn!=null&&(I.Aa=Sn,I.j.info("SVER="+I.Aa));const Ml=ut[5];Ml!=null&&typeof Ml=="number"&&0<Ml&&(F=1.5*Ml,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const gr=f.g;if(gr){const ch=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ch){var re=F.h;re.g||ch.indexOf("spdy")==-1&&ch.indexOf("quic")==-1&&ch.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(wa(re,re.h),re.h=null))}if(F.D){const pm=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;pm&&(F.ya=pm,it(F.I,F.D,pm))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var xe=f;if(F.qa=xu(F,F.J?F.ia:null,F.W),xe.K){Al(F.h,xe);var gt=xe,Nn=F.L;Nn&&(gt.I=Nn),gt.B&&(hr(gt),on(gt)),F.g=xe}else lm(F);0<I.i.length&&Ao(I)}else ut[0]!="stop"&&ut[0]!="close"||hs(I,7);else I.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?hs(I,7):am(I):ut[0]!="noop"&&I.l&&I.l.ta(ut),I.v=0)}}us(4)}catch(ut){}}var CT=class{constructor(f,E){this.g=f,this.map=E}};function sv(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function pu(f){return f.h?1:f.g?f.g.size:0}function Qd(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function wa(f,E){f.g?f.g.add(E):f.h=E}function Al(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}sv.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Il(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const I of f.g.values())E=E.concat(I.D);return E}return g(f.i)}function mu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],I=f.length,F=0;F<I;F++)E.push(f[F]);return E}E=[],I=0;for(F in f)E[I++]=f[F];return E}function AT(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var I=0;I<f;I++)E.push(I);return E}E=[],I=0;for(const F in f)E[I++]=F;return E}}}function Jp(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var I=AT(f),F=mu(f),X=F.length,re=0;re<X;re++)E.call(void 0,F[re],I&&I[re],f)}var ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IT(f,E){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var F=f[I].indexOf("="),X=null;if(0<=F){var re=f[I].substring(0,F);X=f[I].substring(F+1)}else re=f[I];E(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Pi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Pi){this.h=f.h,Zd(this,f.j),this.o=f.o,this.g=f.g,Dl(this,f.s),this.l=f.l;var E=f.i,I=new gu;I.i=E.i,E.g&&(I.g=new Map(E.g),I.h=E.h),Jd(this,I),this.m=f.m}else f&&(E=String(f).match(ov))?(this.h=!1,Zd(this,E[1]||"",!0),this.o=ko(E[2]||""),this.g=ko(E[3]||"",!0),Dl(this,E[4]),this.l=ko(E[5]||"",!0),Jd(this,E[6]||"",!0),this.m=ko(E[7]||"")):(this.h=!1,this.i=new gu(null,this.h))}Pi.prototype.toString=function(){var f=[],E=this.j;E&&f.push(Xs(E,Ta,!0),":");var I=this.g;return(I||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Xs(E,Ta,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Xs(I,I.charAt(0)=="/"?av:em,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Xs(I,DT)),f.join("")};function fr(f){return new Pi(f)}function Zd(f,E,I){f.j=I?ko(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Dl(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Jd(f,E,I){E instanceof gu?(f.i=E,RT(f.i,f.h)):(I||(E=Xs(E,tm)),f.i=new gu(E,f.h))}function it(f,E,I){f.i.set(E,I)}function eh(f){return it(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ko(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xs(f,E,I){return typeof f=="string"?(f=encodeURI(f).replace(E,th),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function th(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ta=/[#\/\?@]/g,em=/[#\?:]/g,av=/[#\?]/g,tm=/[#\?@]/g,DT=/#/g;function gu(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Co(f){f.g||(f.g=new Map,f.h=0,f.i&&IT(f.i,function(E,I){f.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=gu.prototype,t.add=function(f,E){Co(this),this.i=null,f=Ea(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(E),this.h+=1,this};function bu(f,E){Co(f),E=Ea(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function nm(f,E){return Co(f),E=Ea(f,E),f.g.has(E)}t.forEach=function(f,E){Co(this),this.g.forEach(function(I,F){I.forEach(function(X){f.call(E,X,F,this)},this)},this)},t.na=function(){Co(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),I=[];for(let F=0;F<E.length;F++){const X=f[F];for(let re=0;re<X.length;re++)I.push(E[F])}return I},t.V=function(f){Co(this);let E=[];if(typeof f=="string")nm(this,f)&&(E=E.concat(this.g.get(Ea(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)E=E.concat(f[I])}return E},t.set=function(f,E){return Co(this),this.i=null,f=Ea(this,f),nm(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function lv(f,E,I){bu(f,E),0<I.length&&(f.i=null,f.g.set(Ea(f,E),g(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var I=0;I<E.length;I++){var F=E[I];const re=encodeURIComponent(String(F)),xe=this.V(F);for(F=0;F<xe.length;F++){var X=re;xe[F]!==""&&(X+="="+encodeURIComponent(String(xe[F]))),f.push(X)}}return this.i=f.join("&")};function Ea(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function RT(f,E){E&&!f.j&&(Co(f),f.i=null,f.g.forEach(function(I,F){var X=F.toLowerCase();F!=X&&(bu(this,F),lv(this,X,I))},f)),f.j=E}function cv(f,E){const I=new sn;if(a.Image){const F=new Image;F.onload=m(Vr,I,"TestLoadImage: loaded",!0,E,F),F.onerror=m(Vr,I,"TestLoadImage: error",!1,E,F),F.onabort=m(Vr,I,"TestLoadImage: abort",!1,E,F),F.ontimeout=m(Vr,I,"TestLoadImage: timeout",!1,E,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=f}else E(!1)}function PT(f,E){const I=new sn,F=new AbortController,X=setTimeout(()=>{F.abort(),Vr(I,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:F.signal}).then(re=>{clearTimeout(X),re.ok?Vr(I,"TestPingServer: ok",!0,E):Vr(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),Vr(I,"TestPingServer: error",!1,E)})}function Vr(f,E,I,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(I)}catch(re){}}function nh(){this.g=new Qp}function uv(f,E,I){const F=I||"";try{Jp(f,function(X,re){let xe=X;c(X)&&(xe=cu(X)),E.push(F+re+"="+encodeURIComponent(xe))})}catch(X){throw E.push(F+"type="+encodeURIComponent("_badmap")),X}}function ih(f){this.l=f.Ub||null,this.j=f.eb||!1}b(ih,uu),ih.prototype.g=function(){return new rh(this.l,this.j)},ih.prototype.i=function(f){return function(){return f}}({});function rh(f,E){St.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(rh,St),t=rh.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,vu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vu(this)),this.g&&(this.readyState=3,vu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;im(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function im(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Rl(this):vu(this),this.readyState==3&&im(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Rl(this))},t.Qa=function(f){this.g&&(this.response=f,Rl(this))},t.ga=function(){this.g&&Rl(this)};function Rl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vu(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=E.next();return f.join("\r\n")};function vu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function rm(f){let E="";return B(f,function(I,F){E+=F,E+=":",E+=I,E+="\r\n"}),E}function sm(f,E,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=rm(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):it(f,E,I))}function Wt(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Wt,St);var OT=/^https?$/i,LT=["POST","PUT"];t=Wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pt.g(),this.v=this.o?Hd(this.o):Hd(pt),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(re){dv(this,re);return}if(f=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)I.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const re of F.keys())I.set(re,F.get(re));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(re=>re.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LT,E,void 0))||F||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of I)this.g.setRequestHeader(re,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{om(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){dv(this,re)}};function dv(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,hv(f),oh(f)}function hv(f){f.A||(f.A=!0,Ft(f,"complete"),Ft(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ft(this,"complete"),Ft(this,"abort"),oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oh(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sh(this):this.bb())},t.bb=function(){sh(this)};function sh(f){if(f.h&&typeof o<"u"&&(!f.v[1]||pr(f)!=4||f.Z()!=2)){if(f.u&&pr(f)==4)wo(f.Ea,0,f);else if(Ft(f,"readystatechange"),pr(f)==4){f.h=!1;try{const xe=f.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var F;if(F=xe===0){var X=String(f.D).match(ov)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),F=!OT.test(X?X.toLowerCase():"")}I=F}if(I)Ft(f,"complete"),Ft(f,"success");else{f.m=6;try{var re=2<pr(f)?f.g.statusText:""}catch(gt){re=""}f.l=re+" ["+f.Z()+"]",hv(f)}}finally{oh(f)}}}}function oh(f,E){if(f.g){om(f);const I=f.g,F=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Ft(f,"ready");try{I.onreadystatechange=F}catch(X){}}}function om(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function pr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Kp(E)}};function fv(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(E){return null}}function MT(f){const E={};f=(f.g&&2<=pr(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let F=0;F<f.length;F++){if(T(f[F]))continue;var I=U(f[F]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const re=E[X]||[];E[X]=re,re.push(I)}O(E,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yu(f,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||E}function pv(f){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yu("baseRetryDelayMs",5e3,f),this.cb=yu("retryDelaySeedMs",1e4,f),this.Wa=yu("forwardChannelMaxRetries",2,f),this.wa=yu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new sv(f&&f.concurrentRequestLimit),this.Da=new nh,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pv.prototype,t.la=8,t.G=1,t.connect=function(f,E,I,F){En(0),this.W=f,this.H=E||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=xu(this,null,this.W),Ao(this)};function am(f){if(Pl(f),f.G==3){var E=f.U++,I=fr(f.I);if(it(I,"SID",f.K),it(I,"RID",E),it(I,"TYPE","terminate"),Wi(f,I),E=new qi(f,f.j,E),E.L=2,E.v=eh(fr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(E.v.toString(),"")}catch(F){}!I&&a.Image&&(new Image().src=E.v,I=!0),I||(E.g=Io(E.j,null),E.g.ea(E.v)),E.F=Date.now(),on(E)}Ol(f)}function Sa(f){f.g&&(um(f),f.g.cancel(),f.g=null)}function Pl(f){Sa(f),f.u&&(a.clearTimeout(f.u),f.u=null),lh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Ao(f){if(!fu(f.h)&&!f.s){f.s=!0;var E=f.Ga;fe||Y(),ee||(fe(),ee=!0),ne.add(E,f),f.B=0}}function ah(f,E){return pu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ws(h(f.Ga,f,E),hm(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new qi(this,this.j,f);let re=this.o;if(this.S&&(re?(re=A(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,4096<E){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=_u(this,X,E),I=fr(this.I),it(I,"RID",f),it(I,"CVER",22),this.D&&it(I,"X-HTTP-Session-Id",this.D),Wi(this,I),re&&(this.O?E="headers="+encodeURIComponent(String(rm(re)))+"&"+E:this.m&&sm(I,this.m,re)),wa(this.h,X),this.Ua&&it(I,"TYPE","init"),this.P?(it(I,"$req",E),it(I,"SID","null"),X.T=!0,Z(X,I,null)):Z(X,I,E),this.G=2}}else this.G==3&&(f?mr(this,f):this.i.length==0||fu(this.h)||mr(this))};function mr(f,E){var I;E?I=E.l:I=f.U++;const F=fr(f.I);it(F,"SID",f.K),it(F,"RID",I),it(F,"AID",f.T),Wi(f,F),f.m&&f.o&&sm(F,f.m,f.o),I=new qi(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),E&&(f.i=E.D.concat(f.i)),E=_u(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),wa(f.h,I),Z(I,F,E)}function Wi(f,E){f.H&&B(f.H,function(I,F){it(E,F,I)}),f.l&&Jp({},function(I,F){it(E,F,I)})}function _u(f,E,I){I=Math.min(f.i.length,I);var F=f.l?h(f.l.Na,f.l,f):null;e:{var X=f.i;let re=-1;for(;;){const xe=["count="+I];re==-1?0<I?(re=X[0].g,xe.push("ofs="+re)):re=0:xe.push("ofs="+re);let gt=!0;for(let Nn=0;Nn<I;Nn++){let ut=X[Nn].g;const Xn=X[Nn].map;if(ut-=re,0>ut)re=Math.max(0,X[Nn].g-100),gt=!1;else try{uv(Xn,xe,"req"+ut+"_")}catch(Sn){F&&F(Xn)}}if(gt){F=xe.join("&");break e}}}return f=f.i.splice(0,I),E.D=f,F}function lm(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;fe||Y(),ee||(fe(),ee=!0),ne.add(E,f),f.v=0}}function cm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ws(h(f.Fa,f),hm(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,mv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ws(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),Sa(this),mv(this))};function um(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function mv(f){f.g=new qi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=fr(f.qa);it(E,"RID","rpc"),it(E,"SID",f.K),it(E,"AID",f.T),it(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&it(E,"TO",f.ja),it(E,"TYPE","xmlhttp"),Wi(f,E),f.m&&f.o&&sm(E,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=eh(fr(E)),I.m=null,I.P=!0,Ce(I,f)}t.Za=function(){this.C!=null&&(this.C=null,Sa(this),cm(this),En(19))};function lh(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function dm(f,E){var I=null;if(f.g==E){lh(f),um(f),f.g=null;var F=2}else if(Qd(f.h,E))I=E.D,Al(f.h,E),F=1;else return;if(f.G!=0){if(E.o)if(F==1){I=E.m?E.m.length:0,E=Date.now()-E.F;var X=f.B;F=va(),Ft(F,new To(F,I)),Ao(f)}else lm(f);else if(X=E.s,X==3||X==0&&0<E.X||!(F==1&&ah(f,E)||F==2&&cm(f)))switch(I&&0<I.length&&(E=f.h,E.i=E.i.concat(I)),X){case 1:hs(f,5);break;case 4:hs(f,10);break;case 3:hs(f,6);break;default:hs(f,2)}}}function hm(f,E){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*E}function hs(f,E){if(f.j.info("Error code "+E),E==2){var I=h(f.fb,f),F=f.Xa;const X=!F;F=new Pi(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zd(F,"https"),eh(F),X?cv(F.toString(),I):PT(F.toString(),I)}else En(2);f.G=0,f.l&&f.l.sa(E),Ol(f),Pl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function Ol(f){if(f.G=0,f.ka=[],f.l){const E=Il(f.h);(E.length!=0||f.i.length!=0)&&(w(f.ka,E),w(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function xu(f,E,I){var F=I instanceof Pi?fr(I):new Pi(I);if(F.g!="")E&&(F.g=E+"."+F.g),Dl(F,F.s);else{var X=a.location;F=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;var re=new Pi(null);F&&Zd(re,F),E&&(re.g=E),X&&Dl(re,X),I&&(re.l=I),F=re}return I=f.D,E=f.ya,I&&E&&it(F,I,E),it(F,"VER",f.la),Wi(f,F),F}function Io(f,E,I){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Wt(new ih({eb:I})):new Wt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}t=gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(f,E){return new Oi(f,E)};function Oi(f,E){St.call(this),this.g=new pv(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!T(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!T(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ll(this)}b(Oi,St),Oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oi.prototype.close=function(){am(this.g)},Oi.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=cu(f),f=I);E.i.push(new CT(E.Ya++,f)),E.G==3&&Ao(E)},Oi.prototype.N=function(){this.g.l=null,delete this.j,am(this.g),delete this.g,Oi.aa.N.call(this)};function fm(f){du.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const I in E){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}b(fm,du);function bv(){hu.call(this),this.status=1}b(bv,hu);function Ll(f){this.g=f}b(Ll,gv),Ll.prototype.ua=function(){Ft(this.g,"a")},Ll.prototype.ta=function(f){Ft(this.g,new fm(f))},Ll.prototype.sa=function(f){Ft(this.g,new bv)},Ll.prototype.ra=function(){Ft(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,Oi.prototype.send=Oi.prototype.o,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,eF=function(){return new wu},J7=function(){return va()},Z7=Gs,f2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Ny=Ri,ya.COMPLETE="complete",Q7=ya,qd.EventType=ba,ba.OPEN="a",ba.CLOSE="b",ba.ERROR="c",ba.MESSAGE="d",St.prototype.listen=St.prototype.K,tg=qd,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,K7=Wt}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});const d3="@firebase/firestore",h3="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new o1("@firebase/firestore");function Dh(){return yd.logLevel}function we(t,...e){if(yd.logLevel<=rt.DEBUG){const n=e.map(WI);yd.debug("Firestore (".concat(Rp,"): ").concat(t),...n)}}function oa(t,...e){if(yd.logLevel<=rt.ERROR){const n=e.map(WI);yd.error("Firestore (".concat(Rp,"): ").concat(t),...n)}}function dl(t,...e){if(yd.logLevel<=rt.WARN){const n=e.map(WI);yd.warn("Firestore (".concat(Rp,"): ").concat(t),...n)}}function WI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,tF(t,i,n)}function tF(t,e,n){let i="FIRESTORE (".concat(Rp,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(t.toString(16),")");if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(r){i+=" CONTEXT: "+n}throw oa(i),new Error(i)}function vt(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||tF(e,r,i)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ahe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mi.UNAUTHENTICATED))}shutdown(){}}class Ihe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dhe{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ds,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ds)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new nF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class Rhe{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Phe{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Rhe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ohe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const i=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(s.error.message));const o=s.token!==this.m;return this.m=s.token,we("FirebaseAppCheckTokenProvider","Received ".concat(o?"new":"existing"," token.")),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lhe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Lhe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function Je(t,e){return t<e?-1:t>e?1:0}function p2(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return Je(i,r);{const s=iF(),o=Mhe(s.encode(p3(t,n)),s.encode(p3(e,n)));return o!==0?o:Je(i,r)}}n+=i>65535?2:1}return Je(t.length,e.length)}function p3(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Mhe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function zf(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="__name__";class Po{constructor(e,n,i){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Be(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Po.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=Po.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return Je(e.length,n.length)}static compareSegments(e,n){const i=Po.isNumericId(e),r=Po.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Po.extractNumericId(e).compare(Po.extractNumericId(n)):p2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ec.fromString(e.substring(4,e.length-2))}}class It extends Po{construct(e,n,i){return new It(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(se.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));n.push(...i.split("/").filter(r=>r.length>0))}return new It(n)}static emptyPath(){return new It([])}}const Nhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends Po{construct(e,n,i){return new Ti(e,n,i)}static isValidIdentifier(e){return Nhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m3}static keyField(){return new Ti([m3])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new be(se.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new be(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new be(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(n)}static emptyPath(){return new Ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(It.fromString(e))}static fromName(e){return new Re(It.fromString(e).popFirst(5))}static empty(){return new Re(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e,n){if(!n)throw new be(se.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Bhe(t,e,n,i){if(e===!0&&i===!0)throw new be(se.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}function g3(t){if(!Re.isDocumentKey(t))throw new be(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function b3(t){if(Re.isDocumentKey(t))throw new be(se.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function rF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function v1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v1(t);throw new be(se.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function sF(t,e){if(e<=0)throw new be(se.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ob(t,e){if(!rF(t))throw new be(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n="JSON missing required field: '".concat(i,"'");break}const o=t[i];if(r&&typeof o!==r){n="JSON field '".concat(i,"' must be a ").concat(r,".");break}if(s!==void 0&&o!==s.value){n="Expected '".concat(i,"' field to equal '").concat(s.value,"'");break}}if(n)throw new be(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=-62135596800,y3=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*y3);return new jt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v3)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y3}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ob(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:Pn("string",jt._jsonSchemaVersion),seconds:Pn("number"),nanoseconds:Pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new jt(0,0))}static max(){return new qe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-1;function Uhe(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=qe.fromTimestamp(i===1e9?new jt(n+1,0):new jt(n,i));return new Vc(r,Re.empty(),e)}function Fhe(t){return new Vc(t.readTime,t.key,I0)}class Vc{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vc(qe.min(),Re.empty(),I0)}static max(){return new Vc(qe.max(),Re.empty(),I0)}}function Vhe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==$he)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,i)=>{n(e)})}static reject(e){return new ce((n,i)=>{i(e)})}static waitFor(e){return new ce((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next(r=>r?ce.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new ce((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new ce((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="SimpleDb";class KI{static open(e,n,i,r){try{return new KI(n,e.transaction(r,i))}catch(s){throw new Lg(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ds,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Lg(e,n.error)):this.S.resolve()},this.transaction.onerror=i=>{const r=QI(i.target.error);this.S.reject(new Lg(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(we(Yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Hhe(n)}}class Zu{static delete(e){return we(Yr,"Removing database:",e),Ou(qU().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!QU())return!1;if(Zu.F())return!0;const e=jn(),n=Zu.M(e),i=0<n&&n<10,r=oF(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,n,i){this.name=e,this.version=n,this.B=i,this.L=null,Zu.M(jn())===12.2&&oa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(we(Yr,"Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{const o=s.target.result;n(o)},r.onblocked=()=>{i(new Lg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{const o=s.target.error;o.name==="VersionError"?i(new be(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new be(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new Lg(e,o))},r.onupgradeneeded=s=>{we(Yr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error('refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion='.concat(this.L,", event.oldVersion=").concat(s.oldVersion,", event.newVersion=").concat(s.newVersion,", db.version=").concat(o.version));this.B.q(o,r.transaction,s.oldVersion,this.version).next(()=>{we(Yr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const i=n.target;this.L=i.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var i;n.newVersion===null&&(dl('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(i=this.databaseDeletedListener)===null||i===void 0||i.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,i,r){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=KI.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.v(),c)).catch(c=>(a.abort(c),ce.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(we(Yr,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class zhe{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return Ou(this.$.delete())}}class Lg extends be{constructor(e,n){super(se.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)),this.name="IndexedDbTransactionError"}}function Op(t){return t.name==="IndexedDbTransactionError"}class Hhe{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(we(Yr,"PUT",this.store.name,e,n),i=this.store.put(n,e)):(we(Yr,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ou(i)}add(e){return we(Yr,"ADD",this.store.name,e,e),Ou(this.store.add(e))}get(e){return Ou(this.store.get(e)).next(n=>(n===void 0&&(n=null),we(Yr,"GET",this.store.name,e,n),n))}delete(e){return we(Yr,"DELETE",this.store.name,e),Ou(this.store.delete(e))}count(){return we(Yr,"COUNT",this.store.name),Ou(this.store.count())}j(e,n){const i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const s=r.getAll(i.range);return new ce((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(i),o=[];return this.J(s,(a,l)=>{o.push(l)}).next(()=>o)}}H(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new ce((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}Y(e,n){we(Yr,"DELETE ALL",this.store.name);const i=this.options(e,n);i.Z=!1;const r=this.cursor(i);return this.J(r,(s,o,a)=>a.delete())}X(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.J(r,n)}ee(e){const n=this.cursor({});return new ce((i,r)=>{n.onerror=s=>{const o=QI(s.target.error);r(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}J(e,n){const i=[];return new ce((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new zhe(a),c=n(a.primaryKey,a.value,l);if(c instanceof ce){const u=c.catch(d=>(l.done(),ce.reject(d)));i.push(u)}l.isDone?r():l.W===null?a.continue():a.continue(l.W)}}).next(()=>ce.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.Z?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ou(t){return new ce((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=QI(i.target.error);n(r)}})}let _3=!1;function QI(t){const e=Zu.M(jn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new be("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _3||(_3=!0,setTimeout(()=>{throw i},0)),i}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}y1.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=-1;function _1(t){return t==null}function ex(t){return t===0&&1/t==-1/0}function qhe(t){return typeof t=="number"&&Number.isInteger(t)&&!ex(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="";function Ghe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x3(e)),e=Whe(t.get(n),e);return x3(e)}function Whe(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case aF:n+="";break;default:n+=s}}return n}function x3(t){return t+aF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yhe(t,e){const n=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.push(e(t[i],i,t));return n}function lF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mn=class m2{constructor(e,n){this.comparator=e,this.root=n||Sc.EMPTY}insert(e,n){return new m2(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sc.BLACK,null,null))}remove(e){return new m2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sc.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push("".concat(n,":").concat(i)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zv(this.root,e,this.comparator,!0)}},Zv=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Sc=class Pa{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i!=null?i:Pa.RED,this.left=r!=null?r:Pa.EMPTY,this.right=s!=null?s:Pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Pa(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Pa.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}};Sc.EMPTY=null,Sc.RED=!0,Sc.BLACK=!1;Sc.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new Sc(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T3(this.data.getIterator())}getIteratorFrom(e){return new T3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class T3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Vn(Ti.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zf(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cF("Invalid base64 string: "+s):s}}(e);return new Ci(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Ci(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const Xhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $c(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=Xhe.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jc(t){return typeof t=="string"?Ci.fromBase64String(t):Ci.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="server_timestamp",dF="__type__",hF="__previous_value__",fF="__local_write_time__";function x1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dF])===null||n===void 0?void 0:n.stringValue)===uF}function w1(t){const e=t.mapValue.fields[hF];return x1(e)?w1(e):e}function D0(t){const e=$c(t.mapValue.fields[fF].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(e,n,i,r,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const tx="(default)";class R0{constructor(e,n){this.projectId=e,this.database=n||tx}static empty(){return new R0("","")}get isDefaultDatabase(){return this.database===tx}isEqual(e){return e instanceof R0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="__type__",mF="__max__",Jv={mapValue:{fields:{__type__:{stringValue:mF}}}},gF="__vector__",nx="value";function zc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x1(t)?4:Zhe(t)?9007199254740991:Qhe(t)?10:11:Be(28295,{value:t})}function aa(t,e){if(t===e)return!0;const n=zc(t);if(n!==zc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return D0(t).isEqual(D0(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=$c(r.timestampValue),a=$c(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return jc(r.bytesValue).isEqual(jc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return _n(r.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(r.geoPointValue.longitude)===_n(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return _n(r.integerValue)===_n(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=_n(r.doubleValue),a=_n(s.doubleValue);return o===a?ex(o)===ex(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zf(t.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(w3(o)!==w3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!aa(o[l],a[l])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function P0(t,e){return(t.values||[]).find(n=>aa(n,e))!==void 0}function Hf(t,e){if(t===e)return 0;const n=zc(t),i=zc(e);if(n!==i)return Je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_n(s.integerValue||s.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return E3(t.timestampValue,e.timestampValue);case 4:return E3(D0(t),D0(e));case 5:return p2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=jc(s),l=jc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Je(a[c],l[c]);if(u!==0)return u}return Je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Je(_n(s.latitude),_n(o.latitude));return a!==0?a:Je(_n(s.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return S3(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},h=o.fields||{},m=(a=d[nx])===null||a===void 0?void 0:a.arrayValue,b=(l=h[nx])===null||l===void 0?void 0:l.arrayValue,g=Je(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=b==null?void 0:b.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:S3(m,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jv.mapValue&&o===Jv.mapValue)return 0;if(s===Jv.mapValue)return 1;if(o===Jv.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=p2(l[d],u[d]);if(h!==0)return h;const m=Hf(a[l[d]],c[u[d]]);if(m!==0)return m}return Je(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{le:n})}}function E3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=$c(t),i=$c(e),r=Je(n.seconds,i.seconds);return r!==0?r:Je(n.nanos,i.nanos)}function S3(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Hf(n[r],i[r]);if(s)return s}return Je(n.length,i.length)}function qf(t){return g2(t)}function g2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=$c(n);return"time(".concat(i.seconds,",").concat(i.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return"geo(".concat(n.latitude,",").concat(n.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=g2(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+="".concat(o,":").concat(g2(n.fields[o]));return r+"}"}(t.mapValue):Be(61005,{value:t})}function By(t){switch(zc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=w1(t);return e?16+By(e):16;case 5:return 2*t.stringValue.length;case 6:return jc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+By(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return tu(i.fields,(s,o)=>{r+=s.length+By(o)}),r}(t.mapValue);default:throw Be(13486,{value:t})}}function ix(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function b2(t){return!!t&&"integerValue"in t}function JI(t){return!!t&&"arrayValue"in t}function k3(t){return!!t&&"nullValue"in t}function C3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uy(t){return!!t&&"mapValue"in t}function Qhe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pF])===null||n===void 0?void 0:n.stringValue)===gF}function Mg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return tu(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Mg(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zhe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Uy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mg(n)}setAll(e){let n=Ti.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Mg(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Uy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Uy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){tu(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Er(Mg(this.value))}}function bF(t){const e=[];return tu(t.fields,(n,i)=>{const r=new Ti([n]);if(Uy(i)){const s=bF(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ni(e,0,qe.min(),qe.min(),qe.min(),Er.empty(),0)}static newFoundDocument(e,n,i,r){return new Ni(e,1,n,qe.min(),i,r,0)}static newNoDocument(e,n){return new Ni(e,2,n,qe.min(),qe.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new Ni(e,3,n,qe.min(),qe.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.position=e,this.inclusive=n}}function A3(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=Re.comparator(Re.fromName(o.referenceValue),n.key):i=Hf(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function I3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!aa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jhe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{}class Rn extends vF{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new tfe(e,n,i):n==="array-contains"?new rfe(e,i):n==="in"?new sfe(e,i):n==="not-in"?new ofe(e,i):n==="array-contains-any"?new afe(e,i):new Rn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new nfe(e,i):new ife(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hf(n,this.value)):n!==null&&zc(this.value)===zc(n)&&this.matchesComparison(Hf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ho extends vF{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ho(e,n)}matches(e){return yF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function yF(t){return t.op==="and"}function _F(t){return efe(t)&&yF(t)}function efe(t){for(const e of t.filters)if(e instanceof ho)return!1;return!0}function v2(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+qf(t.value);if(_F(t))return t.filters.map(e=>v2(e)).join(",");{const e=t.filters.map(n=>v2(n)).join(",");return"".concat(t.op,"(").concat(e,")")}}function xF(t,e){return t instanceof Rn?function(i,r){return r instanceof Rn&&i.op===r.op&&i.field.isEqual(r.field)&&aa(i.value,r.value)}(t,e):t instanceof ho?function(i,r){return r instanceof ho&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&xF(o,r.filters[a]),!0):!1}(t,e):void Be(19439)}function wF(t){return t instanceof Rn?function(n){return"".concat(n.field.canonicalString()," ").concat(n.op," ").concat(qf(n.value))}(t):t instanceof ho?function(n){return n.op.toString()+" {"+n.getFilters().map(wF).join(" ,")+"}"}(t):"Filter"}class tfe extends Rn{constructor(e,n,i){super(e,n,i),this.key=Re.fromName(i.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class nfe extends Rn{constructor(e,n){super(e,"in",n),this.keys=TF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ife extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=TF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Re.fromName(i.referenceValue))}class rfe extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return JI(n)&&P0(n.arrayValue,this.value)}}class sfe extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&P0(this.value.arrayValue,n)}}class ofe extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(P0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!P0(this.value.arrayValue,n)}}class afe extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!JI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>P0(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function D3(t,e=null,n=[],i=[],r=null,s=null,o=null){return new lfe(t,e,n,i,r,s,o)}function eD(t){const e=Ve(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>v2(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),_1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>qf(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>qf(i)).join(",")),e.Pe=n}return e.Pe}function tD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jhe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I3(t.startAt,e.startAt)&&I3(t.endAt,e.endAt)}function y2(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function cfe(t,e,n,i,r,s,o,a){return new xl(t,e,n,i,r,s,o,a)}function T1(t){return new xl(t)}function R3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nD(t){return t.collectionGroup!==null}function ff(t){const e=Ve(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vn(Ti.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new O0(s,i))}),n.has(Ti.keyField().canonicalString())||e.Te.push(new O0(Ti.keyField(),i))}return e.Te}function Xo(t){const e=Ve(t);return e.Ie||(e.Ie=EF(e,ff(t))),e.Ie}function ufe(t){const e=Ve(t);return e.de||(e.de=EF(e,t.explicitOrderBy)),e.de}function EF(t,e){if(t.limitType==="F")return D3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new O0(r.field,s)});const n=t.endAt?new Gf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Gf(t.startAt.position,t.startAt.inclusive):null;return D3(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _2(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rx(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E1(t,e){return tD(Xo(t),Xo(e))&&t.limitType===e.limitType}function SF(t){return"".concat(eD(Xo(t)),"|lt:").concat(t.limitType)}function Rh(t){return"Query(target=".concat(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=", filters: [".concat(n.filters.map(r=>wF(r)).join(", "),"]")),_1(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=", orderBy: [".concat(n.orderBy.map(r=>function(o){return"".concat(o.field.canonicalString()," (").concat(o.dir,")")}(r)).join(", "),"]")),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>qf(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>qf(r)).join(",")),"Target(".concat(i,")")}(Xo(t)),"; limitType=").concat(t.limitType,")")}function S1(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Re.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of ff(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=A3(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,ff(i),r)||i.endAt&&!function(o,a,l){const c=A3(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,ff(i),r))}(t,e)}function dfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kF(t){return(e,n)=>{let i=!1;for(const r of ff(t)){const s=hfe(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function hfe(t,e,n){const i=t.field.isKeyField()?Re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Hf(l,c):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return lF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ffe=new Mn(Re.comparator);function hl(){return ffe}const CF=new Mn(Re.comparator);function ng(...t){let e=CF;for(const n of t)e=e.insert(n.key,n);return e}function AF(t){let e=CF;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function $u(){return Ng()}function IF(){return Ng()}function Ng(){return new Fd(t=>t.toString(),(t,e)=>t.isEqual(e))}const pfe=new Mn(Re.comparator),mfe=new Vn(Re.comparator);function at(...t){let e=mfe;for(const n of t)e=e.add(n);return e}const gfe=new Vn(Je);function bfe(){return gfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ex(e)?"-0":e}}function DF(t){return{integerValue:""+t}}function vfe(t,e){return qhe(e)?DF(e):iD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this._=void 0}}function yfe(t,e,n){return t instanceof L0?function(r,s){const o={fields:{[dF]:{stringValue:uF},[fF]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&x1(s)&&(s=w1(s)),s&&(o.fields[hF]=s),{mapValue:o}}(n,e):t instanceof M0?PF(t,e):t instanceof N0?OF(t,e):function(r,s){const o=RF(r,s),a=P3(o)+P3(r.Ee);return b2(o)&&b2(r.Ee)?DF(a):iD(r.serializer,a)}(t,e)}function _fe(t,e,n){return t instanceof M0?PF(t,e):t instanceof N0?OF(t,e):n}function RF(t,e){return t instanceof sx?function(i){return b2(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class L0 extends k1{}class M0 extends k1{constructor(e){super(),this.elements=e}}function PF(t,e){const n=LF(e);for(const i of t.elements)n.some(r=>aa(r,i))||n.push(i);return{arrayValue:{values:n}}}class N0 extends k1{constructor(e){super(),this.elements=e}}function OF(t,e){let n=LF(e);for(const i of t.elements)n=n.filter(r=>!aa(r,i));return{arrayValue:{values:n}}}class sx extends k1{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function P3(t){return _n(t.integerValue||t.doubleValue)}function LF(t){return JI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(e,n){this.field=e,this.transform=n}}function wfe(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof M0&&r instanceof M0||i instanceof N0&&r instanceof N0?zf(i.elements,r.elements,aa):i instanceof sx&&r instanceof sx?aa(i.Ee,r.Ee):i instanceof L0&&r instanceof L0}(t.transform,e.transform)}class Tfe{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C1{}function MF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A1(t.key,lr.none()):new Lb(t.key,t.data,lr.none());{const n=t.data,i=Er.empty();let r=new Vn(Ti.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new nu(t.key,i,new Zr(r.toArray()),lr.none())}}function Efe(t,e,n){t instanceof Lb?function(r,s,o){const a=r.value.clone(),l=L3(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof nu?function(r,s,o){if(!Fy(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=L3(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NF(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bg(t,e,n,i){return t instanceof Lb?function(s,o,a,l){if(!Fy(s.precondition,o))return a;const c=s.value.clone(),u=M3(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof nu?function(s,o,a,l){if(!Fy(s.precondition,o))return a;const c=M3(s.fieldTransforms,l,o),u=o.data;return u.setAll(NF(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Fy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Sfe(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=RF(i.transform,r||null);s!=null&&(n===null&&(n=Er.empty()),n.set(i.field,s))}return n||null}function O3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zf(i,r,(s,o)=>wfe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lb extends C1{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nu extends C1{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function L3(t,e,n){const i=new Map;vt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,_fe(o,a,n[r]))}return i}function M3(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,yfe(s,o,e))}return i}class A1 extends C1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kfe extends C1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Efe(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bg(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=IF();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=MF(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&zf(this.mutations,e.mutations,(n,i)=>O3(n,i))&&zf(this.baseMutations,e.baseMutations,(n,i)=>O3(n,i))}}class rD{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){vt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return pfe}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new rD(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(e,n,i){this.alias=e,this.aggregateType=n,this.fieldPath=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,dt;function Rfe(t){switch(t){case se.OK:return Be(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function BF(t){if(t===void 0)return oa("GRPC error has no .code"),se.UNKNOWN;switch(t){case kn.OK:return se.OK;case kn.CANCELLED:return se.CANCELLED;case kn.UNKNOWN:return se.UNKNOWN;case kn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case kn.INTERNAL:return se.INTERNAL;case kn.UNAVAILABLE:return se.UNAVAILABLE;case kn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case kn.NOT_FOUND:return se.NOT_FOUND;case kn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case kn.ABORTED:return se.ABORTED;case kn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case kn.DATA_LOSS:return se.DATA_LOSS;default:return Be(39323,{code:t})}}(dt=kn||(kn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pfe=new Ec([4294967295,4294967295],0);function N3(t){const e=iF().encode(t),n=new X7;return n.update(e),new Uint8Array(n.digest())}function B3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ec([n,i],0),new Ec([r,s],0)]}class sD{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ig("Invalid padding: ".concat(n));if(i<0)throw new ig("Invalid hash count: ".concat(i));if(e.length>0&&this.hashCount===0)throw new ig("Invalid hash count: ".concat(i));if(e.length===0&&n!==0)throw new ig("Invalid padding when bitmap length is 0: ".concat(n));this.fe=8*e.length-n,this.ge=Ec.fromNumber(this.fe)}pe(e,n,i){let r=e.add(n.multiply(Ec.fromNumber(i)));return r.compare(Pfe)===1&&(r=new Ec([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=N3(e),[i,r]=B3(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(i,r,s);if(!this.ye(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sD(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=N3(e),[i,r]=B3(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(i,r,s);this.we(o)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ig extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Mb.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new I1(qe.min(),r,new Mn(Je),hl(),at())}}class Mb{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Mb(i,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=r}}class UF{constructor(e,n){this.targetId=e,this.De=n}}class FF{constructor(e,n,i=Ci.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class U3{constructor(){this.ve=0,this.Ce=F3(),this.Fe=Ci.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=at(),n=at(),i=at();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Be(38017,{changeType:s})}}),new Mb(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=F3()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Ofe{constructor(e){this.We=e,this.Ge=new Map,this.ze=hl(),this.je=ey(),this.Je=ey(),this.He=new Mn(Je)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,r)=>{this.nt(r)&&n(r)})}it(e){const n=e.targetId,i=e.De.count,r=this.st(n);if(r){const s=r.target;if(y2(s))if(i===0){const o=new Re(s.path);this.Xe(n,o,Ni.newNoDocument(o,qe.min()))}else vt(i===1,20013,{expectedCount:i});else{const o=this.ot(n);if(o!==i){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=jc(i).toUint8Array()}catch(l){if(l instanceof cF)return dl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sD(o,r,s)}catch(l){return dl(l instanceof ig?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.We.lt(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(s.path.canonicalString());e.mightContain(a)||(this.Xe(n,s,null),r++)}),r}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&y2(a.target)){const l=new Re(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ni.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let i=at();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const r=new I1(e,n,this.He,this.ze,i);return this.ze=hl(),this.je=ey(),this.Je=ey(),this.He=new Mn(Je),r}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new U3,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Vn(Je),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Vn(Je),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new U3),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ey(){return new Mn(Re.comparator)}function F3(){return new Mn(Re.comparator)}const Lfe={asc:"ASCENDING",desc:"DESCENDING"},Mfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nfe={and:"AND",or:"OR"};class Bfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x2(t,e){return t.useProto3Json||_1(e)?e:{value:e}}function ox(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function VF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ufe(t,e){return ox(t,e.toTimestamp())}function Ko(t){return vt(!!t,49232),qe.fromTimestamp(function(n){const i=$c(n);return new jt(i.seconds,i.nanos)}(t))}function oD(t,e){return w2(t,e).canonicalString()}function w2(t,e){const n=function(r){return new It(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $F(t){const e=It.fromString(t);return vt(WF(e),10190,{key:e.toString()}),e}function T2(t,e){return oD(t.databaseId,e.path)}function QE(t,e){const n=$F(e);if(n.get(1)!==t.databaseId.projectId)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(zF(n))}function jF(t,e){return oD(t.databaseId,e)}function Ffe(t){const e=$F(t);return e.length===4?It.emptyPath():zF(e)}function E2(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zF(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function V3(t,e,n){return{name:T2(t,e),fields:n.value.mapValue.fields}}function Vfe(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Be(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(vt(u===void 0||typeof u=="string",58123),Ci.fromBase64String(u||"")):(vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ci.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?se.UNKNOWN:BF(c.code);return new be(u,c.message||"")}(o);n=new FF(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=QE(t,i.document.name),s=Ko(i.document.updateTime),o=i.document.createTime?Ko(i.document.createTime):qe.min(),a=new Er({mapValue:{fields:i.document.fields}}),l=Ni.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Vy(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=QE(t,i.document),s=i.readTime?Ko(i.readTime):qe.min(),o=Ni.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Vy([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=QE(t,i.document),s=i.removedTargetIds||[];n=new Vy([],s,r,null)}else{if(!("filter"in e))return Be(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new Dfe(r,s),a=i.targetId;n=new UF(a,o)}}return n}function $fe(t,e){let n;if(e instanceof Lb)n={update:V3(t,e.key,e.value)};else if(e instanceof A1)n={delete:T2(t,e.key)};else if(e instanceof nu)n={update:V3(t,e.key,e.data),updateMask:Kfe(e.fieldMask)};else{if(!(e instanceof kfe))return Be(16599,{Rt:e.type});n={verify:T2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof L0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof M0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof N0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sx)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Be(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Ufe(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Be(27497)}(t,e.precondition)),n}function jfe(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(r,s){let o=r.updateTime?Ko(r.updateTime):Ko(s);return o.isEqual(qe.min())&&(o=Ko(s)),new Tfe(o,r.transformResults||[])}(n,e))):[]}function zfe(t,e){return{documents:[jF(t,e.path)]}}function HF(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=jF(t,r);const s=function(c){if(c.length!==0)return GF(ho.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:rc(h.field),direction:Wfe(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=x2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:r}}function Hfe(t,e,n,i){const{Vt:r,parent:s}=HF(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:rc(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:rc(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:r.structuredQuery},parent:r.parent},ft:o,parent:s}}function qfe(t){let e=Ffe(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){vt(i===1,65062);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=qF(d);return h instanceof ho&&_F(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(b){return new O0(Ph(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_1(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new Gf(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,m=d.values||[];return new Gf(m,h)}(n.endAt)),cfe(e,r,o,s,a,"F",l,c)}function Gfe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ph(n.unaryFilter.field);return Rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ph(n.unaryFilter.field);return Rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ph(n.unaryFilter.field);return Rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ph(n.unaryFilter.field);return Rn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return Rn.create(Ph(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ho.create(n.compositeFilter.filters.map(i=>qF(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function Wfe(t){return Lfe[t]}function Yfe(t){return Mfe[t]}function Xfe(t){return Nfe[t]}function rc(t){return{fieldPath:t.canonicalString()}}function Ph(t){return Ti.fromServerFormat(t.fieldPath)}function GF(t){return t instanceof Rn?function(n){if(n.op==="=="){if(C3(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NAN"}};if(k3(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C3(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NAN"}};if(k3(n.value))return{unaryFilter:{field:rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(n.field),op:Yfe(n.op),value:n.value}}}(t):t instanceof ho?function(n){const i=n.getFilters().map(r=>GF(r));return i.length===1?i[0]:{compositeFilter:{op:Xfe(n.op),filters:i}}}(t):Be(54877,{filter:t})}function Kfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,i,r,s=qe.min(),o=qe.min(),a=Ci.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e){this.gt=e}}function Zfe(t){const e=qfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jfe{constructor(){this.Dn=new epe}addToCollectionParentIndex(e,n){return this.Dn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Vc.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Vc.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class epe{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Vn(It.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Vn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YF=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(YF,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wf(0)}static ur(){return new Wf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="LruGarbageCollector",tpe=1048576;function z3([t,e],[n,i]){const r=Je(t,n);return r===0?Je(e,i):r}class npe{constructor(e){this.Tr=e,this.buffer=new Vn(z3),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();z3(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ipe{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){we(j3,"Garbage collection scheduled in ".concat(e,"ms")),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Op(n)?we(j3,"Ignoring IndexedDB error during garbage collection: ",n):await Pp(n)}await this.Rr(3e5)})}}class rpe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(y1.ue);const i=new npe(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve($3)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(i," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),$3):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,r,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(d)),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),Dh()<=rt.DEBUG&&we("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in ".concat(o-u,"ms\n	Determined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"	Removed ".concat(s," targets in ")+(l-a)+"ms\n"+"	Removed ".concat(d," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}function spe(t,e){return new rpe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(){this.changes=new Fd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ape{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Bg(i.mutation,r,Zr.empty(),jt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,at()).next(()=>i))}getLocalViewOfDocuments(e,n,i=at()){const r=$u();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ng();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=$u();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,at()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=hl();const o=Ng(),a=function(){return Ng()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof nu)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Bg(u.mutation,c,u.mutation.getFieldMask(),jt.now())):o.set(c.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new ape(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Ng();let r=new Mn((o,a)=>o-a),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Zr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||at()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=IF();u.forEach(h=>{if(!s.has(h)){const m=MF(n.get(h),i.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ce.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):ce.resolve($u());let a=I0,l=s;return o.next(c=>ce.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?ce.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,at())).next(u=>({batchId:a,changes:AF(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(i=>{let r=ng();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=ng();return this.indexManager.getCollectionParents(e,s).next(a=>ce.forEach(a,l=>{const c=function(d,h){return new xl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ni.newInvalidDocument(u)))});let a=ng();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Bg(u.mutation,c,Zr.empty(),jt.now()),S1(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cpe{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ko(r.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:Zfe(r.bundledQuery),readTime:Ko(r.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upe{constructor(){this.overlays=new Mn(Re.comparator),this.kr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$u();return ce.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.wt(e,n,s)}),ce.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const r=$u(),s=n.length+1,o=new Re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Mn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=$u(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$u(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return ce.resolve(a)}wt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Afe(n,i));let s=this.kr.get(n);s===void 0&&(s=at(),this.kr.set(n,s)),this.kr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dpe{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.qr=new Vn(Zn.Qr),this.$r=new Vn(Zn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new Zn(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new Zn(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new Re(new It([])),i=new Zn(n,e),r=new Zn(n,e+1),s=[];return this.$r.forEachInRange([i,r],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Re(new It([])),i=new Zn(n,e),r=new Zn(n,e+1);let s=at();return this.$r.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Zn(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Re.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Vn(Zn.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cfe(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Yr=this.Yr.add(new Zn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ce.resolve(o)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?ZI:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zn(n,0),r=new Zn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],o=>{const a=this.Zr(o.Hr);s.push(a)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Vn(Je);return n.forEach(r=>{const s=new Zn(r,0),o=new Zn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{i=i.add(a.Hr)})}),ce.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Re.isDocumentKey(s)||(s=s.child(""));const o=new Zn(new Re(s),0);let a=new Vn(Je);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Hr)),!0)},o),ce.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){vt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ce.forEach(n.mutations,r=>{const s=new Zn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new Zn(n,0),r=this.Yr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(e){this.ni=e,this.docs=function(){return new Mn(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(e,n){let i=hl();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ni.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=hl();const o=n.path,a=new Re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Vhe(Fhe(u),i)<=0||(r.has(u.key)||S1(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Be(9500)}ri(e,n){return ce.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ppe(this)}getSize(e){return ce.resolve(this.size)}}class ppe extends ope{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),ce.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(e){this.persistence=e,this.ii=new Fd(n=>eD(n),tD),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.si=0,this.oi=new aD,this.targetCount=0,this._i=Wf.ar()}forEachTarget(e,n){return this.ii.forEach((i,r)=>n(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ce.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Wf(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.hr(n),ce.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),ce.waitFor(s).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.ai={},this.overlays={},this.ui=new y1(0),this.ci=!1,this.ci=!0,this.li=new dpe,this.referenceDelegate=e(this),this.hi=new mpe(this),this.indexManager=new Jfe,this.remoteDocumentCache=function(r){return new fpe(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new Qfe(n),this.Ti=new cpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new upe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new hpe(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){we("MemoryPersistence","Starting transaction:",e);const r=new gpe(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return ce.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class gpe extends jhe{constructor(e){super(),this.currentSequenceNumber=e}}class lD{constructor(e){this.persistence=e,this.Ai=new aD,this.Ri=null}static Vi(e){return new lD(e)}get mi(){if(this.Ri)return this.Ri;throw Be(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,i=>{const r=Re.fromPath(i);return this.fi(e,r).next(s=>{s||n.removeEntry(r,qe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ce.or([()=>ce.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ax{constructor(e,n){this.persistence=e,this.gi=new Fd(i=>Ghe(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=spe(this,n)}static Vi(e,n){return new ax(e,n)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return ce.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(s=>s?ce.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(i++,s.removeEntry(o,qe.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=By(e.data.value)),n}Sr(e,n,i){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.gi.get(n);return ce.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}const bpe="main";function vpe(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=r}static Es(e,n){let i=at(),r=at();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new cD(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ype{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return fle()?8:oF(jn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ype;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,i,r){return i.documentReadCount<this.Vs?(Dh()<=rt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Rh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Dh()<=rt.DEBUG&&we("QueryEngine","Query:",Rh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Dh()<=rt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Rh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xo(n))):ce.resolve())}ps(e,n){if(R3(n))return ce.resolve(null);let i=Xo(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=rx(n,null,"F"),i=Xo(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=at(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,rx(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,i,r){return R3(n)||r.isEqual(qe.min())?ce.resolve(null):this.gs.getDocuments(e,i).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,i,r)?ce.resolve(null):(Dh()<=rt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rh(n)),this.vs(e,o,n,Uhe(r,I0)).next(a=>a))})}bs(e,n){let i=new Vn(kF(e));return n.forEach((r,s)=>{S1(e,s)&&(i=i.add(s))}),i}Ds(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,n,i){return Dh()<=rt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Rh(n)),this.gs.getDocumentsMatchingQuery(e,n,Vc.min(),i)}vs(e,n,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="LocalStore",xpe=3e8;class wpe{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new Mn(Je),this.Ms=new Fd(s=>eD(s),tD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lpe(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Tpe(t,e,n,i){return new wpe(t,e,n,i)}async function KF(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=at();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Epe(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let m=ce.resolve();return h.forEach(b=>{m=m.next(()=>u.getEntry(l,b)).next(g=>{const w=c.docVersions.get(b);vt(w!==null,48541),g.version.compareTo(w)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=at();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function QF(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Spe(t,e){const n=Ve(t),i=e.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(n.hi.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.hi.addMatchingKeys(s,u.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ci.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),r=r.insert(d,m),function(g,w,y){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=xpe?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,u)&&a.push(n.hi.updateTargetData(s,m))});let l=hl(),c=at();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(kpe(s,o,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!i.isEqual(qe.min())){const u=n.hi.getLastRemoteSnapshotVersion(s).next(d=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=r,s))}function kpe(t,e,n){let i=at(),r=at();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=hl();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(qe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we(uD,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:r}})}function Cpe(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ZI),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ape(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.hi.getTargetData(i,e).next(s=>s?(r=s,ce.resolve(r)):n.hi.allocateTargetId(i).next(o=>(r=new lc(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function S2(t,e,n){const i=Ve(t),r=i.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Op(o))throw o;we(uD,"Failed to update sequence numbers for target ".concat(e,": ").concat(o))}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function H3(t,e,n){const i=Ve(t);let r=qe.min(),s=at();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Ve(l),h=d.Ms.get(u);return h!==void 0?ce.resolve(d.Fs.get(h)):d.hi.getTargetData(c,u)}(i,o,Xo(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(o,e,n?r:qe.min(),n?s:at())).next(a=>(Ipe(i,dfe(e),a),{documents:a,qs:s})))}function Ipe(t,e,n){let i=t.xs.get(e)||qe.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.xs.set(e,i)}class q3{constructor(){this.activeTargetIds=bfe()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dpe{constructor(){this.Fo=new q3,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new q3,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="ConnectivityMonitor";class W3{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){we(G3,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){we(G3,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty=null;function k2(){return ty===null?ty=function(){return 268435456+Math.round(2147483648*Math.random())}():ty++,"0x"+ty.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="RestConnection",Ppe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ope{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo="projects/".concat(i,"/databases/").concat(r),this.Ko=this.databaseId.database===tx?"project_id=".concat(i):"project_id=".concat(i,"&database_id=").concat(r)}Wo(e,n,i,r,s){const o=k2(),a=this.Go(e,n.toUriEncodedString());we(ZE,"Sending RPC '".concat(e,"' ").concat(o,":"),a,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,r,s);const{host:c}=new URL(a),u=bo(c);return this.jo(e,a,l,i,u).then(d=>(we(ZE,"Received RPC '".concat(e,"' ").concat(o,": "),d),d),d=>{throw dl(ZE,"RPC '".concat(e,"' ").concat(o," failed with error: "),d,"url: ",a,"request:",i),d})}Jo(e,n,i,r,s,o){return this.Wo(e,n,i,r,s)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rp}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Go(e,n){const i=Ppe[e];return"".concat(this.$o,"/v1/").concat(n,":").concat(i)}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class Mpe extends Ope{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,r,s){const o=k2();return new Promise((a,l)=>{const c=new K7;c.setWithCredentials(!0),c.listenOnce(Q7.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ny.NO_ERROR:const d=c.getResponseJson();we(Li,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(d)),a(d);break;case Ny.TIMEOUT:we(Li,"RPC '".concat(e,"' ").concat(o," timed out")),l(new be(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ny.HTTP_ERROR:const h=c.getStatus();if(we(Li,"RPC '".concat(e,"' ").concat(o," failed with status:"),h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m==null?void 0:m.error;if(b&&b.status&&b.message){const g=function(y){const T=y.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(T)>=0?T:se.UNKNOWN}(b.status);l(new be(g,b.message))}else l(new be(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new be(se.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{we(Li,"RPC '".concat(e,"' ").concat(o," completed."))}});const u=JSON.stringify(r);we(Li,"RPC '".concat(e,"' ").concat(o," sending request:"),r),c.send(n,"POST",u,i,15)})}P_(e,n,i){const r=k2(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eF(),a=J7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");we(Li,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),l);const d=o.createWebChannel(u,l);this.T_(d);let h=!1,m=!1;const b=new Lpe({Ho:w=>{m?we(Li,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),w):(h||(we(Li,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),h=!0),we(Li,"RPC '".concat(e,"' stream ").concat(r," sending:"),w),d.send(w))},Yo:()=>d.close()}),g=(w,y,T)=>{w.listen(y,k=>{try{T(k)}catch(D){setTimeout(()=>{throw D},0)}})};return g(d,tg.EventType.OPEN,()=>{m||(we(Li,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),b.s_())}),g(d,tg.EventType.CLOSE,()=>{m||(m=!0,we(Li,"RPC '".concat(e,"' stream ").concat(r," transport closed")),b.__(),this.I_(d))}),g(d,tg.EventType.ERROR,w=>{m||(m=!0,dl(Li,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),w.name,"Message:",w.message),b.__(new be(se.UNAVAILABLE,"The operation could not be completed")))}),g(d,tg.EventType.MESSAGE,w=>{var y;if(!m){const T=w.data[0];vt(!!T,16349);const k=T,D=(k==null?void 0:k.error)||((y=k[0])===null||y===void 0?void 0:y.error);if(D){we(Li,"RPC '".concat(e,"' stream ").concat(r," received error:"),D);const P=D.status;let B=function(R){const L=kn[R];if(L!==void 0)return BF(L)}(P),O=D.message;B===void 0&&(B=se.INTERNAL,O="Unknown error status: "+P+" with message "+D.message),m=!0,b.__(new be(B,O)),d.close()}else we(Li,"RPC '".concat(e,"' stream ").concat(r," received:"),T),b.a_(T)}}),g(a,Z7.STAT_EVENT,w=>{w.stat===f2.PROXY?we(Li,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):w.stat===f2.NOPROXY&&we(Li,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function JE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){return new Bfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-i);r>0&&we("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.R_," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="PersistentStream";class JF{constructor(e,n,i,r,s,o,a,l){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ZF(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===n&&this.W_(i,r)},i=>{e(()=>{const r=new be(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return we(Y3,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(we(Y3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Npe extends JF{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Vfe(this.serializer,e),i=function(s){if(!("targetChange"in s))return qe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?qe.min():o.readTime?Ko(o.readTime):qe.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=E2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=y2(l)?{documents:zfe(s,l)}:{query:HF(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VF(s,o.resumeToken);const c=x2(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(qe.min())>0){a.readTime=ox(s,o.snapshotVersion.toTimestamp());const c=x2(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=Gfe(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=E2(this.serializer),n.removeTarget=e,this.k_(n)}}class Bpe extends JF{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=jfe(e.writeResults,e.commitTime),i=Ko(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=E2(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>$fe(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Upe{}class Fpe extends Upe{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,w2(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(se.UNKNOWN,s.toString())})}Jo(e,n,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,w2(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(se.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Vpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this._a?(oa(n),this._a=!1):we("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RemoteStore";class $pe{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{i.enqueueAndForget(async()=>{Vd(this)&&(we(_d,"Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.Ia.add(4),await Lp(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Nb(c)}(this))})}),this.Aa=new Vpe(i,r)}}async function Nb(t){if(Vd(t))for(const e of t.da)await e(!0)}async function Lp(t){for(const e of t.da)await e(!1)}function eV(t,e){const n=Ve(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),pD(n)?fD(n):Mp(n).x_()&&hD(n,e))}function dD(t,e){const n=Ve(t),i=Mp(n);n.Ta.delete(e),i.x_()&&tV(n,e),n.Ta.size===0&&(i.x_()?i.B_():Vd(n)&&n.Aa.set("Unknown"))}function hD(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mp(t).H_(e)}function tV(t,e){t.Ra.$e(e),Mp(t).Y_(e)}function fD(t){t.Ra=new Ofe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Mp(t).start(),t.Aa.aa()}function pD(t){return Vd(t)&&!Mp(t).M_()&&t.Ta.size>0}function Vd(t){return Ve(t).Ia.size===0}function nV(t){t.Ra=void 0}async function jpe(t){t.Aa.set("Online")}async function zpe(t){t.Ta.forEach((e,n)=>{hD(t,e)})}async function Hpe(t,e){nV(t),pD(t)?(t.Aa.la(e),fD(t)):t.Aa.set("Unknown")}async function qpe(t,e,n){if(t.Aa.set("Online"),e instanceof FF&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.Ta.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ta.delete(a),r.Ra.removeTarget(a))}(t,e)}catch(i){we(_d,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await lx(t,i)}else if(e instanceof Vy?t.Ra.Ye(e):e instanceof UF?t.Ra.it(e):t.Ra.et(e),!n.isEqual(qe.min()))try{const i=await QF(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ta.get(c);u&&s.Ta.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ta.get(l);if(!u)return;s.Ta.set(l,u.withResumeToken(Ci.EMPTY_BYTE_STRING,u.snapshotVersion)),tV(s,l);const d=new lc(u.target,l,c,u.sequenceNumber);hD(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){we(_d,"Failed to raise snapshot:",i),await lx(t,i)}}async function lx(t,e,n){if(!Op(e))throw e;t.Ia.add(1),await Lp(t),t.Aa.set("Offline"),n||(n=()=>QF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(_d,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Nb(t)})}function iV(t,e){return e().catch(n=>lx(t,n,e))}async function R1(t){const e=Ve(t),n=Hc(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ZI;for(;Gpe(e);)try{const r=await Cpe(e.localStore,i);if(r===null){e.Pa.length===0&&n.B_();break}i=r.batchId,Wpe(e,r)}catch(r){await lx(e,r)}rV(e)&&sV(e)}function Gpe(t){return Vd(t)&&t.Pa.length<10}function Wpe(t,e){t.Pa.push(e);const n=Hc(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function rV(t){return Vd(t)&&!Hc(t).M_()&&t.Pa.length>0}function sV(t){Hc(t).start()}async function Ype(t){Hc(t).na()}async function Xpe(t){const e=Hc(t);for(const n of t.Pa)e.X_(n.mutations)}async function Kpe(t,e,n){const i=t.Pa.shift(),r=rD.from(i,e,n);await iV(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await R1(t)}async function Qpe(t,e){e&&Hc(t).Z_&&await async function(i,r){if(function(o){return Rfe(o)&&o!==se.ABORTED}(r.code)){const s=i.Pa.shift();Hc(i).N_(),await iV(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await R1(i)}}(t,e),rV(t)&&sV(t)}async function X3(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),we(_d,"RemoteStore received new credentials");const i=Vd(n);n.Ia.add(3),await Lp(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Nb(n)}async function Zpe(t,e){const n=Ve(t);e?(n.Ia.delete(2),await Nb(n)):e||(n.Ia.add(2),await Lp(n),n.Aa.set("Unknown"))}function Mp(t){return t.Va||(t.Va=function(n,i,r){const s=Ve(n);return s.ia(),new Npe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:jpe.bind(null,t),e_:zpe.bind(null,t),n_:Hpe.bind(null,t),J_:qpe.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),pD(t)?fD(t):t.Aa.set("Unknown")):(await t.Va.stop(),nV(t))})),t.Va}function Hc(t){return t.ma||(t.ma=function(n,i,r){const s=Ve(n);return s.ia(),new Bpe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ype.bind(null,t),n_:Qpe.bind(null,t),ea:Xpe.bind(null,t),ta:Kpe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await R1(t)):(await t.ma.stop(),t.Pa.length>0&&(we(_d,"Stopping write stream with ".concat(t.Pa.length," pending writes")),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new mD(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gD(t,e){if(oa("AsyncQueue","".concat(e,": ").concat(t)),Op(t))return new be(se.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{static emptySet(e){return new pf(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Re.comparator(n.key,i.key):(n,i)=>Re.comparator(n.key,i.key),this.keyedMap=ng(),this.sortedSet=new Mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new pf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.fa=new Mn(Re.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Be(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Yf{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yf(e,n,pf.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jpe{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class eme{constructor(){this.queries=Q3(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const r=Ve(n),s=r.queries;r.queries=Q3(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(i)})})(this,new be(se.ABORTED,"Firestore shutting down"))}}function Q3(){return new Fd(t=>SF(t),E1)}async function bD(t,e){const n=Ve(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new Jpe,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await n.onListen(r,!0);break;case 1:s.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=gD(o,"Initialization of query '".concat(Rh(e.query),"' failed"));return void e.onError(a)}n.queries.set(r,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&yD(n)}async function vD(t,e){const n=Ve(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tme(t,e){const n=Ve(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(r)&&(i=!0);o.ya=r}}i&&yD(n)}function nme(t,e,n){const i=Ve(t),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(n);i.queries.delete(e)}function yD(t){t.Da.forEach(e=>{e.next()})}var C2,Z3;(Z3=C2||(C2={})).Fa="default",Z3.Cache="cache";class _D{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Yf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==C2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.key=e}}class aV{constructor(e){this.key=e}}class ime{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=at(),this.mutatedKeys=at(),this.Xa=kF(e),this.eu=new pf(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new K3,r=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),m=S1(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;h&&m?h.data.isEqual(m.data)?b!==g&&(i.track({type:3,doc:m}),w=!0):this.iu(h,m)||(i.track({type:2,doc:m}),w=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!h&&m?(i.track({type:0,doc:m}),w=!0):h&&!m&&(i.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(m?(o=o.add(m),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{eu:o,ru:i,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((u,d)=>function(m,b){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{At:w})}};return g(m)-g(b)}(u.type,d.type)||this.Xa(u.doc,d.doc)),this.su(i),r=r!=null&&r;const a=n&&!r?this.ou():[],l=this.Za.size===0&&this.current&&!r?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Yf(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new K3,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=at(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new aV(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new oV(i))}),n}uu(e){this.Ha=e.qs,this.Za=at();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const xD="SyncEngine";class rme{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class sme{constructor(e){this.key=e,this.lu=!1}}class ome{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Fd(a=>SF(a),E1),this.Tu=new Map,this.Iu=new Set,this.du=new Mn(Re.comparator),this.Eu=new Map,this.Au=new aD,this.Ru={},this.Vu=new Map,this.mu=Wf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ame(t,e,n=!0){const i=fV(t);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await lV(i,e,n,!0),r}async function lme(t,e){const n=fV(t);await lV(n,e,!0,!1)}async function lV(t,e,n,i){const r=await Ape(t.localStore,Xo(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await cme(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&eV(t.remoteStore,r),a}async function cme(t,e,n,i,r){t.gu=(d,h,m)=>async function(g,w,y,T){let k=w.view.nu(y);k.Ds&&(k=await H3(g.localStore,w.query,!1).then(({documents:O})=>w.view.nu(O,k)));const D=T&&T.targetChanges.get(w.targetId),P=T&&T.targetMismatches.get(w.targetId)!=null,B=w.view.applyChanges(k,g.isPrimaryClient,D,P);return e5(g,w.targetId,B._u),B.snapshot}(t,d,h,m);const s=await H3(t.localStore,e,!0),o=new ime(e,s.qs),a=o.nu(s.documents),l=Mb.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);e5(t,n,c._u);const u=new rme(e,n,o);return t.Pu.set(e,u),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function ume(t,e,n){const i=Ve(t),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(o=>!E1(o,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await S2(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&dD(i.remoteStore,r.targetId),A2(i,r.targetId)}).catch(Pp)):(A2(i,r.targetId),await S2(i.localStore,r.targetId,!0))}async function dme(t,e){const n=Ve(t),i=n.Pu.get(e),r=n.Tu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),dD(n.remoteStore,i.targetId))}async function hme(t,e,n){const i=yme(t);try{const r=await function(o,a){const l=Ve(o),c=jt.now(),u=a.reduce((m,b)=>m.add(b.key),at());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=hl(),g=at();return l.Os.getEntries(m,u).next(w=>{b=w,b.forEach((y,T)=>{T.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(w=>{d=w;const y=[];for(const T of a){const k=Sfe(T,d.get(T.key).overlayedDocument);k!=null&&y.push(new nu(T.key,k,bF(k.value.mapValue),lr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(w=>{h=w;const y=w.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,w.batchId,y)})}).then(()=>({batchId:h.batchId,changes:AF(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Mn(Je)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(i,r.batchId,n),await Bb(i,r.changes),await R1(i.remoteStore)}catch(r){const s=gD(r,"Failed to persist write");n.reject(s)}}async function cV(t,e){const n=Ve(t);try{const i=await Spe(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Eu.get(s);o&&(vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.lu=!0:r.modifiedDocuments.size>0?vt(o.lu,14607):r.removedDocuments.size>0&&(vt(o.lu,42227),o.lu=!1))}),await Bb(n,i,e)}catch(i){await Pp(i)}}function J3(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Ve(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.wa)h.va(a)&&(c=!0)}),c&&yD(l)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fme(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Eu.get(e),s=r&&r.key;if(s){let o=new Mn(Re.comparator);o=o.insert(s,Ni.newNoDocument(s,qe.min()));const a=at().add(s),l=new I1(qe.min(),new Map,new Mn(Je),o,a);await cV(i,l),i.du=i.du.remove(s),i.Eu.delete(e),wD(i)}else await S2(i.localStore,e,!1).then(()=>A2(i,e,n)).catch(Pp)}async function pme(t,e){const n=Ve(t),i=e.batch.batchId;try{const r=await Epe(n.localStore,e);dV(n,i,null),uV(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Bb(n,r)}catch(r){await Pp(r)}}async function mme(t,e,n){const i=Ve(t);try{const r=await function(o,a){const l=Ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(vt(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);dV(i,e,n),uV(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Bb(i,r)}catch(r){await Pp(r)}}function uV(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function dV(t,e,n){const i=Ve(t);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function A2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||hV(t,i)})}function hV(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dD(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),wD(t))}function e5(t,e,n){for(const i of n)i instanceof oV?(t.Au.addReference(i.key,e),gme(t,i)):i instanceof aV?(we(xD,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||hV(t,i.key)):Be(19791,{yu:i})}function gme(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(we(xD,"New document in limbo: "+n),t.Iu.add(i),wD(t))}function wD(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Re(It.fromString(e)),i=t.mu.next();t.Eu.set(i,new sme(n)),t.du=t.du.insert(n,i),eV(t.remoteStore,new lc(Xo(T1(n.path)),i,"TargetPurposeLimboResolution",y1.ue))}}async function Bb(t,e,n){const i=Ve(t),r=[],s=[],o=[];i.Pu.isEmpty()||(i.Pu.forEach((a,l)=>{o.push(i.gu(l,e,n).then(c=>{var u;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);const d=cD.Es(l.targetId,c);s.push(d)}}))}),await Promise.all(o),i.hu.J_(r),await async function(l,c){const u=Ve(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ce.forEach(c,h=>ce.forEach(h.Is,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>ce.forEach(h.ds,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!Op(d))throw d;we(uD,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const m=u.Fs.get(h),b=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(b);u.Fs=u.Fs.insert(h,g)}}}(i.localStore,s))}async function bme(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){we(xD,"User change. New user:",e.toKey());const i=await KF(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new be(se.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bb(n,i.Bs)}}function vme(t,e){const n=Ve(t),i=n.Eu.get(e);if(i&&i.lu)return at().add(i.key);{let r=at();const s=n.Tu.get(e);if(!s)return r;for(const o of s){const a=n.Pu.get(o);r=r.unionWith(a.view.tu)}return r}}function fV(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fme.bind(null,e),e.hu.J_=tme.bind(null,e.eventManager),e.hu.pu=nme.bind(null,e.eventManager),e}function yme(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pme.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mme.bind(null,e),e}class cx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=D1(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Tpe(this.persistence,new _pe,e.initialUser,this.serializer)}Du(e){return new XF(lD.Vi,this.serializer)}bu(e){return new Dpe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cx.provider={build:()=>new cx};class _me extends cx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){vt(this.persistence.referenceDelegate instanceof ax,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ipe(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new XF(i=>ax.Vi(i,n),this.serializer)}}class I2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>J3(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bme.bind(null,this.syncEngine),await Zpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eme}()}createDatastore(e){const n=D1(e.databaseInfo.databaseId),i=function(s){return new Mpe(s)}(e.databaseInfo);return function(s,o,a,l){return new Fpe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new $pe(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>J3(this.syncEngine,n,0),function(){return W3.C()?new W3:new Rpe}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){const d=new ome(r,s,o,a,l,c);return u&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Ve(r);we(_d,"RemoteStore shutting down."),s.Ia.add(5),await Lp(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}I2.provider={build:()=>new I2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="FirestoreClient";class xme{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Mi.UNAUTHENTICATED,this.clientId=YI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{we(qc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(we(qc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=gD(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function eS(t,e){t.asyncQueue.verifyOperationInProgress(),we(qc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await KF(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{dl("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{we("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{dl("Terminating Firestore due to IndexedDb database deletion failed",r)})}),t._offlineComponents=e}async function t5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pV(t);we(qc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>X3(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>X3(e.remoteStore,r)),t._onlineComponents=e}async function pV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(qc,"Using user provided OfflineComponentProvider");try{await eS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await eS(t,new cx)}}else we(qc,"Using default OfflineComponentProvider"),await eS(t,new _me(void 0));return t._offlineComponents}async function P1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(qc,"Using user provided OnlineComponentProvider"),await t5(t,t._uninitializedComponentsProvider._online)):(we(qc,"Using default OnlineComponentProvider"),await t5(t,new I2))),t._onlineComponents}function mV(t){return pV(t).then(e=>e.persistence)}function gV(t){return P1(t).then(e=>e.remoteStore)}function wme(t){return P1(t).then(e=>e.syncEngine)}function Tme(t){return P1(t).then(e=>e.datastore)}async function ux(t){const e=await P1(t),n=e.eventManager;return n.onListen=ame.bind(null,e.syncEngine),n.onUnlisten=ume.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lme.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dme.bind(null,e.syncEngine),n}function Eme(t){return t.asyncQueue.enqueue(async()=>{const e=await mV(t),n=await gV(t);return e.setNetworkEnabled(!0),function(r){const s=Ve(r);return s.Ia.delete(0),Nb(s)}(n)})}function Sme(t){return t.asyncQueue.enqueue(async()=>{const e=await mV(t),n=await gV(t);return e.setNetworkEnabled(!1),async function(r){const s=Ve(r);s.Ia.add(0),await Lp(s),s.Aa.set("Offline")}(n)})}function kme(t,e,n={}){const i=new Ds;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new TD({next:h=>{u.Ou(),o.enqueueAndForget(()=>vD(s,d));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new be(se.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new be(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new _D(T1(a.path),u,{includeMetadataChanges:!0,ka:!0});return bD(s,d)}(await ux(t),t.asyncQueue,e,n,i)),i.promise}function Cme(t,e,n={}){const i=new Ds;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new TD({next:h=>{u.Ou(),o.enqueueAndForget(()=>vD(s,d)),h.fromCache&&l.source==="server"?c.reject(new be(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new _D(a,u,{includeMetadataChanges:!0,ka:!0});return bD(s,d)}(await ux(t),t.asyncQueue,e,n,i)),i.promise}function Ame(t,e,n){const i=new Ds;return t.asyncQueue.enqueueAndForget(async()=>{try{const r=await Tme(t);i.resolve(async function(o,a,l){var c;const u=Ve(o),{request:d,ft:h,parent:m}=Hfe(u.serializer,ufe(a),l);u.connection.Qo||delete d.parent;const b=(await u.Jo("RunAggregationQuery",u.serializer.databaseId,m,d,1)).filter(w=>!!w.result);vt(b.length===1,64727);const g=(c=b[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(g).reduce((w,y)=>(w[h[y]]=g[y],w),{})}(r,e,n))}catch(r){i.reject(r)}}),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="firestore.googleapis.com",i5=!0;class r5{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vV,this.ssl=i5}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:i5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tpe)throw new be(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bhe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bV((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(se.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (must not be NaN)"));if(s.timeoutSeconds<5)throw new be(se.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (minimum allowed value is 5)"));if(s.timeoutSeconds>30)throw new be(se.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ub{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ahe;switch(i.type){case"firstParty":return new Phe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=n5.get(n);i&&(we("ComponentProvider","Removing Datastore"),n5.delete(n),i.terminate())}(this),Promise.resolve()}}function Ime(t,e,n,i={}){var r;t=Fn(t,Ub);const s=bo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l="".concat(e,":").concat(n);s&&(Sb("https://".concat(l)),kb("Firestore",!0)),o.host!==vV&&o.host!==l&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:i});if(!Fc(c,a)&&(t._setSettings(c),i.mockUserToken)){let u,d;if(typeof i.mockUserToken=="string")u=i.mockUserToken,d=Mi.MOCK_USER;else{u=LI(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new be(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Mi(h)}t._authCredentials=new Ihe(new nF(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class fn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ob(n,fn._jsonSchema))return new fn(e,i||null,new Re(It.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Pn("string",fn._jsonSchemaVersion),referencePath:Pn("string")};class kc extends Vs{constructor(e,n,i){super(e,n,T1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Re(e))}withConverter(e){return new kc(this.firestore,e,this._path)}}function mf(t,e,...n){if(t=Pe(t),XI("collection","path",e),t instanceof Ub){const i=It.fromString(e,...n);return b3(i),new kc(t,null,i)}{if(!(t instanceof fn||t instanceof kc))throw new be(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return b3(i),new kc(t.firestore,null,i)}}function pIe(t,e){if(t=Fn(t,Ub),XI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new be(se.INVALID_ARGUMENT,"Invalid collection ID '".concat(e,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Vs(t,null,function(i){return new xl(It.emptyPath(),i)}(e))}function Bi(t,e,...n){if(t=Pe(t),arguments.length===1&&(e=YI.newId()),XI("doc","path",e),t instanceof Ub){const i=It.fromString(e,...n);return g3(i),new fn(t,null,new Re(i))}{if(!(t instanceof fn||t instanceof kc))throw new be(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return g3(i),new fn(t.firestore,t instanceof kc?t.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="AsyncQueue";class o5{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ZF(this,"async_queue_retry"),this.oc=()=>{const i=JE();i&&we(s5,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=JE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=JE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ds;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Op(e))throw e;we(s5,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,oa("INTERNAL UNHANDLED ERROR: ",a5(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const r=mD.createAndSchedule(this,e,n,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&Be(47125,{hc:a5(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function a5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class is extends Ub{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new o5,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o5(e),this._firestoreClient=void 0,await e}}}function Ui(t,e){const n=typeof t=="object"?t:Ab(),i=typeof t=="string"?t:tx,r=Ap(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=i1("firestore");s&&Ime(r,...s)}return r}function iu(t){if(t._terminated)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Dme(t),t._firestoreClient}function Dme(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,u){return new Khe(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bV(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new xme(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function mIe(t){if(t._initialized&&!t._terminated)throw new be(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ds;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!Zu.C())return Promise.resolve();const r=i+bpe;await Zu.delete(r)}(vpe(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function gIe(t){return Eme(iu(t=Fn(t,is)))}function bIe(t){return Sme(iu(t=Fn(t,is)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Pme{constructor(e,n,i){this._userDataWriter=n,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Ci.fromBase64String(e))}catch(n){throw new be(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ss(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ob(e,Ss._jsonSchema))return Ss.fromBase64String(e.bytes)}}Ss._jsonSchemaVersion="firestore/bytes/1.0",Ss._jsonSchema={type:Pn("string",Ss._jsonSchemaVersion),bytes:Pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qo._jsonSchemaVersion}}static fromJSON(e){if(Ob(e,Qo._jsonSchema))return new Qo(e.latitude,e.longitude)}}Qo._jsonSchemaVersion="firestore/geoPoint/1.0",Qo._jsonSchema={type:Pn("string",Qo._jsonSchemaVersion),latitude:Pn("number"),longitude:Pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ob(e,Zo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zo(e.vectorValues);throw new be(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zo._jsonSchemaVersion="firestore/vectorValue/1.0",Zo._jsonSchema={type:Pn("string",Zo._jsonSchemaVersion),vectorValues:Pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome=/^__.*__$/;class Lme{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new nu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lb(e,this.data,n,this.fieldTransforms)}}class yV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new nu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _V(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ec:t})}}class ED{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ED(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return dx(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(_V(this.Ec)&&Ome.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Mme{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||D1(e)}Dc(e,n,i,r=!1){return new ED({Ec:e,methodName:n,bc:i,path:Ti.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(t){const e=t._freezeSettings(),n=D1(t._databaseId);return new Mme(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SD(t,e,n,i,r,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,r);CD("Data must be an object, but it was:",o,i);const a=EV(i,o);let l,c;if(s.merge)l=new Zr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=D2(e,d,n);if(!o.contains(h))throw new be(se.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));kV(u,h)||u.push(h)}l=new Zr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Lme(new Er(a),l,c)}class L1 extends O1{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.wc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof L1}}class kD extends O1{_toFieldTransform(e){return new xfe(e.path,new L0)}isEqual(e){return e instanceof kD}}function xV(t,e,n,i){const r=t.Dc(1,e,n);CD("Data must be an object, but it was:",r,i);const s=[],o=Er.empty();tu(i,(l,c)=>{const u=AD(e,l,n);c=Pe(c);const d=r.gc(u);if(c instanceof L1)s.push(u);else{const h=Vb(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Zr(s);return new yV(o,a,r.fieldTransforms)}function wV(t,e,n,i,r,s){const o=t.Dc(1,e,n),a=[D2(e,i,n)],l=[r];if(s.length%2!=0)throw new be(se.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(D2(e,s[h])),l.push(s[h+1]);const c=[],u=Er.empty();for(let h=a.length-1;h>=0;--h)if(!kV(c,a[h])){const m=a[h];let b=l[h];b=Pe(b);const g=o.gc(m);if(b instanceof L1)c.push(m);else{const w=Vb(b,g);w!=null&&(c.push(m),u.set(m,w))}}const d=new Zr(c);return new yV(u,d,o.fieldTransforms)}function TV(t,e,n,i=!1){return Vb(n,t.Dc(i?4:3,e))}function Vb(t,e){if(SV(t=Pe(t)))return CD("Unsupported field value:",e,t),EV(t,e);if(t instanceof O1)return function(i,r){if(!_V(r.Ec))throw r.wc("".concat(i._methodName,"() can only be used with update() and set()"));if(!r.path)throw r.wc("".concat(i._methodName,"() is not currently supported inside arrays"));const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Vb(a,r.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Pe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vfe(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=jt.fromDate(i);return{timestampValue:ox(r.serializer,s)}}if(i instanceof jt){const s=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ox(r.serializer,s)}}if(i instanceof Qo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ss)return{bytesValue:VF(r.serializer,i._byteString)};if(i instanceof fn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.wc("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(s.projectId,"/").concat(s.database));return{referenceValue:oD(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Zo)return function(o,a){return{mapValue:{fields:{[pF]:{stringValue:gF},[nx]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return iD(a.serializer,c)})}}}}}}(i,r);throw r.wc("Unsupported field value: ".concat(v1(i)))}(t,e)}function EV(t,e){const n={};return lF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(t,(i,r)=>{const s=Vb(r,e.Vc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function SV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Qo||t instanceof Ss||t instanceof fn||t instanceof O1||t instanceof Zo)}function CD(t,e,n){if(!SV(n)||!rF(n)){const i=v1(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function D2(t,e,n){if((e=Pe(e))instanceof Fb)return e._internalPath;if(typeof e=="string")return AD(t,e);throw dx("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nme=new RegExp("[~\\*/\\[\\]]");function AD(t,e,n){if(e.search(Nme)>=0)throw dx("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Fb(...e.split("."))._internalPath}catch(i){throw dx("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function dx(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new be(se.INVALID_ARGUMENT,a+t+l)}function kV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bme extends ID{data(){return super.data()}}function M1(t,e){return typeof e=="string"?AD(t,e):e instanceof Fb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DD{}class $b extends DD{}function hx(t,e,...n){let i=[];e instanceof DD&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof Bp).length,a=s.filter(l=>l instanceof jb).length;if(o>1||o>0&&a>0)throw new be(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class jb extends $b{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new jb(e,n,i)}_apply(e){const n=this._parse(e);return IV(e._query,n),new Vs(e.firestore,e.converter,_2(e._query,n))}_parse(e){const n=Np(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new be(se.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(u,"' queries on documentId()."));if(u==="in"||u==="not-in"){u5(d,u);const b=[];for(const g of d)b.push(c5(l,s,g));h={arrayValue:{values:b}}}else h=c5(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||u5(d,u),h=TV(a,o,d,u==="in"||u==="not-in");return Rn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fx(t,e,n){const i=e,r=M1("where",t);return jb._create(r,i,n)}class Bp extends DD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bp(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ho.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)IV(o,l),o=_2(o,l)}(e._query,n),new Vs(e.firestore,e.converter,_2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vIe(...t){return t.forEach(e=>DV("or",e)),Bp._create("or",t)}function yIe(...t){return t.forEach(e=>DV("and",e)),Bp._create("and",t)}class RD extends $b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new RD(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new O0(s,o)}(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new xl(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Ume(t,e="asc"){const n=e,i=M1("orderBy",t);return RD._create(i,n)}class N1 extends $b{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new N1(e,n,i)}_apply(e){return new Vs(e.firestore,e.converter,rx(e._query,this._limit,this._limitType))}}function _Ie(t){return sF("limit",t),N1._create("limit",t,"F")}function xIe(t){return sF("limitToLast",t),N1._create("limitToLast",t,"L")}class B1 extends $b{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new B1(e,n,i)}_apply(e){const n=AV(e,this.type,this._docOrFields,this._inclusive);return new Vs(e.firestore,e.converter,function(r,s){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}}function wIe(...t){return B1._create("startAt",t,!0)}function TIe(...t){return B1._create("startAfter",t,!1)}class U1 extends $b{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new U1(e,n,i)}_apply(e){const n=AV(e,this.type,this._docOrFields,this._inclusive);return new Vs(e.firestore,e.converter,function(r,s){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,n))}}function EIe(...t){return U1._create("endBefore",t,!1)}function SIe(...t){return U1._create("endAt",t,!0)}function AV(t,e,n,i){if(n[0]=Pe(n[0]),n[0]instanceof ID)return function(s,o,a,l,c){if(!l)throw new be(se.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(a,"()."));const u=[];for(const d of ff(s))if(d.field.isKeyField())u.push(ix(o,l.key));else{const h=l.data.field(d.field);if(x1(h))throw new be(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const m=d.field.canonicalString();throw new be(se.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(m,"' (used as the orderBy) does not exist."))}u.push(h)}return new Gf(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Np(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new be(se.INVALID_ARGUMENT,"Too many arguments provided to ".concat(c,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const m=[];for(let b=0;b<u.length;b++){const g=u[b];if(h[b].field.isKeyField()){if(typeof g!="string")throw new be(se.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(c,"(), but got a ").concat(typeof g));if(!nD(o)&&g.indexOf("/")!==-1)throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(c,"() must be a plain document ID, but '").concat(g,"' contains a slash."));const w=o.path.child(It.fromString(g));if(!Re.isDocumentKey(w))throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(c,"() must result in a valid document path, but '").concat(w,"' is not because it contains an odd number of segments."));const y=new Re(w);m.push(ix(a,y))}else{const w=TV(l,c,g);m.push(w)}}return new Gf(m,d)}(t._query,t.firestore._databaseId,r,e,n,i)}}function c5(t,e,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nD(e)&&n.indexOf("/")!==-1)throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(It.fromString(n));if(!Re.isDocumentKey(i))throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return ix(t,new Re(i))}if(n instanceof fn)return ix(t,n._key);throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(v1(n),"."))}function u5(t,e){if(!Array.isArray(t)||t.length===0)throw new be(se.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function IV(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(se.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new be(se.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function DV(t,e){if(!(e instanceof jb||e instanceof Bp))throw new be(se.INVALID_ARGUMENT,"Function ".concat(t,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class Fme{convertValue(e,n="none"){switch(zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return tu(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[nx].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>_n(o.doubleValue));return new Zo(s)}convertGeoPoint(e){return new Qo(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=w1(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(D0(e));default:return null}}convertTimestamp(e){const n=$c(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=It.fromString(e);vt(WF(i),9688,{name:e});const r=new R0(i.get(1),i.get(3)),s=new Re(i.popFirst(5));return r.isEqual(n)||oa("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(n.projectId,"/").concat(n.database,") instead.")),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}function Vme(){return new Rme("count")}class rg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends ID{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $y(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(M1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ju._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ju._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ju._jsonSchema={type:Pn("string",Ju._jsonSchemaVersion),bundleSource:Pn("string","DocumentSnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class $y extends Ju{data(e={}){return super.data(e)}}class ed{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new rg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new $y(this._firestore,this._userDataWriter,i.key,i,new rg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new $y(r._firestore,r._userDataWriter,a.doc.key,a.doc,new rg(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new $y(r._firestore,r._userDataWriter,a.doc.key,a.doc,new rg(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:$me(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ed._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $me(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){t=Fn(t,fn);const e=Fn(t.firestore,is);return kme(iu(e),t._key).then(n=>PV(e,t,n))}ed._jsonSchemaVersion="firestore/querySnapshot/1.0",ed._jsonSchema={type:Pn("string",ed._jsonSchemaVersion),bundleSource:Pn("string","QuerySnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class F1 extends Fme{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function RV(t){t=Fn(t,Vs);const e=Fn(t.firestore,is),n=iu(e),i=new F1(e);return CV(t._query),Cme(n,t._query).then(r=>new ed(e,i,t,r))}function R2(t,e,n){t=Fn(t,fn);const i=Fn(t.firestore,is),r=PD(t.converter,e,n);return zb(i,[SD(Np(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,lr.none())])}function px(t,e,n,...i){t=Fn(t,fn);const r=Fn(t.firestore,is),s=Np(r);let o;return o=typeof(e=Pe(e))=="string"||e instanceof Fb?wV(s,"updateDoc",t._key,e,n,i):xV(s,"updateDoc",t._key,e),zb(r,[o.toMutation(t._key,lr.exists(!0))])}function P2(t){return zb(Fn(t.firestore,is),[new A1(t._key,lr.none())])}function d5(t,e){const n=Fn(t.firestore,is),i=Bi(t),r=PD(t.converter,e);return zb(n,[SD(Np(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,lr.exists(!1))]).then(()=>i)}function O2(t,...e){var n,i,r;t=Pe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||l5(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(l5(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,u;if(t instanceof fn)c=Fn(t.firestore,is),u=T1(t._key.path),l={next:d=>{e[o]&&e[o](PV(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Fn(t,Vs);c=Fn(d.firestore,is),u=d._query;const h=new F1(c);l={next:m=>{e[o]&&e[o](new ed(c,h,d,m))},error:e[o+1],complete:e[o+2]},CV(t._query)}return function(h,m,b,g){const w=new TD(g),y=new _D(m,w,b);return h.asyncQueue.enqueueAndForget(async()=>bD(await ux(h),y)),()=>{w.Ou(),h.asyncQueue.enqueueAndForget(async()=>vD(await ux(h),y))}}(iu(c),u,a,l)}function zb(t,e){return function(i,r){const s=new Ds;return i.asyncQueue.enqueueAndForget(async()=>hme(await wme(i),r,s)),s.promise}(iu(t),e)}function PV(t,e,n){const i=n.docs.get(e._key),r=new F1(t);return new Ju(t,r,e._key,i,new rg(n.hasPendingWrites,n.fromCache),e.converter)}function kIe(t){return jme(t,{count:Vme()})}function jme(t,e){const n=Fn(t.firestore,is),i=iu(n),r=Yhe(e,(s,o)=>new Ife(o,s.aggregateType,s._internalFieldPath));return Ame(i,t._query,r).then(s=>function(a,l,c){const u=new F1(a);return new Pme(l,u,c)}(n,t,s))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zme{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,n,i){this._verifyNotCommitted();const r=tS(e,this._firestore),s=PD(r.converter,n,i),o=SD(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,lr.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const s=tS(e,this._firestore);let o;return o=typeof(n=Pe(n))=="string"||n instanceof Fb?wV(this._dataReader,"WriteBatch.update",s._key,n,i,r):xV(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=tS(e,this._firestore);return this._mutations=this._mutations.concat(new A1(n._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tS(t,e){if((t=Pe(t)).firestore!==e)throw new be(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function h5(){return new kD("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CIe(t){return iu(t=Fn(t,is)),new zme(t,e=>zb(t,e))}(function(e,n=!0){(function(r){Rp=r})(eu),ll(new ra("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new is(new Dhe(i.getProvider("auth-internal")),new Ohe(o,i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new R0(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dr(d3,h3,e),Dr(d3,h3,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme="type.googleapis.com/google.protobuf.Int64Value",qme="type.googleapis.com/google.protobuf.UInt64Value";function OV(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function mx(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>mx(e));if(typeof t=="function"||typeof t=="object")return OV(t,e=>mx(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Kf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Hme:case qme:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Kf(e)):typeof t=="function"||typeof t=="object"?OV(t,e=>Kf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cr extends vo{constructor(e,n,i){super("".concat(OD,"/").concat(e),n||""),this.details=i,Object.setPrototypeOf(this,Cr.prototype)}}function Gme(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function gx(t,e){let n=Gme(t),i=n,r;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!f5[o])return new Cr("internal","internal");n=f5[o],i=o}const a=s.message;typeof a=="string"&&(i=a),r=s.details,r!==void 0&&(r=Kf(r))}}catch(s){}return n==="ok"?null:new Cr(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{constructor(e,n,i,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||i.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="us-central1",Yme=/^data: (.*?)(?:\n|$)/;function Xme(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Cr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Kme{constructor(e,n,i,r,s=L2,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Wme(e,n,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=L2}catch(a){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;if(this.emulatorOrigin!==null){const i=this.emulatorOrigin;return"".concat(i,"/").concat(n,"/").concat(this.region,"/").concat(e)}return this.customDomain!==null?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(n,".cloudfunctions.net/").concat(e)}}function Qme(t,e,n){const i=bo(e);t.emulatorOrigin="http".concat(i?"s":"","://").concat(e,":").concat(n),i&&(Sb(t.emulatorOrigin),kb("Functions",!0))}function Zme(t,e,n){const i=r=>tge(t,e,r,{});return i.stream=(r,s)=>nge(t,e,r,s),i}function Jme(t,e,n){const i=r=>MV(t,e,r,{});return i.stream=(r,s)=>NV(t,e,r,s||{}),i}async function ege(t,e,n,i){n["Content-Type"]="application/json";let r;try{r=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch(o){return{status:0,json:null}}let s=null;try{s=await r.json()}catch(o){}return{status:r.status,json:s}}async function LV(t,e){const n={},i=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function tge(t,e,n,i){const r=t._url(e);return MV(t,r,n,i)}async function MV(t,e,n,i){n=mx(n);const r={data:n},s=await LV(t,i),o=i.timeout||7e4,a=Xme(o),l=await Promise.race([ege(e,r,s,t.fetchImpl),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new Cr("cancelled","Firebase Functions instance was deleted.");const c=gx(l.status,l.json);if(c)throw c;if(!l.json)throw new Cr("internal","Response is not valid JSON object.");let u=l.json.data;if(typeof u>"u"&&(u=l.json.result),typeof u>"u")throw new Cr("internal","Response is missing data field.");return{data:Kf(u)}}function nge(t,e,n,i){const r=t._url(e);return NV(t,r,n,i||{})}async function NV(t,e,n,i){var r;n=mx(n);const s={data:n},o=await LV(t,i);o["Content-Type"]="application/json",o.Accept="text/event-stream";let a;try{a=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:o,signal:i==null?void 0:i.signal})}catch(m){if(m instanceof Error&&m.name==="AbortError"){const g=new Cr("cancelled","Request was cancelled.");return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}const b=gx(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let l,c;const u=new Promise((m,b)=>{l=m,c=b});(r=i==null?void 0:i.signal)===null||r===void 0||r.addEventListener("abort",()=>{const m=new Cr("cancelled","Request was cancelled.");c(m)});const d=a.body.getReader(),h=ige(d,l,c,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const m=h.getReader();return{async next(){const{value:b,done:g}=await m.read();return{value:b,done:g}},async return(){return await m.cancel(),{done:!0,value:void 0}}}}},data:u}}function ige(t,e,n,i){const r=(o,a)=>{const l=o.match(Yme);if(!l)return;const c=l[1];try{const u=JSON.parse(c);if("result"in u){e(Kf(u.result));return}if("message"in u){a.enqueue(Kf(u.message));return}if("error"in u){const d=gx(0,u);a.error(d),n(d);return}}catch(u){if(u instanceof Cr){a.error(u),n(u);return}}},s=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(i!=null&&i.aborted){const c=new Cr("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:u}=await t.read();if(u){a.trim()&&r(a.trim(),o),o.close();return}if(i!=null&&i.aborted){const h=new Cr("cancelled","Request was cancelled");o.error(h),n(h),await t.cancel();return}a+=s.decode(c,{stream:!0});const d=a.split("\n");a=d.pop()||"";for(const h of d)h.trim()&&r(h.trim(),o);return l()}catch(c){const u=c instanceof Cr?c:gx(0,null);o.error(u),n(u)}}},cancel(){return t.cancel()}})}const p5="@firebase/functions",m5="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rge="auth-internal",sge="app-check-internal",oge="messaging-internal";function age(t){const e=(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),s=n.getProvider(rge),o=n.getProvider(oge),a=n.getProvider(sge);return new Kme(r,s,o,a,i)};ll(new ra(OD,e,"PUBLIC").setMultipleInstances(!0)),Dr(p5,m5,t),Dr(p5,m5,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lge(t=Ab(),e=L2){const i=Ap(Pe(t),OD).getImmediate({identifier:e}),r=i1("functions");return r&&cge(i,...r),i}function cge(t,e,n){Qme(Pe(t),e,n)}function AIe(t,e,n){return Zme(Pe(t),e)}function IIe(t,e,n){return Jme(Pe(t),e)}age();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="firebasestorage.googleapis.com",UV="storageBucket",uge=2*60*1e3,dge=10*60*1e3,hge=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends vo{constructor(e,n,i=0){super(nS(e),"Firebase Storage: ".concat(n," (").concat(nS(e),")")),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function nS(t){return"storage/"+t}function LD(){const t="An unknown error occurred, please check the error payload for server response.";return new rn(Gt.UNKNOWN,t)}function fge(t){return new rn(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pge(t){return new rn(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mge(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rn(Gt.UNAUTHENTICATED,t)}function gge(){return new rn(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bge(t){return new rn(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FV(){return new rn(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VV(){return new rn(Gt.CANCELED,"User canceled the upload/download.")}function vge(t){return new rn(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function yge(t){return new rn(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _ge(){return new rn(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UV+"' property when initializing the app?")}function $V(){return new rn(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xge(){return new rn(Gt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function wge(){return new rn(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tge(t){return new rn(Gt.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."))}function M2(t){return new rn(Gt.INVALID_ARGUMENT,t)}function jV(){return new rn(Gt.APP_DELETED,"The Firebase app was deleted.")}function Ege(t){return new rn(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ug(t,e){return new rn(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lm(t){throw new rn(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=rr.makeFromUrl(e,n)}catch(r){return new rr(e,"")}if(i.path==="")return i;throw yge(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(D){D.path_=decodeURIComponent(D.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp("^https?://".concat(d,"/").concat(u,"/b/").concat(r,"/o").concat(h),"i"),b={bucket:1,path:3},g=n===BV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp("^https?://".concat(g,"/").concat(r,"/").concat(w),"i"),k=[{regex:a,indices:l,postModify:s},{regex:m,indices:b,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<k.length;D++){const P=k[D],B=P.regex.exec(e);if(B){const O=B[P.indices.bucket];let A=B[P.indices.path];A||(A=""),i=new rr(O,A),P.postModify(i);break}}if(i==null)throw vge(e);return i}}class Sge{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kge(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function d(w){r=setTimeout(()=>{r=null,t(m,l())},w)}function h(){s&&clearTimeout(s)}function m(w,...y){if(c){h();return}if(w){h(),u.call(null,w,...y);return}if(l()||o){h(),u.call(null,w,...y);return}i<64&&(i*=2);let k;a===1?(a=2,k=0):k=(i+Math.random())*1e3,d(k)}let b=!1;function g(w){b||(b=!0,h(),!c&&(r!==null?(w||(a=2),clearTimeout(r),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Cge(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Age(t){return t!==void 0}function Ige(t){return typeof t=="function"}function Dge(t){return typeof t=="object"&&!Array.isArray(t)}function V1(t){return typeof t=="string"||t instanceof String}function g5(t){return MD()&&t instanceof Blob}function MD(){return typeof Blob<"u"}function N2(t,e,n,i){if(i<e)throw M2("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(i>n)throw M2("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){let i=e;return n==null&&(i="https://".concat(e)),"".concat(n,"://").concat(i,"/v0").concat(t)}function zV(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var td;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(td||(td={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge{constructor(e,n,i,r,s,o,a,l,c,u,d,h=!0,m=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,g)=>{this.resolve_=b,this.reject_=g,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new ny(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===td.NO_ERROR,l=s.getStatus();if(!a||HV(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===td.ABORT;i(!1,new ny(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new ny(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Age(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=LD();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?jV():VV();o(l)}else{const l=FV();o(l)}};this.canceled_?n(!1,new ny(!1,null,!0)):this.backoffId_=kge(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cge(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ny{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Pge(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Oge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Lge(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mge(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Nge(t,e,n,i,r,s,o=!0,a=!1){const l=zV(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Lge(u,e),Pge(u,n),Oge(u,s),Mge(u,i),new Rge(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bge(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uge(...t){const e=Bge();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(MD())return new Blob(t);throw new rn(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fge(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vge(t){if(typeof atob>"u")throw Tge("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iS{constructor(e,n){this.data=e,this.contentType=n||null}}function $ge(t,e){switch(t){case Vo.RAW:return new iS(qV(e));case Vo.BASE64:case Vo.BASE64URL:return new iS(GV(t,e));case Vo.DATA_URL:return new iS(zge(e),Hge(e))}throw LD()}function qV(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function jge(t){let e;try{e=decodeURIComponent(t)}catch(n){throw Ug(Vo.DATA_URL,"Malformed data URL.")}return qV(e)}function GV(t,e){switch(t){case Vo.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Ug(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Vo.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Ug(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vge(e)}catch(r){throw r.message.includes("polyfill")?r:Ug(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class WV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ug(Vo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=qge(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function zge(t){const e=new WV(t);return e.base64?GV(Vo.BASE64,e.rest):jge(e.rest)}function Hge(t){return new WV(t).contentType}function qge(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){let i=0,r="";g5(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(g5(this.data_)){const i=this.data_,r=Fge(i,e,n);return r===null?null:new Va(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Va(i,!0)}}static getBlob(...e){if(MD()){const n=e.map(i=>i instanceof Va?i.data_:i);return new Va(Uge.apply(null,n))}else{const n=e.map(o=>V1(o)?$ge(Vo.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Va(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){let e;try{e=JSON.parse(t)}catch(n){return null}return Dge(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gge(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wge(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function YV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yge(t,e){return e}class Xi{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||Yge}}let iy=null;function Xge(t){return!V1(t)||t.length<2?t:YV(t)}function Hb(){if(iy)return iy;const t=[];t.push(new Xi("bucket")),t.push(new Xi("generation")),t.push(new Xi("metageneration")),t.push(new Xi("name","fullPath",!0));function e(s,o){return Xge(o)}const n=new Xi("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new Xi("size");return r.xform=i,t.push(r),t.push(new Xi("timeCreated")),t.push(new Xi("updated")),t.push(new Xi("md5Hash",null,!0)),t.push(new Xi("cacheControl",null,!0)),t.push(new Xi("contentDisposition",null,!0)),t.push(new Xi("contentEncoding",null,!0)),t.push(new Xi("contentLanguage",null,!0)),t.push(new Xi("contentType",null,!0)),t.push(new Xi("metadata","customMetadata",!0)),iy=t,iy}function Kge(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new rr(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Qge(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return Kge(i,t),i}function XV(t,e,n){const i=ND(e);return i===null?null:Qge(t,i,n)}function Zge(t,e,n,i){const r=ND(e);if(r===null||!V1(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),m=ru(h,n,i),b=zV({alt:"media",token:c});return m+b})[0]}function BD(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="prefixes",v5="items";function Jge(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[b5])for(const r of n[b5]){const s=r.replace(/\/$/,""),o=t._makeStorageReference(new rr(e,s));i.prefixes.push(o)}if(n[v5])for(const r of n[v5]){const s=t._makeStorageReference(new rr(e,r.name));i.items.push(s)}return i}function e0e(t,e,n){const i=ND(n);return i===null?null:Jge(t,e,i)}class wl{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){if(!t)throw LD()}function $1(t,e){function n(i,r){const s=XV(t,r,e);return Jo(s!==null),s}return n}function t0e(t,e){function n(i,r){const s=e0e(t,e,r);return Jo(s!==null),s}return n}function n0e(t,e){function n(i,r){const s=XV(t,r,e);return Jo(s!==null),Zge(s,r,t.host,t._protocol)}return n}function Up(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=gge():r=mge():n.getStatus()===402?r=pge(t.bucket):n.getStatus()===403?r=bge(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function j1(t){const e=Up(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=fge(t.path)),s.serverResponse=r.serverResponse,s}return n}function KV(t,e,n){const i=e.fullServerUrl(),r=ru(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new wl(r,s,$1(t,n),o);return a.errorHandler=j1(e),a}function i0e(t,e,n,i,r){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);const o=e.bucketOnlyServerUrl(),a=ru(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new wl(a,l,t0e(t,e.bucket),c);return u.urlParams=s,u.errorHandler=Up(e),u}function r0e(t,e,n){const i=e.fullServerUrl(),r=ru(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new wl(r,s,n0e(t,n),o);return a.errorHandler=j1(e),a}function s0e(t,e,n,i){const r=e.fullServerUrl(),s=ru(r,t.host,t._protocol),o="PATCH",a=BD(n,i),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,u=new wl(s,o,$1(t,i),c);return u.headers=l,u.body=a,u.errorHandler=j1(e),u}function o0e(t,e){const n=e.fullServerUrl(),i=ru(n,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new wl(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=j1(e),a}function a0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QV(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=a0e(null,e)),i}function ZV(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let D=0;D<2;D++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=QV(e,i,r),u=BD(c,n),d="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",h="\r\n--"+l+"--",m=Va.getBlob(d,i,h);if(m===null)throw $V();const b={name:c.fullPath},g=ru(s,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,T=new wl(g,w,$1(t,n),y);return T.urlParams=b,T.headers=o,T.body=m.uploadData(),T.errorHandler=Up(e),T}class bx{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function UD(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Jo(!1)}return Jo(!!n&&(e||["active"]).indexOf(n)!==-1),n}function l0e(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=QV(e,i,r),a={name:o.fullPath},l=ru(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(i.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=BD(o,n),h=t.maxUploadRetryTime;function m(g){UD(g);let w;try{w=g.getResponseHeader("X-Goog-Upload-URL")}catch(y){Jo(!1)}return Jo(V1(w)),w}const b=new wl(l,c,m,h);return b.urlParams=a,b.headers=u,b.body=d,b.errorHandler=Up(e),b}function c0e(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(c){const u=UD(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch(m){Jo(!1)}d||Jo(!1);const h=Number(d);return Jo(!isNaN(h)),new bx(h,i.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new wl(n,o,s,a);return l.headers=r,l.errorHandler=Up(e),l}const y5=256*1024;function u0e(t,e,n,i,r,s,o,a){const l=new bx(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw xge();const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const d=l.current,h=d+u;let m="";u===0?m="finalize":c===u?m="upload, finalize":m="upload";const b={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":"".concat(l.current)},g=i.slice(d,h);if(g===null)throw $V();function w(D,P){const B=UD(D,["active","final"]),O=l.current+u,A=i.size();let R;return B==="final"?R=$1(e,s)(D,P):R=null,new bx(O,A,B==="final",R)}const y="POST",T=e.maxUploadRetryTime,k=new wl(n,y,w,T);return k.headers=b,k.body=g.uploadData(),k.progressCallback=a||null,k.errorHandler=Up(t),k}const xr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rS(t){switch(t){case"running":case"pausing":case"canceling":return xr.RUNNING;case"paused":return xr.PAUSED;case"success":return xr.SUCCESS;case"canceled":return xr.CANCELED;case"error":return xr.ERROR;default:return xr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0e=class{constructor(e,n,i){if(Ige(e)||n!=null||i!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=i!=null?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class h0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=td.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=td.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=td.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r,s){if(this.sent_)throw Lm("cannot .send() more than once");if(bo(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Lm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f0e extends h0e{initXhr(){this.xhr_.responseType="text"}}function Js(){return new f0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0e{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Hb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Gt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(HV(r.status,[]))if(s)r=FV();else{this.sleepTime=Math.max(this.sleepTime*2,hge),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Gt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=l0e(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Js,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=c0e(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Js,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=y5*this._chunkMultiplier,n=new bx(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=u0e(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Js,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){y5*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=KV(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Js,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=ZV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Js,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=VV(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=rS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new d0e(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(rS(this._state)){case xr.SUCCESS:ph(this._resolve.bind(null,this.snapshot))();break;case xr.CANCELED:case xr.ERROR:const n=this._reject;ph(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rS(this._state)){case xr.RUNNING:case xr.PAUSED:e.next&&ph(e.next.bind(e,this.snapshot))();break;case xr.SUCCESS:e.complete&&ph(e.complete.bind(e))();break;case xr.CANCELED:case xr.ERROR:e.error&&ph(e.error.bind(e,this._error))();break;default:e.error&&ph(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xd(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YV(this._location.path)}get storage(){return this._service}get parent(){const e=Gge(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new xd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ege(e)}}function m0e(t,e,n){t._throwIfRoot("uploadBytes");const i=ZV(t.storage,t._location,Hb(),new Va(e,!0),n);return t.storage.makeRequestWithTokens(i,Js).then(r=>({metadata:r,ref:t}))}function g0e(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new p0e(t,new Va(e),n)}function b0e(t,e){e!=null&&typeof e.maxResults=="number"&&N2("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=i0e(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Js)}function v0e(t){t._throwIfRoot("getMetadata");const e=KV(t.storage,t._location,Hb());return t.storage.makeRequestWithTokens(e,Js)}function y0e(t,e){t._throwIfRoot("updateMetadata");const n=s0e(t.storage,t._location,e,Hb());return t.storage.makeRequestWithTokens(n,Js)}function _0e(t){t._throwIfRoot("getDownloadURL");const e=r0e(t.storage,t._location,Hb());return t.storage.makeRequestWithTokens(e,Js).then(n=>{if(n===null)throw wge();return n})}function x0e(t){t._throwIfRoot("deleteObject");const e=o0e(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Js)}function w0e(t,e){const n=Wge(t._location.path,e),i=new rr(t._location.bucket,n);return new xd(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0e(t){return/^[A-Za-z]+:\/\//.test(t)}function E0e(t,e){return new xd(t,e)}function JV(t,e){if(t instanceof FD){const n=t;if(n._bucket==null)throw _ge();const i=new xd(n,n._bucket);return e!=null?JV(i,e):i}else return e!==void 0?w0e(t,e):t}function S0e(t,e){if(e&&T0e(e)){if(t instanceof FD)return E0e(t,e);throw M2("To use ref(service, url), the first argument must be a Storage instance.")}else return JV(t,e)}function _5(t,e){const n=e==null?void 0:e[UV];return n==null?null:rr.makeFromBucketSpec(n,t)}function k0e(t,e,n,i={}){t.host="".concat(e,":").concat(n);const r=bo(e);r&&(Sb("https://".concat(t.host,"/b")),kb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:LI(s,t.app.options.projectId))}class FD{constructor(e,n,i,r,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=BV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uge,this._maxUploadRetryTime=dge,this._requests=new Set,r!=null?this._bucket=rr.makeFromBucketSpec(r,this._host):this._bucket=_5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=_5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xd(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new Sge(jV());{const o=Nge(e,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const x5="@firebase/storage",w5="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="storage";function C0e(t,e,n){return t=Pe(t),m0e(t,e,n)}function RIe(t,e,n){return t=Pe(t),g0e(t,e,n)}function PIe(t){return t=Pe(t),v0e(t)}function OIe(t,e){return t=Pe(t),y0e(t,e)}function LIe(t,e){return t=Pe(t),b0e(t,e)}function A0e(t){return t=Pe(t),_0e(t)}function MIe(t){return t=Pe(t),x0e(t)}function I0e(t,e){return t=Pe(t),S0e(t,e)}function t$(t=Ab(),e){t=Pe(t);const i=Ap(t,e$).getImmediate({identifier:e}),r=i1("storage");return r&&D0e(i,...r),i}function D0e(t,e,n,i={}){k0e(t,e,n,i)}function R0e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new FD(n,i,r,e,eu)}function P0e(){ll(new ra(e$,R0e,"PUBLIC").setMultipleInstances(!0)),Dr(x5,w5,""),Dr(x5,w5,"esm2017")}P0e();var T5={};const E5="@firebase/database",S5="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n$="";function O0e(t){n$=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ri(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:T0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new L0e(e)}}catch(e){}return new M0e},ju=i$("localStorage"),N0e=i$("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new o1("@firebase/database"),B0e=function(){let t=1;return function(){return t++}}(),r$=function(t){const e=Ele(t),n=new _le;n.update(e);const i=n.digest();return OI.encodeByteArray(i)},qb=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=qb.apply(null,i):typeof i=="object"?e+=ri(i):e+=i,e+=" "}return e};let Fg=null,k5=!0;const U0e=function(t,e){_e(!e,"Can't turn on custom loggers persistently."),gf.logLevel=rt.VERBOSE,Fg=gf.log.bind(gf)},wi=function(...t){if(k5===!0&&(k5=!1,Fg===null&&N0e.get("logging_enabled")===!0&&U0e()),Fg){const e=qb.apply(null,t);Fg(e)}},Gb=function(t){return function(...e){wi(t,...e)}},B2=function(...t){const e="FIREBASE INTERNAL ERROR: "+qb(...t);gf.error(e)},fl=function(...t){const e="FIREBASE FATAL ERROR: ".concat(qb(...t));throw gf.error(e),new Error(e)},cr=function(...t){const e="FIREBASE WARNING: "+qb(...t);gf.warn(e)},F0e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},VD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},V0e=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qf="[MIN_NAME]",wd="[MAX_NAME]",$d=function(t,e){if(t===e)return 0;if(t===Qf||e===wd)return-1;if(e===Qf||t===wd)return 1;{const n=C5(t),i=C5(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},$0e=function(t,e){return t===e?0:t<e?-1:1},Mm=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ri(e))},$D=function(t){if(typeof t!="object"||t===null)return ri(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ri(e[i]),n+=":",n+=$D(t[e[i]]);return n+="}",n},s$=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ai(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const o$=function(t){_e(!VD(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},j0e=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},z0e=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function H0e(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const q0e=new RegExp("^-?(0*)\\d{1,10}$"),G0e=-2147483648,W0e=2147483647,C5=function(t){if(q0e.test(t)){const e=Number(t);if(e>=G0e&&e<=W0e)return e}return null},Fp=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw cr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Y0e=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vg=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){cr('Provided AppCheck credentials for the app named "'.concat(this.appName,'" are invalid. This usually indicates your app was not initialized correctly.'))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0e{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(wi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(e)}}class jy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="5",a$="v",l$="s",c$="r",u$="f",d$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,h$="ls",f$="p",U2="ac",p$="websocket",m$="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ju.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ju.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(n)}}function Q0e(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function b$(t,e,n){_e(typeof e=="string","typeof type must == string"),_e(typeof n=="object","typeof params must == object");let i;if(e===p$)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===m$)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Q0e(t)&&(n.ns=t.namespace);const r=[];return Ai(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(){this.counters_={}}incrementCounter(e,n=1){pa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nle(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={},oS={};function zD(t){const e=t.toString();return sS[e]||(sS[e]=new Z0e),sS[e]}function J0e(t,e){const n=t.toString();return oS[n]||(oS[n]=e()),oS[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ebe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Fp(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="start",tbe="close",nbe="pLPCommand",ibe="pRTLPCB",v$="id",y$="pw",_$="ser",rbe="cb",sbe="seg",obe="ts",abe="d",lbe="dframe",x$=1870,w$=30,cbe=x$-w$,ube=25e3,dbe=3e4;class qh{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gb(e),this.stats_=zD(n),this.urlFn=l=>(this.appCheckToken&&(l[U2]=this.appCheckToken),b$(n,m$,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ebe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dbe)),V0e(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HD((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===A5)this.id=a,this.password=l;else if(o===tbe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[A5]="t",i[_$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[rbe]=this.scriptTagHolder.uniqueCallbackIdentifier),i[a$]=jD,this.transportSessionId&&(i[l$]=this.transportSessionId),this.lastSessionId&&(i[h$]=this.lastSessionId),this.applicationId&&(i[f$]=this.applicationId),this.appCheckToken&&(i[U2]=this.appCheckToken),typeof location<"u"&&location.hostname&&d$.test(location.hostname)&&(i[c$]=u$);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qh.forceAllow_=!0}static forceDisallow(){qh.forceDisallow_=!0}static isAvailable(){return qh.forceAllow_?!0:!qh.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!j0e()&&!z0e()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ri(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=zU(n),r=s$(i,cbe);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[lbe]="t",i[v$]=e,i[y$]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ri(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class HD{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=B0e(),window[nbe+this.uniqueCallbackIdentifier]=e,window[ibe+this.uniqueCallbackIdentifier]=n,this.myIFrame=HD.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){wi("frame writing exception"),a.stack&&wi(a.stack),wi(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wi("No IE domain setting required")}catch(n){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[v$]=this.myID,e[y$]=this.myPW,e[_$]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+w$+i.length<=x$;){const o=this.pendingSegs.shift();i=i+"&"+sbe+r+"="+o.seg+"&"+obe+r+"="+o.ts+"&"+abe+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(ube)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{wi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hbe=16384,fbe=45e3;let vx=null;typeof MozWebSocket<"u"?vx=MozWebSocket:typeof WebSocket<"u"&&(vx=WebSocket);class eo{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gb(this.connId),this.stats_=zD(n),this.connURL=eo.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[a$]=jD,typeof location<"u"&&location.hostname&&d$.test(location.hostname)&&(o[c$]=u$),n&&(o[l$]=n),i&&(o[h$]=i),r&&(o[U2]=r),s&&(o[f$]=s),b$(e,p$,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ju.set("previous_websocket_failure",!0);try{let i;KU(),this.mySock=new vx(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){eo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&vx!==null&&!eo.forceDisallow_}static previouslyFailed(){return ju.isInMemoryStorage||ju.get("previous_websocket_failure")===!0}markConnectionHealthy(){ju.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=T0(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ri(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=s$(n,hbe);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fbe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eo.responsesRequiredToBeHealthy=2;eo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static get ALL_TRANSPORTS(){return[qh,eo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=eo&&eo.isAvailable();let i=n&&!eo.previouslyFailed();if(e.webSocketOnly&&(n||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[eo];else{const r=this.transports_=[];for(const s of B0.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);B0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}B0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pbe=6e4,mbe=5e3,gbe=10*1024,bbe=100*1024,aS="t",I5="d",vbe="s",D5="r",ybe="e",R5="o",P5="a",O5="n",L5="p",_be="h";class xbe{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gb("c:"+this.id+":"),this.transportManager_=new B0(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bbe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gbe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(aS in e){const n=e[aS];n===P5?this.upgradeIfSecondaryHealthy_():n===D5?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===R5&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mm("t",e),i=Mm("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:L5,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:P5,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:O5,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mm("t",e),i=Mm("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mm(aS,e);if(I5 in e){const i=e[I5];if(n===_be){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===O5){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vbe?this.onConnectionShutdown_(i):n===D5?this.onReset_(i):n===ybe?B2("Server Error: "+i):n===R5?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):B2("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jD!==i&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Vg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pbe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mbe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:L5,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ju.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.allowedEvents_=e,this.listeners_={},_e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){_e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends E${static getInstance(){return new yx}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!MI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=32,N5=768;class Dt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function bt(){return new Dt("")}function tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gc(t){return t.pieces_.length-t.pieceNum_}function Mt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Dt(t.pieces_,e)}function qD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wbe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function U0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function S$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Dt(e,0)}function dn(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Dt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Dt(n,0)}function ot(t){return t.pieceNum_>=t.pieces_.length}function Ar(t,e){const n=tt(t),i=tt(e);if(n===null)return e;if(n===i)return Ar(Mt(t),Mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Tbe(t,e){const n=U0(t,0),i=U0(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=$d(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function GD(t,e){if(Gc(t)!==Gc(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function As(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Gc(t)>Gc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Ebe{constructor(e,n){this.errorPrefix_=n,this.parts_=U0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=s1(this.parts_[i]);k$(this)}}function Sbe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=s1(e),k$(t)}function kbe(t){const e=t.parts_.pop();t.byteLength_-=s1(e),t.parts_.length>0&&(t.byteLength_-=1)}function k$(t){if(t.byteLength_>N5)throw new Error(t.errorPrefix_+"has a key path longer than "+N5+" bytes ("+t.byteLength_+").");if(t.parts_.length>M5)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+M5+") or object contains a cycle "+Du(t))}function Du(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD extends E${static getInstance(){return new WD}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return _e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=1e3,Cbe=60*5*1e3,B5=30*1e3,Abe=1.3,Ibe=3e4,Dbe="server_kill",U5=3;class el extends T${constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=el.nextPersistentConnectionId_++,this.log_=Gb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nm,this.maxReconnectDelay_=Cbe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!KU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WD.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yx.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(ri(s)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Eb,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;el.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pa(e,"w")){const i=$f(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();cr("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".concat(r," at ").concat(s," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yle(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=B5)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vle(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ri(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):B2("Unrecognized action received from server: "+ri(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ibe&&(this.reconnectDelay_=Nm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Abe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+el.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){_e(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?wi("getToken() completed but was canceled"):(wi("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new xbe(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{cr(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dbe)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&cr(d),l())}}}interrupt(e){wi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s2(this.interruptReasons_)&&(this.reconnectDelay_=Nm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>$D(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Dt(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){wi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=U5&&(this.reconnectDelay_=B5,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){wi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=U5&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+n$.replace(/\./g,"-")]=1,MI()?e["framework.cordova"]=1:XU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yx.getInstance().currentlyOnline();return s2(this.interruptReasons_)&&e}}el.nextPersistentConnectionId_=0;el.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new nt(Qf,e),r=new nt(Qf,n);return this.compare(i,r)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;class C$ extends z1{static get __EMPTY_NODE(){return ry}static set __EMPTY_NODE(e){ry=e}compare(e,n){return $d(e.name,n.name)}isDefinedOn(e){throw Cp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(wd,ry)}makePost(e,n){return _e(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,ry)}toString(){return".key"}}const bf=new C$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ei{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i!=null?i:ei.RED,this.left=r!=null?r:Ir.EMPTY_NODE,this.right=s!=null?s:Ir.EMPTY_NODE}copy(e,n,i,r,s){return new ei(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ir.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ei.RED=!0;ei.BLACK=!1;class Rbe{copy(e,n,i,r,s){return this}insert(e,n,i){return new ei(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ir{constructor(e,n=Ir.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ir(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ei.BLACK,null,null))}remove(e){return new Ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ei.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sy(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sy(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sy(this.root_,null,this.comparator_,!0,e)}}Ir.EMPTY_NODE=new Rbe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pbe(t,e){return $d(t.name,e.name)}function YD(t,e){return $d(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F2;function Obe(t){F2=t}const A$=function(t){return typeof t=="number"?"number:"+o$(t):"string:"+t},I$=function(t){if(t.isLeafNode()){const e=t.val();_e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pa(e,".sv"),"Priority must be a string or number.")}else _e(t===F2||t.isEmpty(),"priority of unexpected type.");_e(t===F2||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F5;class Qn{static set __childrenNodeConstructor(e){F5=e}static get __childrenNodeConstructor(){return F5}constructor(e,n=Qn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),I$(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ot(e)?this:tt(e)===".priority"?this.priorityNode_:Qn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Qn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=tt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(_e(i!==".priority"||Gc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Qn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+A$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=o$(this.value_):e+=this.value_,this.lazyHash_=r$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qn.__childrenNodeConstructor?-1:(_e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Qn.VALUE_TYPE_ORDER.indexOf(n),s=Qn.VALUE_TYPE_ORDER.indexOf(i);return _e(r>=0,"Unknown leaf type: "+n),_e(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Qn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D$,R$;function Lbe(t){D$=t}function Mbe(t){R$=t}class Nbe extends z1{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?$d(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(wd,new Qn("[PRIORITY-POST]",R$))}makePost(e,n){const i=D$(e);return new nt(n,new Qn("[PRIORITY-POST]",i))}toString(){return".priority"}}const pn=new Nbe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bbe=Math.log(2);class Ube{constructor(e){const n=s=>parseInt(Math.log(s)/Bbe,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _x=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new ei(h,d.node,ei.BLACK,null,null);{const m=parseInt(u/2,10)+l,b=r(l,m),g=r(m+1,c);return d=t[m],h=n?n(d):d,new ei(h,d.node,ei.BLACK,b,g)}},s=function(l){let c=null,u=null,d=t.length;const h=function(b,g){const w=d-b,y=d;d-=b;const T=r(w+1,y),k=t[w],D=n?n(k):k;m(new ei(D,k.node,g,null,T))},m=function(b){c?(c.left=b,c=b):(u=b,c=b)};for(let b=0;b<l.count;++b){const g=l.nextBitIsOne(),w=Math.pow(2,l.count-(b+1));g?h(w,ei.BLACK):(h(w,ei.BLACK),h(w,ei.RED))}return u},o=new Ube(t.length),a=s(o);return new Ir(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lS;const mh={};class Ka{static get Default(){return _e(mh&&pn,"ChildrenNode.ts has not been loaded"),lS=lS||new Ka({".priority":mh},{".priority":pn}),lS}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=$f(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ir?n:null}hasIndex(e){return pa(this.indexSet_,e.toString())}addIndex(e,n){_e(e!==bf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(nt.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=_x(i,e.getCompare()):a=mh;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ka(u,c)}addToIndexes(e,n){const i=W_(this.indexes_,(r,s)=>{const o=$f(this.indexSet_,s);if(_e(o,"Missing index implementation for "+s),r===mh)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(nt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),_x(a,o.getCompare())}else return mh;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new nt(e.name,a))),l.insert(e,e.node)}});return new Ka(i,this.indexSet_)}removeFromIndexes(e,n){const i=W_(this.indexes_,r=>{if(r===mh)return r;{const s=n.get(e.name);return s?r.remove(new nt(e.name,s)):r}});return new Ka(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm;class Ue{static get EMPTY_NODE(){return Bm||(Bm=new Ue(new Ir(YD),null,Ka.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&I$(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bm}updatePriority(e){return this.children_.isEmpty()?this:new Ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bm:n}}getChild(e){const n=tt(e);return n===null?this:this.getImmediateChild(n).getChild(Mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(_e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new nt(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Bm:this.priorityNode_;return new Ue(r,o,s)}}updateChild(e,n){const i=tt(e);if(i===null)return n;{_e(tt(e)!==".priority"||Gc(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Mt(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(pn,(o,a)=>{n[o]=a.val(e),i++,s&&Ue.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+A$(this.getPriority().val())+":"),this.forEachChild(pn,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":r$(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new nt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,nt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wb?-1:0}withIndex(e){if(e===bf||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===bf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(pn),r=n.getIterator(pn);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===bf?null:this.indexMap_.get(e.toString())}}Ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Fbe extends Ue{constructor(){super(new Ir(YD),Ue.EMPTY_NODE,Ka.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ue.EMPTY_NODE}isEmpty(){return!1}}const Wb=new Fbe;Object.defineProperties(nt,{MIN:{value:new nt(Qf,Ue.EMPTY_NODE)},MAX:{value:new nt(wd,Wb)}});C$.__EMPTY_NODE=Ue.EMPTY_NODE;Qn.__childrenNodeConstructor=Ue;Obe(Wb);Mbe(Wb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vbe=!0;function ii(t,e=null){if(t===null)return Ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Qn(n,ii(e))}if(!(t instanceof Array)&&Vbe){const n=[];let i=!1;if(Ai(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ii(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new nt(o,l)))}}),n.length===0)return Ue.EMPTY_NODE;const s=_x(n,Pbe,o=>o.name,YD);if(i){const o=_x(n,pn.getCompare());return new Ue(s,ii(e),new Ka({".priority":o},{".priority":pn}))}else return new Ue(s,ii(e),Ka.Default)}else{let n=Ue.EMPTY_NODE;return Ai(t,(i,r)=>{if(pa(t,i)&&i.substring(0,1)!=="."){const s=ii(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(ii(e))}}Lbe(ii);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $be extends z1{constructor(e){super(),this.indexPath_=e,_e(!ot(e)&&tt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?$d(e.name,n.name):s}makePost(e,n){const i=ii(e),r=Ue.EMPTY_NODE.updateChild(this.indexPath_,i);return new nt(n,r)}maxPost(){const e=Ue.EMPTY_NODE.updateChild(this.indexPath_,Wb);return new nt(wd,e)}toString(){return U0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jbe extends z1{compare(e,n){const i=e.node.compareTo(n.node);return i===0?$d(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,n){const i=ii(e);return new nt(n,i)}toString(){return".value"}}const zbe=new jbe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){return{type:"value",snapshotNode:t}}function Zf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function F0(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function V0(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Hbe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){_e(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(F0(n,a)):_e(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Zf(n,i)):o.trackChildChange(V0(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(pn,(r,s)=>{n.hasChild(r)||i.trackChildChange(F0(r,s))}),n.isLeafNode()||n.forEachChild(pn,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(V0(r,s,o))}else i.trackChildChange(Zf(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.indexedFilter_=new XD(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$0.getStartPost_(e),this.endPost_=$0.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new nt(n,i))||(i=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Ue.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(Ue.EMPTY_NODE);const s=this;return n.forEachChild(pn,(o,a)=>{s.matches(new nt(o,a))||(r=r.updateImmediateChild(o,Ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qbe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new $0(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new nt(n,i))||(i=Ue.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=Ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=Ue.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(Ue.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,m)=>d(m,h)}else o=this.index_.getCompare();const a=e;_e(a.numChildren()===this.limit_,"");const l=new nt(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const m=h==null?1:o(h,l);if(u&&!i.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(V0(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(F0(n,d));const g=a.updateImmediateChild(n,Ue.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Zf(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(F0(c.name,c.node)),s.trackChildChange(Zf(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,Ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qf}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const e=new KD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Gbe(t){return t.loadsAllData()?new XD(t.getIndex()):t.hasLimit()?new qbe(t):new $0(t)}function V5(t){const e={};if(t.isDefault())return e;let n;if(t.index_===pn?n="$priority":t.index_===zbe?n="$value":t.index_===bf?n="$key":(_e(t.index_ instanceof $be,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ri(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ri(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ri(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ri(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ri(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $5(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends T${reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Gb("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=xx.getListenId_(e,i),a={};this.listens_[o]=a;const l=V5(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),$f(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=xx.getListenId_(e,n);delete this.listens_[i]}get(e){const n=V5(e._queryParams),i=e._path.toString(),r=new Eb;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bd(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=T0(a.responseText)}catch(c){cr("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&cr("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wbe{constructor(){this.rootNode_=Ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return{value:null,children:new Map}}function O$(t,e,n){if(ot(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=tt(e);t.children.has(i)||t.children.set(i,wx());const r=t.children.get(i);e=Mt(e),O$(r,e,n)}}function V2(t,e,n){t.value!==null?n(e,t.value):Ybe(t,(i,r)=>{const s=new Dt(e.toString()+"/"+i);V2(r,s,n)})}function Ybe(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xbe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ai(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=10*1e3,Kbe=30*1e3,Qbe=5*60*1e3;class Zbe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xbe(e);const i=j5+(Kbe-j5)*Math.random();Vg(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ai(e,(r,s)=>{s>0&&pa(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Vg(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qbe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(no||(no={}));function QD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ZD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function JD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=no.ACK_USER_WRITE,this.source=QD()}operationForChild(e){if(ot(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Dt(e));return new Tx(bt(),n,this.revert)}}else return _e(tt(this.path)===e,"operationForChild called for unrelated child."),new Tx(Mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.source=e,this.path=n,this.type=no.LISTEN_COMPLETE}operationForChild(e){return ot(this.path)?new j0(this.source,bt()):new j0(this.source,Mt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=no.OVERWRITE}operationForChild(e){return ot(this.path)?new Td(this.source,bt(),this.snap.getImmediateChild(e)):new Td(this.source,Mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=no.MERGE}operationForChild(e){if(ot(this.path)){const n=this.children.subtree(new Dt(e));return n.isEmpty()?null:n.value?new Td(this.source,bt(),n.value):new Jf(this.source,bt(),n)}else return _e(tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jf(this.source,Mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ot(e))return this.isFullyInitialized()&&!this.filtered_;const n=tt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jbe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eve(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Hbe(o.childName,o.snapshotNode))}),Um(t,r,"child_removed",e,i,n),Um(t,r,"child_added",e,i,n),Um(t,r,"child_moved",s,i,n),Um(t,r,"child_changed",e,i,n),Um(t,r,"value",e,i,n),r}function Um(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>nve(t,a,l)),o.forEach(a=>{const l=tve(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function tve(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function nve(t,e,n){if(e.childName==null||n.childName==null)throw Cp("Should only compare child_ events.");const i=new nt(e.childName,e.snapshotNode),r=new nt(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e){return{eventCache:t,serverCache:e}}function $g(t,e,n,i){return H1(new Ed(e,n,i),t.serverCache)}function L$(t,e,n,i){return H1(t.eventCache,new Ed(e,n,i))}function $2(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sd(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS;const ive=()=>(cS||(cS=new Ir($0e)),cS);class Lt{static fromObject(e){let n=new Lt(null);return Ai(e,(i,r)=>{n=n.set(new Dt(i),r)}),n}constructor(e,n=ive()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:bt(),value:this.value};if(ot(e))return null;{const i=tt(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Mt(e),n);return s!=null?{path:dn(new Dt(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ot(e))return this;{const n=tt(e),i=this.children.get(n);return i!==null?i.subtree(Mt(e)):new Lt(null)}}set(e,n){if(ot(e))return new Lt(n,this.children);{const i=tt(e),s=(this.children.get(i)||new Lt(null)).set(Mt(e),n),o=this.children.insert(i,s);return new Lt(this.value,o)}}remove(e){if(ot(e))return this.children.isEmpty()?new Lt(null):new Lt(null,this.children);{const n=tt(e),i=this.children.get(n);if(i){const r=i.remove(Mt(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Lt(null):new Lt(this.value,s)}else return this}}get(e){if(ot(e))return this.value;{const n=tt(e),i=this.children.get(n);return i?i.get(Mt(e)):null}}setTree(e,n){if(ot(e))return n;{const i=tt(e),s=(this.children.get(i)||new Lt(null)).setTree(Mt(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Lt(this.value,o)}}fold(e){return this.fold_(bt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(dn(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,bt(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ot(e))return null;{const s=tt(e),o=this.children.get(s);return o?o.findOnPath_(Mt(e),dn(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,bt(),n)}foreachOnPath_(e,n,i){if(ot(e))return this;{this.value&&i(n,this.value);const r=tt(e),s=this.children.get(r);return s?s.foreachOnPath_(Mt(e),dn(n,r),i):new Lt(null)}}foreach(e){this.foreach_(bt(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(dn(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.writeTree_=e}static empty(){return new so(new Lt(null))}}function jg(t,e,n){if(ot(e))return new so(new Lt(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Ar(r,e);return s=s.updateChild(o,n),new so(t.writeTree_.set(r,s))}else{const r=new Lt(n),s=t.writeTree_.setTree(e,r);return new so(s)}}}function j2(t,e,n){let i=t;return Ai(n,(r,s)=>{i=jg(i,dn(e,r),s)}),i}function z5(t,e){if(ot(e))return so.empty();{const n=t.writeTree_.setTree(e,new Lt(null));return new so(n)}}function z2(t,e){return jd(t,e)!=null}function jd(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ar(n.path,e)):null}function H5(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pn,(i,r)=>{e.push(new nt(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new nt(i,r.value))}),e}function Cc(t,e){if(ot(e))return t;{const n=jd(t,e);return n!=null?new so(new Lt(n)):new so(t.writeTree_.subtree(e))}}function H2(t){return t.writeTree_.isEmpty()}function ep(t,e){return M$(bt(),t.writeTree_,e)}function M$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(_e(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=M$(dn(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(dn(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e){return F$(e,t)}function rve(t,e,n,i,r){_e(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=jg(t.visibleWrites,e,n)),t.lastWriteId=i}function sve(t,e,n,i){_e(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=j2(t.visibleWrites,e,n),t.lastWriteId=i}function ove(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function ave(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);_e(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&lve(a,i.path)?r=!1:As(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return cve(t),!0;if(i.snap)t.visibleWrites=z5(t.visibleWrites,i.path);else{const a=i.children;Ai(a,l=>{t.visibleWrites=z5(t.visibleWrites,dn(i.path,l))})}return!0}else return!1}function lve(t,e){if(t.snap)return As(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&As(dn(t.path,n),e))return!0;return!1}function cve(t){t.visibleWrites=N$(t.allWrites,uve,bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function uve(t){return t.visible}function N$(t,e,n){let i=so.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)As(n,o)?(a=Ar(n,o),i=jg(i,a,s.snap)):As(o,n)&&(a=Ar(o,n),i=jg(i,bt(),s.snap.getChild(a)));else if(s.children){if(As(n,o))a=Ar(n,o),i=j2(i,a,s.children);else if(As(o,n))if(a=Ar(o,n),ot(a))i=j2(i,bt(),s.children);else{const l=$f(s.children,tt(a));if(l){const c=l.getChild(Mt(a));i=jg(i,bt(),c)}}}else throw Cp("WriteRecord should have .snap or .children")}}return i}function B$(t,e,n,i,r){if(!i&&!r){const s=jd(t.visibleWrites,e);if(s!=null)return s;{const o=Cc(t.visibleWrites,e);if(H2(o))return n;if(n==null&&!z2(o,bt()))return null;{const a=n||Ue.EMPTY_NODE;return ep(o,a)}}}else{const s=Cc(t.visibleWrites,e);if(!r&&H2(s))return n;if(!r&&n==null&&!z2(s,bt()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(As(c.path,e)||As(e,c.path))},a=N$(t.allWrites,o,e),l=n||Ue.EMPTY_NODE;return ep(a,l)}}}function dve(t,e,n){let i=Ue.EMPTY_NODE;const r=jd(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(pn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Cc(t.visibleWrites,e);return n.forEachChild(pn,(o,a)=>{const l=ep(Cc(s,new Dt(o)),a);i=i.updateImmediateChild(o,l)}),H5(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Cc(t.visibleWrites,e);return H5(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function hve(t,e,n,i,r){_e(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=dn(e,n);if(z2(t.visibleWrites,s))return null;{const o=Cc(t.visibleWrites,s);return H2(o)?r.getChild(n):ep(o,r.getChild(n))}}function fve(t,e,n,i){const r=dn(e,n),s=jd(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Cc(t.visibleWrites,r);return ep(o,i.getNode().getImmediateChild(n))}else return null}function pve(t,e){return jd(t.visibleWrites,e)}function mve(t,e,n,i,r,s,o){let a;const l=Cc(t.visibleWrites,e),c=jd(l,bt());if(c!=null)a=c;else if(n!=null)a=ep(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let m=h.getNext();for(;m&&u.length<r;)d(m,i)!==0&&u.push(m),m=h.getNext();return u}else return[]}function gve(){return{visibleWrites:so.empty(),allWrites:[],lastWriteId:-1}}function Ex(t,e,n,i){return B$(t.writeTree,t.treePath,e,n,i)}function tR(t,e){return dve(t.writeTree,t.treePath,e)}function q5(t,e,n,i){return hve(t.writeTree,t.treePath,e,n,i)}function Sx(t,e){return pve(t.writeTree,dn(t.treePath,e))}function bve(t,e,n,i,r,s){return mve(t.writeTree,t.treePath,e,n,i,r,s)}function nR(t,e,n){return fve(t.writeTree,t.treePath,e,n)}function U$(t,e){return F$(dn(t.treePath,e),t.writeTree)}function F$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vve{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;_e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_e(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,V0(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,F0(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Zf(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,V0(i,e.snapshotNode,r.oldSnap));else throw Cp("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yve{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const V$=new yve;class iR{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ed(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nR(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sd(this.viewCache_),s=bve(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ve(t){return{filter:t}}function xve(t,e){_e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function wve(t,e,n,i,r){const s=new vve;let o,a;if(n.type===no.OVERWRITE){const c=n;c.source.fromUser?o=q2(t,e,c.path,c.snap,i,r,s):(_e(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ot(c.path),o=kx(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===no.MERGE){const c=n;c.source.fromUser?o=Eve(t,e,c.path,c.children,i,r,s):(_e(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=G2(t,e,c.path,c.children,i,r,a,s))}else if(n.type===no.ACK_USER_WRITE){const c=n;c.revert?o=Cve(t,e,c.path,i,r,s):o=Sve(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===no.LISTEN_COMPLETE)o=kve(t,e,n.path,i,s);else throw Cp("Unknown operation type: "+n.type);const l=s.getChanges();return Tve(e,o,l),{viewCache:o,changes:l}}function Tve(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=$2(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(P$($2(e)))}}function $$(t,e,n,i,r,s){const o=e.eventCache;if(Sx(i,n)!=null)return e;{let a,l;if(ot(n))if(_e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sd(e),u=c instanceof Ue?c:Ue.EMPTY_NODE,d=tR(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Ex(i,Sd(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=tt(n);if(c===".priority"){_e(Gc(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=q5(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Mt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=q5(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=nR(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return $g(e,a,o.isFullyInitialized()||ot(n),t.filter.filtersNodes())}}function kx(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ot(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),m,null)}else{const m=tt(n);if(!l.isCompleteForPath(n)&&Gc(n)>1)return e;const b=Mt(n),w=l.getNode().getImmediateChild(m).updateChild(b,i);m===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),m,w,b,V$,null)}const d=L$(e,c,l.isFullyInitialized()||ot(n),u.filtersNodes()),h=new iR(r,d,s);return $$(t,d,n,r,h,a)}function q2(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new iR(r,e,s);if(ot(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=$g(e,c,!0,t.filter.filtersNodes());else{const d=tt(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=$g(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Mt(n),m=a.getNode().getImmediateChild(d);let b;if(ot(h))b=i;else{const g=u.getCompleteChild(d);g!=null?qD(h)===".priority"&&g.getChild(S$(h)).isEmpty()?b=g:b=g.updateChild(h,i):b=Ue.EMPTY_NODE}if(m.equals(b))l=e;else{const g=t.filter.updateChild(a.getNode(),d,b,h,u,o);l=$g(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function G5(t,e){return t.eventCache.isCompleteForChild(e)}function Eve(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=dn(n,l);G5(e,tt(u))&&(a=q2(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=dn(n,l);G5(e,tt(u))||(a=q2(t,a,u,c,r,s,o))}),a}function W5(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function G2(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ot(n)?c=i:c=new Lt(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),b=W5(t,m,h);l=kx(t,l,new Dt(d),b,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!m){const b=e.serverCache.getNode().getImmediateChild(d),g=W5(t,b,h);l=kx(t,l,new Dt(d),g,r,s,o,a)}}),l}function Sve(t,e,n,i,r,s,o){if(Sx(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ot(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kx(t,e,n,l.getNode().getChild(n),r,s,a,o);if(ot(n)){let c=new Lt(null);return l.getNode().forEachChild(bf,(u,d)=>{c=c.set(new Dt(u),d)}),G2(t,e,n,c,r,s,a,o)}else return e}else{let c=new Lt(null);return i.foreach((u,d)=>{const h=dn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),G2(t,e,n,c,r,s,a,o)}}function kve(t,e,n,i,r){const s=e.serverCache,o=L$(e,s.getNode(),s.isFullyInitialized()||ot(n),s.isFiltered());return $$(t,o,n,i,V$,r)}function Cve(t,e,n,i,r,s){let o;if(Sx(i,n)!=null)return e;{const a=new iR(i,e,r),l=e.eventCache.getNode();let c;if(ot(n)||tt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ex(i,Sd(e));else{const d=e.serverCache.getNode();_e(d instanceof Ue,"serverChildren would be complete if leaf node"),u=tR(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=tt(n);let d=nR(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Mt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ue.EMPTY_NODE,Mt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ex(i,Sd(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Sx(i,bt())!=null,$g(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ave{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new XD(i.getIndex()),s=Gbe(i);this.processor_=_ve(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(Ue.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ue.EMPTY_NODE,a.getNode(),null),u=new Ed(l,o.isFullyInitialized(),r.filtersNodes()),d=new Ed(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=H1(d,u),this.eventGenerator_=new Jbe(this.query_)}get query(){return this.query_}}function Ive(t){return t.viewCache_.serverCache.getNode()}function Dve(t,e){const n=Sd(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ot(e)&&!n.getImmediateChild(tt(e)).isEmpty())?n.getChild(e):null}function Y5(t){return t.eventRegistrations_.length===0}function Rve(t,e){t.eventRegistrations_.push(e)}function X5(t,e,n){const i=[];if(n){_e(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function K5(t,e,n,i){e.type===no.MERGE&&e.source.queryId!==null&&(_e(Sd(t.viewCache_),"We should always have a full cache before handling merges"),_e($2(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=wve(t.processor_,r,e,n,i);return xve(t.processor_,s.viewCache),_e(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,j$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Pve(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pn,(s,o)=>{i.push(Zf(s,o))}),n.isFullyInitialized()&&i.push(P$(n.getNode())),j$(t,i,n.getNode(),e)}function j$(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return eve(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cx;class Ove{constructor(){this.views=new Map}}function Lve(t){_e(!Cx,"__referenceConstructor has already been defined"),Cx=t}function Mve(){return _e(Cx,"Reference.ts has not been loaded"),Cx}function Nve(t){return t.views.size===0}function rR(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return _e(s!=null,"SyncTree gave us an op for an invalid query."),K5(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(K5(o,e,n,i));return s}}function Bve(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Ex(n,r?i:null),l=!1;a?l=!0:i instanceof Ue?(a=tR(n,i),l=!1):(a=Ue.EMPTY_NODE,l=!1);const c=H1(new Ed(a,l,!1),new Ed(i,r,!1));return new Ave(e,c)}return o}function Uve(t,e,n,i,r,s){const o=Bve(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Rve(o,n),Pve(o,n)}function Fve(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Wc(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(X5(c,n,i)),Y5(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(X5(l,n,i)),Y5(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Wc(t)&&s.push(new(Mve())(e._repo,e._path)),{removed:s,events:o}}function z$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vf(t,e){let n=null;for(const i of t.views.values())n=n||Dve(i,e);return n}function H$(t,e){if(e._queryParams.loadsAllData())return q1(t);{const i=e._queryIdentifier;return t.views.get(i)}}function q$(t,e){return H$(t,e)!=null}function Wc(t){return q1(t)!=null}function q1(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ax;function Vve(t){_e(!Ax,"__referenceConstructor has already been defined"),Ax=t}function $ve(){return _e(Ax,"Reference.ts has not been loaded"),Ax}let jve=1;class Q5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Lt(null),this.pendingWriteTree_=gve(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function G$(t,e,n,i,r){return rve(t.pendingWriteTree_,e,n,i,r),r?Vp(t,new Td(QD(),e,n)):[]}function zve(t,e,n,i){sve(t.pendingWriteTree_,e,n,i);const r=Lt.fromObject(n);return Vp(t,new Jf(QD(),e,r))}function cc(t,e,n=!1){const i=ove(t.pendingWriteTree_,e);if(ave(t.pendingWriteTree_,e)){let s=new Lt(null);return i.snap!=null?s=s.set(bt(),!0):Ai(i.children,o=>{s=s.set(new Dt(o),!0)}),Vp(t,new Tx(i.path,s,n))}else return[]}function G1(t,e,n){return Vp(t,new Td(ZD(),e,n))}function Hve(t,e,n){const i=Lt.fromObject(n);return Vp(t,new Jf(ZD(),e,i))}function qve(t,e){return Vp(t,new j0(ZD(),e))}function Gve(t,e,n){const i=oR(t,n);if(i){const r=aR(i),s=r.path,o=r.queryId,a=Ar(s,e),l=new j0(JD(o),a);return lR(t,s,l)}else return[]}function W2(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||q$(o,e))){const l=Fve(o,e,n,i);Nve(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,m)=>Wc(m));if(u&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const m=Xve(h);for(let b=0;b<m.length;++b){const g=m[b],w=g.query,y=X$(t,g);t.listenProvider_.startListening(zg(w),Ix(t,w),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(zg(e),null):c.forEach(h=>{const m=t.queryToTagMap.get(W1(h));t.listenProvider_.stopListening(zg(h),m)}))}Kve(t,c)}return a}function Wve(t,e,n,i){const r=oR(t,i);if(r!=null){const s=aR(r),o=s.path,a=s.queryId,l=Ar(o,e),c=new Td(JD(a),l,n);return lR(t,o,c)}else return[]}function Yve(t,e,n,i){const r=oR(t,i);if(r){const s=aR(r),o=s.path,a=s.queryId,l=Ar(o,e),c=Lt.fromObject(n),u=new Jf(JD(a),l,c);return lR(t,o,u)}else return[]}function Z5(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,m)=>{const b=Ar(h,r);s=s||vf(m,b),o=o||Wc(m)});let a=t.syncPointTree_.get(r);a?(o=o||Wc(a),s=s||vf(a,bt())):(a=new Ove,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=Ue.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((m,b)=>{const g=vf(b,bt());g&&(s=s.updateImmediateChild(m,g))}));const c=q$(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=W1(e);_e(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const m=Qve();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}const u=eR(t.pendingWriteTree_,r);let d=Uve(a,e,n,u,s,l);if(!c&&!o&&!i){const h=H$(a,e);d=d.concat(Zve(t,e,h))}return d}function sR(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ar(o,e),c=vf(a,l);if(c)return c});return B$(r,e,s,n,!0)}function Vp(t,e){return W$(e,t.syncPointTree_,null,eR(t.pendingWriteTree_,bt()))}function W$(t,e,n,i){if(ot(t.path))return Y$(t,e,n,i);{const r=e.get(bt());n==null&&r!=null&&(n=vf(r,bt()));let s=[];const o=tt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=U$(i,o);s=s.concat(W$(a,l,c,u))}return r&&(s=s.concat(rR(r,t,i,n))),s}}function Y$(t,e,n,i){const r=e.get(bt());n==null&&r!=null&&(n=vf(r,bt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=U$(i,o),u=t.operationForChild(o);u&&(s=s.concat(Y$(u,a,l,c)))}),r&&(s=s.concat(rR(r,t,i,n))),s}function X$(t,e){const n=e.query,i=Ix(t,n);return{hashFn:()=>(Ive(e)||Ue.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?Gve(t,n._path,i):qve(t,n._path);{const s=H0e(r,n);return W2(t,n,null,s)}}}}function Ix(t,e){const n=W1(e);return t.queryToTagMap.get(n)}function W1(t){return t._path.toString()+"$"+t._queryIdentifier}function oR(t,e){return t.tagToQueryMap.get(e)}function aR(t){const e=t.indexOf("$");return _e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Dt(t.substr(0,e))}}function lR(t,e,n){const i=t.syncPointTree_.get(e);_e(i,"Missing sync point for query tag that we're tracking");const r=eR(t.pendingWriteTree_,e);return rR(i,n,r,null)}function Xve(t){return t.fold((e,n,i)=>{if(n&&Wc(n))return[q1(n)];{let r=[];return n&&(r=z$(n)),Ai(i,(s,o)=>{r=r.concat(o)}),r}})}function zg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($ve())(t._repo,t._path):t}function Kve(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=W1(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function Qve(){return jve++}function Zve(t,e,n){const i=e._path,r=Ix(t,e),s=X$(t,n),o=t.listenProvider_.startListening(zg(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)_e(!Wc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ot(c)&&u&&Wc(u))return[q1(u).query];{let h=[];return u&&(h=h.concat(z$(u).map(m=>m.query))),Ai(d,(m,b)=>{h=h.concat(b)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(zg(u),Ix(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new cR(n)}node(){return this.node_}}class uR{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=dn(this.path_,e);return new uR(this.syncTree_,n)}node(){return sR(this.syncTree_,this.path_)}}const Jve=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},J5=function(t,e,n){if(!t||typeof t!="object")return t;if(_e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eye(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tye(t[".sv"],e);_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eye=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_e(!1,"Unexpected server value: "+t)}},tye=function(t,e,n){t.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&_e(!1,"Unexpected increment value: "+i);const r=e.node();if(_e(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},K$=function(t,e,n,i){return dR(e,new uR(n,t),i)},Q$=function(t,e,n){return dR(t,new cR(e),n)};function dR(t,e,n){const i=t.getPriority().val(),r=J5(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=J5(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Qn(a,ii(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Qn(r))),o.forEachChild(pn,(a,l)=>{const c=dR(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function fR(t,e){let n=e instanceof Dt?e:new Dt(e),i=t,r=tt(n);for(;r!==null;){const s=$f(i.node.children,r)||{children:{},childCount:0};i=new hR(r,i,s),n=Mt(n),r=tt(n)}return i}function $p(t){return t.node.value}function Z$(t,e){t.node.value=e,Y2(t)}function J$(t){return t.node.childCount>0}function nye(t){return $p(t)===void 0&&!J$(t)}function Y1(t,e){Ai(t.node.children,(n,i)=>{e(new hR(n,t,i))})}function ej(t,e,n,i){n&&!i&&e(t),Y1(t,r=>{ej(r,e,!0,i)}),n&&i&&e(t)}function iye(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Yb(t){return new Dt(t.parent===null?t.name:Yb(t.parent)+"/"+t.name)}function Y2(t){t.parent!==null&&rye(t.parent,t.name,t)}function rye(t,e,n){const i=nye(n),r=pa(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Y2(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Y2(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sye=/[\[\].#$\/\u0000-\u001F\u007F]/,oye=/[\[\].#$\u0000-\u001F\u007F]/,uS=10*1024*1024,pR=function(t){return typeof t=="string"&&t.length!==0&&!sye.test(t)},tj=function(t){return typeof t=="string"&&t.length!==0&&!oye.test(t)},aye=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tj(t)},lye=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!VD(t)||t&&typeof t=="object"&&pa(t,".sv")},cye=function(t,e,n,i){X1(r1(t,"value"),e,n)},X1=function(t,e,n){const i=n instanceof Dt?new Ebe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Du(i));if(typeof e=="function")throw new Error(t+"contains a function "+Du(i)+" with contents = "+e.toString());if(VD(e))throw new Error(t+"contains "+e.toString()+" "+Du(i));if(typeof e=="string"&&e.length>uS/3&&s1(e)>uS)throw new Error(t+"contains a string greater than "+uS+" utf8 bytes "+Du(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Ai(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!pR(o)))throw new Error(t+" contains an invalid key ("+o+") "+Du(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Sbe(i,o),X1(t,a,i),kbe(i)}),r&&s)throw new Error(t+' contains ".value" child '+Du(i)+" in addition to actual children.")}},uye=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=U0(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!pR(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}}e.sort(Tbe);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&As(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},dye=function(t,e,n,i){const r=r1(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ai(e,(o,a)=>{const l=new Dt(o);if(X1(r,a,dn(n,l)),qD(l)===".priority"&&!lye(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),uye(r,s)},nj=function(t,e,n,i){if(!tj(n))throw new Error(r1(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hye=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nj(t,e,n)},ij=function(t,e){if(tt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},fye=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!pR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aye(n))throw new Error(r1(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function K1(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!GD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function rj(t,e,n){K1(t,n),sj(t,i=>GD(i,e))}function fo(t,e,n){K1(t,n),sj(t,i=>As(i,e)||As(e,i))}function sj(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(mye(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function mye(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Fg&&wi("event: "+n.toString()),Fp(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gye="repo_interrupt",bye=25;class vye{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wx(),this.transactionQueueTree_=new hR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yye(t,e,n){if(t.stats_=zD(t.repoInfo_),t.forceRestClient_||Y0e())t.server_=new xx(t.repoInfo_,(i,r,s,o)=>{eM(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tM(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ri(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new el(t.repoInfo_,e,(i,r,s,o)=>{eM(t,i,r,s,o)},i=>{tM(t,i)},i=>{xye(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=J0e(t.repoInfo_,()=>new Zbe(t.stats_,t.server_)),t.infoData_=new Wbe,t.infoSyncTree_=new Q5({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=G1(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),mR(t,"connected",!1),t.serverSyncTree_=new Q5({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);fo(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function _ye(t){const n=t.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Q1(t){return Jve({timestamp:_ye(t)})}function eM(t,e,n,i,r){t.dataUpdateCount++;const s=new Dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=W_(n,c=>ii(c));o=Yve(t.serverSyncTree_,s,l,r)}else{const l=ii(n);o=Wve(t.serverSyncTree_,s,l,r)}else if(i){const l=W_(n,c=>ii(c));o=Hve(t.serverSyncTree_,s,l)}else{const l=ii(n);o=G1(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=tp(t,s)),fo(t.eventQueue_,a,o)}function tM(t,e){mR(t,"connected",e),e===!1&&Eye(t)}function xye(t,e){Ai(e,(n,i)=>{mR(t,n,i)})}function mR(t,e,n){const i=new Dt("/.info/"+e),r=ii(n);t.infoData_.updateSnapshot(i,r);const s=G1(t.infoSyncTree_,i,r);fo(t.eventQueue_,i,s)}function gR(t){return t.nextWriteId_++}function wye(t,e,n,i,r){Z1(t,"set",{path:e.toString(),value:n,priority:i});const s=Q1(t),o=ii(n,i),a=sR(t.serverSyncTree_,e),l=Q$(o,a,s),c=gR(t),u=G$(t.serverSyncTree_,e,l,c,!0);K1(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,m)=>{const b=h==="ok";b||cr("set at "+e+" failed: "+h);const g=cc(t.serverSyncTree_,c,!b);fo(t.eventQueue_,e,g),X2(t,r,h,m)});const d=vR(t,e);tp(t,d),fo(t.eventQueue_,d,[])}function Tye(t,e,n,i){Z1(t,"update",{path:e.toString(),value:n});let r=!0;const s=Q1(t),o={};if(Ai(n,(a,l)=>{r=!1,o[a]=K$(dn(e,a),ii(l),t.serverSyncTree_,s)}),r)wi("update() called with empty data.  Don't do anything."),X2(t,i,"ok",void 0);else{const a=gR(t),l=zve(t.serverSyncTree_,e,o,a);K1(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||cr("update at "+e+" failed: "+c);const h=cc(t.serverSyncTree_,a,!d),m=h.length>0?tp(t,e):e;fo(t.eventQueue_,m,h),X2(t,i,c,u)}),Ai(n,c=>{const u=vR(t,dn(e,c));tp(t,u)}),fo(t.eventQueue_,e,[])}}function Eye(t){Z1(t,"onDisconnectEvents");const e=Q1(t),n=wx();V2(t.onDisconnect_,bt(),(r,s)=>{const o=K$(r,s,t.serverSyncTree_,e);O$(n,r,o)});let i=[];V2(n,bt(),(r,s)=>{i=i.concat(G1(t.serverSyncTree_,r,s));const o=vR(t,r);tp(t,o)}),t.onDisconnect_=wx(),fo(t.eventQueue_,bt(),i)}function Sye(t,e,n){let i;tt(e._path)===".info"?i=Z5(t.infoSyncTree_,e,n):i=Z5(t.serverSyncTree_,e,n),rj(t.eventQueue_,e._path,i)}function oj(t,e,n){let i;tt(e._path)===".info"?i=W2(t.infoSyncTree_,e,n):i=W2(t.serverSyncTree_,e,n),rj(t.eventQueue_,e._path,i)}function kye(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gye)}function Z1(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),wi(n,...e)}function X2(t,e,n,i){e&&Fp(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function aj(t,e,n){return sR(t.serverSyncTree_,e,n)||Ue.EMPTY_NODE}function bR(t,e=t.transactionQueueTree_){if(e||J1(t,e),$p(e)){const n=cj(t,e);_e(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&Cye(t,Yb(e),n)}else J$(e)&&Y1(e,n=>{bR(t,n)})}function Cye(t,e,n){const i=n.map(c=>c.currentWriteId),r=aj(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];_e(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ar(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Z1(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(cc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();J1(t,fR(t.transactionQueueTree_,e)),bR(t,t.transactionQueueTree_),fo(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Fp(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{cr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}tp(t,e)}},o)}function tp(t,e){const n=lj(t,e),i=Yb(n),r=cj(t,n);return Aye(t,r,i),i}function Aye(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ar(n,l.path);let u=!1,d;if(_e(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(cc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bye)u=!0,d="maxretry",r=r.concat(cc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=aj(t,l.path,o);l.currentInputSnapshot=h;const m=e[a].update(h.val());if(m!==void 0){X1("transaction failed: Data returned ",m,l.path);let b=ii(m);typeof m=="object"&&m!=null&&pa(m,".priority")||(b=b.updatePriority(h.getPriority()));const w=l.currentWriteId,y=Q1(t),T=Q$(b,h,y);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=T,l.currentWriteId=gR(t),o.splice(o.indexOf(w),1),r=r.concat(G$(t.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),r=r.concat(cc(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",r=r.concat(cc(t.serverSyncTree_,l.currentWriteId,!0))}fo(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}J1(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Fp(i[a]);bR(t,t.transactionQueueTree_)}function lj(t,e){let n,i=t.transactionQueueTree_;for(n=tt(e);n!==null&&$p(i)===void 0;)i=fR(i,n),e=Mt(e),n=tt(e);return i}function cj(t,e){const n=[];return uj(t,e,n),n.sort((i,r)=>i.order-r.order),n}function uj(t,e,n){const i=$p(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Y1(e,r=>{uj(t,r,n)})}function J1(t,e){const n=$p(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Z$(e,n.length>0?n:void 0)}Y1(e,i=>{J1(t,i)})}function vR(t,e){const n=Yb(lj(t,e)),i=fR(t.transactionQueueTree_,e);return iye(i,r=>{dS(t,r)}),dS(t,i),ej(i,r=>{dS(t,r)}),n}function dS(t,e){const n=$p(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(_e(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(_e(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(cc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Z$(e,void 0):n.length=s+1,fo(t.eventQueue_,Yb(e),r);for(let o=0;o<i.length;o++)Fp(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iye(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}function Dye(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):cr("Invalid query segment '".concat(n,"' in query '").concat(t,"'"))}return e}const nM=function(t,e){const n=Rye(t),i=n.namespace;n.domain==="firebase.com"&&fl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&fl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||F0e();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new g$(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Dt(n.pathString)}},Rye=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=Iye(t.substring(u,d)));const h=Dye(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const b=e.indexOf(".");i=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pye{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ri(this.snapshot.exportVal())}}class Oye{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ot(this._path)?null:qD(this._path)}get ref(){return new su(this._repo,this._path)}get _queryIdentifier(){const e=$5(this._queryParams),n=$D(e);return n==="{}"?"default":n}get _queryObject(){return $5(this._queryParams)}isEqual(e){if(e=Pe(e),!(e instanceof yR))return!1;const n=this._repo===e._repo,i=GD(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+wbe(this._path)}}class su extends yR{constructor(e,n){super(e,n,new KD,!1)}get parent(){const e=S$(this._path);return e===null?null:new su(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Dx{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Dt(e),i=Q2(this.ref,e);return new Dx(this._node.getChild(n),i,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Dx(r,Q2(this.ref,i),pn)))}hasChild(e){const n=new Dt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function K2(t,e){return t=Pe(t),t._checkNotDeleted("ref"),e!==void 0?Q2(t._root,e):t._root}function Q2(t,e){return t=Pe(t),tt(t._path)===null?hye("child","path",e):nj("child","path",e),new su(t._repo,dn(t._path,e))}function Lye(t){return ij("remove",t._path),hj(t,null)}function hj(t,e){t=Pe(t),ij("set",t._path),cye("set",e,t._path);const n=new Eb;return wye(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Mye(t,e){dye("update",e,t._path);const n=new Eb;return Tye(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class eT{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Pye("value",this,new Dx(e.snapshotNode,new su(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Oye(this,e,n):null}matches(e){return e instanceof eT?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Nye(t,e,n,i,r){const s=new dj(n,void 0),o=new eT(s);return Sye(t._repo,t,o),()=>oj(t._repo,t,o)}function fj(t,e,n,i){return Nye(t,"value",e)}function pj(t,e,n){let i=null;const r=n?new dj(n):null;i=new eT(r),oj(t._repo,t,i)}Lve(su);Vve(su);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bye="FIREBASE_DATABASE_EMULATOR_HOST",Z2={};let Uye=!1;function Fye(t,e,n,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),o=bo(s);t.repoInfo_=new g$(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function Vye(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||fl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wi("Using default host for project ",t.options.projectId),s="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));let o=nM(s,r),a=o.repoInfo,l;typeof process<"u"&&T5&&(l=T5[Bye]),l?(s="http://".concat(l,"?ns=").concat(a.namespace),o=nM(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new K0e(t.name,t.options,e);fye("Invalid Firebase Database URL",o),ot(o.path)||fl("Database URL must point to the root of a Firebase Database (not including a child path).");const u=jye(a,t,c,new X0e(t,n));return new zye(u,t)}function $ye(t,e){const n=Z2[e];(!n||n[t.key]!==t)&&fl("Database ".concat(e,"(").concat(t.repoInfo_,") has already been deleted.")),kye(t),delete n[t.key]}function jye(t,e,n,i){let r=Z2[e.name];r||(r={},Z2[e.name]=r);let s=r[t.toURLString()];return s&&fl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new vye(t,Uye,n,i),r[t.toURLString()]=s,s}class zye{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yye(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new su(this._repo,bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&($ye(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fl("Cannot call "+e+" on a deleted database.")}}function Hye(t=Ab(),e){const n=Ap(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=i1("database");i&&qye(n,...i)}return n}function qye(t,e,n,i={}){t=Pe(t),t._checkNotDeleted("useEmulator");const r="".concat(e,":").concat(n),s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&Fc(i,s.repoInfo_.emulatorOptions))return;fl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&fl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new jy(jy.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:LI(i.mockUserToken,t.app.options.projectId);o=new jy(a)}bo(e)&&(Sb(e),kb("Database",!0)),Fye(s,r,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gye(t){O0e(eu),ll(new ra("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Vye(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Dr(E5,S5,t),Dr(E5,S5,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wye={".sv":"timestamp"};function mj(){return Wye}el.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};el.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Gye();const Yye={apiKey:"AIzaSyD13ajiY6S8FKlzmQJ-meMgDyJUNxOOq2w",authDomain:"peekaboo-fbf1a.firebaseapp.com",databaseURL:"https://peekaboo-fbf1a-default-rtdb.firebaseio.com",projectId:"peekaboo-fbf1a",storageBucket:"peekaboo-fbf1a.firebasestorage.app",messagingSenderId:"1081048087865",appId:"1:1081048087865:web:c4ee154d91bd5383b77ce8",measurementId:"G-4QL0YP0K91"},hn=t7(Yye),_R=Y7(hn);t$(hn);lge(hn);const J2=Hye(hn),z0=yo("Preferences",{web:()=>xi(()=>import("./web-PoDlPqRR.js"),[]).then(t=>new t.PreferencesWeb)}),Nr=async()=>{let{value:t}=await z0.get({key:"base_settings"});if(t==null){const n=await gj();t=JSON.stringify(n.boo)}return{peek:!0,boo:JSON.parse(t)}},gj=async()=>{const t={AnimeType:"ad",AnimeSource:"gogo",MovieSource:"tmdb",Server:"http://65.1.92.65"};await z0.set({key:"base_settings",value:JSON.stringify(t)});const{value:e}=await z0.get({key:"base_settings"});if(e==null)return{peek:!1,boo:t};const n=JSON.parse(e);return t.AnimeType?{peek:!0,boo:n}:{peek:!1,boo:t}},Xye=async t=>{await z0.set({key:"base_settings",value:JSON.stringify(t)});const{value:e}=await z0.get({key:"base_settings"});if(e==null)return{peek:!1,boo:"Error setting settings"};const n=JSON.parse(e);return t.AnimeType?{peek:!0,boo:n}:{peek:!1,boo:"Error setting settings"}},Kye=()=>{var g,w;const{user:t,setUser:e}=te.useContext(lu),n=Lw(),[i]=xb(),[r,s]=te.useState(),[o,a]=te.useState(),[l,c]=te.useState(),[u,d]=te.useState(),h=async()=>{const y=await Nr();if(y.peek==!1){i("Failed to load settings. This is not supposed to happen");return}const T=y.boo;s(T.AnimeType),a(T.AnimeSource),c(T.MovieSource),d(T.Server)};te.useEffect(()=>{h()},[]);const m=async()=>{if(!r||!o||!l||!u)return;const T=await Xye({AnimeType:r,AnimeSource:o,MovieSource:l,Server:u});if(T.peek==!1||typeof T.boo=="string"){i(T.boo);return}else i({header:"Settings Saved",message:"Your new settings have been saved. The app will now reload to apply them.",buttons:[{text:"OK",handler:()=>{window.location.reload()}}]})},b=async()=>{await _R.signOut(),e(null),n.push("/home","root","replace")};return t?N.jsxs(Ms,{children:[N.jsx(Mc,{translucent:!0,children:N.jsx(uo,{children:N.jsx(Bc,{children:"Settings"})})}),N.jsxs(Ls,{className:"ion-padding",children:[N.jsxs("div",{className:"settings-user-header",children:[N.jsx(Lc,{className:"settings-avatar",children:N.jsx("img",{src:(g=t.photoURL)!=null?g:"",alt:(w=t.displayName)!=null?w:""})}),N.jsx("h2",{children:t.displayName}),N.jsx("p",{children:t.email})]}),N.jsx(NE,{children:"Account"}),N.jsx(af,{inset:!0,children:N.jsxs(vs,{button:!0,detail:!0,disabled:!0,children:[N.jsx(ki,{icon:Pae,slot:"start"}),N.jsx(Si,{children:"Edit Profile"})]})}),N.jsx(NE,{children:"Application Settings"}),N.jsxs(af,{inset:!0,children:[N.jsx(vs,{children:N.jsx(Lo,{label:"Advertisements",value:r,onIonChange:y=>s(y.target.value),children:Xae.map((y,T)=>N.jsx(Mo,{value:y,children:y},T))})}),N.jsx(vs,{children:N.jsx(Lo,{label:"Anime Source",value:o,onIonChange:y=>a(y.target.value),children:Kae.map((y,T)=>N.jsx(Mo,{value:y,children:y},T))})}),N.jsx(vs,{children:N.jsx(Lo,{label:"Movie Source",value:l,onIonChange:y=>c(y.target.value),children:Qae.map((y,T)=>N.jsx(Mo,{value:y,children:y},T))})}),N.jsx(vs,{lines:"none",children:N.jsx(Lo,{label:"Backend Server",value:u,onIonChange:y=>d(y.target.value),children:Zae.map((y,T)=>N.jsx(Mo,{value:y,children:y},T))})})]}),N.jsx(ai,{expand:"block",onClick:m,disabled:!r,className:"ion-margin",children:"Save Settings"}),N.jsx(NE,{children:"Danger Zone"}),N.jsxs(af,{inset:!0,children:[N.jsxs(vs,{button:!0,onClick:b,children:[N.jsx(ki,{icon:Rae,slot:"start",color:"danger"}),N.jsx(Si,{color:"danger",children:"Logout"})]}),N.jsxs(vs,{button:!0,lines:"none",disabled:!0,children:[N.jsx(ki,{icon:Fae,slot:"start",color:"danger"}),N.jsx(Si,{color:"danger",children:"Delete Account"})]})]})]})]}):N.jsxs(Ms,{children:[N.jsx(Mc,{children:N.jsx(uo,{children:N.jsx(Bc,{children:"Settings"})})}),N.jsx(Ls,{className:"ion-padding",children:N.jsxs("div",{className:"settings-login-prompt",children:[N.jsx("h2",{children:"Please Log In"}),N.jsx("p",{children:"Log in to manage your account settings."}),N.jsx(ai,{routerLink:"/login",expand:"block",children:"Login"})]})})]})},Qye=({friend:t})=>{const[e,n]=te.useState(null),[i,r]=te.useState(!0);return te.useEffect(()=>{(async()=>{r(!0);try{const o=Ui(hn),a=Bi(o,"users",t.uid),l=await Xf(a);l.exists()?n(l.data()):console.warn("User document not found for uid: ".concat(t.uid))}catch(o){console.error("Error fetching friend's user data:",o)}finally{r(!1)}})()},[t.uid]),i?N.jsxs(vs,{children:[N.jsx(Nc,{name:"crescent",slot:"start"}),N.jsx(Si,{children:"Loading friend..."})]}):e?N.jsxs(vs,{routerLink:"/chat/".concat(t.uid),children:[N.jsx(Lc,{slot:"start",children:N.jsx("img",{src:e.photoURL,alt:e.displayName})}),N.jsxs(Si,{children:[N.jsx("h2",{children:e.displayName}),N.jsxs("p",{children:["Friends since ",new Date(t.since).toLocaleDateString()]})]})]}):null},Zye=({friends:t})=>t.length===0?N.jsx("p",{children:"You have no friends yet."}):N.jsx(af,{children:t.map(e=>N.jsx(Qye,{friend:e},e.uid))}),Jye=()=>{var g;const[t,e]=te.useState([]),[n,i]=te.useState([]),[r,s]=te.useState([]),{user:o,setUser:a,name:l}=te.useContext(lu),[c]=wb();te.useRef(null),Lw();const u=w=>{c({message:w,duration:3e3,swipeGesture:"vertical",position:"top"})},d=async()=>{if(!o)return;const w=Ui(hn);try{const y=mf(w,"users",o.uid,"favorites"),k=(await RV(y)).docs.map(D=>D.data());e(k)}catch(y){console.error("Error loading favourites:",y),u("Error loading favourites")}};te.useEffect(()=>{if(o){d();const w=Ui(hn),y=mf(w,"users",o.uid,"friends"),T=hx(y,fx("status","==","friends")),k=O2(T,B=>{const O=B.docs.map(A=>({uid:A.id,...A.data()}));i(O)},B=>{console.error("Error listening to friends:",B),u("Error loading friends.")}),D=hx(y,fx("status","==","received_pending")),P=O2(D,B=>{const O=B.docs.map(A=>({uid:A.id,...A.data()}));s(O)},B=>{console.error("Error listening to friend requests:",B),u("Error loading friend requests.")});return()=>{k(),P()}}else i([]),s([])},[o]),te.useEffect(()=>{document.title="PeekABoo"},[]);const h=async w=>{if(o)try{const y=Ui(hn),T=Date.now(),k=Bi(y,"users",o.uid,"friends",w);await px(k,{status:"friends",since:T});const D=Bi(y,"users",w,"friends",o.uid);await px(D,{status:"friends",since:T})}catch(y){console.error("Error accepting friend request:",y),u("Failed to accept friend request.")}},m=async w=>{if(o)try{const y=Ui(hn),T=Bi(y,"users",o.uid,"friends",w);await P2(T);const k=Bi(y,"users",w,"friends",o.uid);await P2(k)}catch(y){console.error("Error declining friend request:",y),u("Failed to decline friend request.")}},b=({request:w})=>{const[y,T]=te.useState(null),[k,D]=te.useState(!0);return te.useEffect(()=>{(async()=>{D(!0);try{const B=Ui(hn),O=Bi(B,"users",w.uid),A=await Xf(O);A.exists()&&T(A.data())}catch(B){console.error("Error fetching user data for request:",B)}finally{D(!1)}})()},[w.uid]),k?N.jsxs(vs,{children:[N.jsx(Nc,{name:"crescent",slot:"start"}),N.jsx(Si,{children:"Loading request..."})]}):y?N.jsxs(vs,{children:[N.jsx(Lc,{slot:"start",children:N.jsx("img",{src:y.photoURL,alt:y.displayName})}),N.jsxs(Si,{children:[N.jsx("h2",{children:y.displayName}),N.jsx("p",{children:"Wants to be your friend."})]}),N.jsx(ai,{fill:"clear",slot:"end",onClick:()=>h(w.uid),children:N.jsx(ki,{icon:Aae,color:"success"})}),N.jsx(ai,{fill:"clear",slot:"end",onClick:()=>m(w.uid),children:N.jsx(ki,{icon:Iae,color:"danger"})})]}):null};return N.jsxs(Ms,{children:[N.jsx(Mc,{translucent:!0,children:N.jsxs(uo,{style:{paddingRight:"1rem"},children:[N.jsx(Bc,{children:"Peek-A-Boo"}),o?o.email?N.jsxs(Rse,{slot:"end",onClick:()=>{c({message:"UserID: ".concat(o.email),duration:3e3,position:"top",swipeGesture:"vertical"})},children:[N.jsx(Lc,{children:N.jsx("img",{src:(g=o.photoURL)!=null?g:"",alt:""})}),N.jsx(Si,{children:o.displayName})]}):N.jsx(ai,{id:"loginButton",slot:"end",children:"Login"}):N.jsx(ai,{id:"loginButton",slot:"end",children:"Login"})]})}),N.jsxs(Ls,{className:"ion-padding",children:[r.length>0&&N.jsxs(N.Fragment,{children:[N.jsx("h1",{children:"Friend Requests"}),N.jsx(af,{children:r.map(w=>N.jsx(b,{request:w},w.uid))})]}),N.jsx("h1",{children:"Friends"}),N.jsx(Zye,{friends:n})]})]})},e_e=async t=>{const{boo:e}=await Nr(),n=e;return await(await fetch("".concat(n.Server,"/anime/").concat(e.AnimeSource,"/episode/").concat(t,"/sources"))).json()},t_e=async t=>{const{boo:e}=await Nr(),n=e;return await(await fetch("".concat(n.Server,"/anime/").concat(n.AnimeSource,"/").concat(t,"/info"))).json()},n_e=async t=>{const{boo:e}=await Nr(),n=e;return await(await fetch("".concat(n.Server,"/anime/").concat(n.AnimeSource,"/episode/").concat(t,"/servers"))).json()},i_e=async()=>{const{boo:t}=await Nr(),e=t;return await(await fetch("".concat(e.Server,"/anime/").concat(e.AnimeSource,"/trending"))).json()},r_e=async t=>{const{boo:e}=await Nr(),n=e;return await(await fetch("".concat(n.Server,"/anime/").concat(n.AnimeSource,"/search/").concat(t))).json()},hS=t=>{const e=[];return t.results.forEach(n=>{e.push({Id:n.id.toString(),Title:n.original_title,Poster:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),Type:"movie",Overview:n.overview,Year:n.release_date,Duration:"",Genres:[],Languages:[]})}),e},fS=t=>{const e=[];return t.results.forEach(n=>{e.push({Id:n.id.toString(),Title:n.name,Poster:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),Type:"tv",Overview:n.overview,Year:n.first_air_date,Duration:"",Genres:[],Languages:[]})}),e},s_e=t=>{const e=t;return{Id:e.id.toString(),Title:e.original_title,Poster:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),Type:"movie",Overview:e.overview,Year:e.release_date,Duration:e.runtime.toString(),Genres:[],Languages:[],TmdbMovieInfo:e}},o_e=t=>{const e=t,n=[];return e.seasons.forEach(r=>{const s={Id:r.id,AirDate:r.air_date,EpisodeCount:r.episode_count,Name:r.name,Overview:r.overview,Poster:"https://image.tmdb.org/t/p/w500".concat(r.poster_path),SeasonNumber:r.season_number};n.push(s)}),{Id:e.id.toString(),Title:e.original_name,Poster:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),Type:"tv",Overview:e.overview,Year:e.first_air_date,Duration:e.number_of_episodes.toString()+" episodes",Genres:[],Languages:[],TvShowSeason:n,TmdbTvInfo:e}};class a_e{constructor(e,n){jr(this,"tmdbApiKey");jr(this,"appProxy");jr(this,"movieTrending");jr(this,"moviePopular");jr(this,"movieSearch");jr(this,"movieInfo");jr(this,"tvTrending");jr(this,"tvPopular");jr(this,"tvSearch");jr(this,"tvInfo");jr(this,"tvSimilar");jr(this,"movieSimilar");this.tmdbApiKey=e,this.appProxy=n,this.movieTrending="".concat(this.appProxy,"https://api.themoviedb.org/3/trending/movie/day?api_key=").concat(this.tmdbApiKey),this.moviePopular="".concat(this.appProxy,"https://api.themoviedb.org/3/movie/popular?api_key=").concat(this.tmdbApiKey),this.movieSearch="".concat(this.appProxy,"https://api.themoviedb.org/3/search/movie?api_key=").concat(this.tmdbApiKey,"&query="),this.movieInfo=i=>"".concat(this.appProxy,"https://api.themoviedb.org/3/movie/").concat(i,"?api_key=").concat(this.tmdbApiKey),this.tvTrending="".concat(this.appProxy,"https://api.themoviedb.org/3/trending/tv/day?api_key=").concat(this.tmdbApiKey),this.tvPopular="".concat(this.appProxy,"https://api.themoviedb.org/3/tv/popular?api_key=").concat(this.tmdbApiKey),this.tvSearch="".concat(this.appProxy,"https://api.themoviedb.org/3/search/tv?api_key=").concat(this.tmdbApiKey,"&query="),this.tvInfo=i=>"".concat(this.appProxy,"https://api.themoviedb.org/3/tv/").concat(i,"?api_key=").concat(this.tmdbApiKey),this.tvSimilar=i=>"".concat(this.appProxy,"https://api.themoviedb.org/3/tv/").concat(i,"/similar?api_key=").concat(this.tmdbApiKey),this.movieSimilar=i=>"".concat(this.appProxy,"https://api.themoviedb.org/3/movie/").concat(i,"/similar?api_key=").concat(this.tmdbApiKey)}async getTrendingMovies(){const e={peek:!1,boo:[]},i=await(await fetch(this.movieTrending)).json();return i==null?e:{peek:!0,boo:hS(i)}}async getTrendingTv(){const e={peek:!1,boo:[]},i=await(await fetch(this.tvTrending)).json();return i==null?e:{peek:!0,boo:fS(i)}}async searchMovie(e){const n={peek:!1,boo:[]};console.log(this.movieSearch+e);const r=await(await fetch("".concat(this.movieSearch).concat(e))).json();return r==null?n:{peek:!0,boo:hS(r)}}async searchTv(e){const n={peek:!1,boo:[]};console.log(this.tvSearch+e);const r=await(await fetch("".concat(this.tvSearch).concat(e))).json();return r==null?n:{peek:!0,boo:fS(r)}}async getMovieInfo(e){const n=await fetch("".concat(this.movieInfo(e)));if(n.status==400)return{peek:!1,boo:"Failed to get Movie Info ".concat(e)};const i=await n.json();return i==null?{peek:!1,boo:"Failed to get Movie Info ".concat(e)}:{peek:!0,boo:s_e(i)}}async getTvInfo(e){console.log("getTvInfo: ".concat(this.tvInfo(e)));const n=await fetch("".concat(this.tvInfo(e)));if(n.status==400)return{peek:!1,boo:"Failed to get Show ".concat(e)};const i=await n.json();return i==null?{peek:!1,boo:"Failed to get Show ".concat(e)}:{peek:!0,boo:o_e(i)}}async getSimilarTvShows(e){const n=await fetch(this.tvSimilar(e),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(this.tmdbApiKey)}});if(n.status==400)return{peek:!1,boo:[]};const i=await n.json();return{peek:!0,boo:fS(i)}}async getSimilarMovies(e){const n=await fetch(this.movieSimilar(e),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(this.tmdbApiKey)}});if(n.status==400)return{peek:!1,boo:[]};const i=await n.json();return{peek:!0,boo:hS(i)}}getMovieEmbeds(e){try{return{peek:!0,boo:[{name:"VidSrc Net",url:"https://vidsrc.net/embed/movie?tmdb=".concat(e)},{name:"VidSrc Icu",url:"https://vidsrc.icu/embed/movie/".concat(e)},{name:"Super Embed",url:"https://multiembed.mov/?video_id=".concat(e,"&tmdb=1")},{name:"VidPro",url:"https://vidsrc.pro/embed/movie/".concat(e)},{name:"VidSrc In",url:"https://vidsrc.in/embed/movie/".concat(e)},{name:"VidSrc VIP",url:"https://vidsrc.vip/embed/movie/".concat(e)},{name:"VidSrc To",url:"https://vidsrc.to/embed/movie/".concat(e)}]}}catch(n){return{peek:!1,boo:n}}}getTvEmbeds(e,n,i){return{peek:!0,boo:[{name:"VidSrc Net",url:"https://vidsrc.net/embed/tv?tmdb=".concat(e,"&season=").concat(n,"&episode=").concat(i)},{name:"VidSrc Icu",url:"https://vidsrc.icu/embed/tv/".concat(e,"/").concat(n,"/").concat(i)},{name:"Super Embed",url:"https://multiembed.mov/?video_id=".concat(e,"&tmdb=1&s=").concat(n,"&e=").concat(i)},{name:"VidPro",url:"https://vidsrc.pro/embed/tv/".concat(e,"/").concat(n,"/").concat(i)},{name:"VidSrc In",url:"https://vidsrc.in/embed/tv/".concat(e,"/").concat(n,"/").concat(i)},{name:"VidSrc VIP",url:"https://vidsrc.vip/embed/tv/".concat(e,"/").concat(n,"/").concat(i)},{name:"VidSrc To",url:"https://vidsrc.to/embed/tv/".concat(e,"/").concat(n,"/").concat(i)}]}}}const Tl=new a_e("efe0d01423f29d0dd19e4a7e482b217b","http://65.1.92.65/proxy?url=");console.log(Tl);const l_e=async t=>await Tl.getSimilarMovies(t),c_e=async t=>await Tl.getSimilarTvShows(t),u_e=async()=>await Tl.getTrendingMovies(),d_e=async t=>await Tl.searchMovie(t),h_e=async t=>await Tl.getMovieInfo(t),f_e=async()=>await Tl.getTrendingTv(),p_e=async t=>await Tl.searchTv(t),iM=async t=>await Tl.getTvInfo(t),m_e=async t=>{const{boo:e}=await Nr(),n=e;return await(await fetch("".concat(n.Server,"/movie/").concat(e.MovieSource,"/").concat(t,"/sources"))).json()},g_e=async t=>{const{boo:e}=await Nr(),n=e;return await(await fetch("".concat(n.Server,"/movie/").concat(n.MovieSource,"/").concat(t,"/embed"))).json()},rM=async(t,e,n)=>{const{boo:i}=await Nr(),r=i;return await(await fetch("".concat(r.Server,"/tv/").concat(i.MovieSource,"/").concat(t,"/").concat(e,"/").concat(n,"/sources"))).json()},sM=async(t,e,n)=>{const{boo:i}=await Nr(),r=i;return await(await fetch("".concat(r.Server,"/tv/").concat(i.MovieSource,"/").concat(t,"/").concat(e,"/").concat(n,"/embed"))).json()};function oM(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function xR(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:oM(e[n])&&oM(t[n])&&Object.keys(e[n]).length>0&&xR(t[n],e[n])})}const bj={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function oo(){const t=typeof document<"u"?document:{};return xR(t,bj),t}const b_e={document:bj,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ii(){const t=typeof window<"u"?window:{};return xR(t,b_e),t}function v_e(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function y_e(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch(i){}try{delete e[n]}catch(i){}})}function eC(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Rx(){return Date.now()}function __e(t){const e=Ii();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function tC(t,e){e===void 0&&(e="x");const n=Ii();let i,r,s;const o=__e(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function oy(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function x_e(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!x_e(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(oy(t[a])&&oy(i[a])?i[a].__swiper__?t[a]=i[a]:Xr(t[a],i[a]):!oy(t[a])&&oy(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Xr(t[a],i[a])):t[a]=i[a])}}}return t}function ay(t,e,n){t.style.setProperty(e,n)}function vj(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Ii(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",u=(h,m)=>c==="next"&&h>=m||c==="prev"&&h<=m,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(h*Math.PI)/2;let b=s+m*(n-s);if(u(b,n)&&(b=n),e.wrapperEl.scrollTo({[i]:b}),u(b,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:b})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Is(t,e){e===void 0&&(e="");const n=Ii(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function w_e(t,e){var i,r;const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...((i=s.shadowRoot)==null?void 0:i.children)||[],...((r=s.assignedElements)==null?void 0:r.call(s))||[])}}function T_e(t,e){const n=Ii();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=w_e(t,e))),i}function Px(t){try{console.warn(t);return}catch(e){}}function Ox(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:v_e(e)),n}function aM(t){const e=Ii(),n=oo(),i=t.getBoundingClientRect(),r=n.body,s=t.clientTop||r.clientTop||0,o=t.clientLeft||r.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}function E_e(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function S_e(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function uc(t,e){return Ii().getComputedStyle(t,null).getPropertyValue(e)}function lM(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function zy(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function cM(t,e,n){const i=Ii();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Da(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let pS;function k_e(){const t=Ii(),e=oo();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function yj(){return pS||(pS=k_e()),pS}let mS;function C_e(t){let{userAgent:e}=t===void 0?{}:t;const n=yj(),i=Ii(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=r==="Win32";let b=r==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&b&&n.touch&&g.indexOf("".concat(a,"x").concat(l))>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),b=!1),c&&!m&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function _j(t){return t===void 0&&(t={}),mS||(mS=C_e(t)),mS}let gS;function A_e(){const t=Ii(),e=_j();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function I_e(){return gS||(gS=A_e()),gS}function D_e(t){let{swiper:e,on:n,emit:i}=t;const r=Ii();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:h,height:m}=e;let b=h,g=m;d.forEach(w=>{let{contentBoxSize:y,contentRect:T,target:k}=w;k&&k!==e.el||(b=T?T.width:(y[0]||y).inlineSize,g=T?T.height:(y[0]||y).blockSize)}),(b!==h||g!==m)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function R_e(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],o=Ii(),a=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,m=new h(b=>{if(e.__preventObserver__)return;if(b.length===1){r("observerUpdate",b[0]);return}const g=function(){r("observerUpdate",b[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});m.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=zy(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var P_e={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function O_e(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(uc(i,"padding-left")||0,10)-parseInt(uc(i,"padding-right")||0,10),n=n-parseInt(uc(i,"padding-top")||0,10)-parseInt(uc(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function L_e(){const t=this;function e(L,U){return parseFloat(L.getPropertyValue(t.getDirectionLabel(U))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=Is(r,".".concat(t.params.slideClass,", swiper-slide")),d=l?t.virtual.slides.length:u.length;let h=[];const m=[],b=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const y=t.snapGrid.length,T=t.slidesGrid.length;let k=n.spaceBetween,D=-g,P=0,B=0;if(typeof s>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*s:typeof k=="string"&&(k=parseFloat(k)),t.virtualSize=-k,u.forEach(L=>{o?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ay(i,"--swiper-centered-offset-before",""),ay(i,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let A;const R=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(L=>typeof n.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<d;L+=1){A=0;let U;if(u[L]&&(U=u[L]),O&&t.grid.updateSlide(L,U,u),!(u[L]&&uc(U,"display")==="none")){if(n.slidesPerView==="auto"){R&&(u[L].style[t.getDirectionLabel("width")]="");const V=getComputedStyle(U),M=U.style.transform,ae=U.style.webkitTransform;if(M&&(U.style.transform="none"),ae&&(U.style.webkitTransform="none"),n.roundLengths)A=t.isHorizontal()?cM(U,"width"):cM(U,"height");else{const he=e(V,"width"),K=e(V,"padding-left"),fe=e(V,"padding-right"),ee=e(V,"margin-left"),ne=e(V,"margin-right"),Y=V.getPropertyValue("box-sizing");if(Y&&Y==="border-box")A=he+ee+ne;else{const{clientWidth:pe,offsetWidth:ge}=U;A=he+K+fe+ee+ne+(ge-pe)}}M&&(U.style.transform=M),ae&&(U.style.webkitTransform=ae),n.roundLengths&&(A=Math.floor(A))}else A=(s-(n.slidesPerView-1)*k)/n.slidesPerView,n.roundLengths&&(A=Math.floor(A)),u[L]&&(u[L].style[t.getDirectionLabel("width")]="".concat(A,"px"));u[L]&&(u[L].swiperSlideSize=A),b.push(A),n.centeredSlides?(D=D+A/2+P/2+k,P===0&&L!==0&&(D=D-s/2-k),L===0&&(D=D-s/2-k),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),B%n.slidesPerGroup===0&&h.push(D),m.push(D)):(n.roundLengths&&(D=Math.floor(D)),(B-Math.min(t.params.slidesPerGroupSkip,B))%t.params.slidesPerGroup===0&&h.push(D),m.push(D),D=D+A+k),t.virtualSize+=A+k,P=A,B+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+w,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width="".concat(t.virtualSize+k,"px")),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]="".concat(t.virtualSize+k,"px")),O&&t.grid.updateWrapperSize(A,h),!n.centeredSlides){const L=[];for(let U=0;U<h.length;U+=1){let V=h[U];n.roundLengths&&(V=Math.floor(V)),h[U]<=t.virtualSize-s&&L.push(V)}h=L,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(l&&n.loop){const L=b[0]+k;if(n.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),V=L*n.slidesPerGroup;for(let M=0;M<U;M+=1)h.push(h[h.length-1]+V)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+L),m.push(m[m.length-1]+L),t.virtualSize+=L}if(h.length===0&&(h=[0]),k!==0){const L=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((U,V)=>!n.cssMode||n.loop?!0:V!==u.length-1).forEach(U=>{U.style[L]="".concat(k,"px")})}if(n.centeredSlides&&n.centeredSlidesBounds){let L=0;b.forEach(V=>{L+=V+(k||0)}),L-=k;const U=L>s?L-s:0;h=h.map(V=>V<=0?-g:V>U?U+w:V)}if(n.centerInsufficientSlides){let L=0;b.forEach(V=>{L+=V+(k||0)}),L-=k;const U=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(L+U<s){const V=(s-L-U)/2;h.forEach((M,ae)=>{h[ae]=M-V}),m.forEach((M,ae)=>{m[ae]=M+V})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:m,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ay(i,"--swiper-centered-offset-before","".concat(-h[0],"px")),ay(i,"--swiper-centered-offset-after","".concat(t.size/2-b[b.length-1]/2,"px"));const L=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(V=>V+L),t.slidesGrid=t.slidesGrid.map(V=>V+U)}if(d!==c&&t.emit("slidesLengthChange"),h.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==T&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const L="".concat(n.containerModifierClass,"backface-hidden"),U=t.el.classList.contains(L);d<=n.maxBackfaceHiddenSlides?U||t.el.classList.add(L):U&&t.el.classList.remove(L)}}function M_e(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height="".concat(r,"px"))}function N_e(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const uM=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function B_e(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),m=-(o-u),b=m+e.slidesSizesGrid[l],g=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||b>1&&b<=e.size||m<=0&&b>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),uM(c,w,n.slideVisibleClass),uM(c,g,n.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function U_e(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],m=e.slidesGrid[d],b=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(t);g>=h?a=(g-h)/b:a=(g+b-m)/b,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const bS=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function F_e(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>Is(i,".".concat(n.slideClass).concat(d,", swiper-slide").concat(d))[0];let l,c,u;if(s)if(n.loop){let d=r-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a('[data-swiper-slide-index="'.concat(d,'"]'))}else l=a('[data-swiper-slide-index="'.concat(r,'"]'));else o?(l=e.find(d=>d.column===r),u=e.find(d=>d.column===r+1),c=e.find(d=>d.column===r-1)):l=e[r];l&&(o||(u=S_e(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!u&&(u=e[0]),c=E_e(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{bS(d,d===l,n.slideActiveClass),bS(d,d===u,n.slideNextClass),bS(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Hy=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":".".concat(t.params.slideClass),i=e.closest(n());if(i){let r=i.querySelector(".".concat(t.params.lazyPreloaderClass));!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(".".concat(t.params.lazyPreloaderClass)):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(".".concat(t.params.lazyPreloaderClass)),r&&r.remove())})),r&&r.remove()}},vS=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nC=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&vS(t,c)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&vS(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&vS(t,o)};function V_e(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function $_e(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,c;const u=m=>{let b=m-e.virtual.slidesBefore;return b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),b};if(typeof l>"u"&&(l=V_e(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const m=Math.min(r.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&r.grid&&r.grid.rows>1;let h;if(e.virtual&&r.virtual.enabled&&r.loop)h=u(l);else if(d){const m=e.slides.find(g=>g.column===l);let b=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(e.slides.indexOf(m),0)),h=Math.floor(b/r.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:h,previousIndex:s,activeIndex:l}),e.initialized&&nC(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function j_e(t,e){const n=this,i=n.params;let r=t.closest(".".concat(i.slideClass,", swiper-slide"));!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(".".concat(i.slideClass,", swiper-slide"))&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var z_e={updateSize:O_e,updateSlides:L_e,updateAutoHeight:M_e,updateSlidesOffset:N_e,updateSlidesProgress:B_e,updateProgress:U_e,updateSlidesClasses:F_e,updateActiveIndex:$_e,updateClickedSlide:j_e};function H_e(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=tC(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function q_e(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(a,"px, ").concat(l,"px, ").concat(c,"px)"));let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function G_e(){return-this.snapGrid[0]}function W_e(){return-this.snapGrid[this.snapGrid.length-1]}function Y_e(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(i&&t>l?u=l:i&&t<c?u=c:u=t,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return vj({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var X_e={getTranslate:H_e,setTranslate:q_e,minTranslate:G_e,maxTranslate:W_e,translateTo:Y_e};function K_e(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(t,"ms"),n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function xj(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit("transition".concat(r)),n&&s!==o){if(a==="reset"){e.emit("slideResetTransition".concat(r));return}e.emit("slideChangeTransition".concat(r)),a==="next"?e.emit("slideNextTransition".concat(r)):e.emit("slidePrevTransition".concat(r))}}function Q_e(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),xj({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Z_e(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),xj({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var J_e={setTransition:K_e,transitionStart:Q_e,transitionEnd:Z_e};function exe(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:m,enabled:b}=s;if(!b&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const g=Math.min(s.params.slidesPerGroupSkip,o);let w=g+Math.floor((o-g)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const y=-l[w];if(a.normalizeSlideIndex)for(let P=0;P<c.length;P+=1){const B=-Math.floor(y*100),O=Math.floor(c[P]*100),A=Math.floor(c[P+1]*100);typeof c[P+1]<"u"?B>=O&&B<A-(A-O)/2?o=P:B>=O&&B<A&&(o=P+1):B>=O&&(o=P)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate())||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let T;o>d?T="next":o<d?T="prev":T="reset";const k=s.virtual&&s.params.virtual.enabled;if(!(k&&r)&&(h&&-y===s.translate||!h&&y===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(y),T!=="reset"&&(s.transitionStart(n,T),s.transitionEnd(n,T)),!1;if(a.cssMode){const P=s.isHorizontal(),B=h?y:-y;if(e===0)k&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),k&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[P?"scrollLeft":"scrollTop"]=B})):m[P?"scrollLeft":"scrollTop"]=B,k&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return vj({swiper:s,targetPosition:B,side:P?"left":"top"}),!0;m.scrollTo({[P?"left":"top"]:B,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(y),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,T),e===0?s.transitionEnd(n,T):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(B){!s||s.destroyed||B.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,T))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function txe(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const h=o*r.params.grid.rows;a=r.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;u==="auto"?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&r.params.slidesPerView!=="auto"&&!s&&(d=!1),d){const h=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?r.realIndex:void 0})}if(s){const h=o*r.params.grid.rows;o=r.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===h).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,i)}),r}function nxe(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function ixe(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function h(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const m=h(d),b=s.map(y=>h(y));let g=s[b.indexOf(m)-1];if(typeof g>"u"&&r.cssMode){let y;s.forEach((T,k)=>{m>=T&&(y=k)}),typeof y<"u"&&(g=s[y>0?y-1:y])}let w=0;if(typeof g<"u"&&(w=o.indexOf(g),w<0&&(w=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(w=w-i.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),r.rewind&&i.isBeginning){const y=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(y,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(w,t,e,n)}),!0;return i.slideTo(w,t,e,n)}function rxe(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function sxe(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],u=r.snapGrid[a+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],u=r.snapGrid[a];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function oxe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const o=t.isElement?"swiper-slide":".".concat(e.slideClass);if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Is(n,"".concat(o,'[data-swiper-slide-index="').concat(s,'"]'))[0]),eC(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Is(n,"".concat(o,'[data-swiper-slide-index="').concat(s,'"]'))[0]),eC(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var axe={slideTo:exe,slideToLoop:txe,slideNext:nxe,slidePrev:ixe,slideReset:rxe,slideToClosest:sxe,slideToClickedSlide:oxe};function lxe(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{Is(i,".".concat(n.slideClass,", swiper-slide")).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,l=s&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const h=e.isElement?Ox("swiper-slide",[n.slideBlankClass]):Ox("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(h)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else Px("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Px("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function cxe(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:m}=l,{centeredSlides:b}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let g=m.slidesPerView;g==="auto"?g=l.slidesPerViewDynamic():(g=Math.ceil(parseFloat(m.slidesPerView,10)),b&&g%2===0&&(g=g+1));const w=m.slidesPerGroupAuto?g:m.slidesPerGroup;let y=w;y%w!==0&&(y+=w-y%w),y+=m.loopAdditionalSlides,l.loopedSlides=y;const T=l.grid&&m.grid&&m.grid.rows>1;c.length<g+y?Px("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):T&&m.grid.fill==="row"&&Px("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],D=[];let P=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(c.find(M=>M.classList.contains(m.slideActiveClass))):P=s;const B=i==="next"||!i,O=i==="prev"||!i;let A=0,R=0;const L=T?Math.ceil(c.length/m.grid.rows):c.length,V=(T?c[s].column:s)+(b&&typeof r>"u"?-g/2+.5:0);if(V<y){A=Math.max(y-V,w);for(let M=0;M<y-V;M+=1){const ae=M-Math.floor(M/L)*L;if(T){const he=L-ae-1;for(let K=c.length-1;K>=0;K-=1)c[K].column===he&&k.push(K)}else k.push(L-ae-1)}}else if(V+g>L-y){R=Math.max(V-(L-y*2),w);for(let M=0;M<R;M+=1){const ae=M-Math.floor(M/L)*L;T?c.forEach((he,K)=>{he.column===ae&&D.push(K)}):D.push(ae)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),O&&k.forEach(M=>{c[M].swiperLoopMoveDOM=!0,h.prepend(c[M]),c[M].swiperLoopMoveDOM=!1}),B&&D.forEach(M=>{c[M].swiperLoopMoveDOM=!0,h.append(c[M]),c[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():T&&(k.length>0&&O||D.length>0&&B)&&l.slides.forEach((M,ae)=>{l.grid.updateSlide(ae,M,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(k.length>0&&O){if(typeof e>"u"){const M=l.slidesGrid[P],he=l.slidesGrid[P+A]-M;a?l.setTranslate(l.translate-he):(l.slideTo(P+Math.ceil(A),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-he,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-he))}else if(r){const M=T?k.length/m.grid.rows:k.length;l.slideTo(l.activeIndex+M,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(D.length>0&&B)if(typeof e>"u"){const M=l.slidesGrid[P],he=l.slidesGrid[P-R]-M;a?l.setTranslate(l.translate-he):(l.slideTo(P-R,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-he,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-he))}else{const M=T?D.length/m.grid.rows:D.length;l.slideTo(l.activeIndex-M,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const M={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(ae=>{!ae.destroyed&&ae.params.loop&&ae.loopFix({...M,slideTo:ae.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...M,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function uxe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var dxe={loopCreate:lxe,loopFix:cxe,loopDestroy:uxe};function hxe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function fxe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var pxe={setGrabCursor:hxe,unsetGrabCursor:fxe};function mxe(t,e){e===void 0&&(e=this);function n(i){if(!i||i===oo()||i===Ii())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function dM(t,e,n){const i=Ii(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function gxe(t){const e=this,n=oo();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){dM(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!T_e(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),h=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(h?mxe(d,l):l.closest(d))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const m=o.currentX,b=o.currentY;if(!dM(e,i,m))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=b,r.touchStartTime=Rx(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let g=!0;l.matches(r.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const w=g&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function bxe(t){const e=oo(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(B=>B.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=d;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Rx());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const h=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+m**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let B;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:h*h+m*m>=25&&(B=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,i.isScrolling=n.isHorizontal()?B>r.touchAngle:90-B>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let b=n.isHorizontal()?h:m,g=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(b=Math.abs(b)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),s.diff=b,b*=r.touchRatio,o&&(b=-b,g=-g);const w=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const y=n.params.loop&&!r.cssMode,T=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(y&&T&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const B=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(B)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let k;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&w!==n.touchesDirection&&y&&T&&Math.abs(b)>=1){Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=b+i.startTranslate;let D=!0,P=r.resistanceRatio;if(r.touchReleaseOnEdges&&(P=0),b>0?(y&&T&&!k&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(D=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+b)**P))):b<0&&(y&&T&&!k&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(D=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-b)**P))),D&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(b)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function vxe(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(P=>P.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Rx(),h=d-n.touchStartTime;if(e.allowClick){const P=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(P&&P[0]||i.target,P),e.emit("tap click",i),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Rx(),eC(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const b=m>=-e.maxTranslate()&&!e.params.loop;let g=0,w=e.slidesSizesGrid[0];for(let P=0;P<c.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const B=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[P+B]<"u"?(b||m>=c[P]&&m<c[P+B])&&(g=P,w=c[P+B]-c[P]):(b||m>=c[P])&&(g=P,w=c[c.length-1]-c[c.length-2])}let y=null,T=null;o.rewind&&(e.isBeginning?T=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const k=(m-c[g])/w,D=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(k>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?y:g+D):e.slideTo(g)),e.swipeDirection==="prev"&&(k>1-o.longSwipesRatio?e.slideTo(g+D):T!==null&&k<0&&Math.abs(k)>o.longSwipesRatio?e.slideTo(T):e.slideTo(g))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(g+D):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:g+D),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:g))}}function hM(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function yxe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function _xe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function xxe(t){const e=this;Hy(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function wxe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const wj=(t,e)=>{const n=oo(),{params:i,el:r,wrapperEl:s,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",hM,!0):t[c]("observerUpdate",hM,!0),r[l]("load",t.onLoad,{capture:!0}))};function Txe(){const t=this,{params:e}=t;t.onTouchStart=gxe.bind(t),t.onTouchMove=bxe.bind(t),t.onTouchEnd=vxe.bind(t),t.onDocumentTouchStart=wxe.bind(t),e.cssMode&&(t.onScroll=_xe.bind(t)),t.onClick=yxe.bind(t),t.onLoad=xxe.bind(t),wj(t,"on")}function Exe(){wj(this,"off")}var Sxe={attachEvents:Txe,detachEvents:Exe};const fM=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function kxe(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=oo(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in s?s[c]:void 0)||t.originalParams,h=fM(t,i),m=fM(t,d),b=t.params.grabCursor,g=d.grabCursor,w=i.enabled;h&&!m?(r.classList.remove("".concat(i.containerModifierClass,"grid"),"".concat(i.containerModifierClass,"grid-column")),t.emitContainerClasses()):!h&&m&&(r.classList.add("".concat(i.containerModifierClass,"grid")),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&i.grid.fill==="column")&&r.classList.add("".concat(i.containerModifierClass,"grid-column")),t.emitContainerClasses()),b&&!g?t.unsetGrabCursor():!b&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof d[B]>"u")return;const O=i[B]&&i[B].enabled,A=d[B]&&d[B].enabled;O&&!A&&t[B].disable(),!O&&A&&t[B].enable()});const y=d.direction&&d.direction!==i.direction,T=i.loop&&(d.slidesPerView!==i.slidesPerView||y),k=i.loop;y&&n&&t.changeDirection(),Xr(t.params,d);const D=t.params.enabled,P=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),w&&!D?t.disable():!w&&D&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(T?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!k&&P?(t.loopCreate(e),t.updateSlides()):k&&!P&&t.loopDestroy()),t.emit("breakpoint",d)}function Cxe(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=Ii(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia("(min-width: ".concat(c,"px)")).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var Axe={setBreakpoint:kxe,getBreakpoint:Cxe};function Ixe(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function Dxe(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=Ixe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function Rxe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Pxe={addClasses:Dxe,removeClasses:Rxe};function Oxe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Lxe={checkOverflow:Oxe},iC={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Mxe(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Xr(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){Xr(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Xr(e,i)}}const yS={eventsEmitter:P_e,update:z_e,translate:X_e,transition:J_e,slide:axe,loop:dxe,grabCursor:pxe,events:Sxe,breakpoints:Axe,checkOverflow:Lxe,classes:Pxe},_S={};let wR=class Oa{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Xr({},n),e&&!n.el&&(n.el=e);const o=oo();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const h=Xr({},n,{el:d});u.push(new Oa(h))}),u}const a=this;a.__swiper__=!0,a.support=yj(),a.device=_j({userAgent:n.userAgent}),a.browser=I_e(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:Mxe(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Xr({},iC,l);return a.params=Xr({},c,_S,n),a.originalParams=Xr({},a.params),a.passedParams=Xr({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Is(n,".".concat(i.slideClass,", swiper-slide")),s=lM(r[0]);return lM(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Is(n,".".concat(i.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let m=c+1;m<s.length;m+=1)s[m]&&!h&&(d+=Math.ceil(s[m].swiperSlideSize),u+=1,d>l&&(h=!0));for(let m=c-1;m>=0;m-=1)s[m]&&!h&&(d+=s[m].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<s.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Hy(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove("".concat(i.params.containerModifierClass).concat(r)),i.el.classList.add("".concat(i.params.containerModifierClass).concat(e)),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="rtl"):(n.el.classList.remove("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>".".concat((n.params.wrapperClass||"").trim().split(" ").join("."));let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Is(i,r())[0];return!o&&n.params.createElements&&(o=Ox("div",n.params.wrapperClass),i.append(o),Is(i,".".concat(n.params.slideClass)).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||uc(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||uc(i,"direction")==="rtl"),wrongRTL:uc(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Hy(n,s):s.addEventListener("load",o=>{Hy(n,o.target)})}),nC(n),n.initialized=!0,nC(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),y_e(i)),i.destroyed=!0),null}static extendDefaults(e){Xr(_S,e)}static get extendedDefaults(){return _S}static get defaults(){return iC}static installModule(e){Oa.prototype.__modules__||(Oa.prototype.__modules__=[]);const n=Oa.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Oa.installModule(n)),Oa):(Oa.installModule(e),Oa)}};Object.keys(yS).forEach(t=>{Object.keys(yS[t]).forEach(e=>{wR.prototype[e]=yS[t][e]})});wR.use([D_e,R_e]);const Tj=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function kd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function yf(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:kd(e[i])&&kd(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:yf(t[i],e[i]):t[i]=e[i]})}function Ej(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Sj(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function kj(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Cj(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function Nxe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:"swiper-wrapper ".concat(t):"swiper-wrapper"}function Bxe(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=r.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:m,virtual:b,thumbs:g}=e;let w,y,T,k,D,P,B,O;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(w=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(y=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(T=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&m&&!m.el&&(k=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(D=!0);const A=R=>{e[R]&&(e[R].destroy(),R==="navigation"?(e.isElement&&(e[R].prevEl.remove(),e[R].nextEl.remove()),u[R].prevEl=void 0,u[R].nextEl=void 0,e[R].prevEl=void 0,e[R].nextEl=void 0):(e.isElement&&e[R].el.remove(),u[R].el=void 0,e[R].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?P=!0:!u.loop&&i.loop?B=!0:O=!0),c.forEach(R=>{if(kd(u[R])&&kd(i[R]))Object.assign(u[R],i[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in i[R]&&!i[R].enabled&&A(R);else{const L=i[R];(L===!0||L===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?L===!1&&A(R):u[R]=i[R]}}),c.includes("controller")&&!y&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&n&&b&&u.virtual.enabled?(b.slides=n,b.update(!0)):r.includes("virtual")&&b&&u.virtual.enabled&&(n&&(b.slides=n),b.update(!0)),r.includes("children")&&n&&u.loop&&(O=!0),w&&g.init()&&g.update(!0),y&&(e.controller.control=u.controller.control),T&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),k&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),D&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(P||O)&&e.loopDestroy(),(B||O)&&e.loopCreate(),e.update()}function Uxe(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};yf(n,iC),n._emitClasses=!0,n.init=!1;const s={},o=Tj.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?kd(t[l])?(n[l]={},r[l]={},yf(n[l],t[l]),yf(r[l],t[l])):(n[l]=t[l],r[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i["".concat(l[2].toLowerCase()).concat(l.substr(3))]=t[l]:n.on["".concat(l[2].toLowerCase()).concat(l.substr(3))]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:s,events:i}}function Fxe(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=t;Ej(e)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),Sj(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),kj(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Vxe(t,e,n,i,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&i){const l=i.map(r),c=n.map(r);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return Tj.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(kd(t[l])&&kd(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const $xe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lx.apply(this,arguments)}function Aj(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Ij(t){const e=[];return J.Children.toArray(t).forEach(n=>{Aj(n)?e.push(n):n.props&&n.props.children&&Ij(n.props.children).forEach(i=>e.push(i))}),e}function jxe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return J.Children.toArray(t).forEach(i=>{if(Aj(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=Ij(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function zxe(t,e,n){if(!n)return null;const i=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:"".concat(n.offset,"px")}:{top:"".concat(n.offset,"px")},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=o&&c.push(e[i(u)]);return c.map((u,d)=>J.cloneElement(u,{swiper:t,style:r,key:u.props.virtualIndex||u.key||"slide-".concat(d)}))}function Hg(t,e){return typeof window>"u"?te.useEffect(t,e):te.useLayoutEffect(t,e)}const pM=te.createContext(null),Hxe=te.createContext(null),TR=te.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=te.useState("swiper"),[d,h]=te.useState(null),[m,b]=te.useState(!1),g=te.useRef(!1),w=te.useRef(null),y=te.useRef(null),T=te.useRef(null),k=te.useRef(null),D=te.useRef(null),P=te.useRef(null),B=te.useRef(null),O=te.useRef(null),{params:A,passedParams:R,rest:L,events:U}=Uxe(a),{slides:V,slots:M}=jxe(s),ae=()=>{b(!m)};Object.assign(A.on,{_containerClasses(ne,Y){u(Y)}});const he=()=>{Object.assign(A.on,U),l=!0;const ne={...A};if(delete ne.wrapperClass,y.current=new wR(ne),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=V;const Y={cache:!1,slides:V,renderExternal:h,renderExternalUpdate:!1};yf(y.current.params.virtual,Y),yf(y.current.originalParams.virtual,Y)}};w.current||he(),y.current&&y.current.on("_beforeBreakpoint",ae);const K=()=>{l||!U||!y.current||Object.keys(U).forEach(ne=>{y.current.on(ne,U[ne])})},fe=()=>{!U||!y.current||Object.keys(U).forEach(ne=>{y.current.off(ne,U[ne])})};te.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",ae)}),te.useEffect(()=>{!g.current&&y.current&&(y.current.emitSlidesClasses(),g.current=!0)}),Hg(()=>{if(e&&(e.current=w.current),!!w.current)return y.current.destroyed&&he(),Fxe({el:w.current,nextEl:D.current,prevEl:P.current,paginationEl:B.current,scrollbarEl:O.current,swiper:y.current},A),o&&!y.current.destroyed&&o(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),Hg(()=>{K();const ne=Vxe(R,T.current,V,k.current,Y=>Y.key);return T.current=R,k.current=V,ne.length&&y.current&&!y.current.destroyed&&Bxe({swiper:y.current,slides:V,passedParams:R,changedParams:ne,nextEl:D.current,prevEl:P.current,scrollbarEl:O.current,paginationEl:B.current}),()=>{fe()}}),Hg(()=>{$xe(y.current)},[d]);function ee(){return A.virtual?zxe(y.current,V,d):V.map((ne,Y)=>J.cloneElement(ne,{swiper:y.current,swiperSlideIndex:Y}))}return J.createElement(i,Lx({ref:w,className:Cj("".concat(c).concat(n?" ".concat(n):""))},L),J.createElement(Hxe.Provider,{value:y.current},M["container-start"],J.createElement(r,{className:Nxe(A.wrapperClass)},M["wrapper-start"],ee(),M["wrapper-end"]),Ej(A)&&J.createElement(J.Fragment,null,J.createElement("div",{ref:P,className:"swiper-button-prev"}),J.createElement("div",{ref:D,className:"swiper-button-next"})),kj(A)&&J.createElement("div",{ref:O,className:"swiper-scrollbar"}),Sj(A)&&J.createElement("div",{ref:B,className:"swiper-pagination"}),M["container-end"]))});TR.displayName="Swiper";const ER=te.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=t===void 0?{}:t;const d=te.useRef(null),[h,m]=te.useState("swiper-slide"),[b,g]=te.useState(!1);function w(D,P,B){P===d.current&&m(B)}Hg(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",w),()=>{s&&s.off("_slideClass",w)}}}),Hg(()=>{s&&d.current&&!s.destroyed&&m(s.getSlideClasses(d.current))},[s]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},T=()=>typeof i=="function"?i(y):i,k=()=>{g(!0)};return J.createElement(n,Lx({ref:d,className:Cj("".concat(h).concat(r?" ".concat(r):"")),"data-swiper-slide-index":l,onLoad:k},u),o&&J.createElement(pM.Provider,{value:y},J.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},T(),a&&!b&&J.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&J.createElement(pM.Provider,{value:y},T(),a&&!b&&J.createElement("div",{className:"swiper-lazy-preloader"})))});ER.displayName="SwiperSlide";const Qa=({choice:t})=>{if(t=="vert-list")return N.jsx("div",{children:Array.from({length:5},(e,n)=>N.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"10px 0",padding:"10px"},className:"loading-component-card",children:[N.jsx("div",{style:{width:"100px",minWidth:"100px",height:"130px",borderRadius:"4px"},className:"loading-component-card"}),N.jsx("div",{style:{marginLeft:"10px",flex:1},children:N.jsx("div",{style:{width:"70%",height:"20px",borderRadius:"4px"},className:"loading-component-card"})})]},n))});if(t=="list"){const e=te.useRef(null);return te.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.swiper;n&&n.slideTo(1)},[e]),N.jsx(TR,{spaceBetween:10,slidesPerView:2,centeredSlides:!0,ref:e,direction:"horizontal",children:Array.from({length:5},(n,i)=>N.jsx(ER,{className:"loading-component-list"},i))})}return t=="card_large"?N.jsx("div",{className:"loading-component-card-large"}):t=="full_page"?N.jsxs(Ms,{children:[N.jsx(uo,{style:{padding:"0.5rem"},children:N.jsx(Bc,{slot:"start",children:N.jsx("div",{className:"loading-episode-name"})})}),N.jsx(Ls,{children:N.jsxs("div",{className:"loading-container",children:[N.jsxs("div",{className:"loading-top",children:[N.jsx("div",{className:"loading-image"}),N.jsx("div",{className:"loading-episode-name"}),N.jsxs("div",{className:"loading-episodes",children:[N.jsx("div",{className:"loading-episode"}),N.jsx("div",{className:"loading-episode"}),N.jsx("div",{className:"loading-episode"}),N.jsx("div",{className:"loading-episode"}),N.jsx("div",{className:"loading-episode"})]})]}),N.jsx("div",{className:"loading-bottom"})]})})]}):N.jsx("div",{className:"loading-component-card loading-component"})},sg=({items:t,renderItem:e})=>N.jsx(af,{style:{padding:"0.5rem"},children:t.map(n=>e(n))}),qy=({imageUrl:t,title:e,linkUrl:n,type:i,year:r,duration:s,overview:o})=>{const a=[i?i.charAt(0).toUpperCase()+i.slice(1):void 0,r,s].filter(Boolean),l=o&&o.length>100?"".concat(o.substring(0,100),"..."):o;return N.jsx(pI,{routerLink:n,children:N.jsxs("div",{className:"detail-card-container",children:[N.jsx(_b,{src:t,style:{width:"5rem",aspectRatio:"9/16",objectFit:"cover"}}),N.jsxs("div",{children:[N.jsxs(pU,{children:[N.jsx(dI,{children:e}),a.length>0&&N.jsx(Dse,{children:a.join(" • ")})]}),l&&N.jsx(fU,{style:{paddingTop:0,fontSize:"0.9em"},children:l})]})]})})},qxe=({user:t})=>N.jsxs(vs,{routerLink:"/user/".concat(t.uid),children:[N.jsx(Lc,{slot:"start",children:N.jsx("img",{src:t.photoURL,alt:t.displayName})}),N.jsxs(Si,{children:[N.jsx("h2",{children:t.displayName}),N.jsx("p",{children:t.email})]})]}),Gxe=()=>{const[t,e]=te.useState("people"),[n,i]=te.useState(""),[r,s]=te.useState([]),[o,a]=te.useState([]),[l,c]=te.useState([]),[u,d]=te.useState([]);te.useEffect(()=>{const m=setTimeout(()=>{n?(async()=>{if(t==="people"){s([]),a([]),c([]);const g=Ui(hn),w=mf(g,"users"),y=hx(w,fx("displayName",">=",n),fx("displayName","<=",n+"")),T=await RV(y),k=[];T.forEach(D=>{k.push({uid:D.id,...D.data()})}),d(k)}else{d([]);const[g,w,y]=await Promise.all([r_e(n),d_e(n),p_e(n)]);w.peek&&a(w.boo),y.peek&&c(y.boo)}})():(s([]),a([]),c([]),d([]))},500);return()=>clearTimeout(m)},[n,t]);const h=()=>{switch(t){case"people":return u.length>0?N.jsx(sg,{items:u,renderItem:m=>N.jsx(qxe,{user:m},m.uid)}):n?N.jsx(Qa,{choice:"vert-list"}):N.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for people."});case"movies":return o.length>0?N.jsx(sg,{items:o,renderItem:m=>N.jsx(qy,{imageUrl:m.Poster,title:m.Title,linkUrl:m.Type==="anime"?"/anime/".concat(m.Id):m.Type==="movie"?"/movie/".concat(m.Id):"/tv/".concat(m.Id),type:m.Type,year:m.Year,duration:m.Duration,overview:m.Overview},m.Id)}):n?N.jsx(Qa,{choice:"vert-list"}):N.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for movies."});case"shows":return l.length>0?N.jsx(sg,{items:l,renderItem:m=>N.jsx(qy,{imageUrl:m.Poster,title:m.Title,linkUrl:m.Type==="anime"?"/anime/".concat(m.Id):m.Type==="movie"?"/movie/".concat(m.Id):"/tv/".concat(m.Id),type:m.Type,year:m.Year,duration:m.Duration,overview:m.Overview},m.Id)}):n?N.jsx(Qa,{choice:"vert-list"}):N.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for TV shows."});case"anime":return r.length>0?N.jsx(sg,{items:r,renderItem:m=>N.jsx(qy,{imageUrl:m.Poster,title:m.Title,linkUrl:m.Type==="anime"?"/anime/".concat(m.Id):m.Type==="movie"?"/movie/".concat(m.Id):"/tv/".concat(m.Id),type:m.Type,year:m.Year,duration:m.Duration,overview:m.Overview},m.Id)}):n?N.jsx(Qa,{choice:"vert-list"}):N.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for anime."});default:return null}};return N.jsxs(Ms,{children:[N.jsxs(Mc,{children:[N.jsx(uo,{children:N.jsx(z_,{placeholder:"Search...",value:n,onIonInput:m=>i(m.target.value),clearInput:!0,style:{"--padding-start":"16px","--padding-end":"16px"}})}),N.jsx(uo,{children:N.jsxs(Ose,{value:t,onIonChange:m=>e(m.detail.value.toString()),children:[N.jsx(Yv,{value:"people",children:N.jsx(Si,{children:"People"})}),N.jsx(Yv,{value:"movies",children:N.jsx(Si,{children:"Movies"})}),N.jsx(Yv,{value:"shows",children:N.jsx(Si,{children:"Shows"})}),N.jsx(Yv,{value:"anime",children:N.jsx(Si,{children:"Anime"})})]})})]}),N.jsx(Ls,{children:h()})]})},Wxe=t=>N.jsx(pI,{className:"item-card",routerLink:t.Type=="anime"?"/anime/".concat(t.Id):t.Type=="movie"?"/movie/".concat(t.Id):"/tv/".concat(t.Id),children:N.jsxs("div",{className:"item-card-img-container",children:[N.jsx(_b,{className:"item-card-img",src:t.Poster}),N.jsx(dI,{className:"item-card-title",children:t.Title})]})});function Yxe(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Is(t.el,".".concat(i[r]))[0];s||(s=Ox("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function Xxe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(b){let g;return b&&typeof b=="string"&&e.isElement&&(g=e.el.querySelector(b)||e.hostEl.querySelector(b),g)?g:(b&&(typeof b=="string"&&(g=[...document.querySelectorAll(b)]),e.params.uniqueNavElements&&typeof b=="string"&&g&&g.length>1&&e.el.querySelectorAll(b).length===1?g=e.el.querySelector(b):g&&g.length===1&&(g=g[0])),b&&!g?b:g)}function o(b,g){const w=e.params.navigation;b=Da(b),b.forEach(y=>{y&&(y.classList[g?"add":"remove"](...w.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=g),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){const{nextEl:b,prevEl:g}=e.navigation;if(e.params.loop){o(g,!1),o(b,!1);return}o(g,e.isBeginning&&!e.params.rewind),o(b,e.isEnd&&!e.params.rewind)}function l(b){b.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(b){b.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function u(){const b=e.params.navigation;if(e.params.navigation=Yxe(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let g=s(b.nextEl),w=s(b.prevEl);Object.assign(e.navigation,{nextEl:g,prevEl:w}),g=Da(g),w=Da(w);const y=(T,k)=>{T&&T.addEventListener("click",k==="next"?c:l),!e.enabled&&T&&T.classList.add(...b.lockClass.split(" "))};g.forEach(T=>y(T,"next")),w.forEach(T=>y(T,"prev"))}function d(){let{nextEl:b,prevEl:g}=e.navigation;b=Da(b),g=Da(g);const w=(y,T)=>{y.removeEventListener("click",T==="next"?c:l),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};b.forEach(y=>w(y,"next")),g.forEach(y=>w(y,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?m():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:b,prevEl:g}=e.navigation;if(b=Da(b),g=Da(g),e.enabled){a();return}[...b,...g].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),i("click",(b,g)=>{let{nextEl:w,prevEl:y}=e.navigation;w=Da(w),y=Da(y);const T=g.target;let k=y.includes(T)||w.includes(T);if(e.isElement&&!k){const D=g.path||g.composedPath&&g.composedPath();D&&(k=D.find(P=>w.includes(P)||y.includes(P)))}if(e.params.navigation.hideOnClick&&!k){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===T||e.pagination.el.contains(T)))return;let D;w.length?D=w[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(D=y[0].classList.contains(e.params.navigation.hiddenClass)),r(D===!0?"navigationShow":"navigationHide"),[...w,...y].filter(P=>!!P).forEach(P=>P.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:h,disable:m,update:a,init:u,destroy:d})}function Kxe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=Ii();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l=!1,c={x:0,y:0};const u=-3;let d,h;const m=[],b={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},g={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},w={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let y=1;Object.defineProperty(e.zoom,"scale",{get(){return y},set(ue){if(y!==ue){const Ee=b.imageEl,ye=b.slideEl;r("zoomChange",ue,Ee,ye)}y=ue}});function T(){if(m.length<2)return 1;const ue=m[0].pageX,Ee=m[0].pageY,ye=m[1].pageX,Ye=m[1].pageY;return Math.sqrt((ye-ue)**2+(Ye-Ee)**2)}function k(){const ue=e.params.zoom,Ee=b.imageWrapEl.getAttribute("data-swiper-zoom")||ue.maxRatio;if(ue.limitToOriginalSize&&b.imageEl&&b.imageEl.naturalWidth){const ye=b.imageEl.naturalWidth/b.imageEl.offsetWidth;return Math.min(ye,Ee)}return Ee}function D(){if(m.length<2)return{x:null,y:null};const ue=b.imageEl.getBoundingClientRect();return[(m[0].pageX+(m[1].pageX-m[0].pageX)/2-ue.x-s.scrollX)/o,(m[0].pageY+(m[1].pageY-m[0].pageY)/2-ue.y-s.scrollY)/o]}function P(){return e.isElement?"swiper-slide":".".concat(e.params.slideClass)}function B(ue){const Ee=P();return!!(ue.target.matches(Ee)||e.slides.filter(ye=>ye.contains(ue.target)).length>0)}function O(ue){const Ee=".".concat(e.params.zoom.containerClass);return!!(ue.target.matches(Ee)||[...e.hostEl.querySelectorAll(Ee)].filter(ye=>ye.contains(ue.target)).length>0)}function A(ue){if(ue.pointerType==="mouse"&&m.splice(0,m.length),!B(ue))return;const Ee=e.params.zoom;if(d=!1,h=!1,m.push(ue),!(m.length<2)){if(d=!0,b.scaleStart=T(),!b.slideEl){b.slideEl=ue.target.closest(".".concat(e.params.slideClass,", swiper-slide")),b.slideEl||(b.slideEl=e.slides[e.activeIndex]);let ye=b.slideEl.querySelector(".".concat(Ee.containerClass));if(ye&&(ye=ye.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),b.imageEl=ye,ye?b.imageWrapEl=zy(b.imageEl,".".concat(Ee.containerClass))[0]:b.imageWrapEl=void 0,!b.imageWrapEl){b.imageEl=void 0;return}b.maxRatio=k()}if(b.imageEl){const[ye,Ye]=D();b.originX=ye,b.originY=Ye,b.imageEl.style.transitionDuration="0ms"}a=!0}}function R(ue){if(!B(ue))return;const Ee=e.params.zoom,ye=e.zoom,Ye=m.findIndex(Ut=>Ut.pointerId===ue.pointerId);Ye>=0&&(m[Ye]=ue),!(m.length<2)&&(h=!0,b.scaleMove=T(),b.imageEl&&(ye.scale=b.scaleMove/b.scaleStart*o,ye.scale>b.maxRatio&&(ye.scale=b.maxRatio-1+(ye.scale-b.maxRatio+1)**.5),ye.scale<Ee.minRatio&&(ye.scale=Ee.minRatio+1-(Ee.minRatio-ye.scale+1)**.5),b.imageEl.style.transform="translate3d(0,0,0) scale(".concat(ye.scale,")")))}function L(ue){if(!B(ue)||ue.pointerType==="mouse"&&ue.type==="pointerout")return;const Ee=e.params.zoom,ye=e.zoom,Ye=m.findIndex(Ut=>Ut.pointerId===ue.pointerId);Ye>=0&&m.splice(Ye,1),!(!d||!h)&&(d=!1,h=!1,b.imageEl&&(ye.scale=Math.max(Math.min(ye.scale,b.maxRatio),Ee.minRatio),b.imageEl.style.transitionDuration="".concat(e.params.speed,"ms"),b.imageEl.style.transform="translate3d(0,0,0) scale(".concat(ye.scale,")"),o=ye.scale,a=!1,ye.scale>1&&b.slideEl?b.slideEl.classList.add("".concat(Ee.zoomedSlideClass)):ye.scale<=1&&b.slideEl&&b.slideEl.classList.remove("".concat(Ee.zoomedSlideClass)),ye.scale===1&&(b.originX=0,b.originY=0,b.slideEl=void 0)))}let U;function V(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function M(){clearTimeout(U),e.touchEventsData.preventTouchMoveFromPointerMove=!0,U=setTimeout(()=>{e.destroyed||V()})}function ae(ue){const Ee=e.device;if(!b.imageEl||g.isTouched)return;Ee.android&&ue.cancelable&&ue.preventDefault(),g.isTouched=!0;const ye=m.length>0?m[0]:ue;g.touchesStart.x=ye.pageX,g.touchesStart.y=ye.pageY}function he(ue){const ye=ue.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!B(ue)||!O(ue))return;const Ye=e.zoom;if(!b.imageEl)return;if(!g.isTouched||!b.slideEl){ye&&ee(ue);return}if(ye){ee(ue);return}g.isMoved||(g.width=b.imageEl.offsetWidth||b.imageEl.clientWidth,g.height=b.imageEl.offsetHeight||b.imageEl.clientHeight,g.startX=tC(b.imageWrapEl,"x")||0,g.startY=tC(b.imageWrapEl,"y")||0,b.slideWidth=b.slideEl.offsetWidth,b.slideHeight=b.slideEl.offsetHeight,b.imageWrapEl.style.transitionDuration="0ms");const Ut=g.width*Ye.scale,qn=g.height*Ye.scale;if(g.minX=Math.min(b.slideWidth/2-Ut/2,0),g.maxX=-g.minX,g.minY=Math.min(b.slideHeight/2-qn/2,0),g.maxY=-g.minY,g.touchesCurrent.x=m.length>0?m[0].pageX:ue.pageX,g.touchesCurrent.y=m.length>0?m[0].pageY:ue.pageY,Math.max(Math.abs(g.touchesCurrent.x-g.touchesStart.x),Math.abs(g.touchesCurrent.y-g.touchesStart.y))>5&&(e.allowClick=!1),!g.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(g.minX)===Math.floor(g.startX)&&g.touchesCurrent.x<g.touchesStart.x||Math.floor(g.maxX)===Math.floor(g.startX)&&g.touchesCurrent.x>g.touchesStart.x)){g.isTouched=!1,V();return}if(!e.isHorizontal()&&(Math.floor(g.minY)===Math.floor(g.startY)&&g.touchesCurrent.y<g.touchesStart.y||Math.floor(g.maxY)===Math.floor(g.startY)&&g.touchesCurrent.y>g.touchesStart.y)){g.isTouched=!1,V();return}}ue.cancelable&&ue.preventDefault(),ue.stopPropagation(),M(),g.isMoved=!0;const Tn=(Ye.scale-o)/(b.maxRatio-e.params.zoom.minRatio),{originX:Di,originY:Qt}=b;g.currentX=g.touchesCurrent.x-g.touchesStart.x+g.startX+Tn*(g.width-Di*2),g.currentY=g.touchesCurrent.y-g.touchesStart.y+g.startY+Tn*(g.height-Qt*2),g.currentX<g.minX&&(g.currentX=g.minX+1-(g.minX-g.currentX+1)**.8),g.currentX>g.maxX&&(g.currentX=g.maxX-1+(g.currentX-g.maxX+1)**.8),g.currentY<g.minY&&(g.currentY=g.minY+1-(g.minY-g.currentY+1)**.8),g.currentY>g.maxY&&(g.currentY=g.maxY-1+(g.currentY-g.maxY+1)**.8),w.prevPositionX||(w.prevPositionX=g.touchesCurrent.x),w.prevPositionY||(w.prevPositionY=g.touchesCurrent.y),w.prevTime||(w.prevTime=Date.now()),w.x=(g.touchesCurrent.x-w.prevPositionX)/(Date.now()-w.prevTime)/2,w.y=(g.touchesCurrent.y-w.prevPositionY)/(Date.now()-w.prevTime)/2,Math.abs(g.touchesCurrent.x-w.prevPositionX)<2&&(w.x=0),Math.abs(g.touchesCurrent.y-w.prevPositionY)<2&&(w.y=0),w.prevPositionX=g.touchesCurrent.x,w.prevPositionY=g.touchesCurrent.y,w.prevTime=Date.now(),b.imageWrapEl.style.transform="translate3d(".concat(g.currentX,"px, ").concat(g.currentY,"px,0)")}function K(){const ue=e.zoom;if(m.length=0,!b.imageEl)return;if(!g.isTouched||!g.isMoved){g.isTouched=!1,g.isMoved=!1;return}g.isTouched=!1,g.isMoved=!1;let Ee=300,ye=300;const Ye=w.x*Ee,Ut=g.currentX+Ye,qn=w.y*ye,gi=g.currentY+qn;w.x!==0&&(Ee=Math.abs((Ut-g.currentX)/w.x)),w.y!==0&&(ye=Math.abs((gi-g.currentY)/w.y));const Tn=Math.max(Ee,ye);g.currentX=Ut,g.currentY=gi;const Di=g.width*ue.scale,Qt=g.height*ue.scale;g.minX=Math.min(b.slideWidth/2-Di/2,0),g.maxX=-g.minX,g.minY=Math.min(b.slideHeight/2-Qt/2,0),g.maxY=-g.minY,g.currentX=Math.max(Math.min(g.currentX,g.maxX),g.minX),g.currentY=Math.max(Math.min(g.currentY,g.maxY),g.minY),b.imageWrapEl.style.transitionDuration="".concat(Tn,"ms"),b.imageWrapEl.style.transform="translate3d(".concat(g.currentX,"px, ").concat(g.currentY,"px,0)")}function fe(){const ue=e.zoom;b.slideEl&&e.activeIndex!==e.slides.indexOf(b.slideEl)&&(b.imageEl&&(b.imageEl.style.transform="translate3d(0,0,0) scale(1)"),b.imageWrapEl&&(b.imageWrapEl.style.transform="translate3d(0,0,0)"),b.slideEl.classList.remove("".concat(e.params.zoom.zoomedSlideClass)),ue.scale=1,o=1,b.slideEl=void 0,b.imageEl=void 0,b.imageWrapEl=void 0,b.originX=0,b.originY=0)}function ee(ue){if(o<=1||!b.imageWrapEl||!B(ue)||!O(ue))return;const Ee=s.getComputedStyle(b.imageWrapEl).transform,ye=new s.DOMMatrix(Ee);if(!l){l=!0,c.x=ue.clientX,c.y=ue.clientY,g.startX=ye.e,g.startY=ye.f,g.width=b.imageEl.offsetWidth||b.imageEl.clientWidth,g.height=b.imageEl.offsetHeight||b.imageEl.clientHeight,b.slideWidth=b.slideEl.offsetWidth,b.slideHeight=b.slideEl.offsetHeight;return}const Ye=(ue.clientX-c.x)*u,Ut=(ue.clientY-c.y)*u,qn=g.width*o,gi=g.height*o,Tn=b.slideWidth,Di=b.slideHeight,Qt=Math.min(Tn/2-qn/2,0),bi=-Qt,ls=Math.min(Di/2-gi/2,0),xo=-ls,Gn=Math.max(Math.min(g.startX+Ye,bi),Qt),dr=Math.max(Math.min(g.startY+Ut,xo),ls);b.imageWrapEl.style.transitionDuration="0ms",b.imageWrapEl.style.transform="translate3d(".concat(Gn,"px, ").concat(dr,"px, 0)"),c.x=ue.clientX,c.y=ue.clientY,g.startX=Gn,g.startY=dr}function ne(ue){const Ee=e.zoom,ye=e.params.zoom;if(!b.slideEl){ue&&ue.target&&(b.slideEl=ue.target.closest(".".concat(e.params.slideClass,", swiper-slide"))),b.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?b.slideEl=Is(e.slidesEl,".".concat(e.params.slideActiveClass))[0]:b.slideEl=e.slides[e.activeIndex]);let Wn=b.slideEl.querySelector(".".concat(ye.containerClass));Wn&&(Wn=Wn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),b.imageEl=Wn,Wn?b.imageWrapEl=zy(b.imageEl,".".concat(ye.containerClass))[0]:b.imageWrapEl=void 0}if(!b.imageEl||!b.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),b.slideEl.classList.add("".concat(ye.zoomedSlideClass));let Ye,Ut,qn,gi,Tn,Di,Qt,bi,ls,xo,Gn,dr,Xe,js,zs,Hs,Fr,cs;typeof g.touchesStart.x>"u"&&ue?(Ye=ue.pageX,Ut=ue.pageY):(Ye=g.touchesStart.x,Ut=g.touchesStart.y);const St=typeof ue=="number"?ue:null;o===1&&St&&(Ye=void 0,Ut=void 0,g.touchesStart.x=void 0,g.touchesStart.y=void 0);const Ft=k();Ee.scale=St||Ft,o=St||Ft,ue&&!(o===1&&St)?(Fr=b.slideEl.offsetWidth,cs=b.slideEl.offsetHeight,qn=aM(b.slideEl).left+s.scrollX,gi=aM(b.slideEl).top+s.scrollY,Tn=qn+Fr/2-Ye,Di=gi+cs/2-Ut,ls=b.imageEl.offsetWidth||b.imageEl.clientWidth,xo=b.imageEl.offsetHeight||b.imageEl.clientHeight,Gn=ls*Ee.scale,dr=xo*Ee.scale,Xe=Math.min(Fr/2-Gn/2,0),js=Math.min(cs/2-dr/2,0),zs=-Xe,Hs=-js,Qt=Tn*Ee.scale,bi=Di*Ee.scale,Qt<Xe&&(Qt=Xe),Qt>zs&&(Qt=zs),bi<js&&(bi=js),bi>Hs&&(bi=Hs)):(Qt=0,bi=0),St&&Ee.scale===1&&(b.originX=0,b.originY=0),b.imageWrapEl.style.transitionDuration="300ms",b.imageWrapEl.style.transform="translate3d(".concat(Qt,"px, ").concat(bi,"px,0)"),b.imageEl.style.transitionDuration="300ms",b.imageEl.style.transform="translate3d(0,0,0) scale(".concat(Ee.scale,")")}function Y(){const ue=e.zoom,Ee=e.params.zoom;if(!b.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?b.slideEl=Is(e.slidesEl,".".concat(e.params.slideActiveClass))[0]:b.slideEl=e.slides[e.activeIndex];let ye=b.slideEl.querySelector(".".concat(Ee.containerClass));ye&&(ye=ye.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),b.imageEl=ye,ye?b.imageWrapEl=zy(b.imageEl,".".concat(Ee.containerClass))[0]:b.imageWrapEl=void 0}!b.imageEl||!b.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),ue.scale=1,o=1,g.touchesStart.x=void 0,g.touchesStart.y=void 0,b.imageWrapEl.style.transitionDuration="300ms",b.imageWrapEl.style.transform="translate3d(0,0,0)",b.imageEl.style.transitionDuration="300ms",b.imageEl.style.transform="translate3d(0,0,0) scale(1)",b.slideEl.classList.remove("".concat(Ee.zoomedSlideClass)),b.slideEl=void 0,b.originX=0,b.originY=0,e.params.zoom.panOnMouseMove&&(c={x:0,y:0},l&&(l=!1,g.startX=0,g.startY=0)))}function pe(ue){const Ee=e.zoom;Ee.scale&&Ee.scale!==1?Y():ne(ue)}function ge(){const ue=e.params.passiveListeners?{passive:!0,capture:!1}:!1,Ee=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:ue,activeListenerWithCapture:Ee}}function De(){const ue=e.zoom;if(ue.enabled)return;ue.enabled=!0;const{passiveListener:Ee,activeListenerWithCapture:ye}=ge();e.wrapperEl.addEventListener("pointerdown",A,Ee),e.wrapperEl.addEventListener("pointermove",R,ye),["pointerup","pointercancel","pointerout"].forEach(Ye=>{e.wrapperEl.addEventListener(Ye,L,Ee)}),e.wrapperEl.addEventListener("pointermove",he,ye)}function Ne(){const ue=e.zoom;if(!ue.enabled)return;ue.enabled=!1;const{passiveListener:Ee,activeListenerWithCapture:ye}=ge();e.wrapperEl.removeEventListener("pointerdown",A,Ee),e.wrapperEl.removeEventListener("pointermove",R,ye),["pointerup","pointercancel","pointerout"].forEach(Ye=>{e.wrapperEl.removeEventListener(Ye,L,Ee)}),e.wrapperEl.removeEventListener("pointermove",he,ye)}i("init",()=>{e.params.zoom.enabled&&De()}),i("destroy",()=>{Ne()}),i("touchStart",(ue,Ee)=>{e.zoom.enabled&&ae(Ee)}),i("touchEnd",(ue,Ee)=>{e.zoom.enabled&&K()}),i("doubleTap",(ue,Ee)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&pe(Ee)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&fe()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&fe()}),Object.assign(e.zoom,{enable:De,disable:Ne,in:ne,out:Y,toggle:pe})}function Qxe(t){let{swiper:e,extendParams:n,on:i,emit:r,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),h,m,b,g,w,y,T;function k(ee){!e||e.destroyed||!e.wrapperEl||ee.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",k),!(T||ee.detail&&ee.detail.bySwiperTouchMove)&&L())}const D=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=u,h=!1);const ee=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=ee,r("autoplayTimeLeft",ee,ee/l),a=requestAnimationFrame(()=>{D()})},P=()=>{let ee;return e.virtual&&e.params.virtual.enabled?ee=e.slides.find(Y=>Y.classList.contains("swiper-slide-active")):ee=e.slides[e.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},B=ee=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),D();let ne=typeof ee>"u"?e.params.autoplay.delay:ee;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const Y=P();!Number.isNaN(Y)&&Y>0&&typeof ee>"u"&&(ne=Y,l=Y,c=Y),u=ne;const pe=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(pe,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,pe,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(pe,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,pe,!0,!0),r("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{B()})))};return ne>0?(clearTimeout(o),o=setTimeout(()=>{ge()},ne)):requestAnimationFrame(()=>{ge()}),ne},O=()=>{d=new Date().getTime(),e.autoplay.running=!0,B(),r("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},R=(ee,ne)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),ee||(y=!0);const Y=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",k):L()};if(e.autoplay.paused=!0,ne){w&&(u=e.params.autoplay.delay),w=!1,Y();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),Y())},L=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),y?(y=!1,B(u)):B(),e.autoplay.paused=!1,r("autoplayResume"))},U=()=>{if(e.destroyed||!e.autoplay.running)return;const ee=oo();ee.visibilityState==="hidden"&&(y=!0,R(!0)),ee.visibilityState==="visible"&&L()},V=ee=>{ee.pointerType==="mouse"&&(y=!0,T=!0,!(e.animating||e.autoplay.paused)&&R(!0))},M=ee=>{ee.pointerType==="mouse"&&(T=!1,e.autoplay.paused&&L())},ae=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",V),e.el.addEventListener("pointerleave",M))},he=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",V),e.el.removeEventListener("pointerleave",M))},K=()=>{oo().addEventListener("visibilitychange",U)},fe=()=>{oo().removeEventListener("visibilitychange",U)};i("init",()=>{e.params.autoplay.enabled&&(ae(),K(),O())}),i("destroy",()=>{he(),fe(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(b||y)&&L()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():R(!0,!0)}),i("beforeTransitionStart",(ee,ne,Y)=>{e.destroyed||!e.autoplay.running||(Y||!e.params.autoplay.disableOnInteraction?R(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}m=!0,b=!1,y=!1,g=setTimeout(()=>{y=!0,b=!0,R(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(g),clearTimeout(o),e.params.autoplay.disableOnInteraction){b=!1,m=!1;return}b&&e.params.cssMode&&L(),b=!1,m=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:O,stop:A,pause:R,resume:L})}const xS=t=>{const e=te.useRef(null);return te.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.swiper;n&&(n.slideTo(1),n.loopCreate(),n.autoplay)},[e]),N.jsx(TR,{spaceBetween:5,slidesPerView:2,centeredSlides:!0,autoplay:!0,ref:e,modules:[Qxe,Xxe,Kxe],children:Object.keys(t).map((n,i)=>N.jsx(ER,{children:N.jsx(Wxe,{...t[i]})},i))})},Zxe=({item:t})=>N.jsxs(pI,{className:"featured-card",routerLink:"/".concat(t.Type,"/").concat(t.Id),children:[N.jsx(_b,{src:t.Poster,className:"featured-card-image"}),N.jsx("div",{className:"featured-card-gradient"}),N.jsxs("div",{className:"featured-card-content",children:[N.jsx(pU,{children:N.jsx(dI,{children:t.Title})}),N.jsxs(fU,{children:[N.jsx("p",{children:t.Overview}),N.jsxs(ai,{fill:"clear",children:[N.jsx(ki,{slot:"start",icon:VU}),"Watch Now"]})]})]})]}),Jxe=()=>{const[t,e]=te.useState([]),[n,i]=te.useState([]),[r,s]=te.useState([]),[o,a]=te.useState(null),[l]=wb(),c=m=>{l({message:m,duration:3e3,swipeGesture:"vertical",position:"top"})},u=async()=>{const m=await i_e();if(m.peek!=!0){c("Error loading trending anime");return}e(m.boo)},d=async()=>{const m=await u_e();if(m.peek!=!0){c("Error loading trending movies");return}i(m.boo),m.boo.length>0&&a(m.boo[0])},h=async()=>{const m=await f_e();if(console.log(m),m.peek!=!0){c("Error loading trending TV");return}s(m.boo)};return te.useEffect(()=>{u(),d(),h()},[]),N.jsxs(Ms,{children:[N.jsx(Mc,{translucent:!0,children:N.jsx(uo,{children:N.jsx(Bc,{children:"Media"})})}),N.jsxs(Ls,{className:"ion-padding",children:[o?N.jsxs(N.Fragment,{children:[N.jsx("h1",{children:"Featured"}),N.jsx(Zxe,{item:o})]}):N.jsx(Qa,{choice:"list"}),N.jsx("h1",{children:"Trending Shows"}),r.length>0?N.jsx(xS,{...r}):N.jsx(Qa,{choice:"list"}),N.jsx("h1",{children:"Trending Movies"}),n.length>0?N.jsx(xS,{...n}):N.jsx(Qa,{choice:"list"}),N.jsx("h1",{children:"Trending Anime"}),t.length>0?N.jsx(xS,{...t}):N.jsx(Qa,{choice:"list"})]})]})};var og;typeof window<"u"?og=window:typeof Xy<"u"?og=Xy:typeof self<"u"?og=self:og={};var tT=og;const q=da(tT),ewe={},twe=Object.freeze(Object.defineProperty({__proto__:null,default:ewe},Symbol.toStringTag,{value:"Module"})),nwe=XN(twe);var mM=typeof Xy<"u"?Xy:typeof window<"u"?window:{},iwe=nwe,ag;typeof document<"u"?ag=document:(ag=mM["__GLOBAL_DOCUMENT_CACHE@4"],ag||(ag=mM["__GLOBAL_DOCUMENT_CACHE@4"]=iwe));var Dj=ag;const me=da(Dj);var SR={exports:{}};const rwe=XN(goe);var swe=awe,owe=Object.prototype.toString;function awe(t){if(!t)return!1;var e=owe.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function lwe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=cwe(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cwe(t,e){if(t){if(typeof t=="string")return gM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(t,e)}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var uwe=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(i,r){this.typeToInterceptorsMap_.has(i)||this.typeToInterceptorsMap_.set(i,new Set);var s=this.typeToInterceptorsMap_.get(i);return s.has(r)?!1:(s.add(r),!0)},e.removeInterceptor=function(i,r){var s=this.typeToInterceptorsMap_.get(i);return s&&s.has(r)?(s.delete(r),!0):!1},e.clearInterceptorsByType=function(i){var r=this.typeToInterceptorsMap_.get(i);return r?(this.typeToInterceptorsMap_.delete(i),this.typeToInterceptorsMap_.set(i,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(i){return this.typeToInterceptorsMap_.get(i)||new Set},e.execute=function(i,r){for(var s=this.getForType(i),o=lwe(s),a;!(a=o()).done;){var l=a.value;try{r=l(r)}catch(c){}}return r},t}(),dwe=uwe,hwe=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(i){this.maxAttempts_=i},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(i){this.delayFactor_=i},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(i){this.fuzzFactor_=i},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(i){this.initialDelay_=i},e.createRetry=function(i){var r=i===void 0?{}:i,s=r.maxAttempts,o=r.delayFactor,a=r.fuzzFactor,l=r.initialDelay;return new fwe({maxAttempts:s||this.maxAttempts_,delayFactor:o||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),fwe=function(){function t(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var i=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+i},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var i=this.getCurrentMinPossibleDelay(),r=this.getCurrentMaxPossibleDelay();return i+Math.random()*(r-i)},t}(),pwe=hwe,mwe=tT,gwe=function(e,n){return n===void 0&&(n=!1),function(i,r,s){if(i){e(i);return}if(r.statusCode>=400&&r.statusCode<=599){var o=s;if(n)if(mwe.TextDecoder){var a=bwe(r.headers&&r.headers["content-type"]);try{o=new TextDecoder(a).decode(s)}catch(l){}}else o=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:o});return}e(null,s)}};function bwe(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],s=i[1];return r.trim()==="charset"?s.trim():e},"utf-8")}var vwe=gwe,Rj=tT,ywe=rwe,_we=swe,Pj=dwe,xwe=pwe;yn.httpHandler=vwe;yn.requestInterceptorsStorage=new Pj;yn.responseInterceptorsStorage=new Pj;yn.retryManager=new xwe;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var wwe=function(e){var n={};return e&&e.trim().split("\n").forEach(function(i){var r=i.indexOf(":"),s=i.slice(0,r).trim().toLowerCase(),o=i.slice(r+1).trim();typeof n[s]>"u"?n[s]=o:Array.isArray(n[s])?n[s].push(o):n[s]=[n[s],o]}),n};SR.exports=yn;SR.exports.default=yn;yn.XMLHttpRequest=Rj.XMLHttpRequest||kwe;yn.XDomainRequest="withCredentials"in new yn.XMLHttpRequest?yn.XMLHttpRequest:Rj.XDomainRequest;Twe(["get","put","post","patch","head","delete"],function(t){yn[t==="delete"?"del":t]=function(e,n,i){return n=Oj(e,n,i),n.method=t.toUpperCase(),kR(n)}});function Twe(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Ewe(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Oj(t,e,n){var i=t;return _we(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=ywe({},e,{uri:t}),i.callback=n,i}function yn(t,e,n){return e=Oj(t,e,n),kR(e)}function kR(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&yn.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},n=yn.requestInterceptorsStorage.execute(t.requestType,e);t.uri=n.uri,t.headers=n.headers,t.body=n.body,t.metadata=n.metadata,t.retry=n.retry,t.timeout=n.timeout}var i=!1,r=function(P,B,O){i||(i=!0,t.callback(P,B,O))};function s(){c.readyState===4&&!yn.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function o(){var D=void 0;if(c.response?D=c.response:D=c.responseText||Swe(c),y)try{D=JSON.parse(D)}catch(P){}return D}function a(D){if(clearTimeout(T),clearTimeout(t.retryTimeout),D instanceof Error||(D=new Error(""+(D||"Unknown XMLHttpRequest Error"))),D.statusCode=0,!d&&yn.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=c,kR(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&yn.responseInterceptorsStorage.getIsEnabled()){var P={headers:k.headers||{},body:k.body,responseUrl:c.responseURL,responseType:c.responseType},B=yn.responseInterceptorsStorage.execute(t.requestType,P);k.body=B.body,k.headers=B.headers}return r(D,k)}function l(){if(!d){var D;clearTimeout(T),clearTimeout(t.retryTimeout),t.useXDR&&c.status===void 0?D=200:D=c.status===1223?204:c.status;var P=k,B=null;if(D!==0?(P={body:o(),statusCode:D,method:m,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(P.headers=wwe(c.getAllResponseHeaders()))):B=new Error("Internal XMLHttpRequest Error"),t.requestType&&yn.responseInterceptorsStorage.getIsEnabled()){var O={headers:P.headers||{},body:P.body,responseUrl:c.responseURL,responseType:c.responseType},A=yn.responseInterceptorsStorage.execute(t.requestType,O);P.body=A.body,P.headers=A.headers}return r(B,P,P.body)}}var c=t.xhr||null;c||(t.cors||t.useXDR?c=new yn.XDomainRequest:c=new yn.XMLHttpRequest);var u,d,h=c.url=t.uri||t.url,m=c.method=t.method||"GET",b=t.body||t.data,g=c.headers=t.headers||{},w=!!t.sync,y=!1,T,k={body:void 0,headers:{},statusCode:0,method:m,url:h,rawRequest:c};if("json"in t&&t.json!==!1&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),m!=="GET"&&m!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),b=JSON.stringify(t.json===!0?b:t.json))),c.onreadystatechange=s,c.onload=l,c.onerror=a,c.onprogress=function(){},c.onabort=function(){d=!0,clearTimeout(t.retryTimeout)},c.ontimeout=a,c.open(m,h,!w,t.username,t.password),w||(c.withCredentials=!!t.withCredentials),!w&&t.timeout>0&&(T=setTimeout(function(){if(!d){d=!0,c.abort("timeout");var D=new Error("XMLHttpRequest timeout");D.code="ETIMEDOUT",a(D)}},t.timeout)),c.setRequestHeader)for(u in g)g.hasOwnProperty(u)&&c.setRequestHeader(u,g[u]);else if(t.headers&&!Ewe(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(c),c.send(b||null),c}function Swe(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch(n){}return null}function kwe(){}var Cwe=SR.exports;const Lj=da(Cwe);var Mj={exports:{}},bM=Dj,CR=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Qr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Qr.prototype=CR(Error.prototype);Qr.prototype.constructor=Qr;Qr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function AR(t){function e(i,r,s,o){return(i|0)*3600+(r|0)*60+(s|0)+(o|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function qg(){this.values=CR(null)}qg.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function lg(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if(typeof r[s]=="string"){var o=r[s].split(n);if(o.length===2){var a=o[0].trim(),l=o[1].trim();e(a,l)}}}function Awe(t,e,n){var i=t;function r(){var a=AR(t);if(a===null)throw new Qr(Qr.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){var c=new qg;lg(a,function(u,d){switch(u){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===d){c.set(u,n[h].region);break}break;case"vertical":c.alt(u,d,["rl","lr"]);break;case"line":var m=d.split(","),b=m[0];c.integer(u,b),c.percent(u,b)&&c.set("snapToLines",!1),c.alt(u,b,["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start","center","end"]);break;case"position":m=d.split(","),c.percent(u,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start","center","end"]);break;case"size":c.percent(u,d);break;case"align":c.alt(u,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch(u){}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch(u){l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch(u){l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),t.substr(0,3)!=="-->")throw new Qr(Qr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),s(t,e)}var wS=bM.createElement&&bM.createElement("textarea"),Iwe={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},vM={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Dwe={v:"title",lang:"lang"},yM={rt:"ruby"};function Nj(t,e){function n(){if(!e)return null;function b(w){return e=e.substr(w.length),w}var g=e.match(/^([^<]*)(<[^>]*>?)?/);return b(g[1]?g[1]:g[2])}function i(b){return wS.innerHTML=b,b=wS.textContent,wS.textContent="",b}function r(b,g){return!yM[g.localName]||yM[g.localName]===b.localName}function s(b,g){var w=Iwe[b];if(!w)return null;var y=t.document.createElement(w),T=Dwe[b];return T&&g&&(y[T]=g.trim()),y}for(var o=t.document.createElement("div"),a=o,l,c=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),a=a.parentNode);continue}var u=AR(l.substr(1,l.length-2)),d;if(u){d=t.document.createProcessingInstruction("timestamp",u),a.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=s(h[1],h[3]),!d)||!r(a,d))continue;if(h[2]){var m=h[2].split(".");m.forEach(function(b){var g=/^bg_/.test(b),w=g?b.slice(3):b;if(vM.hasOwnProperty(w)){var y=g?"background-color":"color",T=vM[w];d.style[y]=T}}),d.className=m.join(" ")}c.push(h[1]),a.appendChild(d),a=d;continue}a.appendChild(t.document.createTextNode(i(l)))}return o}var _M=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Rwe(t){for(var e=0;e<_M.length;e++){var n=_M[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function Pwe(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(a,l){for(var c=l.childNodes.length-1;c>=0;c--)a.push(l.childNodes[c])}function s(a){if(!a||!a.length)return null;var l=a.pop(),c=l.textContent||l.innerText;if(c){var u=c.match(/^.*(\n|\r)/);return u?(a.length=0,u[0]):c}if(l.tagName==="ruby")return s(a);if(l.childNodes)return r(a,l),s(a)}for(r(e,t);n=s(e);)for(var o=0;o<n.length;o++)if(i=n.charCodeAt(o),Rwe(i))return"rtl";return"ltr"}function Owe(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function nT(){}nT.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};nT.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Mx(t,e,n){nT.call(this),this.cue=e,this.cueDiv=Nj(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:Pwe(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":case"line-left":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":case"line-right":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Mx.prototype=CR(nT.prototype);Mx.prototype.constructor=Mx;function er(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}er.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};er.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};er.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};er.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};er.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};er.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};er.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};er.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function Lwe(t,e,n,i){function r(w,y){for(var T,k=new er(w),D=1,P=0;P<y.length;P++){for(;w.overlapsOppositeAxis(n,y[P])||w.within(n)&&w.overlapsAny(i);)w.move(y[P]);if(w.within(n))return w;var B=w.intersectPercentage(n);D>B&&(T=new er(w),D=B),w=new er(k)}return T||k}var s=new er(e),o=e.cue,a=Owe(o),l=[];if(o.snapToLines){var c;switch(o.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=s.lineHeight,d=u*Math.round(a),h=n[c]+u,m=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/u)*u),a<0&&(d+=o.vertical===""?n.height:n.width,l=l.reverse()),s.move(m,d)}else{var b=s.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=b/2;break;case"end":a-=b;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new er(e)}var g=r(s,l);e.move(g.toCSSCompatValues(n))}function jp(){}jp.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};jp.convertCueToDOMTree=function(t,e){return!t||!e?null:Nj(t,e)};var Mwe=.05,Nwe="sans-serif",Bwe="1.5%";jp.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=Bwe,n.appendChild(i);function r(u){for(var d=0;d<u.length;d++)if(u[d].hasBeenReset||!u[d].displayState)return!0;return!1}if(!r(e)){for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState);return}var o=[],a=er.getSimpleBoxPosition(i),l=Math.round(a.height*Mwe*100)/100,c={font:l+"px "+Nwe};(function(){for(var u,d,h=0;h<e.length;h++)d=e[h],u=new Mx(t,d,c),i.appendChild(u.div),Lwe(t,u,a,o),d.displayState=u.div,o.push(er.getSimpleBoxPosition(u))})()};jp.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};jp.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Qr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var u=e.buffer,d=0;d<u.length&&u[d]!=="\r"&&u[d]!=="\n";)++d;var h=u.substr(0,d);return u[d]==="\r"&&++d,u[d]==="\n"&&++d,e.buffer=u.substr(d),h}function i(u){var d=new qg;if(lg(u,function(m,b){switch(m){case"id":d.set(m,b);break;case"width":d.percent(m,b);break;case"lines":d.integer(m,b);break;case"regionanchor":case"viewportanchor":var g=b.split(",");if(g.length!==2)break;var w=new qg;if(w.percent("x",g[0]),w.percent("y",g[1]),!w.has("x")||!w.has("y"))break;d.set(m+"X",w.get("x")),d.set(m+"Y",w.get("y"));break;case"scroll":d.alt(m,b,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function r(u){var d=new qg;lg(u,function(h,m){switch(h){case"MPEGT":d.integer(h+"S",m);break;case"LOCA":d.set(h+"L",AR(m));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(u){u.match(/X-TIMESTAMP-MAP/)?lg(u,function(d,h){switch(d){case"X-TIMESTAMP-MAP":r(h);break}},/=/):lg(u,function(d,h){switch(d){case"Region":i(h);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=n();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Qr(Qr.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=n(),e.state){case"HEADER":/:/.test(o)?s(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(u){e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{Awe(o,e.cue,e.regionList)}catch(u){e.reportOrThrowError(u),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=o.indexOf("-->")!==-1;if(!o||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=o.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":o||(e.state="ID");continue}}}catch(u){e.reportOrThrowError(u),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+="\n\n",t.parse()),t.state==="INITIAL")throw new Qr(Qr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Uwe=jp,Fwe="auto",Vwe={"":1,lr:1,rl:1},$we={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function jwe(t){if(typeof t!="string")return!1;var e=Vwe[t.toLowerCase()];return e?t.toLowerCase():!1}function TS(t){if(typeof t!="string")return!1;var e=$we[t.toLowerCase()];return e?t.toLowerCase():!1}function Bj(t,e,n){this.hasBeenReset=!1;var i="",r=!1,s=t,o=e,a=n,l=null,c="",u=!0,d="auto",h="start",m="auto",b="auto",g=100,w="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(y){i=""+y}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(y){r=!!y}},startTime:{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number")throw new TypeError("Start time must be set to a number.");s=y,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(y){if(typeof y!="number")throw new TypeError("End time must be set to a number.");o=y,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(y){a=""+y,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(y){l=y,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(y){var T=jwe(y);if(T===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=T,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(y){u=!!y,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(y){if(typeof y!="number"&&y!==Fwe)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=y,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(y){var T=TS(y);T?(h=T,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(y){if(y<0||y>100)throw new Error("Position must be between 0 and 100.");m=y,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return b},set:function(y){var T=TS(y);T?(b=T,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(y){if(y<0||y>100)throw new Error("Size must be between 0 and 100.");g=y,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return w},set:function(y){var T=TS(y);if(!T)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");w=T,this.hasBeenReset=!0}}}),this.displayState=void 0}Bj.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var zwe=Bj,Hwe={"":!0,up:!0};function qwe(t){if(typeof t!="string")return!1;var e=Hwe[t.toLowerCase()];return e?t.toLowerCase():!1}function Fm(t){return typeof t=="number"&&t>=0&&t<=100}function Gwe(){var t=100,e=3,n=0,i=100,r=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!Fm(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(a){if(!Fm(a))throw new Error("RegionAnchorX must be between 0 and 100.");i=a}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(a){if(!Fm(a))throw new Error("RegionAnchorY must be between 0 and 100.");n=a}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(a){if(!Fm(a))throw new Error("ViewportAnchorY must be between 0 and 100.");s=a}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!Fm(a))throw new Error("ViewportAnchorX must be between 0 and 100.");r=a}},scroll:{enumerable:!0,get:function(){return o},set:function(a){var l=qwe(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var Wwe=Gwe,pl=tT,zd=Mj.exports={WebVTT:Uwe,VTTCue:zwe,VTTRegion:Wwe};pl.vttjs=zd;pl.WebVTT=zd.WebVTT;var Ywe=zd.VTTCue,Xwe=zd.VTTRegion,Kwe=pl.VTTCue,Qwe=pl.VTTRegion;zd.shim=function(){pl.VTTCue=Ywe,pl.VTTRegion=Xwe};zd.restore=function(){pl.VTTCue=Kwe,pl.VTTRegion=Qwe};pl.VTTCue||zd.shim();var Zwe=Mj.exports;const xM=da(Zwe);var wM="https://example.com",iT=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=q.location&&q.location.href||"");var i=/^\/\//.test(e),r=!q.location&&!/\/\//i.test(e);e=new q.URL(e,q.location||wM);var s=new URL(n,e);return r?s.href.slice(wM.length):i?s.href.slice(s.protocol.length):s.href},IR=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},e.off=function(i,r){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},e.trigger=function(i){var r=this.listeners[i];if(r)if(arguments.length===2)for(var s=r.length,o=0;o<s;++o)r[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=r.length,c=0;c<l;++c)r[c].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(r){i.push(r)})},t}(),Jwe=function(e){return q.atob?q.atob(e):Buffer.from(e,"base64").toString("binary")};function Uj(t){for(var e=Jwe(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class e1e extends IR{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf("\n");n>-1;n=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const t1e="	",ES=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},n1e=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},Ki=function(t){const e={};if(!t)return e;const n=t.split(n1e());let i=n.length,r;for(;i--;)n[i]!==""&&(r=/([^=]*)=(.*)/.exec(n[i]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),e[r[0]]=r[1]);return e},TM=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class i1e extends IR{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,o)=>{const a=o(e);return a===e?s:s.concat([a])},[e]).forEach(s=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){i={type:"tag",tagType:"inf"},n[1]&&(i.duration=parseFloat(n[1])),n[2]&&(i.title=n[2]),this.trigger("data",i);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"targetduration"},n[1]&&(i.duration=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"version"},n[1]&&(i.version=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"media-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){i={type:"tag",tagType:"playlist-type"},n[1]&&(i.playlistType=n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){i=ft(ES(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){i={type:"tag",tagType:"allow-cache"},n[1]&&(i.allowed=!/NO/.test(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(i={type:"tag",tagType:"map"},n[1]){const o=Ki(n[1]);o.URI&&(i.uri=o.URI),o.BYTERANGE&&(i.byterange=ES(o.BYTERANGE))}this.trigger("data",i);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){i={type:"tag",tagType:"stream-inf"},n[1]&&(i.attributes=Ki(n[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=TM(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){i={type:"tag",tagType:"media"},n[1]&&(i.attributes=Ki(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){i={type:"tag",tagType:"program-date-time"},n[1]&&(i.dateTimeString=n[1],i.dateTimeObject=new Date(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){i={type:"tag",tagType:"key"},n[1]&&(i.attributes=Ki(n[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){i={type:"tag",tagType:"start"},n[1]&&(i.attributes=Ki(n[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out-cont"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-in"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"skip"},i.attributes=Ki(n[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(t1e)),this.trigger("data",i);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part"},i.attributes=Ki(n[1]),["DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/.test(i.attributes[o]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=ES(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"server-control"},i.attributes=Ki(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/.test(i.attributes[o]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Ki(n[1]),["PART-TARGET"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Ki(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(i.attributes.hasOwnProperty(o)){i.attributes[o]=parseInt(i.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[a]=i.attributes[o],delete i.attributes[o]}}),this.trigger("data",i);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Ki(n[1]),["LAST-MSN","LAST-PART"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseInt(i.attributes[o],10))}),this.trigger("data",i);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"daterange"},i.attributes=Ki(n[1]),["ID","CLASS"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=String(i.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=new Date(i.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/i.test(i.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=i.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in i.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(i.attributes[a]),c=/^\d+(\.\d+)?$/.test(i.attributes[a]);i.attributes[a]=l?i.attributes[a].toString(16):c?parseFloat(i.attributes[a]):String(i.attributes[a])}this.trigger("data",i);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),n){i={type:"tag",tagType:"content-steering"},i.attributes=Ki(n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),n){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=Ki(n[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=TM(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(s),n){i={type:"tag",tagType:"define"},i.attributes=Ki(n[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:n,dataParser:i,segment:r}){typeof i!="function"&&(i=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:n,segment:r}),!0})}addTagMapper({expression:e,map:n}){const i=r=>e.test(r)?n(r):r;this.tagMappers.push(i)}}const r1e=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),$l=function(t){const e={};return Object.keys(t).forEach(function(n){e[r1e(n)]=t[n]}),e},SS=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:i}=t;if(!e)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",a=n&&n*3,l=i&&i*2;n&&!e.hasOwnProperty(s)&&(e[s]=a,this.trigger("info",{message:"".concat(r," defaulting HOLD-BACK to targetDuration * 3 (").concat(a,").")})),a&&e[s]<a&&(this.trigger("warn",{message:"".concat(r," clamping HOLD-BACK (").concat(e[s],") to targetDuration * 3 (").concat(a,")")}),e[s]=a),i&&!e.hasOwnProperty(o)&&(e[o]=i*3,this.trigger("info",{message:"".concat(r," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(e[o],").")})),i&&e[o]<l&&(this.trigger("warn",{message:"".concat(r," clamping PART-HOLD-BACK (").concat(e[o],") to partTargetDuration * 2 (").concat(l,").")}),e[o]=l)};class s1e extends IR{constructor(e={}){super(),this.lineStream=new e1e,this.parseStream=new i1e,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,i=[];let r={},s,o,a=!1;const l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,m=0;const b={};this.on("end",()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&s&&(r.map=s),!r.key&&o&&(r.key=o),!r.timeline&&typeof d=="number"&&(r.timeline=d),this.manifest.preloadSegment=r)}),this.parseStream.on("data",function(g){let w,y;if(n.manifest.definitions){for(const T in n.manifest.definitions)if(g.uri&&(g.uri=g.uri.replace("{$".concat(T,"}"),n.manifest.definitions[T])),g.attributes)for(const k in g.attributes)typeof g.attributes[k]=="string"&&(g.attributes[k]=g.attributes[k].replace("{$".concat(T,"}"),n.manifest.definitions[T]))}({tag(){({version(){g.version&&(this.manifest.version=g.version)},"allow-cache"(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const T={};"length"in g&&(r.byterange=T,T.length=g.length,"offset"in g||(g.offset=h)),"offset"in g&&(r.byterange=T,T.offset=g.offset),h=T.offset+T.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.title&&(r.title=g.title),g.duration>0&&(r.duration=g.duration),g.duration===0&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){o=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:g.attributes.URI};return}if(g.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:Uj(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV<"u"&&(o.iv=g.attributes.IV)},"media-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,d=g.number},"playlist-type"(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map(){s={},g.uri&&(s.uri=g.uri),g.byterange&&(s.byterange=g.byterange),o&&(s.key=o)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}r.attributes||(r.attributes={}),ft(r.attributes,g.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const T=this.manifest.mediaGroups[g.attributes.TYPE];T[g.attributes["GROUP-ID"]]=T[g.attributes["GROUP-ID"]]||{},w=T[g.attributes["GROUP-ID"]],y={default:/yes/i.test(g.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(y.language=g.attributes.LANGUAGE),g.attributes.URI&&(y.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(y.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(y.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(y.forced=/yes/i.test(g.attributes.FORCED)),w[g.attributes.NAME]=y},discontinuity(){d+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),r.dateTimeString=g.dateTimeString,r.dateTimeObject=g.dateTimeObject;const{lastProgramDateTime:T}=this;this.lastProgramDateTime=new Date(g.dateTimeString).getTime(),T===null&&this.manifest.segments.reduceRight((k,D)=>(D.programDateTime=k-D.duration*1e3,D.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,SS.call(this,this.manifest)},start(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out"(){r.cueOut=g.data},"cue-out-cont"(){r.cueOutCont=g.data},"cue-in"(){r.cueIn=g.data},skip(){this.manifest.skip=$l(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const T=this.manifest.segments.length,k=$l(g.attributes);r.parts=r.parts||[],r.parts.push(k),k.byterange&&(k.byterange.hasOwnProperty("offset")||(k.byterange.offset=m),m=k.byterange.offset+k.byterange.length);const D=r.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #".concat(D," for segment #").concat(T),g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((P,B)=>{P.hasOwnProperty("lastPart")||this.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(B," lacks required attribute(s): LAST-PART")})})},"server-control"(){const T=this.manifest.serverControl=$l(g.attributes);T.hasOwnProperty("canBlockReload")||(T.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),SS.call(this,this.manifest),T.canSkipDateranges&&!T.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const T=this.manifest.segments.length,k=$l(g.attributes),D=k.type&&k.type==="PART";r.preloadHints=r.preloadHints||[],r.preloadHints.push(k),k.byterange&&(k.byterange.hasOwnProperty("offset")||(k.byterange.offset=D?m:0,D&&(m=k.byterange.offset+k.byterange.length)));const P=r.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(P," for segment #").concat(T),g.attributes,["TYPE","URI"]),!!k.type)for(let B=0;B<r.preloadHints.length-1;B++){const O=r.preloadHints[B];O.type&&O.type===k.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(P," for segment #").concat(T," has the same TYPE ").concat(k.type," as preload hint #").concat(B)})}},"rendition-report"(){const T=$l(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(T);const k=this.manifest.renditionReports.length-1,D=["LAST-MSN","URI"];a&&D.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(k),g.attributes,D)},"part-inf"(){this.manifest.partInf=$l(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),SS.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push($l(g.attributes));const T=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_("#EXT-X-DATERANGE #".concat(T),g.attributes,["ID","START-DATE"]);const k=this.manifest.dateRanges[T];k.endDate&&k.startDate&&new Date(k.endDate)<new Date(k.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),k.duration&&k.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),k.plannedDuration&&k.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const D=!!k.endOnNext;if(D&&!k.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),D&&(k.duration||k.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),k.duration&&k.endDate){const B=k.startDate.getTime()+k.duration*1e3;this.manifest.dateRanges[T].endDate=new Date(B)}if(!b[k.id])b[k.id]=k;else{for(const B in b[k.id])if(k[B]&&JSON.stringify(b[k.id][B])!==JSON.stringify(k[B])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const P=this.manifest.dateRanges.findIndex(B=>B.id===k.id);this.manifest.dateRanges[P]=ft(this.manifest.dateRanges[P],k),b[k.id]=ft(b[k.id],k),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=$l(g.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",g.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const T=(k,D)=>{if(k in this.manifest.definitions){this.trigger("error",{message:"EXT-X-DEFINE: Duplicate name ".concat(k)});return}this.manifest.definitions[k]=D};if("QUERYPARAM"in g.attributes){if("NAME"in g.attributes||"IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const k=this.params.get(g.attributes.QUERYPARAM);if(!k){this.trigger("error",{message:"EXT-X-DEFINE: No query param ".concat(g.attributes.QUERYPARAM)});return}T(g.attributes.QUERYPARAM,decodeURIComponent(k));return}if("NAME"in g.attributes){if("IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in g.attributes)||typeof g.attributes.VALUE!="string"){this.trigger("error",{message:"EXT-X-DEFINE: No value for ".concat(g.attributes.NAME)});return}T(g.attributes.NAME,g.attributes.VALUE);return}if("IMPORT"in g.attributes){if(!this.mainDefinitions[g.attributes.IMPORT]){this.trigger("error",{message:"EXT-X-DEFINE: No value ".concat(g.attributes.IMPORT," to import, or IMPORT used on main playlist")});return}T(g.attributes.IMPORT,this.mainDefinitions[g.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:g.attributes,uri:g.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",g.attributes,["BANDWIDTH","URI"])}}[g.tagType]||l).call(n)},uri(){r.uri=g.uri,i.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),o&&(r.key=o),r.timeline=d,s&&(r.map=s),m=0,this.lastProgramDateTime!==null&&(r.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=r.duration*1e3),r={}},comment(){},custom(){g.segment?(r.custom=r.custom||{},r.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:"manifest must be at least version ".concat(n)})}warnOnMissingAttributes_(e,n,i){const r=[];i.forEach(function(s){n.hasOwnProperty(s)||r.push(s)}),r.length&&this.trigger("warn",{message:"".concat(e," lacks required attribute(s): ").concat(r.join(", "))})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var nd={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},o1e=["video","audio","text"],EM=["Video","Audio","Text"],Fj=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var s=("00"+Number(i).toString(16)).slice(-2),o=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+o})},Oo=function(e){e===void 0&&(e="");var n=e.split(","),i=[];return n.forEach(function(r){r=r.trim();var s;o1e.forEach(function(o){var a=nd[o].exec(r.toLowerCase());if(!(!a||a.length<=1)){s=o;var l=r.substring(0,a[1].length),c=r.replace(l,"");i.push({type:l,details:c,mediaType:o})}}),s||i.push({type:r,details:"",mediaType:"unknown"})}),i},a1e=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var i=e.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var s=i[r];if(s.default&&s.playlists)return Oo(s.playlists[0].attributes.CODECS)}return null},Vj=function(e){return e===void 0&&(e=""),nd.audio.test(e.trim().toLowerCase())},l1e=function(e){return e===void 0&&(e=""),nd.text.test(e.trim().toLowerCase())},np=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(s){return Fj(s.trim())}),i="video";n.length===1&&Vj(n[0])?i="audio":n.length===1&&l1e(n[0])&&(i="application");var r="mp4";return n.every(function(s){return nd.mp4.test(s)})?r="mp4":n.every(function(s){return nd.webm.test(s)})?r="webm":n.every(function(s){return nd.ogg.test(s)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},Gg=function(e,n){return e===void 0&&(e=""),n===void 0&&(n=!1),q.MediaSource&&q.MediaSource.isTypeSupported&&q.MediaSource.isTypeSupported(np(e))||n&&q.ManagedMediaSource&&q.ManagedMediaSource.isTypeSupported&&q.ManagedMediaSource.isTypeSupported(np(e))||!1},kS=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<EM.length;i++){var r=EM[i];if(nd["muxer"+r].test(n))return!0}return!1})},SM="mp4a.40.2",c1e="avc1.4d400d",u1e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,d1e=/^application\/dash\+xml/i,$j=function(e){return u1e.test(e)?"hls":d1e.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},h1e=function(e){return e.toString(2).length},f1e=function(e){return Math.ceil(h1e(e)/8)},jj=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},p1e=function(e){return jj(e)},Le=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!p1e(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},yi=q.BigInt||Number,rC=[yi("0x1"),yi("0x100"),yi("0x10000"),yi("0x1000000"),yi("0x100000000"),yi("0x10000000000"),yi("0x1000000000000"),yi("0x100000000000000"),yi("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var m1e=function(e,n){var i=n===void 0?{}:n,r=i.signed,s=r===void 0?!1:r,o=i.le,a=o===void 0?!1:o;e=Le(e);var l=a?"reduce":"reduceRight",c=e[l]?e[l]:Array.prototype[l],u=c.call(e,function(h,m,b){var g=a?b:Math.abs(b+1-e.length);return h+yi(m)*rC[g]},yi(0));if(s){var d=rC[e.length]/yi(2)-yi(1);u=yi(u),u>d&&(u-=d,u-=d,u-=yi(2))}return Number(u)},g1e=function(e,n){var i={},r=i.le,s=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=yi(e);for(var o=f1e(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var c=s?l:Math.abs(l+1-a.length);a[c]=Number(e/rC[l]&yi(255)),e<0&&(a[c]=Math.abs(~a[c]),a[c]-=l===0?1:2)}return a},zj=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i},b1e=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n=n.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),n.length<=1)return Le(n[0]);var r=n.reduce(function(a,l,c){return a+(l.byteLength||l.length)},0),s=new Uint8Array(r),o=0;return n.forEach(function(a){a=Le(a),s.set(a,o),o+=a.byteLength}),s},Yt=function(e,n,i){var r=i===void 0?{}:i,s=r.offset,o=s===void 0?0:s,a=r.mask,l=a===void 0?[]:a;e=Le(e),n=Le(n);var c=n.every?n.every:Array.prototype.every;return n.length&&e.length-o>=n.length&&c.call(n,function(u,d){var h=l[d]?l[d]&e[o+d]:e[o+d];return u===h})},v1e=function(e,n,i){n.forEach(function(r){for(var s in e.mediaGroups[r])for(var o in e.mediaGroups[r][s]){var a=e.mediaGroups[r][s][o];i(a,r,s,o)}})},ou={},El={};function y1e(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function DR(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function _1e(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var Hj=DR({HTML:"text/html",isHTML:function(t){return t===Hj.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),qj=DR({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===qj.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});El.assign=_1e;El.find=y1e;El.freeze=DR;El.MIME_TYPE=Hj;El.NAMESPACE=qj;var Gj=El,ea=Gj.find,H0=Gj.NAMESPACE;function x1e(t){return t!==""}function w1e(t){return t?t.split(/[\t\n\f\r ]+/).filter(x1e):[]}function T1e(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function kM(t){if(!t)return[];var e=w1e(t);return Object.keys(e.reduce(T1e,{}))}function E1e(t){return function(e){return t&&t.indexOf(e)!==-1}}function Xb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Br(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Xb(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Ur={},ao=Ur.ELEMENT_NODE=1,ip=Ur.ATTRIBUTE_NODE=2,Nx=Ur.TEXT_NODE=3,Wj=Ur.CDATA_SECTION_NODE=4,Yj=Ur.ENTITY_REFERENCE_NODE=5,S1e=Ur.ENTITY_NODE=6,Xj=Ur.PROCESSING_INSTRUCTION_NODE=7,Kj=Ur.COMMENT_NODE=8,Qj=Ur.DOCUMENT_NODE=9,Zj=Ur.DOCUMENT_TYPE_NODE=10,ml=Ur.DOCUMENT_FRAGMENT_NODE=11,k1e=Ur.NOTATION_NODE=12,Hi={},hi={};Hi.INDEX_SIZE_ERR=(hi[1]="Index size error",1);Hi.DOMSTRING_SIZE_ERR=(hi[2]="DOMString size error",2);var wr=Hi.HIERARCHY_REQUEST_ERR=(hi[3]="Hierarchy request error",3);Hi.WRONG_DOCUMENT_ERR=(hi[4]="Wrong document",4);Hi.INVALID_CHARACTER_ERR=(hi[5]="Invalid character",5);Hi.NO_DATA_ALLOWED_ERR=(hi[6]="No data allowed",6);Hi.NO_MODIFICATION_ALLOWED_ERR=(hi[7]="No modification allowed",7);var Jj=Hi.NOT_FOUND_ERR=(hi[8]="Not found",8);Hi.NOT_SUPPORTED_ERR=(hi[9]="Not supported",9);var CM=Hi.INUSE_ATTRIBUTE_ERR=(hi[10]="Attribute in use",10);Hi.INVALID_STATE_ERR=(hi[11]="Invalid state",11);Hi.SYNTAX_ERR=(hi[12]="Syntax error",12);Hi.INVALID_MODIFICATION_ERR=(hi[13]="Invalid modification",13);Hi.NAMESPACE_ERR=(hi[14]="Invalid namespace",14);Hi.INVALID_ACCESS_ERR=(hi[15]="Invalid access",15);function xn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,hi[t]),this.message=hi[t],Error.captureStackTrace&&Error.captureStackTrace(this,xn);return n.code=t,e&&(this.message=this.message+": "+e),n}xn.prototype=Error.prototype;Xb(Hi,xn);function tl(){}tl.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)Gh(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function rp(t,e){this._node=t,this._refresh=e,RR(this)}function RR(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(dz(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];Xb(n,t),t._inc=e}}rp.prototype.item=function(t){return RR(this),this[t]||null};Br(rp,tl);function Bx(){}function ez(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function AM(t,e,n,i){if(i?e[ez(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&iz(r,t,i),C1e(r,t,n))}}function IM(t,e,n){var i=ez(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var s=t.ownerDocument;s&&(iz(s,t,n),n.ownerElement=null)}}else throw new xn(Jj,new Error(t.tagName+"@"+n))}Bx.prototype={length:0,item:tl.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new xn(CM);var n=this.getNamedItem(t.nodeName);return AM(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new xn(CM);return n=this.getNamedItemNS(t.namespaceURI,t.localName),AM(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return IM(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return IM(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function tz(){}tz.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new Kb;if(i.implementation=this,i.childNodes=new tl,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new rT;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function Tt(){}Tt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Ux(this,t,e)},replaceChild:function(t,e){Ux(this,t,e,sz),e&&this.removeChild(e)},removeChild:function(t){return rz(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return sC(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Nx&&t.nodeType==Nx?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==ip?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==ip?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function nz(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Xb(Ur,Tt);Xb(Ur,Tt.prototype);function q0(t,e){if(e(t))return!0;if(t=t.firstChild)do if(q0(t,e))return!0;while(t=t.nextSibling)}function Kb(){this.ownerDocument=this}function C1e(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===H0.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function iz(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===H0.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function PR(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function rz(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,PR(t.ownerDocument,t),e}function A1e(t){return t&&(t.nodeType===Tt.DOCUMENT_NODE||t.nodeType===Tt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Tt.ELEMENT_NODE)}function I1e(t){return t&&(ta(t)||OR(t)||gl(t)||t.nodeType===Tt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Tt.COMMENT_NODE||t.nodeType===Tt.PROCESSING_INSTRUCTION_NODE)}function gl(t){return t&&t.nodeType===Tt.DOCUMENT_TYPE_NODE}function ta(t){return t&&t.nodeType===Tt.ELEMENT_NODE}function OR(t){return t&&t.nodeType===Tt.TEXT_NODE}function DM(t,e){var n=t.childNodes||[];if(ea(n,ta)||gl(e))return!1;var i=ea(n,gl);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function RM(t,e){var n=t.childNodes||[];function i(s){return ta(s)&&s!==e}if(ea(n,i))return!1;var r=ea(n,gl);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function D1e(t,e,n){if(!A1e(t))throw new xn(wr,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new xn(Jj,"child not in parent");if(!I1e(e)||gl(e)&&t.nodeType!==Tt.DOCUMENT_NODE)throw new xn(wr,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function R1e(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Tt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(ta);if(s.length>1||ea(r,OR))throw new xn(wr,"More than one element or text in fragment");if(s.length===1&&!DM(t,n))throw new xn(wr,"Element in fragment can not be inserted before doctype")}if(ta(e)&&!DM(t,n))throw new xn(wr,"Only one element can be added and only after doctype");if(gl(e)){if(ea(i,gl))throw new xn(wr,"Only one doctype is allowed");var o=ea(i,ta);if(n&&i.indexOf(o)<i.indexOf(n))throw new xn(wr,"Doctype can only be inserted before an element");if(!n&&o)throw new xn(wr,"Doctype can not be appended since element is present")}}function sz(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Tt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(ta);if(s.length>1||ea(r,OR))throw new xn(wr,"More than one element or text in fragment");if(s.length===1&&!RM(t,n))throw new xn(wr,"Element in fragment can not be inserted before doctype")}if(ta(e)&&!RM(t,n))throw new xn(wr,"Only one element can be added and only after doctype");if(gl(e)){if(ea(i,function(l){return gl(l)&&l!==n}))throw new xn(wr,"Only one doctype is allowed");var o=ea(i,ta);if(n&&i.indexOf(o)<i.indexOf(n))throw new xn(wr,"Doctype can only be inserted before an element")}}function Ux(t,e,n,i){D1e(t,e,n),t.nodeType===Tt.DOCUMENT_NODE&&(i||R1e)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===ml){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=n?n.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=n,a?a.nextSibling=s:t.firstChild=s,n==null?t.lastChild=o:n.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return PR(t.ownerDocument||t,t),e.nodeType==ml&&(e.firstChild=e.lastChild=null),e}function P1e(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,PR(t.ownerDocument,t,e),e}Kb.prototype={nodeName:"#document",nodeType:Qj,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ml){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return Ux(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===ao&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),rz(this,t)},replaceChild:function(t,e){Ux(this,t,e,sz),t.ownerDocument=this,e&&this.removeChild(e),ta(t)&&(this.documentElement=t)},importNode:function(t,e){return uz(this,t,e)},getElementById:function(t){var e=null;return q0(this.documentElement,function(n){if(n.nodeType==ao&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=kM(t);return new rp(this,function(n){var i=[];return e.length>0&&q0(n.documentElement,function(r){if(r!==n&&r.nodeType===ao){var s=r.getAttribute("class");if(s){var o=t===s;if(!o){var a=kM(s);o=e.every(E1e(a))}o&&i.push(r)}}}),i})},createElement:function(t){var e=new Cd;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new tl;var n=e.attributes=new Bx;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new sT;return t.ownerDocument=this,t.childNodes=new tl,t},createTextNode:function(t){var e=new LR;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new MR;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new NR;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new UR;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Fx;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new BR;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Cd,i=e.split(":"),r=n.attributes=new Bx;return n.childNodes=new tl,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Fx,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};Br(Kb,Tt);function Cd(){this._nsMap={}}Cd.prototype={nodeType:ao,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ml?this.insertBefore(t,null):P1e(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new rp(this,function(e){var n=[];return q0(e,function(i){i!==e&&i.nodeType==ao&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new rp(this,function(n){var i=[];return q0(n,function(r){r!==n&&r.nodeType===ao&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Kb.prototype.getElementsByTagName=Cd.prototype.getElementsByTagName;Kb.prototype.getElementsByTagNameNS=Cd.prototype.getElementsByTagNameNS;Br(Cd,Tt);function Fx(){}Fx.prototype.nodeType=ip;Br(Fx,Tt);function Qb(){}Qb.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(hi[wr])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};Br(Qb,Tt);function LR(){}LR.prototype={nodeName:"#text",nodeType:Nx,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Br(LR,Qb);function MR(){}MR.prototype={nodeName:"#comment",nodeType:Kj};Br(MR,Qb);function NR(){}NR.prototype={nodeName:"#cdata-section",nodeType:Wj};Br(NR,Qb);function rT(){}rT.prototype.nodeType=Zj;Br(rT,Tt);function oz(){}oz.prototype.nodeType=k1e;Br(oz,Tt);function az(){}az.prototype.nodeType=S1e;Br(az,Tt);function BR(){}BR.prototype.nodeType=Yj;Br(BR,Tt);function sT(){}sT.prototype.nodeName="#document-fragment";sT.prototype.nodeType=ml;Br(sT,Tt);function UR(){}UR.prototype.nodeType=Xj;Br(UR,Tt);function lz(){}lz.prototype.serializeToString=function(t,e,n){return cz.call(t,e,n)};Tt.prototype.toString=cz;function cz(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var o=[{namespace:s,prefix:null}]}return Gh(this,n,t,e,o),n.join("")}function PM(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===H0.XML||r===H0.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===i)return o.namespace!==r}return!0}function CS(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,nz),'"')}function Gh(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case ao:var s=t.attributes,o=s.length,y=t.firstChild,a=t.tagName;n=H0.isHTML(t.namespaceURI)||n;var l=a;if(!n&&!t.prefix&&t.namespaceURI){for(var c,u=0;u<s.length;u++)if(s.item(u).name==="xmlns"){c=s.item(u).value;break}if(!c)for(var d=r.length-1;d>=0;d--){var h=r[d];if(h.prefix===""&&h.namespace===t.namespaceURI){c=h.namespace;break}}if(c!==t.namespaceURI)for(var d=r.length-1;d>=0;d--){var h=r[d];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var m=0;m<o;m++){var b=s.item(m);b.prefix=="xmlns"?r.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&r.push({prefix:"",namespace:b.value})}for(var m=0;m<o;m++){var b=s.item(m);if(PM(b,n,r)){var g=b.prefix||"",w=b.namespaceURI;CS(e,g?"xmlns:"+g:"xmlns",w),r.push({prefix:g,namespace:w})}Gh(b,e,n,i,r)}if(a===l&&PM(t,n,r)){var g=t.prefix||"",w=t.namespaceURI;CS(e,g?"xmlns:"+g:"xmlns",w),r.push({prefix:g,namespace:w})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),n&&/^script$/i.test(a))for(;y;)y.data?e.push(y.data):Gh(y,e,n,i,r.slice()),y=y.nextSibling;else for(;y;)Gh(y,e,n,i,r.slice()),y=y.nextSibling;e.push("</",l,">")}else e.push("/>");return;case Qj:case ml:for(var y=t.firstChild;y;)Gh(y,e,n,i,r.slice()),y=y.nextSibling;return;case ip:return CS(e,t.name,t.value);case Nx:return e.push(t.data.replace(/[<&>]/g,nz));case Wj:return e.push("<![CDATA[",t.data,"]]>");case Kj:return e.push("<!--",t.data,"-->");case Zj:var T=t.publicId,k=t.systemId;if(e.push("<!DOCTYPE ",t.name),T)e.push(" PUBLIC ",T),k&&k!="."&&e.push(" ",k),e.push(">");else if(k&&k!=".")e.push(" SYSTEM ",k,">");else{var D=t.internalSubset;D&&e.push(" [",D,"]"),e.push(">")}return;case Xj:return e.push("<?",t.target," ",t.data,"?>");case Yj:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function uz(t,e,n){var i;switch(e.nodeType){case ao:i=e.cloneNode(!1),i.ownerDocument=t;case ml:break;case ip:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(uz(t,r,n)),r=r.nextSibling;return i}function sC(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new tl),i.ownerDocument=t,i.nodeType){case ao:var o=e.attributes,a=i.attributes=new Bx,l=o.length;a._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(sC(t,o.item(c),!0));break;case ip:n=!0}if(n)for(var u=e.firstChild;u;)i.appendChild(sC(t,u,n)),u=u.nextSibling;return i}function dz(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case ao:case ml:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(rp.prototype,"length",{get:function(){return RR(this),this.$$length}}),Object.defineProperty(Tt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case ao:case ml:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),dz=function(e,n,i){e["$$"+n]=i}}}catch(t){}ou.DocumentType=rT;ou.DOMException=xn;ou.DOMImplementation=tz;ou.Element=Cd;ou.Node=Tt;ou.NodeList=tl;ou.XMLSerializer=lz;var oT={},hz={};(function(t){var e=El.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(hz);var FR={},G0=El.NAMESPACE,oC=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,OM=new RegExp("[\\-\\.0-9"+oC.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),LM=new RegExp("^"+oC.source+OM.source+"*(?::"+oC.source+OM.source+"*)?$"),Vm=0,jl=1,gh=2,$m=3,bh=4,vh=5,jm=6,ly=7;function sp(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,sp)}sp.prototype=new Error;sp.prototype.name=sp.name;function fz(){}fz.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),pz(e,e={}),O1e(t,e,n,i,this.errorHandler),i.endDocument()}};function O1e(t,e,n,i,r){function s(K){if(K>65535){K-=65536;var fe=55296+(K>>10),ee=56320+(K&1023);return String.fromCharCode(fe,ee)}else return String.fromCharCode(K)}function o(K){var fe=K.slice(1,-1);return Object.hasOwnProperty.call(n,fe)?n[fe]:fe.charAt(0)==="#"?s(parseInt(fe.substr(1).replace("x","0x"))):(r.error("entity not found:"+K),K)}function a(K){if(K>g){var fe=t.substring(g,K).replace(/&#?\w+;/g,o);h&&l(g),i.characters(fe,0,K-g),g=K}}function l(K,fe){for(;K>=u&&(fe=d.exec(t));)c=fe.index,u=c+fe[0].length,h.lineNumber++;h.columnNumber=K-c+1}for(var c=0,u=0,d=/.*(?:\r\n?|\n)|.*$/g,h=i.locator,m=[{currentNSMap:e}],b={},g=0;;){try{var w=t.indexOf("<",g);if(w<0){if(!t.substr(g).match(/^\s*$/)){var y=i.doc,T=y.createTextNode(t.substr(g));y.appendChild(T),i.currentElement=T}return}switch(w>g&&a(w),t.charAt(w+1)){case"/":var U=t.indexOf(">",w+3),k=t.substring(w+2,U).replace(/[ \t\n\r]+$/g,""),D=m.pop();U<0?(k=t.substring(w+2).replace(/[\s<].*/,""),r.error("end tag name: "+k+" is not complete:"+D.tagName),U=w+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),r.error("end tag name: "+k+" maybe not complete"),U=w+1+k.length);var P=D.localNSMap,B=D.tagName==k,O=B||D.tagName&&D.tagName.toLowerCase()==k.toLowerCase();if(O){if(i.endElement(D.uri,D.localName,k),P)for(var A in P)Object.prototype.hasOwnProperty.call(P,A)&&i.endPrefixMapping(A);B||r.fatalError("end tag name: "+k+" is not match the current start tagName:"+D.tagName)}else m.push(D);U++;break;case"?":h&&l(w),U=U1e(t,w,i);break;case"!":h&&l(w),U=B1e(t,w,i,r);break;default:h&&l(w);var R=new mz,L=m[m.length-1].currentNSMap,U=L1e(t,w,R,L,o,r),V=R.length;if(!R.closed&&N1e(t,U,R.tagName,b)&&(R.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),h&&V){for(var M=MM(h,{}),ae=0;ae<V;ae++){var he=R[ae];l(he.offset),he.locator=MM(h,{})}i.locator=M,NM(R,i,L)&&m.push(R),i.locator=h}else NM(R,i,L)&&m.push(R);G0.isHTML(R.uri)&&!R.closed?U=M1e(t,U,R.tagName,o,i):U++}}catch(K){if(K instanceof sp)throw K;r.error("element parse error: "+K),U=-1}U>g?g=U:a(Math.max(w,g)+1)}}function MM(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function L1e(t,e,n,i,r,s){function o(h,m,b){n.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),n.addValue(h,m.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),b)}for(var a,l,c=++e,u=Vm;;){var d=t.charAt(c);switch(d){case"=":if(u===jl)a=t.slice(e,c),u=$m;else if(u===gh)u=$m;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===$m||u===jl)if(u===jl&&(s.warning('attribute value must after "="'),a=t.slice(e,c)),e=c+1,c=t.indexOf(d,e),c>0)l=t.slice(e,c),o(a,l,e-1),u=vh;else throw new Error("attribute value no end '"+d+"' match");else if(u==bh)l=t.slice(e,c),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+d+")!!"),e=c+1,u=vh;else throw new Error('attribute value must after "="');break;case"/":switch(u){case Vm:n.setTagName(t.slice(e,c));case vh:case jm:case ly:u=ly,n.closed=!0;case bh:case jl:break;case gh:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),u==Vm&&n.setTagName(t.slice(e,c)),c;case">":switch(u){case Vm:n.setTagName(t.slice(e,c));case vh:case jm:case ly:break;case bh:case jl:l=t.slice(e,c),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case gh:u===gh&&(l=a),u==bh?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!G0.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case $m:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case Vm:n.setTagName(t.slice(e,c)),u=jm;break;case jl:a=t.slice(e,c),u=gh;break;case bh:var l=t.slice(e,c);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case vh:u=jm;break}else switch(u){case gh:n.tagName,(!G0.isHTML(i[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=c,u=jl;break;case vh:s.warning('attribute space is required"'+a+'"!!');case jm:u=jl,e=c;break;case $m:u=bh,e=c;break;case ly:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function NM(t,e,n){for(var i=t.tagName,r=null,d=t.length;d--;){var s=t[d],o=s.qName,a=s.value,h=o.indexOf(":");if(h>0)var l=s.prefix=o.slice(0,h),c=o.slice(h+1),u=l==="xmlns"&&c;else c=o,l=null,u=o==="xmlns"&&"";s.localName=c,u!==!1&&(r==null&&(r={},pz(n,n={})),n[u]=r[u]=a,s.uri=G0.XMLNS,e.startPrefixMapping(u,a))}for(var d=t.length;d--;){s=t[d];var l=s.prefix;l&&(l==="xml"&&(s.uri=G0.XML),l!=="xmlns"&&(s.uri=n[l||""]))}var h=i.indexOf(":");h>0?(l=t.prefix=i.slice(0,h),c=t.localName=i.slice(h+1)):(l=null,c=t.localName=i);var m=t.uri=n[l||""];if(e.startElement(m,c,i,t),t.closed){if(e.endElement(m,c,i),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=r,!0}function M1e(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,i),r.characters(o,0,o.length),s)}return e+1}function N1e(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function pz(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function B1e(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var o=F1e(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],c=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(c=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var d=o[a-1];return n.startDTD(l,c,u),n.endDTD(),d.index+d[0].length}}return-1}function U1e(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function mz(){this.attributeNames={}}mz.prototype={setTagName:function(t){if(!LM.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!LM.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function F1e(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}FR.XMLReader=fz;FR.ParseError=sp;var V1e=El,$1e=ou,BM=hz,gz=FR,j1e=$1e.DOMImplementation,UM=V1e.NAMESPACE,z1e=gz.ParseError,H1e=gz.XMLReader;function bz(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function vz(t){this.options=t||{locator:{}}}vz.prototype.parseFromString=function(t,e){var n=this.options,i=new H1e,r=n.domBuilder||new Zb,s=n.errorHandler,o=n.locator,a=n.xmlns||{},l=/\/x?html?$/.test(e),c=l?BM.HTML_ENTITIES:BM.XML_ENTITIES;o&&r.setDocumentLocator(o),i.errorHandler=q1e(s,r,o),i.domBuilder=n.domBuilder||r,l&&(a[""]=UM.HTML),a.xml=a.xml||UM.XML;var u=n.normalizeLineEndings||bz;return t&&typeof t=="string"?i.parse(u(t),a,c):i.errorHandler.error("invalid doc source"),r.doc};function q1e(t,e,n){if(!t){if(e instanceof Zb)return e;t=e}var i={},r=t instanceof Function;n=n||{};function s(o){var a=t[o];!a&&r&&(a=t.length==2?function(l){t(o,l)}:t),i[o]=a&&function(l){a("[xmldom "+o+"]	"+l+aC(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function Zb(){this.cdata=!1}function yh(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Zb.prototype={startDocument:function(){this.doc=new j1e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,s=r.createElementNS(t,n||e),o=i.length;cy(this,s),this.currentElement=s,this.locator&&yh(this.locator,s);for(var a=0;a<o;a++){var t=i.getURI(a),l=i.getValue(a),n=i.getQName(a),c=r.createAttributeNS(t,n);this.locator&&yh(i.getLocator(a),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&yh(this.locator,n),cy(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=FM.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&yh(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=FM.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&yh(this.locator,i),cy(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&yh(this.locator,r),cy(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,aC(this.locator))},error:function(t){console.error("[xmldom error]	"+t,aC(this.locator))},fatalError:function(t){throw new z1e(t,this.locator)}};function aC(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function FM(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Zb.prototype[t]=function(){return null}});function cy(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}oT.__DOMHandler=Zb;oT.normalizeLineEndings=bz;oT.DOMParser=vz;var G1e=oT.DOMParser;/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const VM=t=>!!t&&typeof t=="object",si=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(i=>{Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):VM(e[i])&&VM(n[i])?e[i]=si(e[i],n[i]):e[i]=n[i]}),e),{}),yz=t=>Object.keys(t).map(e=>t[e]),W1e=(t,e)=>{const n=[];for(let i=t;i<e;i++)n.push(i);return n},op=t=>t.reduce((e,n)=>e.concat(n),[]),_z=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},Y1e=(t,e)=>t.reduce((n,i,r)=>(i[e]&&n.push(r),n),[]),X1e=(t,e)=>yz(t.reduce((n,i)=>(i.forEach(r=>{n[e(r)]=r}),n),{}));var ap={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const W0=({baseUrl:t="",source:e="",range:n="",indexRange:i=""})=>{const r={uri:e,resolvedUri:iT(t||"",e)};if(n||i){const o=(n||i).split("-");let a=q.BigInt?q.BigInt(o[0]):parseInt(o[0],10),l=q.BigInt?q.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let c;typeof l=="bigint"||typeof a=="bigint"?c=q.BigInt(l)-q.BigInt(a)+q.BigInt(1):c=l-a+1,typeof c=="bigint"&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),r.byterange={length:c,offset:a}}return r},K1e=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=q.BigInt(t.offset)+q.BigInt(t.length)-q.BigInt(1):e=t.offset+t.length-1,"".concat(t.offset,"-").concat(e)},$M=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),Q1e={static(t){const{duration:e,timescale:n=1,sourceDuration:i,periodDuration:r}=t,s=$M(t.endNumber),o=e/n;return typeof s=="number"?{start:0,end:s}:typeof r=="number"?{start:0,end:r/o}:{start:0,end:i/o}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:s,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,c=$M(t.endNumber),u=(e+n)/1e3,d=i+o,m=u+a-d,b=Math.ceil(m*r/s),g=Math.floor((u-d-l)*r/s),w=Math.floor((u-d)*r/s);return{start:Math.max(0,g),end:typeof c=="number"?c:Math.min(b,w)}}},Z1e=t=>e=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:s=1}=t;return{number:s+e,duration:n/i,timeline:r,time:e*n}},VR=t=>{const{type:e,duration:n,timescale:i=1,periodDuration:r,sourceDuration:s}=t,{start:o,end:a}=Q1e[e](t),l=W1e(o,a).map(Z1e(t));if(e==="static"){const c=l.length-1,u=typeof r=="number"?r:s;l[c].duration=u-n/i*c}return l},xz=t=>{const{baseUrl:e,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:s,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(ap.NO_BASE_URL);const c=W0({baseUrl:e,source:n.sourceURL,range:n.range}),u=W0({baseUrl:e,source:e,indexRange:r});if(u.map=c,l){const d=VR(t);d.length&&(u.duration=d[0].duration,u.timeline=d[0].timeline)}else i&&(u.duration=i,u.timeline=s);return u.presentationTime=o||s,u.number=a,[u]},$R=(t,e,n)=>{const i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,c=e.references.filter(w=>w.referenceType!==1),u=[],d=t.endList?"static":"dynamic",h=t.sidx.timeline;let m=h,b=t.mediaSequence||0,g;typeof e.firstOffset=="bigint"?g=q.BigInt(a)+e.firstOffset:g=a+e.firstOffset;for(let w=0;w<c.length;w++){const y=e.references[w],T=y.referencedSize,k=y.subsegmentDuration;let D;typeof g=="bigint"?D=g+q.BigInt(T)-q.BigInt(1):D=g+T-1;const P="".concat(g,"-").concat(D),O=xz({baseUrl:n,timescale:l,timeline:s,periodStart:h,presentationTime:m,number:b,duration:k,sourceDuration:r,indexRange:P,type:d})[0];i&&(O.map=i),u.push(O),typeof g=="bigint"?g+=q.BigInt(T):g+=T,m+=k/l,b++}return t.segments=u,t},J1e=["AUDIO","SUBTITLES"],eTe=1/60,wz=t=>X1e(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),tTe=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},jM=t=>{let e=[];return v1e(t,J1e,(n,i,r,s)=>{e=e.concat(n.playlists||[])}),e},zM=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,i)=>{n.number=t.mediaSequence+i})},nTe=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(i=>{i.discontinuitySequence=n.findIndex(function({timeline:l}){return l===i.timeline});const r=tTe(t,i.attributes.NAME);if(!r||i.sidx)return;const s=i.segments[0],o=r.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<eTe});if(o===-1){zM({playlist:i,mediaSequence:r.mediaSequence+r.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!r.segments.length&&i.timeline>r.timeline||r.segments.length&&i.timeline>r.segments[r.segments.length-1].timeline)&&i.discontinuitySequence--;return}r.segments[o].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),zM({playlist:i,mediaSequence:r.segments[o].number})})},iTe=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(jM(t)),i=e.playlists.concat(jM(e));return e.timelineStarts=wz([t.timelineStarts,e.timelineStarts]),nTe({oldPlaylists:n,newPlaylists:i,timelineStarts:e.timelineStarts}),e},aT=t=>t&&t.uri+"-"+K1e(t.byterange),AS=t=>{const e=t.reduce(function(i,r){return i[r.attributes.baseUrl]||(i[r.attributes.baseUrl]=[]),i[r.attributes.baseUrl].push(r),i},{});let n=[];return Object.values(e).forEach(i=>{const r=yz(i.reduce((s,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return s[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),s[a].segments.push(...o.segments)),o.attributes.contentProtection&&(s[a].attributes.contentProtection=o.attributes.contentProtection)):(s[a]=o,s[a].attributes.timelineStarts=[]),s[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),s},{}));n=n.concat(r)}),n.map(i=>(i.discontinuityStarts=Y1e(i.segments||[],"discontinuity"),i))},jR=(t,e)=>{const n=aT(t.sidx),i=n&&e[n]&&e[n].sidx;return i&&$R(t,i,t.sidx.resolvedUri),t},rTe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=jR(t[n],e);return t},sTe=({attributes:t,segments:e,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:s},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),n&&(a.sidx=n),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},oTe=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const o={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},aTe=(t,e={},n=!1)=>{let i;const r=t.reduce((s,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let c=o.attributes.label||"main";if(l&&!o.attributes.label){const d=a?" (".concat(a,")"):"";c="".concat(o.attributes.lang).concat(d)}s[c]||(s[c]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const u=jR(sTe(o,n),e);return s[c].playlists.push(u),typeof i>"u"&&a==="main"&&(i=o,i.default=!0),s},{});if(!i){const s=Object.keys(r)[0];r[s].default=!0}return r},lTe=(t,e={})=>t.reduce((n,i)=>{const r=i.attributes.label||i.attributes.lang||"text",s=i.attributes.lang||"und";return n[r]||(n[r]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[r].playlists.push(jR(oTe(i),e)),n},{}),cTe=t=>t.reduce((e,n)=>(n&&n.forEach(i=>{const{channel:r,language:s}=i;e[s]={autoselect:!1,default:!1,instreamId:r,language:s},i.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[s].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[s]["3D"]=i["3D"])}),e),{}),uTe=({attributes:t,segments:e,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(r.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(r.contentProtection=t.contentProtection),t.serviceLocation&&(r.attributes.serviceLocation=t.serviceLocation),n&&(r.sidx=n),r},dTe=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",hTe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",fTe=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",pTe=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:i}){return i===n.timeline}),n.segments&&n.segments.forEach((i,r)=>{i.number=r})})},HM=t=>t?Object.keys(t).reduce((e,n)=>{const i=t[n];return e.concat(i.playlists)},[]):[],mTe=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=t[0].attributes,u=AS(t.filter(dTe)).map(uTe),d=AS(t.filter(hTe)),h=AS(t.filter(fTe)),m=t.map(D=>D.attributes.captionServices).filter(Boolean),b={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:rTe(u,i)};c>=0&&(b.minimumUpdatePeriod=c*1e3),e&&(b.locations=e),n&&(b.contentSteering=n),a==="dynamic"&&(b.suggestedPresentationDelay=l),s&&s.length>0&&(b.eventStream=s);const g=b.playlists.length===0,w=d.length?aTe(d,i,g):null,y=h.length?lTe(h,i):null,T=u.concat(HM(w),HM(y)),k=T.map(({timelineStarts:D})=>D);return b.timelineStarts=wz(k),pTe(T,b.timelineStarts),w&&(b.mediaGroups.AUDIO.audio=w),y&&(b.mediaGroups.SUBTITLES.subs=y),m.length&&(b.mediaGroups["CLOSED-CAPTIONS"].cc=cTe(m)),r?iTe({oldManifest:r,newManifest:b}):b},gTe=(t,e,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:s,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,c=(i+r)/1e3,u=s+a,h=c+l-u;return Math.ceil((h*o-e)/n)},Tz=(t,e)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:s,timescale:o=1,startNumber:a=1,periodStart:l}=t,c=[];let u=-1;for(let d=0;d<e.length;d++){const h=e[d],m=h.d,b=h.r||0,g=h.t||0;u<0&&(u=g),g&&g>u&&(u=g);let w;if(b<0){const k=d+1;k===e.length?n==="dynamic"&&i>0&&r.indexOf("$Number$")>0?w=gTe(t,u,m):w=(s*o-u)/m:w=(e[k].t-u)/m}else w=b+1;const y=a+c.length+w;let T=a+c.length;for(;T<y;)c.push({number:T,duration:m/o,time:u,timeline:l}),u+=m,T++}return c},bTe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,vTe=t=>(e,n,i,r)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(i?r=parseInt(r,10):r=1,s.length>=r)?s:"".concat(new Array(r-s.length+1).join("0")).concat(s)},qM=(t,e)=>t.replace(bTe,vTe(e)),yTe=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?VR(t):Tz(t,e),_Te=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,r=W0({baseUrl:t.baseUrl,source:qM(i.sourceURL,n),range:i.range});return yTe(t,e).map(o=>{n.Number=o.number,n.Time=o.time;const a=qM(t.media||"",n),l=t.timescale||1,c=t.presentationTimeOffset||0,u=t.periodStart+(o.time-c)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:iT(t.baseUrl||"",a),map:r,number:o.number,presentationTime:u}})},xTe=(t,e)=>{const{baseUrl:n,initialization:i={}}=t,r=W0({baseUrl:n,source:i.sourceURL,range:i.range}),s=W0({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=r,s},wTe=(t,e)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=t;if(!n&&!e||n&&e)throw new Error(ap.SEGMENT_TIME_UNSPECIFIED);const s=i.map(l=>xTe(t,l));let o;return n&&(o=VR(t)),e&&(o=Tz(t,e)),o.map((l,c)=>{if(s[c]){const u=s[c],d=t.timescale||1,h=t.presentationTimeOffset||0;return u.timeline=l.timeline,u.duration=l.duration,u.number=l.number,u.presentationTime=r+(l.time-h)/d,u}}).filter(l=>l)},TTe=({attributes:t,segmentInfo:e})=>{let n,i;e.template?(i=_Te,n=si(t,e.template)):e.base?(i=xz,n=si(t,e.base)):e.list&&(i=wTe,n=si(t,e.list));const r={attributes:t};if(!i)return r;const s=i(n,e.segmentTimeline);if(n.duration){const{duration:o,timescale:a=1}=n;n.duration=o/a}else s.length?n.duration=s.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):n.duration=0;return r.attributes=n,r.segments=s,e.base&&n.indexRange&&(r.sidx=s[0],r.segments=[]),r},ETe=t=>t.map(TTe),Xt=(t,e)=>_z(t.childNodes).filter(({tagName:n})=>n===e),Jb=t=>t.textContent.trim(),STe=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),_h=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,c,u,d,h,m]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(c||0)*2592e3+parseFloat(u||0)*86400+parseFloat(d||0)*3600+parseFloat(h||0)*60+parseFloat(m||0)},kTe=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),GM={mediaPresentationDuration(t){return _h(t)},availabilityStartTime(t){return kTe(t)/1e3},minimumUpdatePeriod(t){return _h(t)},suggestedPresentationDelay(t){return _h(t)},type(t){return t},timeShiftBufferDepth(t){return _h(t)},start(t){return _h(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return STe(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?_h(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Dn=t=>t&&t.attributes?_z(t.attributes).reduce((e,n)=>{const i=GM[n.name]||GM.DEFAULT;return e[n.name]=i(n.value),e},{}):{},CTe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},lT=(t,e)=>e.length?op(t.map(function(n){return e.map(function(i){const r=Jb(i),s=iT(n.baseUrl,r),o=si(Dn(i),{baseUrl:s});return s!==r&&!o.serviceLocation&&n.serviceLocation&&(o.serviceLocation=n.serviceLocation),o})})):t,zR=t=>{const e=Xt(t,"SegmentTemplate")[0],n=Xt(t,"SegmentList")[0],i=n&&Xt(n,"SegmentURL").map(d=>si({tag:"SegmentURL"},Dn(d))),r=Xt(t,"SegmentBase")[0],s=n||e,o=s&&Xt(s,"SegmentTimeline")[0],a=n||r||e,l=a&&Xt(a,"Initialization")[0],c=e&&Dn(e);c&&l?c.initialization=l&&Dn(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const u={template:c,segmentTimeline:o&&Xt(o,"S").map(d=>Dn(d)),list:n&&si(Dn(n),{segmentUrls:i,initialization:Dn(l)}),base:r&&si(Dn(r),{initialization:Dn(l)})};return Object.keys(u).forEach(d=>{u[d]||delete u[d]}),u},ATe=(t,e,n)=>i=>{const r=Xt(i,"BaseURL"),s=lT(e,r),o=si(t,Dn(i)),a=zR(i);return s.map(l=>({segmentInfo:si(n,a),attributes:si(o,l)}))},ITe=t=>t.reduce((e,n)=>{const i=Dn(n);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const r=CTe[i.schemeIdUri];if(r){e[r]={attributes:i};const s=Xt(n,"cenc:pssh")[0];if(s){const o=Jb(s);e[r].pssh=o&&Uj(o)}}return e},{}),DTe=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let i,r;return r=n,/^CC\d=/.test(n)?[i,r]=n.split("="):/^CC\d$/.test(n)&&(i=n),{channel:i,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[r,s=""]=n.split("=");i.channel=r,i.language=n,s.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?i.language=l:a==="er"?i.easyReader=Number(l):a==="war"?i.aspectRatio=Number(l):a==="3D"&&(i["3D"]=Number(l))})}else i.language=n;return i.channel&&(i.channel="SERVICE"+i.channel),i})},RTe=t=>op(Xt(t.node,"EventStream").map(e=>{const n=Dn(e),i=n.schemeIdUri;return Xt(e,"Event").map(r=>{const s=Dn(r),o=s.presentationTime||0,a=n.timescale||1,l=s.duration||0,c=o/a+t.attributes.start;return{schemeIdUri:i,value:n.value,id:s.id,start:c,end:c+l/a,messageData:Jb(r)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),PTe=(t,e,n)=>i=>{const r=Dn(i),s=lT(e,Xt(i,"BaseURL")),o=Xt(i,"Role")[0],a={role:Dn(o)};let l=si(t,r,a);const c=Xt(i,"Accessibility")[0],u=DTe(Dn(c));u&&(l=si(l,{captionServices:u}));const d=Xt(i,"Label")[0];if(d&&d.childNodes.length){const w=d.childNodes[0].nodeValue.trim();l=si(l,{label:w})}const h=ITe(Xt(i,"ContentProtection"));Object.keys(h).length&&(l=si(l,{contentProtection:h}));const m=zR(i),b=Xt(i,"Representation"),g=si(n,m);return op(b.map(ATe(l,s,g)))},OTe=(t,e)=>(n,i)=>{const r=lT(e,Xt(n.node,"BaseURL")),s=si(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const o=Xt(n.node,"AdaptationSet"),a=zR(n.node);return op(o.map(PTe(s,r,a)))},LTe=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=si({serverURL:Jb(t[0])},Dn(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},MTe=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,NTe=(t,e={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=e,o=Xt(t,"Period");if(!o.length)throw new Error(ap.INVALID_NUMBER_OF_PERIOD);const a=Xt(t,"Location"),l=Dn(t),c=lT([{baseUrl:n}],Xt(t,"BaseURL")),u=Xt(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,a.length&&(l.locations=a.map(Jb));const d=[];return o.forEach((h,m)=>{const b=Dn(h),g=d[m-1];b.start=MTe({attributes:b,priorPeriodAttributes:g?g.attributes:null,mpdType:l.type}),d.push({node:h,attributes:b})}),{locations:l.locations,contentSteeringInfo:LTe(u,s),representationInfo:op(d.map(OTe(l,c))),eventStream:op(d.map(RTe))}},Ez=t=>{if(t==="")throw new Error(ap.DASH_EMPTY_MANIFEST);const e=new G1e;let n,i;try{n=e.parseFromString(t,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch(r){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(ap.DASH_INVALID_XML);return i},BTe=t=>{const e=Xt(t,"UTCTiming")[0];if(!e)return null;const n=Dn(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(ap.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},UTe=(t,e={})=>{const n=NTe(Ez(t),e),i=ETe(n.representationInfo);return mTe({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},FTe=t=>BTe(Ez(t));var VTe=Math.pow(2,32),$Te=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*VTe+e.getUint32(4)},jTe={getUint64:$Te},WM=jTe.getUint64,zTe=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=WM(t.subarray(i)),n.firstOffset=WM(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},HTe=zTe;const qTe=da(HTe);var GTe=Le([73,68,51]),WTe=function(e,n){n===void 0&&(n=0),e=Le(e);var i=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],s=(i&16)>>4;return s?r+20:r+10},cg=function t(e,n){return n===void 0&&(n=0),e=Le(e),e.length-n<10||!Yt(e,GTe,{offset:n})?n:(n+=WTe(e,n),t(e,n))},YM=function(e){return typeof e=="string"?zj(e):e},YTe=function(e){return Array.isArray(e)?e.map(function(n){return YM(n)}):[YM(e)]},XTe=function t(e,n,i){i===void 0&&(i=!1),n=YTe(n),e=Le(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var o=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,a=e.subarray(s+4,s+8);if(o===0)break;var l=s+o;if(l>e.length){if(i)break;l=e.length}var c=e.subarray(s+8,l);Yt(a,n[0])&&(n.length===1?r.push(c):r.push.apply(r,t(c,n.slice(1),i))),s=l}return r},uy={EBML:Le([26,69,223,163]),DocType:Le([66,130]),Segment:Le([24,83,128,103]),SegmentInfo:Le([21,73,169,102]),Tracks:Le([22,84,174,107]),Track:Le([174]),TrackNumber:Le([215]),DefaultDuration:Le([35,227,131]),TrackEntry:Le([174]),TrackType:Le([131]),FlagDefault:Le([136]),CodecID:Le([134]),CodecPrivate:Le([99,162]),VideoTrack:Le([224]),AudioTrack:Le([225]),Cluster:Le([31,67,182,117]),Timestamp:Le([231]),TimestampScale:Le([42,215,177]),BlockGroup:Le([160]),BlockDuration:Le([155]),Block:Le([161]),SimpleBlock:Le([163])},lC=[128,64,32,16,8,4,2,1],KTe=function(e){for(var n=1,i=0;i<lC.length&&!(e&lC[i]);i++)n++;return n},Vx=function(e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s=KTe(e[n]),o=e.subarray(n,n+s);return i&&(o=Array.prototype.slice.call(e,n,n+s),o[0]^=lC[s-1]),{length:s,value:m1e(o,{signed:r}),bytes:o}},XM=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?g1e(e):e},QTe=function(e){return Array.isArray(e)?e.map(function(n){return XM(n)}):[XM(e)]},ZTe=function t(e,n,i){if(i>=n.length)return n.length;var r=Vx(n,i,!1);if(Yt(e.bytes,r.bytes))return i;var s=Vx(n,i+r.length);return t(e,n,i+s.length+s.value+r.length)},KM=function t(e,n){n=QTe(n),e=Le(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var s=Vx(e,r,!1),o=Vx(e,r+s.length),a=r+s.length+o.length;o.value===127&&(o.value=ZTe(s,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,c=e.subarray(a,l);Yt(n[0],s.bytes)&&(n.length===1?i.push(c):i=i.concat(t(c,n.slice(1))));var u=s.length+o.length+c.length;r+=u}return i},JTe=Le([0,0,0,1]),eEe=Le([0,0,1]),tEe=Le([0,0,3]),nEe=function(e){for(var n=[],i=1;i<e.length-2;)Yt(e.subarray(i,i+3),tEe)&&(n.push(i+2),i++),i++;if(n.length===0)return e;var r=e.length-n.length,s=new Uint8Array(r),o=0;for(i=0;i<r;o++,i++)o===n[0]&&(o++,n.shift()),s[i]=e[o];return s},Sz=function(e,n,i,r){e=Le(e),i=[].concat(i);for(var s=0,o,a=0;s<e.length&&(a<r||o);){var l=void 0;if(Yt(e.subarray(s),JTe)?l=4:Yt(e.subarray(s),eEe)&&(l=3),!l){s++;continue}if(a++,o)return nEe(e.subarray(o,s));var c=void 0;n==="h264"?c=e[s+l]&31:n==="h265"&&(c=e[s+l]>>1&63),i.indexOf(c)!==-1&&(o=s+l),s+=l+(n==="h264"?1:2)}return e.subarray(0,0)},iEe=function(e,n,i){return Sz(e,"h264",n,i)},rEe=function(e,n,i){return Sz(e,"h265",n,i)},Qi={webm:Le([119,101,98,109]),matroska:Le([109,97,116,114,111,115,107,97]),flac:Le([102,76,97,67]),ogg:Le([79,103,103,83]),ac3:Le([11,119]),riff:Le([82,73,70,70]),avi:Le([65,86,73]),wav:Le([87,65,86,69]),"3gp":Le([102,116,121,112,51,103]),mp4:Le([102,116,121,112]),fmp4:Le([115,116,121,112]),mov:Le([102,116,121,112,113,116]),moov:Le([109,111,111,118]),moof:Le([109,111,111,102])},lp={aac:function(e){var n=cg(e);return Yt(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=cg(e);return Yt(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=KM(e,[uy.EBML,uy.DocType])[0];return Yt(n,Qi.webm)},mkv:function(e){var n=KM(e,[uy.EBML,uy.DocType])[0];return Yt(n,Qi.matroska)},mp4:function(e){if(lp["3gp"](e)||lp.mov(e))return!1;if(Yt(e,Qi.mp4,{offset:4})||Yt(e,Qi.fmp4,{offset:4})||Yt(e,Qi.moof,{offset:4})||Yt(e,Qi.moov,{offset:4}))return!0},mov:function(e){return Yt(e,Qi.mov,{offset:4})},"3gp":function(e){return Yt(e,Qi["3gp"],{offset:4})},ac3:function(e){var n=cg(e);return Yt(e,Qi.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=cg(e);return Yt(e,Qi.flac,{offset:n})},ogg:function(e){return Yt(e,Qi.ogg)},avi:function(e){return Yt(e,Qi.riff)&&Yt(e,Qi.avi,{offset:8})},wav:function(e){return Yt(e,Qi.riff)&&Yt(e,Qi.wav,{offset:8})},h264:function(e){return iEe(e,7,3).length},h265:function(e){return rEe(e,[32,33],3).length}},cC=Object.keys(lp).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);cC.forEach(function(t){var e=lp[t];lp[t]=function(n){return e(Le(n))}});var sEe=lp,HR=function(e){e=Le(e);for(var n=0;n<cC.length;n++){var i=cC[n];if(sEe[i](e))return i}return""},oEe=function(e){return XTe(e,["moof"]).length>0},qR=9e4,GR,WR,cT,YR,kz,Cz,Az;GR=function(t){return t*qR};WR=function(t,e){return t*e};cT=function(t){return t/qR};YR=function(t,e){return t/e};kz=function(t,e){return GR(YR(t,e))};Cz=function(t,e){return WR(cT(t),e)};Az=function(t,e,n){return cT(n?t:t-e)};var zu={ONE_SECOND_IN_TS:qR,secondsToVideoTs:GR,secondsToAudioTs:WR,videoTsToSeconds:cT,audioTsToSeconds:YR,audioTsToVideoTs:kz,videoTsToAudioTs:Cz,metadataTsToSeconds:Az};/**
 * @license
 * Video.js 8.21.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var uC="8.21.0";const $a={},Yc=function(t,e){return $a[t]=$a[t]||[],e&&($a[t]=$a[t].concat(e)),$a[t]},aEe=function(t,e){Yc(t,e)},Iz=function(t,e){const n=Yc(t).indexOf(e);return n<=-1?!1:($a[t]=$a[t].slice(),$a[t].splice(n,1),!0)},lEe=function(t,e){Yc(t,[].concat(e).map(n=>{const i=(...r)=>(Iz(t,i),n(...r));return i}))},$x={prefixed:!0},Gy=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],QM=Gy[0];let ug;for(let t=0;t<Gy.length;t++)if(Gy[t][1]in me){ug=Gy[t];break}if(ug){for(let t=0;t<ug.length;t++)$x[QM[t]]=ug[t];$x.prefixed=ug[0]!==QM[0]}let vr=[];const cEe=(t,e,n)=>(i,r,s)=>{const o=e.levels[r],a=new RegExp("^(".concat(o,")$"));let l=t;if(i!=="log"&&s.unshift(i.toUpperCase()+":"),n&&(l="%c".concat(t),s.unshift(n)),s.unshift(l+":"),vr){vr.push([].concat(s));const u=vr.length-1e3;vr.splice(0,u>0?u:0)}if(!q.console)return;let c=q.console[i];!c&&i==="debug"&&(c=q.console.info||q.console.log),!(!c||!o||!a.test(i))&&c[Array.isArray(s)?"apply":"call"](q.console,s)};function dC(t,e=":",n=""){let i="info",r;function s(...o){r("log",i,o)}return r=cEe(t,s,n),s.createLogger=(o,a,l)=>{const c=a!==void 0?a:e,u=l!==void 0?l:n,d="".concat(t," ").concat(c," ").concat(o);return dC(d,c,u)},s.createNewLogger=(o,a,l)=>dC(o,a,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},s.level=o=>{if(typeof o=="string"){if(!s.levels.hasOwnProperty(o))throw new Error('"'.concat(o,'" in not a valid log level'));i=o}return i},s.history=()=>vr?[].concat(vr):[],s.history.filter=o=>(vr||[]).filter(a=>new RegExp(".*".concat(o,".*")).test(a[0])),s.history.clear=()=>{vr&&(vr.length=0)},s.history.disable=()=>{vr!==null&&(vr.length=0,vr=null)},s.history.enable=()=>{vr===null&&(vr=[])},s.error=(...o)=>r("error",i,o),s.warn=(...o)=>r("warn",i,o),s.debug=(...o)=>r("debug",i,o),s}const Ze=dC("VIDEOJS"),Dz=Ze.createLogger,uEe=Object.prototype.toString,Rz=function(t){return la(t)?Object.keys(t):[]};function _f(t,e){Rz(t).forEach(n=>e(t[n],n))}function Pz(t,e,n=0){return Rz(t).reduce((i,r)=>e(i,t[r],r),n)}function la(t){return!!t&&typeof t=="object"}function cp(t){return la(t)&&uEe.call(t)==="[object Object]"&&t.constructor===Object}function At(...t){const e={};return t.forEach(n=>{n&&_f(n,(i,r)=>{if(!cp(i)){e[r]=i;return}cp(e[r])||(e[r]={}),e[r]=At(e[r],i)})}),e}function Oz(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];e.push(i)}return e}function uT(t,e,n,i=!0){const r=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const o=n();return r(o),o}};return i&&(s.set=r),Object.defineProperty(t,e,s)}var dEe=Object.freeze({__proto__:null,each:_f,reduce:Pz,isObject:la,isPlain:cp,merge:At,values:Oz,defineLazyProperty:uT});let XR=!1,Lz=null,po=!1,Mz,Nz=!1,xf=!1,wf=!1,ca=!1,KR=null,dT=null;const hEe=!!(q.cast&&q.cast.framework&&q.cast.framework.CastReceiverContext);let Bz=null,jx=!1,hT=!1,zx=!1,fT=!1,Hx=!1,qx=!1,Gx=!1;const Y0=!!(zp()&&("ontouchstart"in q||q.navigator.maxTouchPoints||q.DocumentTouch&&q.document instanceof q.DocumentTouch)),zl=q.navigator&&q.navigator.userAgentData;zl&&zl.platform&&zl.brands&&(po=zl.platform==="Android",xf=!!zl.brands.find(t=>t.brand==="Microsoft Edge"),wf=!!zl.brands.find(t=>t.brand==="Chromium"),ca=!xf&&wf,KR=dT=(zl.brands.find(t=>t.brand==="Chromium")||{}).version||null,hT=zl.platform==="Windows");if(!wf){const t=q.navigator&&q.navigator.userAgent||"";XR=/iPod/i.test(t),Lz=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),po=/Android/i.test(t),Mz=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return n&&i?parseFloat(e[1]+"."+e[2]):n||null}(),Nz=/Firefox/i.test(t),xf=/Edg/i.test(t),wf=/Chrome/i.test(t)||/CriOS/i.test(t),ca=!xf&&wf,KR=dT=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Bz=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),Hx=/Tizen/i.test(t),qx=/Web0S/i.test(t),Gx=Hx||qx,jx=/Safari/i.test(t)&&!ca&&!po&&!xf&&!Gx,hT=/Windows/i.test(t),zx=/iPad/i.test(t)||jx&&Y0&&!/iPhone/i.test(t),fT=/iPhone/i.test(t)&&!zx}const $i=fT||zx||XR,pT=(jx||$i)&&!ca;var Uz=Object.freeze({__proto__:null,get IS_IPOD(){return XR},get IOS_VERSION(){return Lz},get IS_ANDROID(){return po},get ANDROID_VERSION(){return Mz},get IS_FIREFOX(){return Nz},get IS_EDGE(){return xf},get IS_CHROMIUM(){return wf},get IS_CHROME(){return ca},get CHROMIUM_VERSION(){return KR},get CHROME_VERSION(){return dT},IS_CHROMECAST_RECEIVER:hEe,get IE_VERSION(){return Bz},get IS_SAFARI(){return jx},get IS_WINDOWS(){return hT},get IS_IPAD(){return zx},get IS_IPHONE(){return fT},get IS_TIZEN(){return Hx},get IS_WEBOS(){return qx},get IS_SMART_TV(){return Gx},TOUCH_ENABLED:Y0,IS_IOS:$i,IS_ANY_SAFARI:pT});function ZM(t){return typeof t=="string"&&!!t.trim()}function fEe(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function zp(){return me===q.document}function Hp(t){return la(t)&&t.nodeType===1}function Fz(){try{return q.parent!==q.self}catch(t){return!0}}function Vz(t){return function(e,n){if(!ZM(e))return me[t](null);ZM(n)&&(n=me.querySelector(n));const i=Hp(n)?n:me;return i[t]&&i[t](e)}}function Me(t="div",e={},n={},i){const r=me.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const o=e[s];s==="textContent"?au(r,o):(r[s]!==o||s==="tabIndex")&&(r[s]=o)}),Object.getOwnPropertyNames(n).forEach(function(s){r.setAttribute(s,n[s])}),i&&QR(r,i),r}function au(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function hC(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Wg(t,e){return fEe(e),t.classList.contains(e)}function id(t,...e){return t.classList.add(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t}function mT(t,...e){return t?(t.classList.remove(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t):(Ze.warn("removeClass was called with an element that doesn't exist"),null)}function $z(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,n)),t}function jz(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Xl(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let r=i.length-1;r>=0;r--){const s=i[r].name;let o=i[r].value;n.includes(s)&&(o=o!==null),e[s]=o}}return e}function zz(t,e){return t.getAttribute(e)}function up(t,e,n){t.setAttribute(e,n)}function gT(t,e){t.removeAttribute(e)}function Hz(){me.body.focus(),me.onselectstart=function(){return!1}}function qz(){me.onselectstart=function(){return!0}}function dp(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(hp(t,"height"))),n.width||(n.width=parseFloat(hp(t,"width"))),n}}function X0(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let i=0,r=0;for(;t.offsetParent&&t!==me[$x.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function bT(t,e){const n={x:0,y:0};if($i){let u=t;for(;u&&u.nodeName.toLowerCase()!=="html";){const d=hp(u,"transform");if(/^matrix/.test(d)){const h=d.slice(7,-1).split(/,\s/).map(Number);n.x+=h[4],n.y+=h[5]}else if(/^matrix3d/.test(d)){const h=d.slice(9,-1).split(/,\s/).map(Number);n.x+=h[12],n.y+=h[13]}if(u.assignedSlot&&u.assignedSlot.parentElement&&q.WebKitCSSMatrix){const h=q.getComputedStyle(u.assignedSlot.parentElement).transform,m=new q.WebKitCSSMatrix(h);n.x+=m.m41,n.y+=m.m42}u=u.parentNode||u.host}}const i={},r=X0(e.target),s=X0(t),o=s.width,a=s.height;let l=e.offsetY-(s.top-r.top),c=e.offsetX-(s.left-r.left);return e.changedTouches&&(c=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,$i&&(c-=n.x,l-=n.y)),i.y=1-Math.max(0,Math.min(1,l/a)),i.x=Math.max(0,Math.min(1,c/o)),i}function Gz(t){return la(t)&&t.nodeType===3}function vT(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Wz(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Hp(e)||Gz(e))return e;if(typeof e=="string"&&/\S/.test(e))return me.createTextNode(e)}).filter(e=>e)}function QR(t,e){return Wz(e).forEach(n=>t.appendChild(n)),t}function Yz(t,e){return QR(vT(t),e)}function K0(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Xc=Vz("querySelector"),Xz=Vz("querySelectorAll");function hp(t,e){if(!t||!e)return"";if(typeof q.getComputedStyle=="function"){let n;try{n=q.getComputedStyle(t)}catch(i){return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function Kz(t){[...me.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(r=>r.cssText).join(""),i=me.createElement("style");i.textContent=n,t.document.head.appendChild(i)}catch(n){const i=me.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,t.document.head.appendChild(i)}})}var Qz=Object.freeze({__proto__:null,isReal:zp,isEl:Hp,isInFrame:Fz,createEl:Me,textContent:au,prependTo:hC,hasClass:Wg,addClass:id,removeClass:mT,toggleClass:$z,setAttributes:jz,getAttributes:Xl,getAttribute:zz,setAttribute:up,removeAttribute:gT,blockTextSelection:Hz,unblockTextSelection:qz,getBoundingClientRect:dp,findPosition:X0,getPointerPosition:bT,isTextNode:Gz,emptyEl:vT,normalizeContent:Wz,appendContent:QR,insertContent:Yz,isSingleLeftClick:K0,$:Xc,$$:Xz,computedStyle:hp,copyStyleSheetsToWindow:Kz});let Zz=!1,fC;const pEe=function(){if(fC.options.autoSetup===!1)return;const t=Array.prototype.slice.call(me.getElementsByTagName("video")),e=Array.prototype.slice.call(me.getElementsByTagName("audio")),n=Array.prototype.slice.call(me.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(let r=0,s=i.length;r<s;r++){const o=i[r];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&fC(o);else{pC(1);break}}else Zz||pC(1)};function pC(t,e){zp()&&(e&&(fC=e),q.setTimeout(pEe,t))}function mC(){Zz=!0,q.removeEventListener("load",mC)}zp()&&(me.readyState==="complete"?mC():q.addEventListener("load",mC));const Jz=function(t){const e=me.createElement("style");return e.className=t,e},eH=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var tr=new WeakMap;const mEe=3;let gEe=mEe;function Bs(){return gEe++}function JM(t,e){if(!tr.has(t))return;const n=tr.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&tr.delete(t)}function ZR(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function yT(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||q.event;t={};const r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in i)r.includes(s)||s==="returnValue"&&i.preventDefault||(t[s]=i[s]);if(t.target||(t.target=t.srcElement||me),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const s=me.documentElement,o=me.body;t.pageX=t.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let dy;const bEe=function(){if(typeof dy!="boolean"){dy=!1;try{const t=Object.defineProperty({},"passive",{get(){dy=!0}});q.addEventListener("test",null,t),q.removeEventListener("test",null,t)}catch(t){}}return dy},vEe=["touchstart","touchmove"];function rs(t,e,n){if(Array.isArray(e))return ZR(rs,t,e,n);tr.has(t)||tr.set(t,{});const i=tr.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Bs()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,s){if(i.disabled)return;r=yT(r);const o=i.handlers[r.type];if(o){const a=o.slice(0);for(let l=0,c=a.length;l<c&&!r.isImmediatePropagationStopped();l++)try{a[l].call(t,r,s)}catch(u){Ze.error(u)}}}),i.handlers[e].length===1)if(t.addEventListener){let r=!1;bEe()&&vEe.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function ji(t,e,n){if(!tr.has(t))return;const i=tr.get(t);if(!i.handlers)return;if(Array.isArray(e))return ZR(ji,t,e,n);const r=function(o,a){i.handlers[a]=[],JM(o,a)};if(e===void 0){for(const o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&r(t,o);return}const s=i.handlers[e];if(s){if(!n){r(t,e);return}if(n.guid)for(let o=0;o<s.length;o++)s[o].guid===n.guid&&s.splice(o--,1);JM(t,e)}}function qp(t,e,n){const i=tr.has(t)?tr.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=yT(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)qp.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){tr.has(e.target)||tr.set(e.target,{});const s=tr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function _T(t,e,n){if(Array.isArray(e))return ZR(_T,t,e,n);const i=function(){ji(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Bs(),rs(t,e,i)}function JR(t,e,n){const i=function(){ji(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Bs(),rs(t,e,i)}var yEe=Object.freeze({__proto__:null,fixEvent:yT,on:rs,off:ji,trigger:qp,one:_T,any:JR});const Us=30,Nt=function(t,e,n){e.guid||(e.guid=Bs());const i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},ua=function(t,e){let n=q.performance.now();return function(...r){const s=q.performance.now();s-n>=e&&(t(...r),n=s)}},tH=function(t,e,n,i=q){let r;const s=()=>{i.clearTimeout(r),r=null},o=function(){const a=this,l=arguments;let c=function(){r=null,c=null,n||t.apply(a,l)};!r&&n&&t.apply(a,l),i.clearTimeout(r),r=i.setTimeout(c,e)};return o.cancel=s,o};var _Ee=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Us,bind_:Nt,throttle:ua,debounce:tH});let zm;class ss{on(e,n){const i=this.addEventListener;this.addEventListener=()=>{},rs(this,e,n),this.addEventListener=i}off(e,n){ji(this,e,n)}one(e,n){const i=this.addEventListener;this.addEventListener=()=>{},_T(this,e,n),this.addEventListener=i}any(e,n){const i=this.addEventListener;this.addEventListener=()=>{},JR(this,e,n),this.addEventListener=i}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=yT(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),qp(this,e)}queueTrigger(e){zm||(zm=new Map);const n=e.type||e;let i=zm.get(this);i||(i=new Map,zm.set(this,i));const r=i.get(n);i.delete(n),q.clearTimeout(r);const s=q.setTimeout(()=>{i.delete(n),i.size===0&&(i=null,zm.delete(this)),this.trigger(e)},0);i.set(n,s)}}ss.prototype.allowedEvents_={};ss.prototype.addEventListener=ss.prototype.on;ss.prototype.removeEventListener=ss.prototype.off;ss.prototype.dispatchEvent=ss.prototype.trigger;const xT=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,nl=t=>t instanceof ss||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),xEe=(t,e)=>{nl(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},gC=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Wx=(t,e,n)=>{if(!t||!t.nodeName&&!nl(t))throw new Error("Invalid target for ".concat(xT(e),"#").concat(n,"; must be a DOM node or evented object."))},nH=(t,e,n)=>{if(!gC(t))throw new Error("Invalid event type for ".concat(xT(e),"#").concat(n,"; must be a non-empty string or array."))},iH=(t,e,n)=>{if(typeof t!="function")throw new Error("Invalid listener for ".concat(xT(e),"#").concat(n,"; must be a function."))},IS=(t,e,n)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let r,s,o;return i?(r=t.eventBusEl_,e.length>=3&&e.shift(),[s,o]=e):(r=e[0],s=e[1],o=e[2]),Wx(r,t,n),nH(s,t,n),iH(o,t,n),o=Nt(t,o),{isTargetingSelf:i,target:r,type:s,listener:o}},ku=(t,e,n,i)=>{Wx(t,t,e),t.nodeName?yEe[e](t,n,i):t[e](n,i)},wEe={on(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=IS(this,t,"on");if(ku(n,"on",i,r),!e){const s=()=>this.off(n,i,r);s.guid=r.guid;const o=()=>this.off("dispose",s);o.guid=r.guid,ku(this,"on","dispose",s),ku(n,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=IS(this,t,"one");if(e)ku(n,"one",i,r);else{const s=(...o)=>{this.off(n,i,s),r.apply(null,o)};s.guid=r.guid,ku(n,"one",i,s)}},any(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=IS(this,t,"any");if(e)ku(n,"any",i,r);else{const s=(...o)=>{this.off(n,i,s),r.apply(null,o)};s.guid=r.guid,ku(n,"any",i,s)}},off(t,e,n){if(!t||gC(t))ji(this.eventBusEl_,t,e);else{const i=t,r=e;Wx(i,this,"off"),nH(r,this,"off"),iH(n,this,"off"),n=Nt(this,n),this.off("dispose",n),i.nodeName?(ji(i,r,n),ji(i,"dispose",n)):nl(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(t,e){Wx(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!gC(n))throw new Error("Invalid event type for ".concat(xT(this),"#trigger; ")+"must be a non-empty string or object with a type key that has a non-empty value.");return qp(this.eventBusEl_,t,e)}};function eP(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'.concat(n,'" does not refer to an element.'));t.eventBusEl_=t[n]}else t.eventBusEl_=Me("span",{className:"vjs-event-bus"});return Object.assign(t,wEe),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&tr.has(i)&&tr.delete(i)}),q.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const TEe={state:{},setState(t){typeof t=="function"&&(t=t());let e;return _f(t,(n,i)=>{this.state[i]!==n&&(e=e||{},e[i]={from:this.state[i],to:n}),this.state[i]=n}),e&&nl(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function rH(t,e){return Object.assign(t,TEe),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&nl(t)&&t.on("statechanged",t.handleStateChanged),t}const Yg=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},ln=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},sH=function(t,e){return ln(t)===ln(e)};var EEe=Object.freeze({__proto__:null,toLowerCase:Yg,toTitleCase:ln,titleCaseEquals:sH});class oe{constructor(e,n,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=At({},this.options_),n=this.options_=At(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const r=e&&e.id&&e.id()||"no_player";this.id_="".concat(r,"_component_").concat(Bs())}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),n.evented!==!1&&(eP(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),rH(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=At(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,i){return Me(e,n,i)}localize(e,n,i=e){const r=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),o=s&&s[r],a=r&&r.split("-")[0],l=s&&s[a];let c=i;return o&&o[e]?c=o[e]:l&&l[e]&&(c=l[e]),n&&(c=c.replace(/\{(\d+)\}/g,function(u,d){const h=n[d-1];let m=h;return typeof h>"u"&&(m=u),m})),c}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,r)=>i.concat(r),[]);let n=this;for(let i=0;i<e.length;i++)if(n=n.getChild(e[i]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",r=Me("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=me.createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const o=me.createElementNS(i,"use");return s.appendChild(o),o.setAttributeNS(null,"href","#vjs-icon-".concat(e)),r.appendChild(s),this.iconIsSet_?n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")):n.appendChild(r),this.iconIsSet_=!0,r}addChild(e,n={},i=this.children_.length){let r,s;if(typeof e=="string"){s=ln(e);const o=n.componentClass||s;n.name=s;const a=oe.getComponent(o);if(!a)throw new Error("Component ".concat(o," does not exist"));if(typeof a!="function")return null;r=new a(this.player_||this,n)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),s=s||r.name&&ln(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[Yg(s)]=r),typeof r.el=="function"&&r.el()){let o=null;this.children_[i+1]&&(this.children_[i+1].el_?o=this.children_[i+1].el_:Hp(this.children_[i+1])&&(o=this.children_[i+1])),this.contentEl().insertBefore(r.el(),o)}return r}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){n=!0,this.children_.splice(r,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[ln(e.name())]=null,this.childNameIndex_[Yg(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,i=o=>{const a=o.name;let l=o.opts;if(n[a]!==void 0&&(l=n[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const c=this.addChild(a,l);c&&(this[a]=c)};let r;const s=oe.getComponent("Tech");Array.isArray(e)?r=e:r=Object.keys(e),r.concat(Object.keys(this.options_).filter(function(o){return!r.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=oe.getComponent(o.opts.componentClass||ln(o.name));return a&&!s.isTech(a)}).forEach(i)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return Xc(e,n||this.contentEl())}$$(e,n){return Xz(e,n||this.contentEl())}hasClass(e){return Wg(this.el_,e)}addClass(...e){id(this.el_,...e)}removeClass(...e){mT(this.el_,...e)}toggleClass(e,n){$z(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return zz(this.el_,e)}setAttribute(e,n){up(this.el_,e,n)}removeAttribute(e){gT(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,i){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[e],s=r.indexOf("px");return parseInt(s!==-1?r.slice(0,s):this.el_["offset"+ln(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=hp(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const i="offset".concat(ln(e));n=this.el_[i]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},i={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const i=10,r=200;let s;this.on("touchstart",function(a){a.touches.length===1&&(n={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=q.performance.now(),s=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)s=!1;else if(n){const l=a.touches[0].pageX-n.pageX,c=a.touches[0].pageY-n.pageY;Math.sqrt(l*l+c*c)>i&&(s=!1)}});const o=function(){s=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){n=null,s===!0&&q.performance.now()-e<r&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Nt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const i=function(r){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,n){var i;return e=Nt(this,e),this.clearTimersOnDispose_(),i=q.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},n),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),q.clearTimeout(e)),e}setInterval(e,n){e=Nt(this,e),this.clearTimersOnDispose_();const i=q.setInterval(e,n);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),q.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=Nt(this,e),n=q.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=Nt(this,n);const i=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),q.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((i,r)=>this[n](r))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(s){const o=q.getComputedStyle(s,null),a=o.getPropertyValue("visibility");return o.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function i(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||q.getComputedStyle(s).height==="0px"||q.getComputedStyle(s).width==="0px")}function r(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const o={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(o.x<0||o.x>(me.documentElement.clientWidth||q.innerWidth)||o.y<0||o.y>(me.documentElement.clientHeight||q.innerHeight))return!1;let a=me.elementFromPoint(o.x,o.y);for(;a;){if(a===s)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return e||(e=this.el()),!!(r(e)&&i(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error('Illegal component name, "'.concat(e,'"; must be a non-empty string.'));const i=oe.getComponent("Tech"),r=i&&i.isTech(n),s=oe===n||oe.prototype.isPrototypeOf(n.prototype);if(r||!s){let a;throw r?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error('Illegal component, "'.concat(e,'"; ').concat(a,"."))}e=ln(e),oe.components_||(oe.components_={});const o=oe.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(c=>a[c]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return oe.components_[e]=n,oe.components_[Yg(e)]=n,n}static getComponent(e){if(!(!e||!oe.components_))return oe.components_[e]}}oe.registerComponent("Component",oe);function SEe(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(e,") is non-numeric or out of bounds (0-").concat(n,")."))}function eN(t,e,n,i){return SEe(t,i,n.length-1),n[i][e]}function DS(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:eN.bind(null,"start",0,t),end:eN.bind(null,"end",1,t)},q.Symbol&&q.Symbol.iterator&&(e[q.Symbol.iterator]=()=>(t||[]).values()),e}function lo(t,e){return Array.isArray(t)?DS(t):t===void 0||e===void 0?DS():DS([[t,e]])}const oH=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600);const s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||o>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let tP=oH;function aH(t){tP=t}function lH(){tP=oH}function Ad(t,e=t){return tP(t,e)}var kEe=Object.freeze({__proto__:null,createTimeRanges:lo,createTimeRange:lo,setFormatTime:aH,resetFormatTime:lH,formatTime:Ad});function cH(t,e){let n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=lo(0,0));for(let s=0;s<t.length;s++)i=t.start(s),r=t.end(s),r>e&&(r=e),n+=r-i;return n/e}function nn(t){if(t instanceof nn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:la(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=nn.defaultMessages[this.code]||"")}nn.prototype.code=0;nn.prototype.message="";nn.prototype.status=null;nn.prototype.metadata=null;nn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];nn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};nn.MEDIA_ERR_CUSTOM=0;nn.prototype.MEDIA_ERR_CUSTOM=0;nn.MEDIA_ERR_ABORTED=1;nn.prototype.MEDIA_ERR_ABORTED=1;nn.MEDIA_ERR_NETWORK=2;nn.prototype.MEDIA_ERR_NETWORK=2;nn.MEDIA_ERR_DECODE=3;nn.prototype.MEDIA_ERR_DECODE=3;nn.MEDIA_ERR_SRC_NOT_SUPPORTED=4;nn.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;nn.MEDIA_ERR_ENCRYPTED=5;nn.prototype.MEDIA_ERR_ENCRYPTED=5;function Xg(t){return t!=null&&typeof t.then=="function"}function $o(t){Xg(t)&&t.then(null,e=>{})}const bC=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,i,r)=>(t[i]&&(n[i]=t[i]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},CEe=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const s=bC(r.track);return r.src&&(s.src=r.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return n.indexOf(r)===-1}).map(bC))},AEe=function(t,e){return t.forEach(function(n){const i=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(r=>i.addCue(r))}),e.textTracks()};var tN={textTracksToJson:CEe,jsonToTextTracks:AEe,trackToJson_:bC};const RS="vjs-modal-dialog";class Gp extends oe{constructor(e,n){super(e,n),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Me("div",{className:"".concat(RS,"-content")},{role:"document"}),this.descEl_=Me("p",{className:"".concat(RS,"-description vjs-control-text"),id:this.el().getAttribute("aria-describedby")}),au(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return"".concat(RS," vjs-hidden ").concat(super.buildCSSClass())}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let i=this.getChild("closeButton");if(n&&!i){const r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close_)}!n&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),i=n.parentNode,r=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(n),this.empty(),Yz(n,e),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n);const s=this.getChild("closeButton");s&&i.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),vT(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=me.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),i=this.el_.querySelector(":focus");let r;for(let s=0;s<n.length;s++)if(i===n[s]){r=s;break}me.activeElement===this.el_&&(r=0),e.shiftKey&&r===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&r===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof q.HTMLAnchorElement||n instanceof q.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof q.HTMLInputElement||n instanceof q.HTMLSelectElement||n instanceof q.HTMLTextAreaElement||n instanceof q.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof q.HTMLIFrameElement||n instanceof q.HTMLObjectElement||n instanceof q.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}Gp.prototype.options_={pauseOnOpen:!0,temporary:!0};oe.registerComponent("ModalDialog",Gp);class fp extends ss{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},nl(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this[i],n.off&&n.off(),this.tracks_.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}fp.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in fp.prototype.allowedEvents_)fp.prototype["on"+t]=null;const PS=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class IEe extends fp{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){PS(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&PS(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,PS(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const OS=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class DEe extends fp{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){OS(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&OS(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,OS(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class uH extends fp{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class REe{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,i=e.length;n<i;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i].track){n=this.trackElements_[i];break}return n}removeTrackElement_(e){for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Yx{constructor(e){Yx.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let i=0;const r=e.length;this.cues_=e,this.length_=e.length;const s=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(n<r)for(i=n;i<r;i++)s.call(this,i)}getCueById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}const PEe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},OEe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},LEe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},nN={disabled:"disabled",hidden:"hidden",showing:"showing"};class nP extends ss{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Bs(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const r in n)Object.defineProperty(this,r,{get(){return n[r]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(r){r!==i&&(i=r,this.trigger("labelchange"))}})}}const iP=function(t){return new URL(t,me.baseURI)},dH=function(t){return new URL(t,me.baseURI).href},rP=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},wT=function(t,e=q.location){return iP(t).origin!==e.origin};var MEe=Object.freeze({__proto__:null,parseUrl:iP,getAbsoluteURL:dH,getFileExtension:rP,isCrossOrigin:wT});const iN=function(t,e){const n=new q.WebVTT.Parser(q,q.vttjs,q.WebVTT.StringDecoder()),i=[];n.oncue=function(r){e.addCue(r)},n.onparsingerror=function(r){i.push(r)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(q.console&&q.console.groupCollapsed&&q.console.groupCollapsed("Text Track parsing errors for ".concat(e.src)),i.forEach(r=>Ze.error(r)),q.console&&q.console.groupEnd&&q.console.groupEnd()),n.flush()},rN=function(t,e){const n={uri:t},i=wT(t);i&&(n.cors=i);const r=e.tech_.crossOrigin()==="use-credentials";r&&(n.withCredentials=r),Lj(n,Nt(this,function(s,o,a){if(s)return Ze.error(s,o);e.loaded_=!0,typeof q.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Ze.error("vttjs failed to load, stopping trying to process ".concat(e.src));return}return iN(a,e)}):iN(a,e)}))};class ev extends nP{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=At(e,{kind:LEe[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=nN[n.mode]||"disabled";const r=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(i="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Yx(this.cues_),o=new Yx(this.activeCues_);let a=!1;this.timeupdateHandler=Nt(this,function(c={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return i},set(c){nN[c]&&i!==c&&(i=c,!this.preload_&&i!=="disabled"&&this.cues.length===0&&rN(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const c=this.tech_.currentTime(),u=[];for(let d=0,h=this.cues.length;d<h;d++){const m=this.cues[d];m.startTime<=c&&m.endTime>=c&&u.push(m)}if(a=!1,u.length!==this.activeCues_.length)a=!0;else for(let d=0;d<u.length;d++)this.activeCues_.indexOf(u[d])===-1&&(a=!0);return this.activeCues_=u,o.setCues_(this.activeCues_),o},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&rN(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new q.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const r in e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}const i=this.tech_.textTracks();for(let r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const i=this.cues_[n];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}ev.prototype.allowedEvents_={cuechange:"cuechange"};class hH extends nP{constructor(e={}){const n=At(e,{kind:OEe[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class fH extends nP{constructor(e={}){const n=At(e,{kind:PEe[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class bl extends ss{constructor(e={}){super();let n;const i=new ev(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return i}}}),n=bl.NONE,i.addEventListener("loadeddata",()=>{n=bl.LOADED,this.trigger({type:"load",target:this})})}}bl.prototype.allowedEvents_={load:"load"};bl.NONE=0;bl.LOADING=1;bl.LOADED=2;bl.ERROR=3;const Rs={audio:{ListClass:IEe,TrackClass:hH,capitalName:"Audio"},video:{ListClass:DEe,TrackClass:fH,capitalName:"Video"},text:{ListClass:uH,TrackClass:ev,capitalName:"Text"}};Object.keys(Rs).forEach(function(t){Rs[t].getterName="".concat(t,"Tracks"),Rs[t].privateName="".concat(t,"Tracks_")});const pp={remoteText:{ListClass:uH,TrackClass:ev,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:REe,TrackClass:bl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Zi=Object.assign({},Rs,pp);pp.names=Object.keys(pp);Rs.names=Object.keys(Rs);Zi.names=[].concat(pp.names).concat(Rs.names);function NEe(t,e,n,i,r={}){const s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;const o=new Zi.text.TrackClass(r);return s.addTrack(o),o}class Ge extends oe{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Zi.names.forEach(i=>{const r=Zi[i];e&&e[r.getterName]&&(this[r.privateName]=e[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e["native".concat(i,"Tracks")]===!1&&(this["featuresNative".concat(i,"Tracks")]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Zi.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Nt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return lo(0,0)}bufferedPercent(){return cH(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Rs.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const i=this["".concat(n,"Tracks")]()||[];let r=i.length;for(;r--;){const s=i[r];n==="text"&&this.removeRemoteTextTrack(s),i.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const i=e[n];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new nn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?lo(0,0):lo()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Rs.names.forEach(e=>{const n=Rs[e],i=()=>{this.trigger("".concat(e,"trackchange"))},r=this[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),this.on("dispose",()=>{r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!q.WebVTT)if(me.body.contains(this.el())){if(!this.options_["vtt.js"]&&cp(xM)&&Object.keys(xM).length>0){this.trigger("vttjsloaded");return}const e=me.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),q.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),i=a=>e.addTrack(a.track),r=a=>e.removeTrack(a.track);n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),o=()=>{s();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",s)})}addTextTrack(e,n,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return NEe(this,e,n,i)}createRemoteTextTrack(e){const n=At(e,{tech:this});return new pp.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const i=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Bs();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return Ge.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Ge||e instanceof Ge||e===Ge}static registerTech(e,n){if(Ge.techs_||(Ge.techs_={}),!Ge.isTech(n))throw new Error("Tech ".concat(e," must be a Tech"));if(!Ge.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ge.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ln(e),Ge.techs_[e]=n,Ge.techs_[Yg(e)]=n,e!=="Tech"&&Ge.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(Ge.techs_&&Ge.techs_[e])return Ge.techs_[e];if(e=ln(e),q&&q.videojs&&q.videojs[e])return Ze.warn("The ".concat(e," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),q.videojs[e]}}}Zi.names.forEach(function(t){const e=Zi[t];Ge.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ge.prototype.featuresVolumeControl=!0;Ge.prototype.featuresMuteControl=!0;Ge.prototype.featuresFullscreenResize=!1;Ge.prototype.featuresPlaybackRate=!1;Ge.prototype.featuresProgressEvents=!1;Ge.prototype.featuresSourceset=!1;Ge.prototype.featuresTimeupdateEvents=!1;Ge.prototype.featuresNativeTextTracks=!1;Ge.prototype.featuresVideoFrameCallback=!1;Ge.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){const i=t.sourceHandlers||[];let r;for(let s=0;s<i.length;s++)if(r=i[s].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,i){const r=t.sourceHandlers||[];let s;for(let o=0;o<r.length;o++)if(s=r[o].canHandleSource(n,i),s)return r[o];return null},t.canPlaySource=function(n,i){const r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""},["seekable","seeking","duration"].forEach(function(n){const i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let i=t.selectSourceHandler(n,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Ze.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};oe.registerComponent("Tech",Ge);Ge.registerTech("Tech",Ge);Ge.defaultTechOrder_=[];const rd={},Xx={},Kx={};function BEe(t,e){rd[t]=rd[t]||[],rd[t].push(e)}function UEe(t,e,n){t.setTimeout(()=>Ru(e,rd[e.type],n,t),1)}function FEe(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function VEe(t,e,n){return t.reduceRight(sP(n),e[n]())}function $Ee(t,e,n,i){return e[n](t.reduce(sP(n),i))}function sN(t,e,n,i=null){const r="call"+ln(n),s=t.reduce(sP(r),i),o=s===Kx,a=o?null:e[n](s);return HEe(t,n,a,o),a}const jEe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},zEe={setCurrentTime:1,setMuted:1,setVolume:1},oN={play:1,pause:1};function sP(t){return(e,n)=>e===Kx?Kx:n[t]?n[t](e):e}function HEe(t,e,n,i){for(let r=t.length-1;r>=0;r--){const s=t[r];s[e]&&s[e](i,n)}}function qEe(t){Xx.hasOwnProperty(t.id())&&delete Xx[t.id()]}function GEe(t,e){const n=Xx[t.id()];let i=null;if(n==null)return i=e(t),Xx[t.id()]=[[e,i]],i;for(let r=0;r<n.length;r++){const[s,o]=n[r];s===e&&(i=o)}return i===null&&(i=e(t),n.push([e,i])),i}function Ru(t={},e=[],n,i,r=[],s=!1){const[o,...a]=e;if(typeof o=="string")Ru(t,rd[o],n,i,r,s);else if(o){const l=GEe(i,o);if(!l.setSource)return r.push(l),Ru(t,a,n,i,r,s);l.setSource(Object.assign({},t),function(c,u){if(c)return Ru(t,a,n,i,r,s);r.push(l),Ru(u,t.type===u.type?a:rd[u.type],n,i,r,s)})}else a.length?Ru(t,a,n,i,r,s):s?n(t,r):Ru(t,rd["*"],n,i,r,!0)}const WEe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Qx=function(t=""){const e=rP(t);return WEe[e.toLowerCase()]||""},YEe=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(r=>r.src===e);if(n.length)return n[0].type;const i=t.$$("source");for(let r=0;r<i.length;r++){const s=i[r];if(s.type&&s.src&&s.src===e)return s.type}return Qx(e)},pH=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=pH(n),Array.isArray(n)?e=e.concat(n):la(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[aN({src:t})]:la(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[aN(t)]:t=[];return t};function aN(t){if(!t.type){const e=Qx(t.src);e&&(t.type=e)}return t}var XEe='<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>';const lN=Hx?10009:qx?461:8,xh={codes:{play:415,pause:19,ff:417,rw:412,back:lN},names:{415:"play",19:"pause",417:"ff",412:"rw",[lN]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},cN=5;class KEe extends ss{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const i=n.key.substring(5).toLowerCase();this.move(i)}else if(xh.isEventKey(n,"play")||xh.isEventKey(n,"pause")||xh.isEventKey(n,"ff")||xh.isEventKey(n,"rw")){n.preventDefault();const i=xh.getEventName(n);this.performMediaAction_(i)}else xh.isEventKey(n,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+cN);break;case"rw":this.userSeek_(this.player_.currentTime()-cN);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let i=null;const r=this.getCurrentComponent(e.target);n&&(i=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!i||!n)&&(r&&r.name()==="CloseButton"?this.refocusComponent():(this.pause(),r&&r.el()&&(this.lastFocusedComponent_=r)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function i(r){for(const s of r)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&i(s.children_)}return e.children_.forEach(r=>{if(r.hasOwnProperty("el_"))if(r.getIsFocusable&&r.getIsAvailableToBeFocused&&r.getIsFocusable()&&r.getIsAvailableToBeFocused(r.el())){n.push(r);return}else r.hasOwnProperty("children_")&&r.children_.length>0?i(r.children_):r.hasOwnProperty("items")&&r.items.length>0?i(r.items):this.findSuitableDOMChild(r)&&n.push(r);if(r.name_==="ErrorDisplay"&&r.opened_){const s=r.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((a,l)=>{n.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{const c=a.getBoundingClientRect(),u={x:c.x,y:c.y,width:c.width,height:c.height,top:c.top,right:c.right,bottom:c.bottom,left:c.left},d={x:c.left+c.width/2,y:c.top+c.height/2,width:0,height:0,top:c.top+c.height/2,right:c.left+c.width/2,bottom:c.top+c.height/2,left:c.left+c.width/2};return{boundingClientRect:u,center:d}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:c=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let r=0;r<i.children.length;r++){const s=i.children[r],o=n(s);if(o)return o}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===n)return i}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const i=n.getPositions(),r=this.focusableComponents.filter(o=>o!==n&&this.isInDirection_(i.boundingClientRect,o.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(i.center,r,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,i){let r=1/0,s=null;for(const o of n){const a=o.getPositions().center,l=this.calculateDistance_(e,a,i);l<r&&(r=l,s=o)}return s}isInDirection_(e,n,i){switch(i){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,i){const r=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);let o;switch(i){case"right":case"left":o=r+s*100;break;case"up":o=s*2+r*.5;break;case"down":o=s*5+r;break;default:o=r+s}return o}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class QEe extends oe{constructor(e,n,i){const r=At({createEl:!1},n);if(super(e,r,i),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,o=n.playerOptions.techOrder;s<o.length;s++){const a=ln(o[s]);let l=Ge.getTech(a);if(a||(l=oe.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(n.playerOptions.sources)}}oe.registerComponent("MediaLoader",QEe);class TT extends oe{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",n={},i={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&Ze.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported; use a Button instead.")),i=Object.assign({role:"button"},i),this.tabIndex_=n.tabIndex;const r=Me(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Me("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,au(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",i)}buildCSSClass(){return"vjs-control vjs-button ".concat(super.buildCSSClass())}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}oe.registerComponent("ClickableComponent",TT);class vC extends TT{constructor(e,n){super(e,n),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Me("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'));return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Me("picture",{className:"vjs-poster",tabIndex:-1},{},Me("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?$o(this.player_.play()):this.player_.pause())}}vC.prototype.crossorigin=vC.prototype.crossOrigin;oe.registerComponent("PosterImage",vC);const ms="#222",uN="#ccc",ZEe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function LS(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Ro(t,e,n){try{t.style[e]=n}catch(i){return}}function dN(t){return t?"".concat(t,"px"):""}class JEe extends oe{constructor(e,n,i){super(e,n,i);const r=o=>this.updateDisplay(o),s=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",r),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(Nt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const o=q.screen.orientation||q,a=q.screen.orientation?"change":"orientationchange";o.addEventListener(a,s),e.on("dispose",()=>o.removeEventListener(a,s));const l=this.options_.playerOptions.tracks||[];for(let c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let r,s,o;for(let a=0;a<n.length;a++){const l=n[a];i&&i.enabled&&i.language&&i.language===l.language&&l.kind in e?l.kind===i.kind?o=l:o||(o=l):i&&!i.enabled?(o=null,r=null,s=null):l.default&&(l.kind==="descriptions"&&!r?r=l:l.kind in e&&!s&&(s=l))}o?o.mode="showing":s?s.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof q.WebVTT=="function"&&q.WebVTT.processCues(q,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let i=null,r=null,s=e.length;for(;s--;){const o=e[s];o.mode==="showing"&&(o.kind==="descriptions"?i=o:r=o)}if(r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!q.CSS.supports("inset","10px")){const o=this.el_,a=o.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,c=this.player_.el_.getBoundingClientRect().height;o.style="",Ro(o,"position","relative"),Ro(o,"height",c-l+"px"),Ro(o,"top","unset"),Gx?Ro(o,"bottom",c+"px"):Ro(o,"bottom","0px"),a.length>0&&a.forEach(u=>{if(u.style.inset){const d=u.style.inset.split(" ");d.length===3&&Object.assign(u.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!q.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),i=e/n,r=this.player_.videoWidth()/this.player_.videoHeight();let s=0,o=0;Math.abs(i-r)>.1&&(i>r?s=Math.round((e-n*r)/2):o=Math.round((n-e/r)/2)),Ro(this.el_,"insetInline",dN(s)),Ro(this.el_,"insetBlock",dN(o))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),i=e.activeCues;let r=i.length;for(;r--;){const s=i[r];if(!s)continue;const o=s.displayState;if(n.color&&(o.firstChild.style.color=n.color),n.textOpacity&&Ro(o.firstChild,"color",LS(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(o.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Ro(o.firstChild,"backgroundColor",LS(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Ro(o,"backgroundColor",LS(n.windowColor,n.windowOpacity)):o.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?o.firstChild.style.textShadow="2px 2px 3px ".concat(ms,", 2px 2px 4px ").concat(ms,", 2px 2px 5px ").concat(ms):n.edgeStyle==="raised"?o.firstChild.style.textShadow="1px 1px ".concat(ms,", 2px 2px ").concat(ms,", 3px 3px ").concat(ms):n.edgeStyle==="depressed"?o.firstChild.style.textShadow="1px 1px ".concat(uN,", 0 1px ").concat(uN,", -1px -1px ").concat(ms,", 0 -1px ").concat(ms):n.edgeStyle==="uniform"&&(o.firstChild.style.textShadow="0 0 4px ".concat(ms,", 0 0 4px ").concat(ms,", 0 0 4px ").concat(ms,", 0 0 4px ").concat(ms))),n.fontPercent&&n.fontPercent!==1){const a=q.parseFloat(o.style.fontSize);o.style.fontSize=a*n.fontPercent+"px",o.style.height="auto",o.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ZEe[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof q.WebVTT!="function"||e.every(i=>!i.activeCues))return;const n=[];for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s)n.push(r.activeCues[s])}q.WebVTT.processCues(q,n,this.el_);for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s){const o=r.activeCues[s].displayState;id(o,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:i)),r.language&&up(o,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}oe.registerComponent("TextTrackDisplay",JEe);class eSe extends oe{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=Me("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}oe.registerComponent("LoadingSpinner",eSe);class zi extends TT{createEl(e,n={},i={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),i=Object.assign({type:"button"},i);const r=Me(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(e,n={}){const i=this.constructor.name;return Ze.warn("Adding an actionable (user controllable) child to a Button (".concat(i,") is not supported; use a ClickableComponent instead.")),oe.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}oe.registerComponent("Button",zi);class mH extends zi{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){$o(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const s=()=>r.focus();Xg(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}mH.prototype.controlText_="Play Video";oe.registerComponent("BigPlayButton",mH);class tSe extends zi{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return"vjs-close-button ".concat(super.buildCSSClass())}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}oe.registerComponent("CloseButton",tSe);class gH extends zi{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),n.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return"vjs-play-control ".concat(super.buildCSSClass())}handleClick(e){this.player_.paused()?$o(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}gH.prototype.controlText_="Play";oe.registerComponent("PlayToggle",gH);class Wp extends oe{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:"".concat(e," vjs-time-control vjs-control")}),i=Me("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_)," ")},{role:"presentation"});return n.appendChild(i),this.contentEl_=Me("span",{className:"".concat(e,"-display")},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Ad(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,Ze.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=me.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Wp.prototype.labelText_="Time";Wp.prototype.controlText_="Time";oe.registerComponent("TimeDisplay",Wp);class oP extends Wp{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}oP.prototype.labelText_="Current Time";oP.prototype.controlText_="Current Time";oe.registerComponent("CurrentTimeDisplay",oP);class aP extends Wp{constructor(e,n){super(e,n);const i=r=>this.updateContent(r);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}aP.prototype.labelText_="Duration";aP.prototype.controlText_="Duration";oe.registerComponent("DurationDisplay",aP);class nSe extends oe{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return n.appendChild(i),e.appendChild(n),e}}oe.registerComponent("TimeDivider",nSe);class lP extends Wp{constructor(e,n){super(e,n),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Me("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}lP.prototype.labelText_="Remaining Time";lP.prototype.controlText_="Remaining Time";oe.registerComponent("RemainingTimeDisplay",lP);class iSe extends oe{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Me("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Me("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type")," ")})),this.contentEl_.appendChild(me.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}oe.registerComponent("LiveDisplay",iSe);class bH extends zi{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Me("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}bH.prototype.controlText_="Seek to live, currently playing live";oe.registerComponent("SeekToLive",bH);function tv(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var rSe=Object.freeze({__proto__:null,clamp:tv});class cP extends oe{constructor(e,n){super(e,n),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},i={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,n,i)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ca&&e.preventDefault(),Hz(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;qz(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(tv(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=bT(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,i=n&&n.enabled,r=n&&n.horizontalSeek;i?r&&e.key==="ArrowLeft"||!r&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):r&&e.key==="ArrowRight"||!r&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}oe.registerComponent("Slider",cP);const MS=(t,e)=>tv(t/e*100,0,100).toFixed(2)+"%";class sSe extends oe{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=Me("span",{className:"vjs-control-text"}),i=Me("span",{textContent:this.localize("Loaded")}),r=me.createTextNode(": ");return this.percentageEl_=Me("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,i=this.player_.buffered(),r=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),o=this.partEls_,a=MS(s,r);this.percent_!==a&&(this.el_.style.width=a,au(this.percentageEl_,a),this.percent_=a);for(let l=0;l<i.length;l++){const c=i.start(l),u=i.end(l);let d=o[l];d||(d=this.el_.appendChild(Me()),o[l]=d),!(d.dataset.start===c&&d.dataset.end===u)&&(d.dataset.start=c,d.dataset.end=u,d.style.left=MS(c,s),d.style.width=MS(u-c,s))}for(let l=o.length;l>i.length;l--)this.el_.removeChild(o[l-1]);o.length=i.length})}}oe.registerComponent("LoadProgressBar",sSe);class oSe extends oe{constructor(e,n){super(e,n),this.update=ua(Nt(this,this.update),Us)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,i){const r=X0(this.el_),s=dp(this.player_.el()),o=e.width*n;if(!s||!r)return;let a=e.left-s.left+o,l=e.width-o+(s.right-e.right);l||(l=e.width-o,a=o);let c=r.width/2;a<c?c+=c-a:l<c&&(c=l),c<0?c=0:c>r.width&&(c=r.width),c=Math.round(c),this.el_.style.right="-".concat(c,"px"),this.write(i)}write(e){au(this.el_,e)}updateTime(e,n,i,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-n*a;s=(l<1?"":"-")+Ad(l,a)}else s=Ad(i,o);this.update(e,n,s),r&&r()})}}oe.registerComponent("TimeTooltip",oSe);class uP extends oe{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=ua(Nt(this,this.update),Us)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const i=this.getChild("timeTooltip");if(!i)return;const r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,n,r)}}uP.prototype.options_={children:[]};!$i&&!po&&uP.prototype.options_.children.push("timeTooltip");oe.registerComponent("PlayProgressBar",uP);class vH extends oe{constructor(e,n){super(e,n),this.update=ua(Nt(this,this.update),Us)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const i=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,i,()=>{this.el_.style.left="".concat(e.width*n,"px")})}}vH.prototype.options_={children:["timeTooltip"]};oe.registerComponent("MouseTimeDisplay",vH);const hy=5,hN=12;class ET extends cP{constructor(e,n){n=At(ET.prototype.options_,n),n.children=[...n.children];const i=e.options_.disableSeekWhileScrubbingOnMobile&&($i||po);(!$i&&!po||i)&&n.children.splice(1,0,"mouseTimeDisplay"),super(e,n),this.shouldDisableSeekWhileScrubbingOnMobile_=i,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Nt(this,this.update),this.update=ua(this.update_,Us),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in me&&"visibilityState"in me&&this.on(me,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){me.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Us))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(me.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let s=this.player_.duration();r&&r.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==i||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ad(i,s),Ad(s,s)],"{1} of {2}")),this.currentTime_=i,this.duration_=s),this.bar&&this.bar.update(dp(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let n;const i=this.player_.liveTracker;return i&&i.isLive()?(n=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){K0(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!K0(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const r=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())i=r*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(r>=.99){s.seekToLiveEdge();return}const o=s.seekableStart(),a=s.liveCurrentTime();if(i=o+r*s.liveWindow(),i>=a&&(i=a),i<=o&&(i=o+.1),i===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=i:this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?$o(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+hy)}stepBack(){this.userSeek_(this.player_.currentTime()-hy)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const i=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-hy*hN)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+hy*hN)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in me&&"visibilityState"in me&&this.off(me,"visibilitychange",this.toggleVisibility_),super.dispose()}}ET.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};oe.registerComponent("SeekBar",ET);class yH extends oe{constructor(e,n){super(e,n),this.handleMouseMove=ua(Nt(this,this.handleMouseMove),Us),this.throttledHandleMouseSeek=ua(Nt(this,this.handleMouseSeek),Us),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const i=n.getChild("playProgressBar"),r=n.getChild("mouseTimeDisplay");if(!i&&!r)return;const s=n.el(),o=X0(s);let a=bT(s,e).x;a=tv(a,0,1),r&&r.update(o,a),i&&i.update(o,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&$o(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}yH.prototype.options_={children:["seekBar"]};oe.registerComponent("ProgressControl",yH);class _H extends zi{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return"vjs-picture-in-picture-control vjs-hidden ".concat(super.buildCSSClass())}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){me.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in q?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof me.exitPictureInPicture=="function"&&super.show()}}_H.prototype.controlText_="Picture-in-Picture";oe.registerComponent("PictureInPictureToggle",_H);class xH extends zi{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),me[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return"vjs-fullscreen-control ".concat(super.buildCSSClass())}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}xH.prototype.controlText_="Fullscreen";oe.registerComponent("FullscreenToggle",xH);const aSe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class lSe extends oe{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}oe.registerComponent("VolumeLevel",lSe);class cSe extends oe{constructor(e,n){super(e,n),this.update=ua(Nt(this,this.update),Us)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,i,r){if(!i){const s=dp(this.el_),o=dp(this.player_.el()),a=e.width*n;if(!o||!s)return;const l=e.left-o.left+a,c=e.width-a+(o.right-e.right);let u=s.width/2;l<u?u+=u-l:c<u&&(u=c),u<0?u=0:u>s.width&&(u=s.width),this.el_.style.right="-".concat(u,"px")}this.write("".concat(r,"%"))}write(e){au(this.el_,e)}updateVolume(e,n,i,r,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,i,r.toFixed(0)),s&&s()})}}oe.registerComponent("VolumeLevelTooltip",cSe);class wH extends oe{constructor(e,n){super(e,n),this.update=ua(Nt(this,this.update),Us)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,i){const r=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,i,r,()=>{i?this.el_.style.bottom="".concat(e.height*n,"px"):this.el_.style.left="".concat(e.width*n,"px")})}}wH.prototype.options_={children:["volumeLevelTooltip"]};oe.registerComponent("MouseVolumeLevelDisplay",wH);class ST extends cP{constructor(e,n){super(e,n),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){K0(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const i=this.el(),r=dp(i),s=this.vertical();let o=bT(i,e);o=s?o.y:o.x,o=tv(o,0,1),n.update(r,o,s)}K0(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}ST.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!$i&&!po&&ST.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");ST.prototype.playerEvent="volumechange";oe.registerComponent("VolumeBar",ST);class TH extends oe{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||cp(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),aSe(this,e),this.throttledHandleMouseMove=ua(Nt(this,this.handleMouseMove),Us),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control ".concat(e)})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}TH.prototype.options_={children:["volumeBar"]};oe.registerComponent("VolumeControl",TH);const uSe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class EH extends zi{constructor(e,n){super(e,n),uSe(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return"vjs-mute-control ".concat(super.buildCSSClass())}handleClick(e){const n=this.player_.volume(),i=this.player_.lastVolume_();if(n===0){const r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),$i&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),mT(this.el_,[0,1,2,3].reduce((i,r)=>i+"".concat(r?" ":"","vjs-vol-").concat(r),"")),id(this.el_,"vjs-vol-".concat(n))}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}EH.prototype.controlText_="Mute";oe.registerComponent("MuteToggle",EH);class SH extends oe{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||cp(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control ".concat(e)})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),rs(me,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),ji(me,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}SH.prototype.options_={children:["muteToggle","volumeControl"]};oe.registerComponent("VolumePanel",SH);class kH extends zi{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("forward-".concat(this.skipTime)),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return"vjs-skip-forward-".concat(this.getSkipForwardTime()," ").concat(super.buildCSSClass())}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;n+this.skipTime<=r?s=n+this.skipTime:s=r,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}kH.prototype.controlText_="Skip Forward";oe.registerComponent("SkipForward",kH);class CH extends zi{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("replay-".concat(this.skipTime)),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return"vjs-skip-backward-".concat(this.getSkipBackwardTime()," ").concat(super.buildCSSClass())}handleClick(e){const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()&&i.seekableStart();let s;r&&n-this.skipTime<=r?s=r:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}CH.prototype.controlText_="Skip Backward";oe.registerComponent("SkipBackward",CH);class AH extends oe{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof oe&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof oe&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Me(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),rs(n,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||me.activeElement;if(!this.children().some(i=>i.el()===n)){const i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const i=n.filter(r=>r.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}oe.registerComponent("Menu",AH);class dP extends oe{constructor(e,n={}){super(e,n),this.menuButton_=new zi(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=zi.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),rs(me,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new AH(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=Me("li",{className:"vjs-menu-title",textContent:ln(this.options_.title),tabIndex:-1}),i=new oe(this.player_,{el:n});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=zi.prototype.buildCSSClass();return"vjs-menu-button ".concat(e," ").concat(n," ").concat(super.buildCSSClass())}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(super.buildCSSClass())}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),ji(me,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),$i&&Fz())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}oe.registerComponent("MenuButton",dP);class hP extends dP{constructor(e,n){const i=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!i)return;const r=Nt(this,this.update);i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),i.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r),i.removeEventListener("labelchange",r)})}}oe.registerComponent("TrackButton",hP);class nv extends TT{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,i){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),i),s=Me("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(s):r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}oe.registerComponent("MenuItem",nv);class iv extends nv{constructor(e,n){const i=n.track,r=e.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i.mode==="showing",super(e,n),this.track=i,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",o)}),r.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof q.Event!="object")try{a=new q.Event("change")}catch(l){}a||(a=me.createEvent("Event"),a.initEvent("change",!0,!0)),r.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const n=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let r=0;r<i.length;r++){const s=i[r];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}oe.registerComponent("TextTrackMenuItem",iv);class IH extends iv{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const o=n[r];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const o=n[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}oe.registerComponent("OffTextTrackMenuItem",IH);class Yp extends hP{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=iv){let i;this.label_&&(i="".concat(this.label_," off")),e.push(new IH(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<r.length;s++){const o=r[s];if(this.kinds_.indexOf(o.kind)>-1){const a=new n(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-".concat(o.kind,"-menu-item")),e.push(a)}}return e}}oe.registerComponent("TextTrackButton",Yp);class DH extends nv{constructor(e,n){const i=n.track,r=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=s&&s<r.endTime,super(e,n),this.track=i,this.cue=r}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}oe.registerComponent("ChaptersTrackMenuItem",DH);class fP extends Yp{constructor(e,n,i){super(e,n,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return"vjs-chapters-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-chapters-button ".concat(super.buildWrapperCSSClass())}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(ln(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let i=0,r=n.length;i<r;i++){const s=n[i],o=new DH(this.player_,{track:this.track_,cue:s});e.push(o)}return e}}fP.prototype.kind_="chapters";fP.prototype.controlText_="Chapters";oe.registerComponent("ChaptersButton",fP);class pP extends Yp{constructor(e,n,i){super(e,n,i),this.setIcon("audio-description");const r=e.textTracks(),s=Nt(this,this.handleTracksChange);r.addEventListener("change",s),this.on("dispose",function(){r.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let i=!1;for(let r=0,s=n.length;r<s;r++){const o=n[r];if(o.kind!==this.kind_&&o.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return"vjs-descriptions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-descriptions-button ".concat(super.buildWrapperCSSClass())}}pP.prototype.kind_="descriptions";pP.prototype.controlText_="Descriptions";oe.registerComponent("DescriptionsButton",pP);class mP extends Yp{constructor(e,n,i){super(e,n,i),this.setIcon("subtitles")}buildCSSClass(){return"vjs-subtitles-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subtitles-button ".concat(super.buildWrapperCSSClass())}}mP.prototype.kind_="subtitles";mP.prototype.controlText_="Subtitles";oe.registerComponent("SubtitlesButton",mP);class gP extends iv{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}oe.registerComponent("CaptionSettingsMenuItem",gP);class bP extends Yp{constructor(e,n,i){super(e,n,i),this.setIcon("captions")}buildCSSClass(){return"vjs-captions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-captions-button ".concat(super.buildWrapperCSSClass())}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new gP(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}bP.prototype.kind_="captions";bP.prototype.controlText_="Captions";oe.registerComponent("CaptionsButton",bP);class RH extends iv{createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):s.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Me("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),r}}oe.registerComponent("SubsCapsMenuItem",RH);class vP extends Yp{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(ln(this.label_))}buildCSSClass(){return"vjs-subs-caps-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subs-caps-button ".concat(super.buildWrapperCSSClass())}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new gP(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,RH),e}}vP.prototype.kinds_=["captions","subtitles"];vP.prototype.controlText_="Subtitles";oe.registerComponent("SubsCapsButton",vP);class PH extends nv{constructor(e,n){const i=n.track,r=e.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,super(e,n),this.track=i,this.addClass("vjs-".concat(i.kind,"-menu-item"));const s=(...o)=>{this.handleTracksChange.apply(this,o)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(Me("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Me("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}oe.registerComponent("AudioTrackMenuItem",PH);class OH extends hP{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return"vjs-audio-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-audio-button ".concat(super.buildWrapperCSSClass())}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];e.push(new PH(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}OH.prototype.controlText_="Audio Track";oe.registerComponent("AudioTrackButton",OH);class yP extends nv{constructor(e,n){const i=n.rate,r=parseFloat(i,10);n.label=i,n.selected=r===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=i,this.rate=r,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}yP.prototype.contentElType="button";oe.registerComponent("PlaybackRateMenuItem",yP);class LH extends dP{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Me("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-playback-rate ".concat(super.buildWrapperCSSClass())}createItems(){const e=this.playbackRates(),n=[];for(let i=e.length-1;i>=0;i--)n.push(new yP(this.player(),{rate:e[i]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}LH.prototype.controlText_="Playback Rate";oe.registerComponent("PlaybackRateMenuButton",LH);class MH extends oe{buildCSSClass(){return"vjs-spacer ".concat(super.buildCSSClass())}createEl(e="div",n={},i={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,i)}}oe.registerComponent("Spacer",MH);class dSe extends MH{buildCSSClass(){return"vjs-custom-control-spacer ".concat(super.buildCSSClass())}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}oe.registerComponent("CustomControlSpacer",dSe);class NH extends oe{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}NH.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};oe.registerComponent("ControlBar",NH);class BH extends Gp{constructor(e,n){super(e,n),this.on(e,"error",i=>{this.open(i)})}buildCSSClass(){return"vjs-error-display ".concat(super.buildCSSClass())}content(){const e=this.player().error();return e?this.localize(e.message):""}}BH.prototype.options_=Object.assign({},Gp.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});oe.registerComponent("ErrorDisplay",BH);class UH extends oe{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Me("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const i=(this.options_.labelId?this.options_.labelId:"vjs-track-option-".concat(Bs()))+"-"+n[1].replace(/\W+/g,""),r=Me("option",{id:i,value:this.localize(n[0]),textContent:this.localize(n[1])});return r.setAttribute("aria-labelledby","".concat(this.selectLabelledbyIds," ").concat(i)),r}))}}oe.registerComponent("TextTrackSelect",UH);class sd extends oe{constructor(e,n={}){super(e,n);const i=Me("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const r=this.options_.selects;for(const s of r){const o=this.options_.selectConfigs[s],a=o.className,l=o.id.replace("%s",this.options_.id_);let c=null;const u="vjs_select_".concat(Bs());if(this.options_.type==="colors"){c=Me("span",{className:a});const h=Me("label",{id:l,className:"vjs-label",textContent:this.localize(o.label)});h.setAttribute("for",u),c.appendChild(h)}const d=new UH(e,{SelectOptions:o.options,legendId:this.options_.legendId,id:u,labelId:l});this.addChild(d),this.options_.type==="colors"&&(c.appendChild(d.el()),this.el().appendChild(c))}}createEl(){return Me("fieldset",{className:this.options_.className})}}oe.registerComponent("TextTrackFieldset",sd);class FH extends oe{constructor(e,n={}){super(e,n);const i=this.options_.textTrackComponentid,r=new sd(e,{id_:i,legendId:"captions-text-legend-".concat(i),legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const s=new sd(e,{id_:i,legendId:"captions-background-".concat(i),legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const o=new sd(e,{id_:i,legendId:"captions-window-".concat(i),legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o)}createEl(){return Me("div",{className:"vjs-track-settings-colors"})}}oe.registerComponent("TextTrackSettingsColors",FH);class VH extends oe{constructor(e,n={}){super(e,n);const i=this.options_.textTrackComponentid,r=new sd(e,{id_:i,legendId:"captions-font-size-".concat(i),legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const s=new sd(e,{id_:i,legendId:"captions-edge-style-".concat(i),legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const o=new sd(e,{id_:i,legendId:"captions-font-family-".concat(i),legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o)}createEl(){return Me("div",{className:"vjs-track-settings-font"})}}oe.registerComponent("TextTrackSettingsFont",VH);class $H extends oe{constructor(e,n={}){super(e,n);const i=this.localize("restore all settings to the default values"),r=new zi(e,{controlText:i,className:"vjs-default-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Reset"),this.addChild(r);const s=new zi(e,{controlText:i,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return Me("div",{className:"vjs-track-settings-controls"})}}oe.registerComponent("TrackSettingsControls",$H);const NS="vjs-text-track-settings",fN=["#000","Black"],pN=["#00F","Blue"],mN=["#0FF","Cyan"],gN=["#0F0","Green"],bN=["#F0F","Magenta"],vN=["#F00","Red"],yN=["#FFF","White"],_N=["#FF0","Yellow"],BS=["1","Opaque"],US=["0.5","Semi-Transparent"],xN=["0","Transparent"],Kl={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[fN,yN,vN,gN,pN,_N,bN,mN],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[BS,US,xN],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[yN,fN,vN,gN,pN,_N,bN,mN],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[BS,US],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[xN,US,BS],className:"vjs-window-opacity vjs-opacity"}};Kl.windowColor.options=Kl.backgroundColor.options;function jH(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function hSe(t,e){const n=t.options[t.options.selectedIndex].value;return jH(n,e)}function fSe(t,e,n){if(e){for(let i=0;i<t.options.length;i++)if(jH(t.options[i].value,n)===e){t.selectedIndex=i;break}}}class pSe extends Gp{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Me("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new FH(e,{textTrackComponentid:this.id_,selectConfigs:Kl,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const i=new VH(e,{textTrackComponentid:this.id_,selectConfigs:Kl,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const r=new $H(e);this.addChild(r)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),_f(Kl,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Pz(Kl,(e,n,i)=>{const r=hSe(this.$(n.selector),n.parser);return r!==void 0&&(e[i]=r),e},{})}setValues(e){_f(Kl,(n,i)=>{fSe(this.$(n.selector),e[i],n.parser)})}setDefaults(){_f(Kl,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(q.localStorage.getItem(NS))}catch(n){Ze.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?q.localStorage.setItem(NS,JSON.stringify(e)):q.localStorage.removeItem(NS)}catch(n){Ze.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}oe.registerComponent("TextTrackSettings",pSe);class mSe extends oe{constructor(e,n){let i=n.ResizeObserver||q.ResizeObserver;n.ResizeObserver===null&&(i=!1);const r=At({createEl:!i,reportTouchActivity:!1},n);super(e,r),this.ResizeObserver=n.ResizeObserver||q.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=tH(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let o=this.unloadListener_=function(){ji(this,"resize",s),ji(this,"unload",o),o=null};rs(this.el_.contentWindow,"unload",o),rs(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}oe.registerComponent("ResizeManager",mSe);const gSe={trackingThreshold:20,liveTolerance:15};class bSe extends oe{constructor(e,n){const i=At(gSe,n,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(q.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;const r=this.liveCurrentTime(),s=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Us),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.end(i));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.start(i));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}oe.registerComponent("LiveTracker",bSe);class vSe extends oe{constructor(e,n){super(e,n),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Me("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(Bs())}),description:Me("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(Bs())})},Me("div",{className:"vjs-title-bar"},{},Oz(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const s=this.state[r],o=this.els[r],a=i[r];vT(o),s&&au(o,s),n&&(n.removeAttribute(a),s&&n.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}oe.registerComponent("TitleBar",vSe);const ySe={initialDisplay:4e3,position:[],takeFocus:!1};class _Se extends zi{constructor(e,n){n=At(ySe,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return"vjs-transient-button focus-visible ".concat(this.options_.position.map(e=>"vjs-".concat(e)).join(" "))}createEl(){const e=Me("button",{},{type:"button",class:this.buildCSSClass()},Me("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}oe.registerComponent("TransientButton",_Se);const yC=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),i=[];let r="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const o=n[s].src;o&&i.indexOf(o)===-1&&i.push(o)}return i.length?(i.length===1&&(r=i[0]),t.triggerSourceset(r),!0):!1},xSe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=me.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=me.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",q.Element.prototype.appendChild.call(this,n),this.innerHTML}}),zH=(t,e)=>{let n={};for(let i=0;i<t.length&&(n=Object.getOwnPropertyDescriptor(t[i],e),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},wSe=t=>zH([t.el(),q.HTMLMediaElement.prototype,q.Element.prototype,xSe],"innerHTML"),wN=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},i=wSe(t),r=s=>(...o)=>{const a=s.apply(e,o);return yC(t),a};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=r(n[s]))}),Object.defineProperty(e,"innerHTML",At(i,{set:r(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},TSe=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?dH(q.Element.prototype.getAttribute.call(this,"src")):""},set(t){return q.Element.prototype.setAttribute.call(this,"src",t),t}}),ESe=t=>zH([t.el(),q.HTMLMediaElement.prototype,TSe],"src"),SSe=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=ESe(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",At(n,{set:s=>{const o=n.set.call(e,s);return t.triggerSourceset(e.src),o}})),e.setAttribute=(s,o)=>{const a=i.call(e,s,o);return/src/i.test(s)&&t.triggerSourceset(e.src),a},e.load=()=>{const s=r.call(e);return yC(t)||(t.triggerSourceset(""),wN(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):yC(t)||wN(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class ke extends Ge{constructor(e,n){super(e,n);const i=e.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let o=s.length;const a=[];for(;o--;){const l=s[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!r&&!this.el_.hasAttribute("crossorigin")&&wT(l.src)&&(r=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&Ze.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(Y0||fT)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),ke.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){SSe(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const i=()=>{n=[];for(let s=0;s<e.length;s++){const o=e[s];o.kind==="metadata"&&n.push({track:o,storedMode:o.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const r=()=>{for(let s=0;s<n.length;s++){const o=n[s];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",r)})}overrideNative_(e,n){if(n!==this["featuresNative".concat(e,"Tracks")])return;const i=e.toLowerCase();this["".concat(i,"TracksListeners_")]&&Object.keys(this["".concat(i,"TracksListeners_")]).forEach(r=>{this.el()["".concat(i,"Tracks")].removeEventListener(r,this["".concat(i,"TracksListeners_")][r])}),this["featuresNative".concat(e,"Tracks")]=!n,this["".concat(i,"TracksListeners_")]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Rs[e],i=this.el()[n.getterName],r=this[n.getterName]();if(!this["featuresNative".concat(n.capitalName,"Tracks")]||!i||!i.addEventListener)return;const s={change:a=>{const l={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(l),e==="text"&&this[pp.remoteText.getterName]().trigger(l)},addtrack(a){r.addTrack(a.track)},removetrack(a){r.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<r.length;l++){let c=!1;for(let u=0;u<i.length;u++)if(i[u]===r[l]){c=!0;break}c||a.push(r[l])}for(;a.length;)r.removeTrack(a.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(a=>{const l=s[a];i.addEventListener(a,l),this.on("dispose",c=>i.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){Rs.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),ke.disposeMediaElement(e),e=i}else{e=me.createElement("video");const i=this.options_.tag&&Xl(this.options_.tag),r=At({},i);(!Y0||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,jz(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&up(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let i=0;i<n.length;i++){const r=n[i],s=this.options_[r];typeof s<"u"&&(s?up(e,r,r):gT(e,r),e[r]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const r=function(){i=!0};this.on("loadstart",r);const s=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),i||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&pT?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){Ze(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&po&&ca&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)$o(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,n){if(!e)return Ze.error("Invalid source URL."),!1;const i={src:e};n&&(i.type=n);const r=Me("source",{},i);return this.el_.appendChild(r),!0}removeSourceElement(e){if(!e)return Ze.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const i of n)if(i.src===e)return this.el_.removeChild(i),!0;return Ze.warn("No matching source element found with src: ".concat(e)),!1}reset(){ke.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):super.addTextTrack(e,n,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=me.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const i=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let i=n.length;for(;i--;)(e===n[i]||e===n[i].track)&&this.el().removeChild(n[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),q.performance&&(e.creationTime=q.performance.now()),e}}uT(ke,"TEST_VID",function(){if(!zp())return;const t=me.createElement("video"),e=me.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});ke.isSupported=function(){try{ke.TEST_VID.volume=.5}catch(t){return!1}return!!(ke.TEST_VID&&ke.TEST_VID.canPlayType)};ke.canPlayType=function(t){return ke.TEST_VID.canPlayType(t)};ke.canPlaySource=function(t,e){return ke.canPlayType(t.type)};ke.canControlVolume=function(){try{const t=ke.TEST_VID.volume;ke.TEST_VID.volume=t/2+.1;const e=t!==ke.TEST_VID.volume;return e&&$i?(q.setTimeout(()=>{ke&&ke.prototype&&(ke.prototype.featuresVolumeControl=t!==ke.TEST_VID.volume)}),!1):e}catch(t){return!1}};ke.canMuteVolume=function(){try{const t=ke.TEST_VID.muted;return ke.TEST_VID.muted=!t,ke.TEST_VID.muted?up(ke.TEST_VID,"muted","muted"):gT(ke.TEST_VID,"muted","muted"),t!==ke.TEST_VID.muted}catch(t){return!1}};ke.canControlPlaybackRate=function(){if(po&&ca&&dT<58)return!1;try{const t=ke.TEST_VID.playbackRate;return ke.TEST_VID.playbackRate=t/2+.1,t!==ke.TEST_VID.playbackRate}catch(t){return!1}};ke.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(me.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(me.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(me.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(me.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0};ke.supportsNativeTextTracks=function(){return pT||$i&&ca};ke.supportsNativeVideoTracks=function(){return!!(ke.TEST_VID&&ke.TEST_VID.videoTracks)};ke.supportsNativeAudioTracks=function(){return!!(ke.TEST_VID&&ke.TEST_VID.audioTracks)};ke.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){uT(ke.prototype,t,()=>ke[e](),!0)});ke.prototype.featuresVolumeControl=ke.canControlVolume();ke.prototype.movingMediaElementInDOM=!$i;ke.prototype.featuresFullscreenResize=!0;ke.prototype.featuresProgressEvents=!0;ke.prototype.featuresTimeupdateEvents=!0;ke.prototype.featuresVideoFrameCallback=!!(ke.TEST_VID&&ke.TEST_VID.requestVideoFrameCallback);ke.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch(e){}}()}};ke.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch(i){}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ke.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ke.prototype["set"+ln(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){ke.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){ke.prototype["set"+ln(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){ke.prototype[t]=function(){return this.el_[t]()}});Ge.withSourceHandlers(ke);ke.nativeSourceHandler={};ke.nativeSourceHandler.canPlayType=function(t){try{return ke.TEST_VID.canPlayType(t)}catch(e){return""}};ke.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ke.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=rP(t.src);return ke.nativeSourceHandler.canPlayType("video/".concat(n))}return""};ke.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};ke.nativeSourceHandler.dispose=function(){};ke.registerSourceHandler(ke.nativeSourceHandler);Ge.registerTech("Html5",ke);const HH=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],FS={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},_C=["tiny","xsmall","small","medium","large","xlarge","huge"],Wy={};_C.forEach(t=>{const e=t.charAt(0)==="x"?"x-".concat(t.substring(1)):t;Wy[t]="vjs-layout-".concat(e)});const kSe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class zt extends oe{constructor(e,n,i){if(e.id=e.id||n.id||"vjs_video_".concat(Bs()),n=Object.assign(zt.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const o=e.closest("[lang]");o&&(n.language=o.getAttribute("lang"))}if(super(null,n,i),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.boundUpdatePlayerHeightOnAudioOnlyMode_=o=>this.updatePlayerHeightOnAudioOnlyMode_(o),this.isFullscreen_=!1,this.log=Dz(this.id_),this.fsApi_=$x,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Xl(e),this.language(this.options_.language),n.languages){const o={};Object.getOwnPropertyNames(n.languages).forEach(function(a){o[a.toLowerCase()]=n.languages[a]}),this.languages_=o}else this.languages_=zt.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error('plugin "'.concat(o,'" does not exist'))}),this.scrubbing_=!1,this.el_=this.createEl(),eP(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(rs(me,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=At(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(o=>{this[o](n.plugins[o])}),n.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const a=new q.DOMParser().parseFromString(XEe,"image/svg+xml");if(a.querySelector("parsererror"))Ze.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const c=a.documentElement;c.style.display="none",this.el_.appendChild(c),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new KEe(this),this.addClass("vjs-spatial-navigation-enabled")),Y0&&this.addClass("vjs-touch-enabled"),$i||this.addClass("vjs-workinghover"),zt.players[this.id_]=this;const s=uC.split(".")[0];this.addClass("vjs-v".concat(s)),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),ji(me,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ji(me,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),zt.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),qEe(this),Zi.names.forEach(e=>{const n=Zi[e],i=this[n.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";i?n=this.el_=e.parentNode:r||(n=this.el_=super.createEl("div"));const s=Xl(e);if(r){for(n=this.el_=e,e=this.tag=me.createElement("video");n.children.length;)e.appendChild(n.firstChild);Wg(n,"video-js")||id(n,"video-js"),n.appendChild(e),i=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch(c){}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",ca&&hT&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){r&&l==="class"||n.setAttribute(l,s[l]),r&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const o=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>Uz[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...o),q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Jz("vjs-styles-dimensions");const l=Xc(".vjs-styles-defaults"),c=Xc("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const c=a.item(l);id(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),hC(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Ze.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'));return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const i=e+"_";if(n===void 0)return this[i]||0;if(n===""||n==="auto"){this[i]=void 0,this.updateStyleEl_();return}const r=parseFloat(n);if(isNaN(r)){Ze.error('Improper value "'.concat(n,'" supplied for for ').concat(e));return}this[i]=r,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,nl(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),xEe(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(q.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(a>=0&&(c.width=a),l>=0&&(c.height=l));return}let e,n,i,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const s=i.split(":"),o=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*o,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),eH(this.styleEl_,"\n      .".concat(r," {\n        width: ").concat(e,"px;\n        height: ").concat(n,"px;\n      }\n\n      .").concat(r,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(o*100,"%;\n      }\n    "))}loadTech_(e,n){this.tech_&&this.unloadTech_();const i=ln(e),r=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(Ge.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const o={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(r,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Zi.names.forEach(l=>{const c=Zi[l];o[c.getterName]=this[c.privateName]}),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[r]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=Ge.getTech(e);if(!a)throw new Error("No Tech named '".concat(i,"' exists! '").concat(i,"' should be registered using videojs.registerTech()'"));this.tech_=new a(o),this.tech_.ready(Nt(this,this.handleTechReady_),!0),tN.jsonToTextTracks(this.textTracksJson_||[],this.tech_),HH.forEach(l=>{this.on(this.tech_,l,c=>this["handleTech".concat(ln(l),"_")](c))}),Object.keys(FS).forEach(l=>{this.on(this.tech_,l,c=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this["handleTech".concat(FS[l],"_")].bind(this),event:c});return}this["handleTech".concat(FS[l],"_")](c)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,c)=>this.handleTechFullscreenChange_(l,c)),this.on(this.tech_,"fullscreenerror",(l,c)=>this.handleTechFullscreenError_(l,c)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&hC(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Zi.names.forEach(e=>{const n=Zi[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=tN.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Ze.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":uC}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const r=this.muted();this.muted(!0);const s=()=>{this.muted(r)};this.playTerminatedQueue_.push(s);const o=this.play();if(Xg(o))return o.catch(a=>{throw s(),new Error("Rejection at manualAutoplay. Restoring muted value. ".concat(a||""))})};let i;if(e==="any"&&!this.muted()?(i=this.play(),Xg(i)&&(i=i.catch(n))):e==="muted"&&!this.muted()?i=n():i=this.play(),!!Xg(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,i="";typeof n!="string"&&(n=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!i&&(i=YEe(this,n)),this.cache_.source=At({},e,{src:n,type:i});const r=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const c=Xl(o[l]);s.push(c),c.src&&c.src===n&&a.push(c.src)}a.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=()=>{}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?$o(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!me.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const i=this.el();let r=me[this.fsApi_.fullscreenElement]===i;!r&&i.matches&&(r=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in zEe)return $Ee(this.middleware_,this.tech_,e,n);if(e in oN)return sN(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(i){throw Ze(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in jEe)return VEe(this.middleware_,this.tech_,e);if(e in oN)return sN(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(Ze("Video.js: ".concat(e," method not defined for ").concat(this.techName_," playback technology."),n),n):n.name==="TypeError"?(Ze("Video.js: ".concat(e," unavailable on ").concat(this.techName_," playback technology element."),n),this.tech_.isReady_=!1,n):(Ze(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=$o){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(pT||$i);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&i&&this.load();return}const r=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||lo(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=lo(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=lo(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return cH(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let i=e.end(e.length-1);return i>n&&(i=n),i}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((i,r)=>{function s(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){s(),i()}function a(c,u){s(),r(u)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(i,r))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](n);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,i)=>{function r(){e.off("fullscreenerror",o),e.off("fullscreenchange",s)}function s(){r(),n()}function o(l,c){r(),i(c)}e.one("fullscreenchange",s),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(r,r),a.then(n,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=me[this.fsApi_.exitFullscreen]();return e&&$o(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=me.documentElement.style.overflow,rs(me,"keydown",this.boundFullWindowOnEscKey_),me.documentElement.style.overflow="hidden",id(me.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,ji(me,"keydown",this.boundFullWindowOnEscKey_),me.documentElement.style.overflow=this.docOrigOverflow,mT(me.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&q.documentPictureInPicture){const e=me.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Me("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),q.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(Kz(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",i=>{const r=i.target.querySelector(".video-js");e.parentNode.replaceChild(r,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in me&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(q.documentPictureInPicture&&q.documentPictureInPicture.window)return q.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in me)return me.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const s=r.tagName.toLowerCase();if(r.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?o.indexOf(r.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=o=>e.key.toLowerCase()==="f",muteKey:r=o=>e.key.toLowerCase()==="m",playPauseKey:s=o=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const o=oe.getComponent("FullscreenToggle");me[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else r.call(this,e)?(e.preventDefault(),e.stopPropagation(),oe.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),oe.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let i=0,r=this.options_.techOrder;i<r.length;i++){const s=r[i];let o=Ge.getTech(s);if(o||(o=oe.getComponent(s)),!o){Ze.error('The "'.concat(s,'" tech is undefined. Skipped browser support check for that tech.'));continue}if(o.isSupported()&&(n=o.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(a=>[a,Ge.getTech(a)]).filter(([a,l])=>l?l.isSupported():(Ze.error('The "'.concat(a,'" tech is undefined. Skipped browser support check for that tech.')),!1)),i=function(a,l,c){let u;return a.some(d=>l.some(h=>{if(u=c(d,h),u)return!0})),u};let r;const s=a=>(l,c)=>a(c,l),o=([a,l],c)=>{if(l.canPlaySource(c,this.options_[a.toLowerCase()]))return{source:c,tech:a}};return this.options_.sourceOrder?r=i(e,n,s(o)):r=i(n,e,o),r||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=pH(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),UEe(this,i[0],(r,s)=>{if(this.middleware_=s,n||(this.cache_.sources=i),this.updateSourceCaches_(r),this.src_(r)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}FEe(s,this.tech_)}),i.length>1){const r=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},s=()=>{this.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?sH(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,n){return this.tech_?this.tech_.addSourceElement(e,n):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();$o(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),nl(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:i,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:s}=i||{};e&&e.updateContent(),n&&n.updateContent(),r&&r.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Yc("beforeerror").forEach(n=>{const i=n(this,e);if(!(la(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new nn(e),this.addClass("vjs-error"),Ze.error("(CODE:".concat(this.error_.code," ").concat(nn.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),Yc("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,i;const r=Nt(this,this.reportUserActivity),s=function(d){(d.screenX!==n||d.screenY!==i)&&(n=d.screenX,i=d.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(d){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",s),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!$i&&!po&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let c;const u=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);const d=this.options_.inactivityTimeout;d<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(u,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();e.forEach(r=>{r!==n&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,i){if(this.tech_)return this.tech_.addTextTrack(e,n,i)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),nl(this)&&this.trigger("languagechange"))}languages(){return At(zt.prototype.options_.languages,this.languages_)}toJSON(){const e=At(this.options_),n=e.tracks;e.tracks=[];for(let i=0;i<n.length;i++){let r=n[i];r=At(r),r.player=void 0,e.tracks[i]=r}return e}createModal(e,n){n=n||{},n.content=e||"";const i=new Gp(this,n);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let i=0;i<_C.length;i++){const r=_C[i],s=this.breakpoints_[r];if(n<=s){if(e===r)return;e&&this.removeClass(Wy[e]),this.addClass(Wy[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},kSe,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Wy[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=At(e);const{artist:r,artwork:s,description:o,poster:a,src:l,textTracks:c,title:u}=this.cache_.media;!s&&a&&(this.cache_.media.artwork=[{src:a,type:Qx(a)}]),i&&this.crossOrigin(i),l&&this.src(l),a&&this.poster(a),Array.isArray(c)&&c.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:u,description:o||r||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),r={src:n,textTracks:i};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:Qx(r.poster)}]),r}return At(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},i=Xl(e),r=i["data-setup"];if(Wg(e,"vjs-fill")&&(i.fill=!0),Wg(e,"vjs-fluid")&&(i.fluid=!0),r!==null)try{Object.assign(i,JSON.parse(r||"{}"))}catch(s){Ze.error("data-setup",s)}if(Object.assign(n,i),e.hasChildNodes()){const s=e.childNodes;for(let o=0,a=s.length;o<a;o++){const l=s[o],c=l.nodeName.toLowerCase();c==="source"?n.sources.push(Xl(l)):c==="track"&&n.tracks.push(Xl(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Zi.names.forEach(function(t){const e=Zi[t];zt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});zt.prototype.crossorigin=zt.prototype.crossOrigin;zt.players={};const Hm=q.navigator;zt.prototype.options_={techOrder:Ge.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Hm&&(Hm.languages&&Hm.languages[0]||Hm.userLanguage||Hm.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};HH.forEach(function(t){zt.prototype["handleTech".concat(ln(t),"_")]=function(){return this.trigger(t)}});oe.registerComponent("Player",zt);const Zx="plugin",Tf="activePlugins_",Wh={},Jx=t=>Wh.hasOwnProperty(t),Yy=t=>Jx(t)?Wh[t]:void 0,qH=(t,e)=>{t[Tf]=t[Tf]||{},t[Tf][e]=!0},ew=(t,e,n)=>{const i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},CSe=function(t,e){const n=function(){ew(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return qH(this,t),ew(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){n[i]=e[i]}),n},TN=(t,e)=>(e.prototype.name=t,function(...n){ew(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...n);return this[t]=()=>i,ew(this,i.getEventHash()),i});class Pr{constructor(e){if(this.constructor===Pr)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),eP(this),delete this.trigger,rH(this,this.constructor.defaultState),qH(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return qp(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Tf][e]=!1,this.player=this.state=null,n[e]=TN(e,Wh[e])}static isBasic(e){const n=typeof e=="string"?Yy(e):e;return typeof n=="function"&&!Pr.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error('Illegal plugin name, "'.concat(e,'", must be a string, was ').concat(typeof e,"."));if(Jx(e))Ze.warn('A plugin named "'.concat(e,'" already exists. You may want to avoid re-registering plugins!'));else if(zt.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'.concat(e,'", cannot share a name with an existing player method!'));if(typeof n!="function")throw new Error('Illegal plugin for "'.concat(e,'", must be a function, was ').concat(typeof n,"."));return Wh[e]=n,e!==Zx&&(Pr.isBasic(n)?zt.prototype[e]=CSe(e,n):zt.prototype[e]=TN(e,n)),n}static deregisterPlugin(e){if(e===Zx)throw new Error("Cannot de-register base plugin.");Jx(e)&&(delete Wh[e],delete zt.prototype[e])}static getPlugins(e=Object.keys(Wh)){let n;return e.forEach(i=>{const r=Yy(i);r&&(n=n||{},n[i]=r)}),n}static getPluginVersion(e){const n=Yy(e);return n&&n.VERSION||""}}Pr.getPlugin=Yy;Pr.BASE_PLUGIN_NAME=Zx;Pr.registerPlugin(Zx,Pr);zt.prototype.usingPlugin=function(t){return!!this[Tf]&&this[Tf][t]===!0};zt.prototype.hasPlugin=function(t){return!!Jx(t)};function ASe(t,e){let n=!1;return function(...i){return n||Ze.warn(t),n=!0,e.apply(this,i)}}function _o(t,e,n,i){return ASe("".concat(e," is deprecated and will be removed in ").concat(t,".0; please use ").concat(n," instead."),i)}var ISe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const GH=t=>t.indexOf("#")===0?t.slice(1):t;function Q(t,e,n){let i=Q.getPlayer(t);if(i)return e&&Ze.warn('Player "'.concat(t,'" is already initialised. Options will not be applied.')),n&&i.ready(n),i;const r=typeof t=="string"?Xc("#"+GH(t)):t;if(!Hp(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in r?r.getRootNode()instanceof q.ShadowRoot:!1)?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!o.contains(r))&&Ze.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),Yc("beforesetup").forEach(l=>{const c=l(r,At(e));if(!la(c)||Array.isArray(c)){Ze.error("please return an object in beforesetup hooks");return}e=At(e,c)});const a=oe.getComponent("Player");return i=new a(r,e,n),Yc("setup").forEach(l=>l(i)),i}Q.hooks_=$a;Q.hooks=Yc;Q.hook=aEe;Q.hookOnce=lEe;Q.removeHook=Iz;if(q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&zp()){let t=Xc(".vjs-styles-defaults");if(!t){t=Jz("vjs-styles-defaults");const e=Xc("head");e&&e.insertBefore(t,e.firstChild),eH(t,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}pC(1,Q);Q.VERSION=uC;Q.options=zt.prototype.options_;Q.getPlayers=()=>zt.players;Q.getPlayer=t=>{const e=zt.players;let n;if(typeof t=="string"){const i=GH(t),r=e[i];if(r)return r;n=Xc("#"+i)}else n=t;if(Hp(n)){const{player:i,playerId:r}=n;if(i||e[r])return i||e[r]}};Q.getAllPlayers=()=>Object.keys(zt.players).map(t=>zt.players[t]).filter(Boolean);Q.players=zt.players;Q.getComponent=oe.getComponent;Q.registerComponent=(t,e)=>(Ge.isTech(e)&&Ze.warn("The ".concat(t," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),oe.registerComponent.call(oe,t,e));Q.getTech=Ge.getTech;Q.registerTech=Ge.registerTech;Q.use=BEe;Object.defineProperty(Q,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Q.middleware,"TERMINATOR",{value:Kx,writeable:!1,enumerable:!0});Q.browser=Uz;Q.obj=dEe;Q.mergeOptions=_o(9,"videojs.mergeOptions","videojs.obj.merge",At);Q.defineLazyProperty=_o(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",uT);Q.bind=_o(9,"videojs.bind","native Function.prototype.bind",Nt);Q.registerPlugin=Pr.registerPlugin;Q.deregisterPlugin=Pr.deregisterPlugin;Q.plugin=(t,e)=>(Ze.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Pr.registerPlugin(t,e));Q.getPlugins=Pr.getPlugins;Q.getPlugin=Pr.getPlugin;Q.getPluginVersion=Pr.getPluginVersion;Q.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Q.options.languages=At(Q.options.languages,{[t]:e}),Q.options.languages[t]};Q.log=Ze;Q.createLogger=Dz;Q.time=kEe;Q.createTimeRange=_o(9,"videojs.createTimeRange","videojs.time.createTimeRanges",lo);Q.createTimeRanges=_o(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",lo);Q.formatTime=_o(9,"videojs.formatTime","videojs.time.formatTime",Ad);Q.setFormatTime=_o(9,"videojs.setFormatTime","videojs.time.setFormatTime",aH);Q.resetFormatTime=_o(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",lH);Q.parseUrl=_o(9,"videojs.parseUrl","videojs.url.parseUrl",iP);Q.isCrossOrigin=_o(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",wT);Q.EventTarget=ss;Q.any=JR;Q.on=rs;Q.one=_T;Q.off=ji;Q.trigger=qp;Q.xhr=Lj;Q.TextTrack=ev;Q.AudioTrack=hH;Q.VideoTrack=fH;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Q[t]=function(){return Ze.warn("videojs.".concat(t,"() is deprecated; use videojs.dom.").concat(t,"() instead")),Qz[t].apply(null,arguments)}});Q.computedStyle=_o(9,"videojs.computedStyle","videojs.dom.computedStyle",hp);Q.dom=Qz;Q.fn=_Ee;Q.num=rSe;Q.str=EEe;Q.url=MEe;Q.Error=ISe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class DSe{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(i){n.enabled_(i)}}),n}}class tw extends Q.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const i=this.levels_.length;return n=new DSe(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,i=this.length;n<i;n++){const r=this[n];if(r.id===e)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}tw.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in tw.prototype.allowedEvents_)tw.prototype["on"+t]=null;var WH="4.1.0";const RSe=function(t,e){const n=t.qualityLevels,i=new tw,r=function(){i.dispose(),t.qualityLevels=n,t.off("dispose",r)};return t.on("dispose",r),t.qualityLevels=()=>i,t.qualityLevels.VERSION=WH,i},YH=function(t){return RSe(this,Q.obj.merge({},t))};Q.registerPlugin("qualityLevels",YH);YH.VERSION=WH;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */const Tr=iT,nw=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,$s=t=>Q.log.debug?Q.log.debug.bind(Q,"VHS:","".concat(t," >")):function(){};function _t(...t){const e=Q.obj||Q;return(e.merge||e.mergeOptions).apply(e,t)}function li(...t){const e=Q.time||Q;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function PSe(t){if(t.length===0)return"Buffered Ranges are empty";let e="Buffered Ranges: \n";for(let n=0;n<t.length;n++){const i=t.start(n),r=t.end(n);e+="".concat(i," --> ").concat(r,". Duration (").concat(r-i,")\n")}return e}const jo=1/30,zo=jo*3,XH=function(t,e){const n=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return li(n)},Yh=function(t,e){return XH(t,function(n,i){return n-zo<=e&&i+zo>=e})},fy=function(t,e){return XH(t,function(n){return n-jo>=e})},OSe=function(t){if(t.length<2)return li();const e=[];for(let n=1;n<t.length;n++){const i=t.end(n-1),r=t.start(n);e.push([i,r])}return li(e)},LSe=function(t,e){let n=null,i=null,r=0;const s=[],o=[];if(!t||!t.length||!e||!e.length)return li();let a=t.length;for(;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(a=e.length;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),a=0;a<s.length;a++)s[a].type==="start"?(r++,r===2&&(n=s[a].time)):s[a].type==="end"&&(r--,r===1&&(i=s[a].time)),n!==null&&i!==null&&(o.push([n,i]),n=null,i=null);return li(o)},KH=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},MSe=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Hu=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},NSe=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},VS=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},_P=function(t,e){let n=0;if(!t||!t.length)return n;for(let i=0;i<t.length;i++){const r=t.start(i),s=t.end(i);if(!(e>s)){if(e>r&&e<=s){n+=s-e;continue}n+=s-r}}return n},xP=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(i){n+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=t.partTargetDuration)}),n},xC=t=>(t.segments||[]).reduce((e,n,i)=>(n.parts?n.parts.forEach(function(r,s){e.push({duration:r.duration,segmentIndex:i,partIndex:s,part:r,segment:n})}):e.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),e),[]),QH=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},ZH=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let i=(n||[]).reduce((r,s)=>r+(s.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},JH=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=QH(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},BSe=function(t,e){let n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=t.segments[i],typeof r.end<"u")return{result:n+r.end,precise:!0};if(n+=xP(t,r),typeof r.start<"u")return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},USe=function(t,e){let n=0,i,r=e-t.mediaSequence;for(;r<t.segments.length;r++){if(i=t.segments[r],typeof i.start<"u")return{result:i.start-n,precise:!0};if(n+=xP(t,i),typeof i.end<"u")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},eq=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=BSe(t,e);if(i.precise)return i.result;const r=USe(t,e);return r.precise?r.result:i.result+n},tq=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return q.Infinity}return eq(t,e,n)},Kg=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let s=n;s<Math.min(0,i);s++)r+=t;n=0}for(let s=n;s<i;s++)r+=e[s].duration;return r},nq=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return tq(t);if(e===null)return null;e=e||0;let r=eq(t,t.mediaSequence+t.segments.length,e);return n&&(i=typeof i=="number"?i:JH(null,t),r-=i),Math.max(0,r)},FSe=function(t,e,n){const r=e||0;let s=nq(t,e,!0,n);return s===null?li():(s<r&&(s=r),li(r,s))},VSe=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:s}){let o=e-r;const a=xC(t);let l=0;for(let c=0;c<a.length;c++){const u=a[c];if(n===u.segmentIndex&&!(typeof i=="number"&&typeof u.partIndex=="number"&&i!==u.partIndex)){l=c;break}}if(o<0){if(l>0)for(let c=l-1;c>=0;c--){const u=a[c];if(o+=u.duration,s){if(o<0)continue}else if(o+jo<=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:r-Kg({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:c})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let c=l;c<0;c++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let c=l;c<a.length;c++){const u=a[c];o-=u.duration;const d=u.duration>jo,h=o===0,m=d&&o+jo>=0;if(!((h||m)&&c!==a.length-1)){if(s){if(o>0)continue}else if(o-jo>=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:r+Kg({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:c})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},iq=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},wP=function(t){return t.excludeUntil&&t.excludeUntil===1/0},kT=function(t){const e=iq(t);return!t.disabled&&!e},$Se=function(t){return t.disabled},jSe=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},rq=function(t,e){return e.attributes&&e.attributes[t]},zSe=function(t,e,n,i=0){return rq("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-i*8)/e:NaN},wC=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>kT(i)?(i.attributes.BANDWIDTH||0)<n:!1).length===0},TP=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),EN=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const s in n[r])if(i=e(n[r][s]),i)break;if(i)break}return!!i},rv=t=>{if(!t||!t.playlists||!t.playlists.length)return EN(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],i=n.attributes&&n.attributes.CODECS;if(!(i&&i.split(",").every(s=>Vj(s))||EN(t,s=>TP(n,s))))return!1}return!0};var Sr={liveEdgeDelay:JH,duration:tq,seekable:FSe,getMediaInfoForTime:VSe,isEnabled:kT,isDisabled:$Se,isExcluded:iq,isIncompatible:wP,playlistEnd:nq,isAes:jSe,hasAttribute:rq,estimateSegmentRequestTime:zSe,isLowestEnabledRendition:wC,isAudioOnly:rv,playlistMatch:TP,segmentDurationWithParts:xP};const{log:sq}=Q,Ef=(t,e)=>"".concat(t,"-").concat(e),oq=(t,e,n)=>"placeholder-uri-".concat(t,"-").concat(e,"-").concat(n),HSe=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:s})=>{const o=new s1e;t&&o.on("warn",t),e&&o.on("info",e),i.forEach(c=>o.addParser(c)),r.forEach(c=>o.addTagMapper(c)),o.push(n),o.end();const a=o.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(c){a.hasOwnProperty(c)&&delete a[c]}),a.segments&&a.segments.forEach(function(c){["parts","preloadHints"].forEach(function(u){c.hasOwnProperty(u)&&delete c[u]})})),!a.targetDuration){let c=10;a.segments&&a.segments.length&&(c=a.segments.reduce((u,d)=>Math.max(u,d.duration),0)),t&&t({message:"manifest has no targetDuration defaulting to ".concat(c)}),a.targetDuration=c}const l=QH(a);if(l.length&&!a.partTargetDuration){const c=l.reduce((u,d)=>Math.max(u,d.duration),0);t&&(t({message:"manifest has no partTargetDuration defaulting to ".concat(c)}),sq.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=c}return a},Xp=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const i in t.mediaGroups[n])for(const r in t.mediaGroups[n][i]){const s=t.mediaGroups[n][i][r];e(s,n,i,r)}})},aq=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},qSe=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];aq({playlist:n,id:Ef(e,n.uri)}),n.resolvedUri=Tr(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||sq.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},GSe=t=>{Xp(t,e=>{e.uri&&(e.resolvedUri=Tr(t.uri,e.uri))})},WSe=(t,e)=>{const n=Ef(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:q.location.href,resolvedUri:q.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[e]=i.playlists[0],i},lq=(t,e,n=oq)=>{t.uri=e;for(let r=0;r<t.playlists.length;r++)if(!t.playlists[r].uri){const s="placeholder-uri-".concat(r);t.playlists[r].uri=s}const i=rv(t);Xp(t,(r,s,o,a)=>{if(!r.playlists||!r.playlists.length){if(i&&s==="AUDIO"&&!r.uri)for(let l=0;l<t.playlists.length;l++){const c=t.playlists[l];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o)return}r.playlists=[ft({},r)]}r.playlists.forEach(function(l,c){const u=n(s,o,a,l),d=Ef(c,u);l.uri?l.resolvedUri=l.resolvedUri||Tr(t.uri,l.uri):(l.uri=c===0?u:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),qSe(t),GSe(t)};class SN{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,i=n.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((r,s)=>(r.set(s.id,s),r),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((i,r)=>{if(!this.processedDateRanges_.has(r)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),n.push(i),!!i.class))if(e[i.class]){const s=e[i.class].push(i);i.classListIndex=s-1}else e[i.class]=[i],i.classListIndex=0});for(const i of n){const r=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&r[i.classListIndex+1]?i.endTime=r[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,r)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const cq=22,od=({requestType:t,request:e,error:n,parseFailure:i})=>{const r=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,o={uri:e.uri,requestType:t},a=r&&!s||i;if(n&&s)o.error=ft({},n),o.errorType=Q.Error.NetworkRequestFailed;else if(e.aborted)o.errorType=Q.Error.NetworkRequestAborted;else if(e.timedout)o.erroType=Q.Error.NetworkRequestTimeout;else if(a){const l=i?Q.Error.NetworkBodyParserFailed:Q.Error.NetworkBadStatus;o.errorType=l,o.status=e.status,o.headers=e.headers}return o},{EventTarget:YSe}=Q,XSe=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let r=e.mediaSequence+e.segments.length;if(i){const s=i.parts||[],o=ZH(e)-1;o>-1&&o!==s.length-1&&(n._HLS_part=o),(o>-1||s.length)&&r--}n._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const i=new q.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){n.hasOwnProperty(r)&&i.searchParams.set(r,n[r])}),t=i.toString()}return t},KSe=(t,e)=>{if(!t)return e;const n=_t(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(n.parts[i]=_t(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},QSe=(t,e,n)=>{const i=t.slice(),r=e.slice();n=n||0;const s=[];let o;for(let a=0;a<r.length;a++){const l=i[a+n],c=r[a];l?(o=l.map||o,s.push(KSe(l,c))):(o&&!c.map&&(c.map=o),s.push(c))}return s},uq=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Tr(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Tr(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Tr(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Tr(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Tr(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Tr(e,n.uri))})},dq=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},hq=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,TC=(t,e,n=hq)=>{const i=_t(t,{}),r=i.playlists[e.id];if(!r||n(r,e))return null;e.segments=dq(e);const s=_t(r,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}s.segments=QSe(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}s.segments.forEach(o=>{uq(o,s.resolvedUri)});for(let o=0;o<i.playlists.length;o++)i.playlists[o].id===e.id&&(i.playlists[o]=s);return i.playlists[e.id]=s,i.playlists[e.uri]=s,Xp(t,(o,a,l,c)=>{if(o.playlists)for(let u=0;u<o.playlists.length;u++)e.id===o.playlists[u].id&&(o.playlists[u]=s)}),i},EC=(t,e)=>{const n=t.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],s=r&&r.duration||i&&i.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},kN=(t,e,n)=>{if(!t)return;const i=[];return t.forEach(r=>{if(!r.attributes)return;const{BANDWIDTH:s,RESOLUTION:o,CODECS:a}=r.attributes;i.push({id:r.id,bandwidth:s,resolution:o,codecs:a})}),{type:e,isLive:n,renditions:i}};class Xh extends YSe{constructor(e,n,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=$s("PlaylistLoader");const{withCredentials:r=!1}=i;this.src=e,this.vhs_=n,this.withCredentials=r,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new SN,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Tr(this.main.uri,e.uri);this.llhls&&(n=XSe(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,r)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,i){const{uri:r,id:s}=n;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:"HLS playlist request error at URL: ".concat(r,"."),responseText:e.responseText,code:e.status>=500?4:2,metadata:od({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{return HSe({onwarn:({message:i})=>this.logger_("m3u8-parser warn for ".concat(e,": ").concat(i)),oninfo:({message:i})=>this.logger_("m3u8-parser info for ".concat(e,": ").concat(i)),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(i){this.error=i,this.error.metadata={errorType:Q.Error.StreamingHlsPlaylistParserError,error:i}}}haveMetadata({playlistString:e,playlistObject:n,url:i,id:r}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:s});const o=n||this.parseManifest_({url:i,manifestString:e});o.lastRequest=Date.now(),aq({playlist:o,uri:i,id:r});const a=TC(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(EC(this.media(),!!a)),s.parsedPlaylist=kN(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),q.clearTimeout(this.mediaUpdateTimeout),q.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new SN,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(q.clearTimeout(this.finalRenditionTimeout),n){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=q.setTimeout(this.media.bind(this,e,!1),a);return}const i=this.state,r=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(EC(e,!0)),!r)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const o={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:o}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=nw(e.resolvedUri,l),a)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:o}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=q.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=q.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:i.status,message:"HLS playlist request error at URL: ".concat(this.src,"."),responseText:i.responseText,code:2,metadata:od({requestType:i.requestType,request:i,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=nw(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});const r=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=kN(r.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(r)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,lq(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=dq(i),i.segments.forEach(r=>{uq(r,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||q.location.href;this.main=WSe(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const i=this.main,r=e.ID;let s=i.playlists.length;for(;s--;){const o=i.playlists[s];if(o.attributes["PATHWAY-ID"]===r){const a=o.resolvedUri,l=o.id;if(n){const c=this.createCloneURI_(o.resolvedUri,e),u=Ef(r,c),d=this.createCloneAttributes_(r,o.attributes),h=this.createClonePlaylist_(o,u,e,d);i.playlists[s]=h,i.playlists[u]=h,i.playlists[c]=h}else i.playlists.splice(s,1);delete i.playlists[l],delete i.playlists[a]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const i=this.main,r=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||!i.mediaGroups[s][r])){for(const o in i.mediaGroups[s])if(o===r){for(const a in i.mediaGroups[s][o])i.mediaGroups[s][o][a].playlists.forEach((c,u)=>{const d=i.playlists[c.id],h=d.id,m=d.resolvedUri;delete i.playlists[h],delete i.playlists[m]});delete i.mediaGroups[s][o]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const i=this.main,r=i.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),o=Ef(e.ID,s),a=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,o,e,a);i.playlists[r]=l,i.playlists[o]=l,i.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,i=e["BASE-ID"],r=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||r.mediaGroups[s][n]))for(const o in r.mediaGroups[s]){if(o===i)r.mediaGroups[s][n]={};else continue;for(const a in r.mediaGroups[s][o]){const l=r.mediaGroups[s][o][a];r.mediaGroups[s][n][a]=ft({},l);const c=r.mediaGroups[s][n][a],u=this.createCloneURI_(l.resolvedUri,e);c.resolvedUri=u,c.uri=u,c.playlists=[],l.playlists.forEach((d,h)=>{const m=r.playlists[d.id],b=oq(s,n,a),g=Ef(n,b);if(m&&!r.playlists[g]){const w=this.createClonePlaylist_(m,g,e),y=w.resolvedUri;r.playlists[g]=w,r.playlists[y]=w}c.playlists[h]=this.createClonePlaylist_(d,g,e)})}}})}createClonePlaylist_(e,n,i,r){const s=this.createCloneURI_(e.resolvedUri,i),o={resolvedUri:s,uri:s,id:n};return e.segments&&(o.segments=[]),r&&(o.attributes=r),_t(e,o)}createCloneURI_(e,n){const i=new URL(e);i.hostname=n["URI-REPLACEMENT"].HOST;const r=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(r))i.searchParams.set(s,r[s]);return i.href}createCloneAttributes_(e,n){const i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{n[r]&&(i[r]=e)}),i}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const i in e.contentProtection){const r=e.contentProtection[i].attributes.keyId;r&&n.add(r.toLowerCase())}return n}}}const SC=function(t,e,n,i){const r=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},ZSe=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(i=>{n=i(n)}),n},JSe=(t,e,n,i)=>{!t||!t.size||t.forEach(r=>{r(e,n,i)})},fq=function(){const t=function e(n,i){n=_t({timeout:45e3},n);const r=e.beforeRequest||Q.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Q.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||Q.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(Q.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(r));const a=Q.Vhs.xhr.original===!0?Q.xhr:Q.Vhs.xhr,l=ZSe(s,n);s.delete(r);const c=a(l||n,function(d,h){return JSe(o,c,d,h),SC(c,d,h,i)}),u=c.abort;return c.abort=function(){return c.aborted=!0,u.apply(c,arguments)},c.uri=n.uri,c.requestType=n.requestType,c.requestTime=Date.now(),c};return t.original=!0,t},eke=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=q.BigInt(t.offset)+q.BigInt(t.length)-q.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},kC=function(t){const e={};return t.byterange&&(e.Range=eke(t.byterange)),e},tke=function(t,e){return t.start(e)+"-"+t.end(e)},nke=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},ike=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},pq=function(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];jj(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},iw=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},mq=function(t){return t.resolvedUri},gq=t=>{const e=Array.prototype.slice.call(t),n=16;let i="",r,s;for(let o=0;o<e.length/n;o++)r=e.slice(o*n,o*n+n).map(nke).join(""),s=e.slice(o*n,o*n+n).map(ike).join(""),i+=r+" "+s+"\n";return i},rke=({bytes:t})=>gq(t),ske=t=>{let e="",n;for(n=0;n<t.length;n++)e+=tke(t,n)+" ";return e};var oke=Object.freeze({__proto__:null,createTransferableMessage:pq,initSegmentId:iw,segmentKeyId:mq,hexDump:gq,tagDump:rke,textRanges:ske});const bq=.25,ake=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+n,s=t-r;return new Date(e.dateTimeObject.getTime()+s*1e3)},lke=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,cke=(t,e)=>{let n;try{n=new Date(t)}catch(l){return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){i=e.segments[l];const c=new Date(e.segments[l+1].dateTimeObject);if(n<c)break}const r=e.segments[e.segments.length-1],s=r.dateTimeObject,o=r.videoTimingInfo?lke(r.videoTimingInfo):r.duration+r.duration*bq,a=new Date(s.getTime()+o*1e3);return n>a?null:(n>new Date(s)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Sr.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},uke=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,i;for(let s=0;s<e.segments.length&&(i=e.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(t<=n));s++);const r=e.segments[e.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+r.duration*bq)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},dke=(t,e)=>{let n,i;try{n=new Date(t),i=new Date(e)}catch(o){}const r=n.getTime();return(i.getTime()-r)/1e3},hke=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},fke=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const i=uke(e,t);if(!i)return n({message:"valid programTime was not found"});if(i.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:e},s=ake(e,i.segment);return s&&(r.programDateTime=s.toISOString()),n(null,r)},vq=({programTime:t,playlist:e,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:s,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!hke(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=cke(t,e);if(!a)return o({message:"".concat(t," was not found in the stream")});const l=a.segment,c=dke(l.dateTimeObject,t);if(a.type==="estimate"){if(n===0)return o({message:"".concat(t," is not buffered yet. Try again")});i(a.estimatedStart+c),s.one("seeked",()=>{vq({programTime:t,playlist:e,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:s,callback:o})});return}const u=l.start+c,d=()=>o(null,s.currentTime());s.one("seeked",d),r&&s.pause(),i(u)},$S=(t,e)=>{if(t.readyState===4)return e()},pke=(t,e,n,i)=>{let r=[],s,o=!1;const a=function(d,h,m,b){return h.abort(),o=!0,n(d,h,m,b)},l=function(d,h){if(o)return;if(d)return d.metadata=od({requestType:i,request:h,error:d}),a(d,h,"",r);const m=h.responseText.substring(r&&r.byteLength||0,h.responseText.length);if(r=b1e(r,zj(m,!0)),s=s||cg(r),r.length<10||s&&r.length<s+2)return $S(h,()=>a(d,h,"",r));const b=HR(r);return b==="ts"&&r.length<188?$S(h,()=>a(d,h,"",r)):!b&&r.length<376?$S(h,()=>a(d,h,"",r)):a(null,h,b,r)},u=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:h,loaded:m}){return SC(d,null,{statusCode:d.status},l)})}},function(d,h){return SC(u,d,h,l)});return u},{EventTarget:mke}=Q,CN=function(t,e){if(!hq(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const i=t.segments[n],r=e.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const s=i.byterange,o=r.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}return!0},gke=(t,e,n,i)=>{const r=i.attributes.NAME||n;return"placeholder-uri-".concat(t,"-").concat(e,"-").concat(r)},bke=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const s=UTe(t,{manifestUri:e,clientOffset:n,sidxMapping:i,previousManifest:r});return lq(s,e,gke),s},vke=(t,e)=>{Xp(t,(n,i,r,s)=>{(!e.mediaGroups[i][r]||!(s in e.mediaGroups[i][r]))&&delete t.mediaGroups[i][r][s]})},yke=(t,e,n)=>{let i=!0,r=_t(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const o=e.playlists[s];if(o.sidx){const l=aT(o.sidx);n&&n[l]&&n[l].sidx&&$R(o,n[l].sidx,o.sidx.resolvedUri)}const a=TC(r,o,CN);a&&(r=a,i=!1)}return Xp(e,(s,o,a,l)=>{if(s.playlists&&s.playlists.length){const c=s.playlists[0].id,u=TC(r,s.playlists[0],CN);u&&(r=u,l in r.mediaGroups[o][a]||(r.mediaGroups[o][a][l]=s),r.mediaGroups[o][a][l].playlists[0]=r.playlists[c],i=!1)}}),vke(r,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:r},_ke=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,AN=(t,e)=>{const n={};for(const i in t){const s=t[i].sidx;if(s){const o=aT(s);if(!e[o])break;const a=e[o].sidxInfo;_ke(a,s)&&(n[o]=e[o])}}return n},xke=(t,e)=>{let i=AN(t.playlists,e);return Xp(t,(r,s,o,a)=>{if(r.playlists&&r.playlists.length){const l=r.playlists;i=_t(i,AN(l,e))}}),i};class CC extends mke{constructor(e,n,i={},r){super(),this.isPaused_=!0,this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=$s("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,n,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,n,i){const r=e.sidx&&aT(e.sidx);if(!e.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){q.clearTimeout(this.mediaRequest_),this.mediaRequest_=q.setTimeout(()=>i(!1),0);return}const s=nw(e.sidx.resolvedUri),o=(l,c)=>{if(this.requestErrored_(l,c,n))return;const u=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=c;let h;try{h=qTe(Le(c.response).subarray(8))}catch(m){m.metadata=od({requestType:d,request:c,parseFailure:!0}),this.requestErrored_(m,c,n);return}return u[r]={sidxInfo:e.sidx,sidx:h},$R(e,h,e.sidx.resolvedUri),i(!0)},a="dash-sidx";this.request=pke(s,this.vhs_.xhr,(l,c,u,d)=>{if(l)return o(l,c);if(!u||u!=="mp4"){const b=u||"unknown";return o({status:c.status,message:"Unsupported ".concat(b," container type for sidx segment at URL: ").concat(s),response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},c)}const{offset:h,length:m}=e.sidx.byterange;if(d.length>=m+h)return o(l,{response:d.subarray(h,h+m),status:c.status,uri:c.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:kC({byterange:e.sidx.byterange})},o)},a)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},q.clearTimeout(this.minimumUpdatePeriodTimeout_),q.clearTimeout(this.mediaRequest_),q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,r=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,q.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(q.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=q.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){q.clearTimeout(this.mediaRequest_),this.mediaRequest_=q.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,r)=>{if(i){const{requestType:o}=r;i.metadata=od({requestType:o,request:r,error:i})}if(this.requestErrored_(i,r)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=r.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?this.mainLoaded_=Date.parse(r.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=nw(this.mainPlaylistLoader_.srcUrl,r),s){this.handleMain_(),this.syncClientServerClock_(()=>e(r,s));return}return e(r,s)})}syncClientServerClock_(e){const n=FTe(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Tr(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,r)=>{if(!this.request)return;if(i){const{requestType:o}=r;return this.error.metadata=od({requestType:o,request:r,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;n.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(r.responseHeaders.date):s=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){q.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let i;try{i=bke({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:Q.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(i=yke(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const r=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(r&&r!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=r),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:s,endList:o}=i,a=[];i.playlists.forEach(c=>{a.push({id:c.id,bandwidth:c.attributes.BANDWIDTH,resolution:c.attributes.RESOLUTION,codecs:c.attributes.CODECS})});const l={duration:s,isLive:!o,renditions:a};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(q.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_("found invalid minimumUpdatePeriod of ".concat(n,", not setting a timeout"));return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=q.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=xke(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==n[e];if(i?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=q.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},EC(this.media(),!!i)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const i in e.contentProtection){const r=e.contentProtection[i].attributes["cenc:default_KID"];r&&n.add(r.replace(/-/g,"").toLowerCase())}return n}}}var ti={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const wke=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},yq=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},Tke=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},_q=function(t){return function(){const e=Tke(t),n=yq(new Worker(e));n.objURL=e;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},n}},xq=function(t){return"var browserWorkerPolyFill = ".concat(yq.toString(),";\n")+"browserWorkerPolyFill(self);\n"+t},wq=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},Eke=xq(wq(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var p={};this.on=function(v,x){p[v]||(p[v]=[]),p[v]=p[v].concat(x)},this.off=function(v,x){var _;return p[v]?(_=p[v].indexOf(x),p[v]=p[v].slice(),p[v].splice(_,1),_>-1):!1},this.trigger=function(v){var x,_,S,C;if(x=p[v],!!x)if(arguments.length===2)for(S=x.length,_=0;_<S;++_)x[_].call(this,arguments[1]);else{for(C=[],_=arguments.length,_=1;_<arguments.length;++_)C.push(arguments[_]);for(S=x.length,_=0;_<S;++_)x[_].apply(this,C)}},this.dispose=function(){p={}}}};e.prototype.pipe=function(p){return this.on("data",function(v){p.push(v)}),this.on("done",function(v){p.flush(v)}),this.on("partialdone",function(v){p.partialFlush(v)}),this.on("endedtimeline",function(v){p.endTimeline(v)}),this.on("reset",function(v){p.reset(v)}),p},e.prototype.push=function(p){this.trigger("data",p)},e.prototype.flush=function(p){this.trigger("done",p)},e.prototype.partialFlush=function(p){this.trigger("partialdone",p)},e.prototype.endTimeline=function(p){this.trigger("endedtimeline",p)},e.prototype.reset=function(p){this.trigger("reset",p)};var n=e,i=Math.pow(2,32),r=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),x;return v.getBigUint64?(x=v.getBigUint64(0),x<Number.MAX_SAFE_INTEGER?Number(x):x):v.getUint32(0)*i+v.getUint32(4)},s={getUint64:r,MAX_UINT32:i},o=s.MAX_UINT32,a,l,c,u,d,h,m,b,g,w,y,T,k,D,P,B,O,A,R,L,U,V,M,ae,he,K,fe,ee,ne,Y,pe,ge,De,Ne,ue,Ee;(function(){var p;if(M={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(p in M)M.hasOwnProperty(p)&&(M[p]=[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]);ae=new Uint8Array([105,115,111,109]),K=new Uint8Array([97,118,99,49]),he=new Uint8Array([0,0,0,1]),fe=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ee=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ne={video:fe,audio:ee},ge=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),De=new Uint8Array([0,0,0,0,0,0,0,0]),Ne=De,ue=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ee=De,Y=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(p){var v=[],x=0,_,S,C;for(_=1;_<arguments.length;_++)v.push(arguments[_]);for(_=v.length;_--;)x+=v[_].byteLength;for(S=new Uint8Array(x+8),C=new DataView(S.buffer,S.byteOffset,S.byteLength),C.setUint32(0,S.byteLength),S.set(p,4),_=0,x=8;_<v.length;_++)S.set(v[_],x),x+=v[_].byteLength;return S},l=function(){return a(M.dinf,a(M.dref,ge))},c=function(p){return a(M.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},u=function(){return a(M.ftyp,ae,he,ae,K)},B=function(p){return a(M.hdlr,ne[p])},d=function(p){return a(M.mdat,p)},P=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(v[12]=p.samplerate>>>24&255,v[13]=p.samplerate>>>16&255,v[14]=p.samplerate>>>8&255,v[15]=p.samplerate&255),a(M.mdhd,v)},D=function(p){return a(M.mdia,P(p),B(p.type),m(p))},h=function(p){return a(M.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},m=function(p){return a(M.minf,p.type==="video"?a(M.vmhd,Y):a(M.smhd,pe),l(),A(p))},b=function(p,v){for(var x=[],_=v.length;_--;)x[_]=L(v[_]);return a.apply(null,[M.moof,h(p)].concat(x))},g=function(p){for(var v=p.length,x=[];v--;)x[v]=T(p[v]);return a.apply(null,[M.moov,y(4294967295)].concat(x).concat(w(p)))},w=function(p){for(var v=p.length,x=[];v--;)x[v]=U(p[v]);return a.apply(null,[M.mvex].concat(x))},y=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(M.mvhd,v)},O=function(p){var v=p.samples||[],x=new Uint8Array(4+v.length),_,S;for(S=0;S<v.length;S++)_=v[S].flags,x[S+4]=_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy;return a(M.sdtp,x)},A=function(p){return a(M.stbl,R(p),a(M.stts,Ee),a(M.stsc,Ne),a(M.stsz,ue),a(M.stco,De))},function(){var p,v;R=function(x){return a(M.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),x.type==="video"?p(x):v(x))},p=function(x){var _=x.sps||[],S=x.pps||[],C=[],$=[],j,H;for(j=0;j<_.length;j++)C.push((_[j].byteLength&65280)>>>8),C.push(_[j].byteLength&255),C=C.concat(Array.prototype.slice.call(_[j]));for(j=0;j<S.length;j++)$.push((S[j].byteLength&65280)>>>8),$.push(S[j].byteLength&255),$=$.concat(Array.prototype.slice.call(S[j]));if(H=[M.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(x.width&65280)>>8,x.width&255,(x.height&65280)>>8,x.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(M.avcC,new Uint8Array([1,x.profileIdc,x.profileCompatibility,x.levelIdc,255].concat([_.length],C,[S.length],$))),a(M.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],x.sarRatio){var G=x.sarRatio[0],W=x.sarRatio[1];H.push(a(M.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(W&4278190080)>>24,(W&16711680)>>16,(W&65280)>>8,W&255])))}return a.apply(null,H)},v=function(x){return a(M.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(x.channelcount&65280)>>8,x.channelcount&255,(x.samplesize&65280)>>8,x.samplesize&255,0,0,0,0,(x.samplerate&65280)>>8,x.samplerate&255,0,0]),c(x))}}(),k=function(p){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return a(M.tkhd,v)},L=function(p){var v,x,_,S,C,$,j;return v=a(M.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),$=Math.floor(p.baseMediaDecodeTime/o),j=Math.floor(p.baseMediaDecodeTime%o),x=a(M.tfdt,new Uint8Array([1,0,0,0,$>>>24&255,$>>>16&255,$>>>8&255,$&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255])),C=92,p.type==="audio"?(_=V(p,C),a(M.traf,v,x,_)):(S=O(p),_=V(p,S.length+C),a(M.traf,v,x,_,S))},T=function(p){return p.duration=p.duration||4294967295,a(M.trak,k(p),D(p))},U=function(p){var v=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(v[v.length-1]=0),a(M.trex,v)},function(){var p,v,x;x=function(_,S){var C=0,$=0,j=0,H=0;return _.length&&(_[0].duration!==void 0&&(C=1),_[0].size!==void 0&&($=2),_[0].flags!==void 0&&(j=4),_[0].compositionTimeOffset!==void 0&&(H=8)),[0,0,C|$|j|H,1,(_.length&4278190080)>>>24,(_.length&16711680)>>>16,(_.length&65280)>>>8,_.length&255,(S&4278190080)>>>24,(S&16711680)>>>16,(S&65280)>>>8,S&255]},v=function(_,S){var C,$,j,H,G,W;for(H=_.samples||[],S+=20+16*H.length,j=x(H,S),$=new Uint8Array(j.length+H.length*16),$.set(j),C=j.length,W=0;W<H.length;W++)G=H[W],$[C++]=(G.duration&4278190080)>>>24,$[C++]=(G.duration&16711680)>>>16,$[C++]=(G.duration&65280)>>>8,$[C++]=G.duration&255,$[C++]=(G.size&4278190080)>>>24,$[C++]=(G.size&16711680)>>>16,$[C++]=(G.size&65280)>>>8,$[C++]=G.size&255,$[C++]=G.flags.isLeading<<2|G.flags.dependsOn,$[C++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,$[C++]=G.flags.degradationPriority&61440,$[C++]=G.flags.degradationPriority&15,$[C++]=(G.compositionTimeOffset&4278190080)>>>24,$[C++]=(G.compositionTimeOffset&16711680)>>>16,$[C++]=(G.compositionTimeOffset&65280)>>>8,$[C++]=G.compositionTimeOffset&255;return a(M.trun,$)},p=function(_,S){var C,$,j,H,G,W;for(H=_.samples||[],S+=20+8*H.length,j=x(H,S),C=new Uint8Array(j.length+H.length*8),C.set(j),$=j.length,W=0;W<H.length;W++)G=H[W],C[$++]=(G.duration&4278190080)>>>24,C[$++]=(G.duration&16711680)>>>16,C[$++]=(G.duration&65280)>>>8,C[$++]=G.duration&255,C[$++]=(G.size&4278190080)>>>24,C[$++]=(G.size&16711680)>>>16,C[$++]=(G.size&65280)>>>8,C[$++]=G.size&255;return a(M.trun,C)},V=function(_,S){return _.type==="audio"?p(_,S):v(_,S)}}();var ye={ftyp:u,mdat:d,moof:b,moov:g,initSegment:function(p){var v=u(),x=g(p),_;return _=new Uint8Array(v.byteLength+x.byteLength),_.set(v),_.set(x,v.byteLength),_}},Ye=function(p){var v,x,_=[],S=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,_.byteLength=0,v=0;v<p.length;v++)x=p[v],x.nalUnitType==="access_unit_delimiter_rbsp"?(_.length&&(_.duration=x.dts-_.dts,S.byteLength+=_.byteLength,S.nalCount+=_.length,S.duration+=_.duration,S.push(_)),_=[x],_.byteLength=x.data.byteLength,_.pts=x.pts,_.dts=x.dts):(x.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(_.keyFrame=!0),_.duration=x.dts-_.dts,_.byteLength+=x.data.byteLength,_.push(x));return S.length&&(!_.duration||_.duration<=0)&&(_.duration=S[S.length-1].duration),S.byteLength+=_.byteLength,S.nalCount+=_.length,S.duration+=_.duration,S.push(_),S},Ut=function(p){var v,x,_=[],S=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=p[0].pts,_.dts=p[0].dts,S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=p[0].pts,S.dts=p[0].dts,v=0;v<p.length;v++)x=p[v],x.keyFrame?(_.length&&(S.push(_),S.byteLength+=_.byteLength,S.nalCount+=_.nalCount,S.duration+=_.duration),_=[x],_.nalCount=x.length,_.byteLength=x.byteLength,_.pts=x.pts,_.dts=x.dts,_.duration=x.duration):(_.duration+=x.duration,_.nalCount+=x.length,_.byteLength+=x.byteLength,_.push(x));return S.length&&_.duration<=0&&(_.duration=S[S.length-1].duration),S.byteLength+=_.byteLength,S.nalCount+=_.nalCount,S.duration+=_.duration,S.push(_),S},qn=function(p){var v;return!p[0][0].keyFrame&&p.length>1&&(v=p.shift(),p.byteLength-=v.byteLength,p.nalCount-=v.nalCount,p[0][0].dts=v.dts,p[0][0].pts=v.pts,p[0][0].duration+=v.duration),p},gi=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Tn=function(p,v){var x=gi();return x.dataOffset=v,x.compositionTimeOffset=p.pts-p.dts,x.duration=p.duration,x.size=4*p.length,x.size+=p.byteLength,p.keyFrame&&(x.flags.dependsOn=2,x.flags.isNonSyncSample=0),x},Di=function(p,v){var x,_,S,C,$,j=v||0,H=[];for(x=0;x<p.length;x++)for(C=p[x],_=0;_<C.length;_++)$=C[_],S=Tn($,j),j+=S.size,H.push(S);return H},Qt=function(p){var v,x,_,S,C,$,j=0,H=p.byteLength,G=p.nalCount,W=H+4*G,ie=new Uint8Array(W),Te=new DataView(ie.buffer);for(v=0;v<p.length;v++)for(S=p[v],x=0;x<S.length;x++)for(C=S[x],_=0;_<C.length;_++)$=C[_],Te.setUint32(j,$.data.byteLength),j+=4,ie.set($.data,j),j+=$.data.byteLength;return ie},bi=function(p,v){var x,_=v||0,S=[];return x=Tn(p,_),S.push(x),S},ls=function(p){var v,x,_=0,S=p.byteLength,C=p.length,$=S+4*C,j=new Uint8Array($),H=new DataView(j.buffer);for(v=0;v<p.length;v++)x=p[v],H.setUint32(_,x.data.byteLength),_+=4,j.set(x.data,_),_+=x.data.byteLength;return j},xo={groupNalsIntoFrames:Ye,groupFramesIntoGops:Ut,extendFirstKeyFrame:qn,generateSampleTable:Di,concatenateNalData:Qt,generateSampleTableForFrame:bi,concatenateNalDataForFrame:ls},Gn=[33,16,5,32,164,27],dr=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Xe=function(p){for(var v=[];p--;)v.push(0);return v},js=function(p){return Object.keys(p).reduce(function(v,x){return v[x]=new Uint8Array(p[x].reduce(function(_,S){return _.concat(S)},[])),v},{})},zs,Hs=function(){if(!zs){var p={96e3:[Gn,[227,64],Xe(154),[56]],88200:[Gn,[231],Xe(170),[56]],64e3:[Gn,[248,192],Xe(240),[56]],48e3:[Gn,[255,192],Xe(268),[55,148,128],Xe(54),[112]],44100:[Gn,[255,192],Xe(268),[55,163,128],Xe(84),[112]],32e3:[Gn,[255,192],Xe(268),[55,234],Xe(226),[112]],24e3:[Gn,[255,192],Xe(268),[55,255,128],Xe(268),[111,112],Xe(126),[224]],16e3:[Gn,[255,192],Xe(268),[55,255,128],Xe(268),[111,255],Xe(269),[223,108],Xe(195),[1,192]],12e3:[dr,Xe(268),[3,127,248],Xe(268),[6,255,240],Xe(268),[13,255,224],Xe(268),[27,253,128],Xe(259),[56]],11025:[dr,Xe(268),[3,127,248],Xe(268),[6,255,240],Xe(268),[13,255,224],Xe(268),[27,255,192],Xe(268),[55,175,128],Xe(108),[112]],8e3:[dr,Xe(268),[3,121,16],Xe(47),[7]]};zs=js(p)}return zs},Fr=9e4,cs,St,Ft,Wn,wo,ma,qs;cs=function(p){return p*Fr},St=function(p,v){return p*v},Ft=function(p){return p/Fr},Wn=function(p,v){return p/v},wo=function(p,v){return cs(Wn(p,v))},ma=function(p,v){return St(Ft(p),v)},qs=function(p,v,x){return Ft(x?p:p-v)};var lt={ONE_SECOND_IN_TS:Fr,secondsToVideoTs:cs,secondsToAudioTs:St,videoTsToSeconds:Ft,audioTsToSeconds:Wn,audioTsToVideoTs:wo,videoTsToAudioTs:ma,metadataTsToSeconds:qs},Sl=Hs,ga=lt,cu=function(p){var v,x,_=0;for(v=0;v<p.length;v++)x=p[v],_+=x.data.byteLength;return _},Kp=function(p,v,x,_){var S,C=0,$=0,j=0,H=0,G,W,ie;if(v.length&&(S=ga.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),C=Math.ceil(ga.ONE_SECOND_IN_TS/(p.samplerate/1024)),x&&_&&($=S-Math.max(x,_),j=Math.floor($/C),H=j*C),!(j<1||H>ga.ONE_SECOND_IN_TS/2))){for(G=Sl()[p.samplerate],G||(G=v[0].data),W=0;W<j;W++)ie=v[0],v.splice(0,0,{data:G,dts:ie.dts-C,pts:ie.pts-C});return p.baseMediaDecodeTime-=Math.floor(ga.videoTsToAudioTs(H,p.samplerate)),H}},Qp=function(p,v,x){return v.minSegmentDts>=x?p:(v.minSegmentDts=1/0,p.filter(function(_){return _.dts>=x?(v.minSegmentDts=Math.min(v.minSegmentDts,_.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},uu=function(p){var v,x,_=[];for(v=0;v<p.length;v++)x=p[v],_.push({size:x.data.byteLength,duration:1024});return _},Hd=function(p){var v,x,_=0,S=new Uint8Array(cu(p));for(v=0;v<p.length;v++)x=p[v],S.set(x.data,_),_+=x.data.byteLength;return S},qd={prefixWithSilence:Kp,trimAdtsFramesByEarliestDts:Qp,generateSampleTable:uu,concatenateFrameData:Hd},ba=lt.ONE_SECOND_IN_TS,du=function(p,v){typeof v.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=v.pts),p.minSegmentPts===void 0?p.minSegmentPts=v.pts:p.minSegmentPts=Math.min(p.minSegmentPts,v.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=v.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=v.dts),p.minSegmentDts===void 0?p.minSegmentDts=v.dts:p.minSegmentDts=Math.min(p.minSegmentDts,v.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=v.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,v.dts))},hu=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},Gs=function(p,v){var x,_,S=p.minSegmentDts;return v||(S-=p.timelineStartInfo.dts),x=p.timelineStartInfo.baseMediaDecodeTime,x+=S,x=Math.max(0,x),p.type==="audio"&&(_=p.samplerate/ba,x*=_,x=Math.floor(x)),x},Gd={clearDtsInfo:hu,calculateTrackBaseMediaDecodeTime:Gs,collectDtsInfo:du},va=4,Wd=128,us=function(p){for(var v=0,x={payloadType:-1,payloadSize:0},_=0,S=0;v<p.byteLength&&p[v]!==Wd;){for(;p[v]===255;)_+=255,v++;for(_+=p[v++];p[v]===255;)S+=255,v++;if(S+=p[v++],!x.payload&&_===va){var C=String.fromCharCode(p[v+3],p[v+4],p[v+5],p[v+6]);if(C==="GA94"){x.payloadType=_,x.payloadSize=S,x.payload=p.subarray(v,v+S);break}else x.payload=void 0}v+=S,_=0,S=0}return x},Yd=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},En=function(p,v){var x=[],_,S,C,$;if(!(v[0]&64))return x;for(S=v[0]&31,_=0;_<S;_++)C=_*3,$={type:v[C+2]&3,pts:p},v[C+2]&4&&($.ccData=v[C+3]<<8|v[C+4],x.push($));return x},To=function(p){for(var v=p.byteLength,x=[],_=1,S,C;_<v-2;)p[_]===0&&p[_+1]===0&&p[_+2]===3?(x.push(_+2),_+=2):_++;if(x.length===0)return p;S=v-x.length,C=new Uint8Array(S);var $=0;for(_=0;_<S;$++,_++)$===x[0]&&($++,x.shift()),C[_]=p[$];return C},Ws={parseSei:us,parseUserData:Yd,parseCaptionPackets:En,discardEmulationPreventionBytes:To,USER_DATA_REGISTERED_ITU_T_T35:va},sn=n,kl=Ws,Yn=function(p){p=p||{},Yn.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Z(0,0),new Z(0,1),new Z(1,0),new Z(1,1)],this.parse708captions_&&(this.cc708Stream_=new pt({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Yn.prototype=new sn,Yn.prototype.push=function(p){var v,x,_;if(p.nalUnitType==="sei_rbsp"&&(v=kl.parseSei(p.escapedRBSP),!!v.payload&&v.payloadType===kl.USER_DATA_REGISTERED_ITU_T_T35&&(x=kl.parseUserData(v),!!x))){if(p.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(p.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}_=kl.parseCaptionPackets(p.pts,x),this.captionPackets_=this.captionPackets_.concat(_),this.latestDts_!==p.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=p.dts}},Yn.prototype.flushCCStreams=function(p){this.ccStreams_.forEach(function(v){return p==="flush"?v.flush():v.partialFlush()},this)},Yn.prototype.flushStream=function(p){if(!this.captionPackets_.length){this.flushCCStreams(p);return}this.captionPackets_.forEach(function(v,x){v.presortIndex=x}),this.captionPackets_.sort(function(v,x){return v.pts===x.pts?v.presortIndex-x.presortIndex:v.pts-x.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(p)},Yn.prototype.flush=function(){return this.flushStream("flush")},Yn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Yn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(p){p.reset()})},Yn.prototype.dispatchCea608Packet=function(p){this.setsTextOrXDSActive(p)?this.activeCea608Channel_[p.type]=null:this.setsChannel1Active(p)?this.activeCea608Channel_[p.type]=0:this.setsChannel2Active(p)&&(this.activeCea608Channel_[p.type]=1),this.activeCea608Channel_[p.type]!==null&&this.ccStreams_[(p.type<<1)+this.activeCea608Channel_[p.type]].push(p)},Yn.prototype.setsChannel1Active=function(p){return(p.ccData&30720)===4096},Yn.prototype.setsChannel2Active=function(p){return(p.ccData&30720)===6144},Yn.prototype.setsTextOrXDSActive=function(p){return(p.ccData&28928)===256||(p.ccData&30974)===4138||(p.ccData&30974)===6186},Yn.prototype.dispatchCea708Packet=function(p){this.parse708captions_&&this.cc708Stream_.push(p)};var Eo={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Xd=function(p){var v=Eo[p]||p;return p&4096&&p===v?"":String.fromCharCode(v)},Cl=function(p){return 32<=p&&p<=127||160<=p&&p<=255},Ri=function(p){this.windowNum=p,this.reset()};Ri.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ri.prototype.getText=function(){return this.rows.join("\n")},Ri.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ri.prototype.newLine=function(p){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(p),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ri.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Ri.prototype.addText=function(p){this.rows[this.rowIdx]+=p},Ri.prototype.backspace=function(){if(!this.isEmpty()){var p=this.rows[this.rowIdx];this.rows[this.rowIdx]=p.substr(0,p.length-1)}};var ya=function(p,v,x){this.serviceNum=p,this.text="",this.currentWindow=new Ri(-1),this.windows=[],this.stream=x,typeof v=="string"&&this.createTextDecoder(v)};ya.prototype.init=function(p,v){this.startPts=p;for(var x=0;x<8;x++)this.windows[x]=new Ri(x),typeof v=="function"&&(this.windows[x].beforeRowOverflow=v)},ya.prototype.setCurrentWindow=function(p){this.currentWindow=this.windows[p]},ya.prototype.createTextDecoder=function(p){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(p)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+p+" encoding. "+v})}};var pt=function(p){p=p||{},pt.prototype.init.call(this);var v=this,x=p.captionServices||{},_={},S;Object.keys(x).forEach(C=>{S=x[C],/^SERVICE/.test(C)&&(_[C]=S.encoding)}),this.serviceEncodings=_,this.current708Packet=null,this.services={},this.push=function(C){C.type===3?(v.new708Packet(),v.add708Bytes(C)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(C))}};pt.prototype=new sn,pt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},pt.prototype.add708Bytes=function(p){var v=p.ccData,x=v>>>8,_=v&255;this.current708Packet.ptsVals.push(p.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(_)},pt.prototype.push708Packet=function(){var p=this.current708Packet,v=p.data,x=null,_=null,S=0,C=v[S++];for(p.seq=C>>6,p.sizeCode=C&63;S<v.length;S++)C=v[S++],x=C>>5,_=C&31,x===7&&_>0&&(C=v[S++],x=C),this.pushServiceBlock(x,S,_),_>0&&(S+=_-1)},pt.prototype.pushServiceBlock=function(p,v,x){var _,S=v,C=this.current708Packet.data,$=this.services[p];for($||($=this.initService(p,S));S<v+x&&S<C.length;S++)_=C[S],Cl(_)?S=this.handleText(S,$):_===24?S=this.multiByteCharacter(S,$):_===16?S=this.extendedCommands(S,$):128<=_&&_<=135?S=this.setCurrentWindow(S,$):152<=_&&_<=159?S=this.defineWindow(S,$):_===136?S=this.clearWindows(S,$):_===140?S=this.deleteWindows(S,$):_===137?S=this.displayWindows(S,$):_===138?S=this.hideWindows(S,$):_===139?S=this.toggleWindows(S,$):_===151?S=this.setWindowAttributes(S,$):_===144?S=this.setPenAttributes(S,$):_===145?S=this.setPenColor(S,$):_===146?S=this.setPenLocation(S,$):_===143?$=this.reset(S,$):_===8?$.currentWindow.backspace():_===12?$.currentWindow.clearText():_===13?$.currentWindow.pendingNewLine=!0:_===14?$.currentWindow.clearText():_===141&&S++},pt.prototype.extendedCommands=function(p,v){var x=this.current708Packet.data,_=x[++p];return Cl(_)&&(p=this.handleText(p,v,{isExtended:!0})),p},pt.prototype.getPts=function(p){return this.current708Packet.ptsVals[Math.floor(p/2)]},pt.prototype.initService=function(p,v){var _="SERVICE"+p,x=this,_,S;return _ in this.serviceEncodings&&(S=this.serviceEncodings[_]),this.services[p]=new ya(p,S,x),this.services[p].init(this.getPts(v),function(C){x.flushDisplayed(C,x.services[p])}),this.services[p]},pt.prototype.handleText=function(p,v,x){var _=x&&x.isExtended,S=x&&x.isMultiByte,C=this.current708Packet.data,$=_?4096:0,j=C[p],H=C[p+1],G=v.currentWindow,W,ie;function Te(le){return le.map(Oe=>("0"+(Oe&255).toString(16)).slice(-2)).join("")}if(S?(ie=[j,H],p++):ie=[j],v.textDecoder_&&!_)W=v.textDecoder_.decode(new Uint8Array(ie));else if(S){const le=Te(ie);W=String.fromCharCode(parseInt(le,16))}else W=Xd($|j);return G.pendingNewLine&&!G.isEmpty()&&G.newLine(this.getPts(p)),G.pendingNewLine=!1,G.addText(W),p},pt.prototype.multiByteCharacter=function(p,v){var x=this.current708Packet.data,_=x[p+1],S=x[p+2];return Cl(_)&&Cl(S)&&(p=this.handleText(++p,v,{isMultiByte:!0})),p},pt.prototype.setCurrentWindow=function(p,v){var x=this.current708Packet.data,_=x[p],S=_&7;return v.setCurrentWindow(S),p},pt.prototype.defineWindow=function(p,v){var x=this.current708Packet.data,_=x[p],S=_&7;v.setCurrentWindow(S);var C=v.currentWindow;return _=x[++p],C.visible=(_&32)>>5,C.rowLock=(_&16)>>4,C.columnLock=(_&8)>>3,C.priority=_&7,_=x[++p],C.relativePositioning=(_&128)>>7,C.anchorVertical=_&127,_=x[++p],C.anchorHorizontal=_,_=x[++p],C.anchorPoint=(_&240)>>4,C.rowCount=_&15,_=x[++p],C.columnCount=_&63,_=x[++p],C.windowStyle=(_&56)>>3,C.penStyle=_&7,C.virtualRowCount=C.rowCount+1,p},pt.prototype.setWindowAttributes=function(p,v){var x=this.current708Packet.data,_=x[p],S=v.currentWindow.winAttr;return _=x[++p],S.fillOpacity=(_&192)>>6,S.fillRed=(_&48)>>4,S.fillGreen=(_&12)>>2,S.fillBlue=_&3,_=x[++p],S.borderType=(_&192)>>6,S.borderRed=(_&48)>>4,S.borderGreen=(_&12)>>2,S.borderBlue=_&3,_=x[++p],S.borderType+=(_&128)>>5,S.wordWrap=(_&64)>>6,S.printDirection=(_&48)>>4,S.scrollDirection=(_&12)>>2,S.justify=_&3,_=x[++p],S.effectSpeed=(_&240)>>4,S.effectDirection=(_&12)>>2,S.displayEffect=_&3,p},pt.prototype.flushDisplayed=function(p,v){for(var x=[],_=0;_<8;_++)v.windows[_].visible&&!v.windows[_].isEmpty()&&x.push(v.windows[_].getText());v.endPts=p,v.text=x.join("\n\n"),this.pushCaption(v),v.startPts=p},pt.prototype.pushCaption=function(p){p.text!==""&&(this.trigger("data",{startPts:p.startPts,endPts:p.endPts,text:p.text,stream:"cc708_"+p.serviceNum}),p.text="",p.startPts=p.endPts)},pt.prototype.displayWindows=function(p,v){var x=this.current708Packet.data,_=x[++p],S=this.getPts(p);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&(v.windows[C].visible=1);return p},pt.prototype.hideWindows=function(p,v){var x=this.current708Packet.data,_=x[++p],S=this.getPts(p);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&(v.windows[C].visible=0);return p},pt.prototype.toggleWindows=function(p,v){var x=this.current708Packet.data,_=x[++p],S=this.getPts(p);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&(v.windows[C].visible^=1);return p},pt.prototype.clearWindows=function(p,v){var x=this.current708Packet.data,_=x[++p],S=this.getPts(p);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&v.windows[C].clearText();return p},pt.prototype.deleteWindows=function(p,v){var x=this.current708Packet.data,_=x[++p],S=this.getPts(p);this.flushDisplayed(S,v);for(var C=0;C<8;C++)_&1<<C&&v.windows[C].reset();return p},pt.prototype.setPenAttributes=function(p,v){var x=this.current708Packet.data,_=x[p],S=v.currentWindow.penAttr;return _=x[++p],S.textTag=(_&240)>>4,S.offset=(_&12)>>2,S.penSize=_&3,_=x[++p],S.italics=(_&128)>>7,S.underline=(_&64)>>6,S.edgeType=(_&56)>>3,S.fontStyle=_&7,p},pt.prototype.setPenColor=function(p,v){var x=this.current708Packet.data,_=x[p],S=v.currentWindow.penColor;return _=x[++p],S.fgOpacity=(_&192)>>6,S.fgRed=(_&48)>>4,S.fgGreen=(_&12)>>2,S.fgBlue=_&3,_=x[++p],S.bgOpacity=(_&192)>>6,S.bgRed=(_&48)>>4,S.bgGreen=(_&12)>>2,S.bgBlue=_&3,_=x[++p],S.edgeRed=(_&48)>>4,S.edgeGreen=(_&12)>>2,S.edgeBlue=_&3,p},pt.prototype.setPenLocation=function(p,v){var x=this.current708Packet.data,_=x[p],S=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,_=x[++p],S.row=_&15,_=x[++p],S.column=_&63,p},pt.prototype.reset=function(p,v){var x=this.getPts(p);return this.flushDisplayed(x,v),this.initService(v.serviceNum,p)};var _a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},qi=function(p){return p===null?"":(p=_a[p]||p,String.fromCharCode(p))},So=14,Zp=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ds=function(){for(var p=[],v=So+1;v--;)p.push({text:"",indent:0,offset:0});return p},Z=function(p,v){Z.prototype.init.call(this),this.field_=p||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(x){var _,S,C,$,j;if(_=x.ccData&32639,_===this.lastControlCode_){this.lastControlCode_=null;return}if((_&61440)===4096?this.lastControlCode_=_:_!==this.PADDING_&&(this.lastControlCode_=null),C=_>>>8,$=_&255,_!==this.PADDING_)if(_===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(_===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(x.pts),this.flushDisplayed(x.pts),S=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=S,this.startPts_=x.pts;else if(_===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(x.pts);else if(_===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(x.pts);else if(_===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(x.pts);else if(_===this.CARRIAGE_RETURN_)this.clearFormatting(x.pts),this.flushDisplayed(x.pts),this.shiftRowsUp_(),this.startPts_=x.pts;else if(_===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(_===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(x.pts),this.displayed_=ds();else if(_===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ds();else if(_===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(x.pts),this.displayed_=ds()),this.mode_="paintOn",this.startPts_=x.pts;else if(this.isSpecialCharacter(C,$))C=(C&3)<<8,j=qi(C|$),this[this.mode_](x.pts,j),this.column_++;else if(this.isExtCharacter(C,$))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),C=(C&3)<<8,j=qi(C|$),this[this.mode_](x.pts,j),this.column_++;else if(this.isMidRowCode(C,$))this.clearFormatting(x.pts),this[this.mode_](x.pts," "),this.column_++,($&14)===14&&this.addFormatting(x.pts,["i"]),($&1)===1&&this.addFormatting(x.pts,["u"]);else if(this.isOffsetControlCode(C,$)){const G=$&3;this.nonDisplayed_[this.row_].offset=G,this.column_+=G}else if(this.isPAC(C,$)){var H=Zp.indexOf(_&7968);if(this.mode_==="rollUp"&&(H-this.rollUpRows_+1<0&&(H=this.rollUpRows_-1),this.setRollUp(x.pts,H)),H!==this.row_&&H>=0&&H<=14&&(this.clearFormatting(x.pts),this.row_=H),$&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(x.pts,["u"]),(_&16)===16){const G=(_&14)>>1;this.column_=G*4,this.nonDisplayed_[this.row_].indent+=G}this.isColorPAC($)&&($&14)===14&&this.addFormatting(x.pts,["i"])}else this.isNormalChar(C)&&($===0&&($=null),j=qi(C),j+=qi($),this[this.mode_](x.pts,j),this.column_+=j.length)}};Z.prototype=new sn,Z.prototype.flushDisplayed=function(p){const v=_=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+_+"."})},x=[];this.displayed_.forEach((_,S)=>{if(_&&_.text&&_.text.length){try{_.text=_.text.trim()}catch(C){v(S)}_.text.length&&x.push({text:_.text,line:S+1,position:10+Math.min(70,_.indent*10)+_.offset*2.5})}else _==null&&v(S)}),x.length&&this.trigger("data",{startPts:this.startPts_,endPts:p,content:x,stream:this.name_})},Z.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ds(),this.nonDisplayed_=ds(),this.lastControlCode_=null,this.column_=0,this.row_=So,this.rollUpRows_=2,this.formatting_=[]},Z.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Z.prototype.isSpecialCharacter=function(p,v){return p===this.EXT_&&v>=48&&v<=63},Z.prototype.isExtCharacter=function(p,v){return(p===this.EXT_+1||p===this.EXT_+2)&&v>=32&&v<=63},Z.prototype.isMidRowCode=function(p,v){return p===this.EXT_&&v>=32&&v<=47},Z.prototype.isOffsetControlCode=function(p,v){return p===this.OFFSET_&&v>=33&&v<=35},Z.prototype.isPAC=function(p,v){return p>=this.BASE_&&p<this.BASE_+8&&v>=64&&v<=127},Z.prototype.isColorPAC=function(p){return p>=64&&p<=79||p>=96&&p<=127},Z.prototype.isNormalChar=function(p){return p>=32&&p<=127},Z.prototype.setRollUp=function(p,v){if(this.mode_!=="rollUp"&&(this.row_=So,this.mode_="rollUp",this.flushDisplayed(p),this.nonDisplayed_=ds(),this.displayed_=ds()),v!==void 0&&v!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[v-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]={text:"",indent:0,offset:0};v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},Z.prototype.addFormatting=function(p,v){this.formatting_=this.formatting_.concat(v);var x=v.reduce(function(_,S){return _+"<"+S+">"},"");this[this.mode_](p,x)},Z.prototype.clearFormatting=function(p){if(this.formatting_.length){var v=this.formatting_.reverse().reduce(function(x,_){return x+"</"+_+">"},"");this.formatting_=[],this[this.mode_](p,v)}},Z.prototype.popOn=function(p,v){var x=this.nonDisplayed_[this.row_].text;x+=v,this.nonDisplayed_[this.row_].text=x},Z.prototype.rollUp=function(p,v){var x=this.displayed_[this.row_].text;x+=v,this.displayed_[this.row_].text=x},Z.prototype.shiftRowsUp_=function(){var p;for(p=0;p<this.topRow_;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.row_+1;p<So+1;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.topRow_;p<this.row_;p++)this.displayed_[p]=this.displayed_[p+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Z.prototype.paintOn=function(p,v){var x=this.displayed_[this.row_].text;x+=v,this.displayed_[this.row_].text=x};var Ce={CaptionStream:Yn,Cea608Stream:Z,Cea708Stream:pt},je={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Vt=n,on=8589934592,Gi=4294967296,hr="shared",xa=function(p,v){var x=1;for(p>v&&(x=-1);Math.abs(v-p)>Gi;)p+=x*on;return p},Ys=function(p){var v,x;Ys.prototype.init.call(this),this.type_=p||hr,this.push=function(_){if(_.type==="metadata"){this.trigger("data",_);return}this.type_!==hr&&_.type!==this.type_||(x===void 0&&(x=_.dts),_.dts=xa(_.dts,x),_.pts=xa(_.pts,x),v=_.dts,this.trigger("data",_))},this.flush=function(){x=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){x=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ys.prototype=new Vt;var Kd={TimestampRolloverStream:Ys,handleRollover:xa},CT=(p,v,x)=>{if(!p)return-1;for(var _=x;_<p.length;_++)if(p[_]===v)return _;return-1},sv={typedArrayIndexOf:CT},fu=sv.typedArrayIndexOf,pu={Utf8:3},Qd=function(p,v,x){var _,S="";for(_=v;_<x;_++)S+="%"+("00"+p[_].toString(16)).slice(-2);return S},wa=function(p,v,x){return decodeURIComponent(Qd(p,v,x))},Al=function(p,v,x){return unescape(Qd(p,v,x))},Il=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},mu={APIC:function(p){var v=1,x,_,S="-->";p.data[0]===pu.Utf8&&(x=fu(p.data,0,v),!(x<0)&&(p.mimeType=Al(p.data,v,x),v=x+1,p.pictureType=p.data[v],v++,_=fu(p.data,0,v),!(_<0)&&(p.description=wa(p.data,v,_),v=_+1,p.mimeType===S?p.url=Al(p.data,v,p.data.length):p.pictureData=p.data.subarray(v,p.data.length))))},"T*":function(p){p.data[0]===pu.Utf8&&(p.value=wa(p.data,1,p.data.length).replace(/\0*$/,""),p.values=p.value.split("\0"))},TXXX:function(p){var v;p.data[0]===pu.Utf8&&(v=fu(p.data,0,1),v!==-1&&(p.description=wa(p.data,1,v),p.value=wa(p.data,v+1,p.data.length).replace(/\0*$/,""),p.data=p.value))},"W*":function(p){p.url=Al(p.data,0,p.data.length).replace(/\0.*$/,"")},WXXX:function(p){var v;p.data[0]===pu.Utf8&&(v=fu(p.data,0,1),v!==-1&&(p.description=wa(p.data,1,v),p.url=Al(p.data,v+1,p.data.length).replace(/\0.*$/,"")))},PRIV:function(p){var v;for(v=0;v<p.data.length;v++)if(p.data[v]===0){p.owner=Al(p.data,0,v);break}p.privateData=p.data.subarray(v+1),p.data=p.privateData}},AT=function(p){var v,x,_=10,S=0,C=[];if(!(p.length<10||p[0]!==73||p[1]!==68||p[2]!==51)){S=Il(p.subarray(6,10)),S+=10;var $=p[5]&64;$&&(_+=4,_+=Il(p.subarray(10,14)),S-=Il(p.subarray(16,20)));do{if(v=Il(p.subarray(_+4,_+8)),v<1)break;x=String.fromCharCode(p[_],p[_+1],p[_+2],p[_+3]);var j={id:x,data:p.subarray(_+10,_+v+10)};j.key=j.id,mu[j.id]?mu[j.id](j):j.id[0]==="T"?mu["T*"](j):j.id[0]==="W"&&mu["W*"](j),C.push(j),_+=10,_+=v}while(_<S);return C}},Jp={parseId3Frames:AT,parseSyncSafeInteger:Il,frameParsers:mu},ov=n,IT=je,Pi=Jp,fr;fr=function(p){var v={descriptor:p&&p.descriptor},x=0,_=[],S=0,C;if(fr.prototype.init.call(this),this.dispatchType=IT.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(C=0;C<v.descriptor.length;C++)this.dispatchType+=("00"+v.descriptor[C].toString(16)).slice(-2);this.push=function($){var j,H,G,W,ie,Te;if($.type==="timed-metadata"){if($.dataAlignmentIndicator&&(S=0,_.length=0),_.length===0&&($.data.length<10||$.data[0]!==73||$.data[1]!==68||$.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(_.push($),S+=$.data.byteLength,_.length===1&&(x=Pi.parseSyncSafeInteger($.data.subarray(6,10)),x+=10),!(S<x)){for(j={data:new Uint8Array(x),frames:[],pts:_[0].pts,dts:_[0].dts},ie=0;ie<x;)j.data.set(_[0].data.subarray(0,x-ie),ie),ie+=_[0].data.byteLength,S-=_[0].data.byteLength,_.shift();H=10,j.data[5]&64&&(H+=4,H+=Pi.parseSyncSafeInteger(j.data.subarray(10,14)),x-=Pi.parseSyncSafeInteger(j.data.subarray(16,20)));do{if(G=Pi.parseSyncSafeInteger(j.data.subarray(H+4,H+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Te=String.fromCharCode(j.data[H],j.data[H+1],j.data[H+2],j.data[H+3]),W={id:Te,data:j.data.subarray(H+10,H+G+10)},W.key=W.id,Pi.frameParsers[W.id]?Pi.frameParsers[W.id](W):W.id[0]==="T"?Pi.frameParsers["T*"](W):W.id[0]==="W"&&Pi.frameParsers["W*"](W),W.owner==="com.apple.streaming.transportStreamTimestamp"){var le=W.data,Oe=(le[3]&1)<<30|le[4]<<22|le[5]<<14|le[6]<<6|le[7]>>>2;Oe*=4,Oe+=le[7]&3,W.timeStamp=Oe,j.pts===void 0&&j.dts===void 0&&(j.pts=W.timeStamp,j.dts=W.timeStamp),this.trigger("timestamp",W)}j.frames.push(W),H+=10,H+=G}while(H<x);this.trigger("data",j)}}}},fr.prototype=new ov;var Zd=fr,Dl=n,Jd=Ce,it=je,eh=Kd.TimestampRolloverStream,ko,Xs,th,Ta=188,em=71;ko=function(){var p=new Uint8Array(Ta),v=0;ko.prototype.init.call(this),this.push=function(x){var _=0,S=Ta,C;for(v?(C=new Uint8Array(x.byteLength+v),C.set(p.subarray(0,v)),C.set(x,v),v=0):C=x;S<C.byteLength;){if(C[_]===em&&C[S]===em){this.trigger("data",C.subarray(_,S)),_+=Ta,S+=Ta;continue}_++,S++}_<C.byteLength&&(p.set(C.subarray(_),0),v=C.byteLength-_)},this.flush=function(){v===Ta&&p[0]===em&&(this.trigger("data",p),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},ko.prototype=new Dl,Xs=function(){var p,v,x,_;Xs.prototype.init.call(this),_=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(S,C){var $=0;C.payloadUnitStartIndicator&&($+=S[$]+1),C.type==="pat"?v(S.subarray($),C):x(S.subarray($),C)},v=function(S,C){C.section_number=S[7],C.last_section_number=S[8],_.pmtPid=(S[10]&31)<<8|S[11],C.pmtPid=_.pmtPid},x=function(S,C){var $,j,H,G;if(S[5]&1){for(_.programMapTable={video:null,audio:null,"timed-metadata":{}},$=(S[1]&15)<<8|S[2],j=3+$-4,H=(S[10]&15)<<8|S[11],G=12+H;G<j;){var W=S[G],ie=(S[G+1]&31)<<8|S[G+2];W===it.H264_STREAM_TYPE&&_.programMapTable.video===null?_.programMapTable.video=ie:W===it.ADTS_STREAM_TYPE&&_.programMapTable.audio===null?_.programMapTable.audio=ie:W===it.METADATA_STREAM_TYPE&&(_.programMapTable["timed-metadata"][ie]=W),G+=((S[G+3]&15)<<8|S[G+4])+5}C.programMapTable=_.programMapTable}},this.push=function(S){var C={},$=4;if(C.payloadUnitStartIndicator=!!(S[1]&64),C.pid=S[1]&31,C.pid<<=8,C.pid|=S[2],(S[3]&48)>>>4>1&&($+=S[$]+1),C.pid===0)C.type="pat",p(S.subarray($),C),this.trigger("data",C);else if(C.pid===this.pmtPid)for(C.type="pmt",p(S.subarray($),C),this.trigger("data",C);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([S,$,C]):this.processPes_(S,$,C)},this.processPes_=function(S,C,$){$.pid===this.programMapTable.video?$.streamType=it.H264_STREAM_TYPE:$.pid===this.programMapTable.audio?$.streamType=it.ADTS_STREAM_TYPE:$.streamType=this.programMapTable["timed-metadata"][$.pid],$.type="pes",$.data=S.subarray(C),this.trigger("data",$)}},Xs.prototype=new Dl,Xs.STREAM_TYPES={h264:27,adts:15},th=function(){var p=this,v=!1,x={data:[],size:0},_={data:[],size:0},S={data:[],size:0},C,$=function(H,G){var W;const ie=H[0]<<16|H[1]<<8|H[2];G.data=new Uint8Array,ie===1&&(G.packetLength=6+(H[4]<<8|H[5]),G.dataAlignmentIndicator=(H[6]&4)!==0,W=H[7],W&192&&(G.pts=(H[9]&14)<<27|(H[10]&255)<<20|(H[11]&254)<<12|(H[12]&255)<<5|(H[13]&254)>>>3,G.pts*=4,G.pts+=(H[13]&6)>>>1,G.dts=G.pts,W&64&&(G.dts=(H[14]&14)<<27|(H[15]&255)<<20|(H[16]&254)<<12|(H[17]&255)<<5|(H[18]&254)>>>3,G.dts*=4,G.dts+=(H[18]&6)>>>1)),G.data=H.subarray(9+H[8]))},j=function(H,G,W){var ie=new Uint8Array(H.size),Te={type:G},le=0,Oe=0,ze=!1,Kn;if(!(!H.data.length||H.size<9)){for(Te.trackId=H.data[0].pid,le=0;le<H.data.length;le++)Kn=H.data[le],ie.set(Kn.data,Oe),Oe+=Kn.data.byteLength;$(ie,Te),ze=G==="video"||Te.packetLength<=H.size,(W||ze)&&(H.size=0,H.data.length=0),ze&&p.trigger("data",Te)}};th.prototype.init.call(this),this.push=function(H){({pat:function(){},pes:function(){var G,W;switch(H.streamType){case it.H264_STREAM_TYPE:G=x,W="video";break;case it.ADTS_STREAM_TYPE:G=_,W="audio";break;case it.METADATA_STREAM_TYPE:G=S,W="timed-metadata";break;default:return}H.payloadUnitStartIndicator&&j(G,W,!0),G.data.push(H),G.size+=H.data.byteLength},pmt:function(){var G={type:"metadata",tracks:[]};C=H.programMapTable,C.video!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.video,codec:"avc",type:"video"}),C.audio!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.audio,codec:"adts",type:"audio"}),v=!0,p.trigger("data",G)}})[H.type]()},this.reset=function(){x.size=0,x.data.length=0,_.size=0,_.data.length=0,this.trigger("reset")},this.flushStreams_=function(){j(x,"video"),j(_,"audio"),j(S,"timed-metadata")},this.flush=function(){if(!v&&C){var H={type:"metadata",tracks:[]};C.video!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.video,codec:"avc",type:"video"}),C.audio!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.audio,codec:"adts",type:"audio"}),p.trigger("data",H)}v=!1,this.flushStreams_(),this.trigger("done")}},th.prototype=new Dl;var av={PAT_PID:0,MP2T_PACKET_LENGTH:Ta,TransportPacketStream:ko,TransportParseStream:Xs,ElementaryStream:th,TimestampRolloverStream:eh,CaptionStream:Jd.CaptionStream,Cea608Stream:Jd.Cea608Stream,Cea708Stream:Jd.Cea708Stream,MetadataStream:Zd};for(var tm in it)it.hasOwnProperty(tm)&&(av[tm]=it[tm]);var DT=av,gu=n,Co=lt.ONE_SECOND_IN_TS,bu,nm=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];bu=function(p){var v,x=0;bu.prototype.init.call(this),this.skipWarn_=function(_,S){this.trigger("log",{level:"warn",message:"adts skiping bytes ".concat(_," to ").concat(S," in frame ").concat(x," outside syncword")})},this.push=function(_){var S=0,C,$,j,H,G;if(p||(x=0),_.type==="audio"){v&&v.length?(j=v,v=new Uint8Array(j.byteLength+_.data.byteLength),v.set(j),v.set(_.data,j.byteLength)):v=_.data;for(var W;S+7<v.length;){if(v[S]!==255||(v[S+1]&246)!==240){typeof W!="number"&&(W=S),S++;continue}if(typeof W=="number"&&(this.skipWarn_(W,S),W=null),$=(~v[S+1]&1)*2,C=(v[S+3]&3)<<11|v[S+4]<<3|(v[S+5]&224)>>5,H=((v[S+6]&3)+1)*1024,G=H*Co/nm[(v[S+2]&60)>>>2],v.byteLength-S<C)break;this.trigger("data",{pts:_.pts+x*G,dts:_.dts+x*G,sampleCount:H,audioobjecttype:(v[S+2]>>>6&3)+1,channelcount:(v[S+2]&1)<<2|(v[S+3]&192)>>>6,samplerate:nm[(v[S+2]&60)>>>2],samplingfrequencyindex:(v[S+2]&60)>>>2,samplesize:16,data:v.subarray(S+7+$,S+C)}),x++,S+=C}typeof W=="number"&&(this.skipWarn_(W,S),W=null),v=v.subarray(S)}},this.flush=function(){x=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},bu.prototype=new gu;var lv=bu,Ea;Ea=function(p){var v=p.byteLength,x=0,_=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+_},this.loadWord=function(){var S=p.byteLength-v,C=new Uint8Array(4),$=Math.min(4,v);if($===0)throw new Error("no bytes available");C.set(p.subarray(S,S+$)),x=new DataView(C.buffer).getUint32(0),_=$*8,v-=$},this.skipBits=function(S){var C;_>S?(x<<=S,_-=S):(S-=_,C=Math.floor(S/8),S-=C*8,v-=C,this.loadWord(),x<<=S,_-=S)},this.readBits=function(S){var C=Math.min(_,S),$=x>>>32-C;return _-=C,_>0?x<<=C:v>0&&this.loadWord(),C=S-C,C>0?$<<C|this.readBits(C):$},this.skipLeadingZeros=function(){var S;for(S=0;S<_;++S)if(x&2147483648>>>S)return x<<=S,_-=S,S;return this.loadWord(),S+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var S=this.skipLeadingZeros();return this.readBits(S+1)-1},this.readExpGolomb=function(){var S=this.readUnsignedExpGolomb();return 1&S?1+S>>>1:-1*(S>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var RT=Ea,cv=n,PT=RT,Vr,nh,uv;nh=function(){var p=0,v,x;nh.prototype.init.call(this),this.push=function(_){var S;x?(S=new Uint8Array(x.byteLength+_.data.byteLength),S.set(x),S.set(_.data,x.byteLength),x=S):x=_.data;for(var C=x.byteLength;p<C-3;p++)if(x[p+2]===1){v=p+5;break}for(;v<C;)switch(x[v]){case 0:if(x[v-1]!==0){v+=2;break}else if(x[v-2]!==0){v++;break}p+3!==v-2&&this.trigger("data",x.subarray(p+3,v-2));do v++;while(x[v]!==1&&v<C);p=v-2,v+=3;break;case 1:if(x[v-1]!==0||x[v-2]!==0){v+=3;break}this.trigger("data",x.subarray(p+3,v-2)),p=v-2,v+=3;break;default:v+=3;break}x=x.subarray(p),v-=p,p=0},this.reset=function(){x=null,p=0,this.trigger("reset")},this.flush=function(){x&&x.byteLength>3&&this.trigger("data",x.subarray(p+3)),x=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},nh.prototype=new cv,uv={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Vr=function(){var p=new nh,v,x,_,S,C,$,j;Vr.prototype.init.call(this),v=this,this.push=function(H){H.type==="video"&&(x=H.trackId,_=H.pts,S=H.dts,p.push(H))},p.on("data",function(H){var G={trackId:x,pts:_,dts:S,data:H,nalUnitTypeCode:H[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=C(H.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=C(H.subarray(1)),G.config=$(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",G)}),p.on("done",function(){v.trigger("done")}),p.on("partialdone",function(){v.trigger("partialdone")}),p.on("reset",function(){v.trigger("reset")}),p.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},j=function(H,G){var W=8,ie=8,Te,le;for(Te=0;Te<H;Te++)ie!==0&&(le=G.readExpGolomb(),ie=(W+le+256)%256),W=ie===0?W:ie},C=function(H){for(var G=H.byteLength,W=[],ie=1,Te,le;ie<G-2;)H[ie]===0&&H[ie+1]===0&&H[ie+2]===3?(W.push(ie+2),ie+=2):ie++;if(W.length===0)return H;Te=G-W.length,le=new Uint8Array(Te);var Oe=0;for(ie=0;ie<Te;Oe++,ie++)Oe===W[0]&&(Oe++,W.shift()),le[ie]=H[Oe];return le},$=function(H){var G=0,W=0,ie=0,Te=0,le,Oe,ze,Kn,$r,Bl,vm,ym,_m,xm,wv,$t=[1,1],wm,Ks;if(le=new PT(H),Oe=le.readUnsignedByte(),Kn=le.readUnsignedByte(),ze=le.readUnsignedByte(),le.skipUnsignedExpGolomb(),uv[Oe]&&($r=le.readUnsignedExpGolomb(),$r===3&&le.skipBits(1),le.skipUnsignedExpGolomb(),le.skipUnsignedExpGolomb(),le.skipBits(1),le.readBoolean()))for(wv=$r!==3?8:12,Ks=0;Ks<wv;Ks++)le.readBoolean()&&(Ks<6?j(16,le):j(64,le));if(le.skipUnsignedExpGolomb(),Bl=le.readUnsignedExpGolomb(),Bl===0)le.readUnsignedExpGolomb();else if(Bl===1)for(le.skipBits(1),le.skipExpGolomb(),le.skipExpGolomb(),vm=le.readUnsignedExpGolomb(),Ks=0;Ks<vm;Ks++)le.skipExpGolomb();if(le.skipUnsignedExpGolomb(),le.skipBits(1),ym=le.readUnsignedExpGolomb(),_m=le.readUnsignedExpGolomb(),xm=le.readBits(1),xm===0&&le.skipBits(1),le.skipBits(1),le.readBoolean()&&(G=le.readUnsignedExpGolomb(),W=le.readUnsignedExpGolomb(),ie=le.readUnsignedExpGolomb(),Te=le.readUnsignedExpGolomb()),le.readBoolean()&&le.readBoolean()){switch(wm=le.readUnsignedByte(),wm){case 1:$t=[1,1];break;case 2:$t=[12,11];break;case 3:$t=[10,11];break;case 4:$t=[16,11];break;case 5:$t=[40,33];break;case 6:$t=[24,11];break;case 7:$t=[20,11];break;case 8:$t=[32,11];break;case 9:$t=[80,33];break;case 10:$t=[18,11];break;case 11:$t=[15,11];break;case 12:$t=[64,33];break;case 13:$t=[160,99];break;case 14:$t=[4,3];break;case 15:$t=[3,2];break;case 16:$t=[2,1];break;case 255:{$t=[le.readUnsignedByte()<<8|le.readUnsignedByte(),le.readUnsignedByte()<<8|le.readUnsignedByte()];break}}$t&&$t[0]/$t[1]}return{profileIdc:Oe,levelIdc:ze,profileCompatibility:Kn,width:(ym+1)*16-G*2-W*2,height:(2-xm)*(_m+1)*16-ie*2-Te*2,sarRatio:$t}}},Vr.prototype=new cv;var ih={H264Stream:Vr},rh=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],im=function(p,v){var x=p[v+6]<<21|p[v+7]<<14|p[v+8]<<7|p[v+9],_=p[v+5],S=(_&16)>>4;return x=x>=0?x:0,S?x+20:x+10},Rl=function(p,v){return p.length-v<10||p[v]!==73||p[v+1]!==68||p[v+2]!==51?v:(v+=im(p,v),Rl(p,v))},vu=function(p){var v=Rl(p,0);return p.length>=v+2&&(p[v]&255)===255&&(p[v+1]&240)===240&&(p[v+1]&22)===16},rm=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},sm=function(p,v,x){var _,S="";for(_=v;_<x;_++)S+="%"+("00"+p[_].toString(16)).slice(-2);return S},Wt=function(p,v,x){return unescape(sm(p,v,x))},OT=function(p,v){var x=(p[v+5]&224)>>5,_=p[v+4]<<3,S=p[v+3]&6144;return S|_|x},LT=function(p,v){return p[v]===73&&p[v+1]===68&&p[v+2]===51?"timed-metadata":p[v]&!0&&(p[v+1]&240)===240?"audio":null},dv=function(p){for(var v=0;v+5<p.length;){if(p[v]!==255||(p[v+1]&246)!==240){v++;continue}return rh[(p[v+2]&60)>>>2]}return null},hv=function(p){var v,x,_,S;v=10,p[5]&64&&(v+=4,v+=rm(p.subarray(10,14)));do{if(x=rm(p.subarray(v+4,v+8)),x<1)return null;if(S=String.fromCharCode(p[v],p[v+1],p[v+2],p[v+3]),S==="PRIV"){_=p.subarray(v+10,v+x+10);for(var C=0;C<_.byteLength;C++)if(_[C]===0){var $=Wt(_,0,C);if($==="com.apple.streaming.transportStreamTimestamp"){var j=_.subarray(C+1),H=(j[3]&1)<<30|j[4]<<22|j[5]<<14|j[6]<<6|j[7]>>>2;return H*=4,H+=j[7]&3,H}break}}v+=10,v+=x}while(v<p.byteLength);return null},sh={isLikelyAacData:vu,parseId3TagSize:im,parseAdtsSize:OT,parseType:LT,parseSampleRate:dv,parseAacTimestamp:hv},oh=n,om=sh,pr;pr=function(){var p=new Uint8Array,v=0;pr.prototype.init.call(this),this.setTimestamp=function(x){v=x},this.push=function(x){var _=0,S=0,C,$,j,H;for(p.length?(H=p.length,p=new Uint8Array(x.byteLength+H),p.set(p.subarray(0,H)),p.set(x,H)):p=x;p.length-S>=3;){if(p[S]===73&&p[S+1]===68&&p[S+2]===51){if(p.length-S<10||(_=om.parseId3TagSize(p,S),S+_>p.length))break;$={type:"timed-metadata",data:p.subarray(S,S+_)},this.trigger("data",$),S+=_;continue}else if((p[S]&255)===255&&(p[S+1]&240)===240){if(p.length-S<7||(_=om.parseAdtsSize(p,S),S+_>p.length))break;j={type:"audio",data:p.subarray(S,S+_),pts:v,dts:v},this.trigger("data",j),S+=_;continue}S++}C=p.length-S,C>0?p=p.subarray(S):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},pr.prototype=new oh;var fv=pr,MT=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],yu=MT,pv=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],am=pv,Sa=n,Pl=ye,Ao=xo,ah=qd,mr=Gd,Wi=DT,_u=lt,lm=lv,cm=ih.H264Stream,um=fv,mv=sh.isLikelyAacData,lh=lt.ONE_SECOND_IN_TS,dm=yu,hm=am,hs,Ol,xu,Io,gv=function(p,v){v.stream=p,this.trigger("log",v)},wu=function(p,v){for(var x=Object.keys(v),_=0;_<x.length;_++){var S=x[_];S==="headOfPipeline"||!v[S].on||v[S].on("log",gv.bind(p,S))}},Oi=function(p,v){var x;if(p.length!==v.length)return!1;for(x=0;x<p.length;x++)if(p[x]!==v[x])return!1;return!0},fm=function(p,v,x,_,S,C){var $=x-v,j=_-v,H=S-x;return{start:{dts:p,pts:p+$},end:{dts:p+j,pts:p+H},prependedContentDuration:C,baseMediaDecodeTime:p}};Ol=function(p,v){var x=[],_,S=0,C=0,$=1/0;v=v||{},_=v.firstSequenceNumber||0,Ol.prototype.init.call(this),this.push=function(j){mr.collectDtsInfo(p,j),p&&dm.forEach(function(H){p[H]=j[H]}),x.push(j)},this.setEarliestDts=function(j){S=j},this.setVideoBaseMediaDecodeTime=function(j){$=j},this.setAudioAppendStart=function(j){C=j},this.flush=function(){var j,H,G,W,ie,Te,le;if(x.length===0){this.trigger("done","AudioSegmentStream");return}j=ah.trimAdtsFramesByEarliestDts(x,p,S),p.baseMediaDecodeTime=mr.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),le=ah.prefixWithSilence(p,j,C,$),p.samples=ah.generateSampleTable(j),G=Pl.mdat(ah.concatenateFrameData(j)),x=[],H=Pl.moof(_,[p]),W=new Uint8Array(H.byteLength+G.byteLength),_++,W.set(H),W.set(G,H.byteLength),mr.clearDtsInfo(p),ie=Math.ceil(lh*1024/p.samplerate),j.length&&(Te=j.length*ie,this.trigger("segmentTimingInfo",fm(_u.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),j[0].dts,j[0].pts,j[0].dts+Te,j[0].pts+Te,le||0)),this.trigger("timingInfo",{start:j[0].pts,end:j[0].pts+Te})),this.trigger("data",{track:p,boxes:W}),this.trigger("done","AudioSegmentStream")},this.reset=function(){mr.clearDtsInfo(p),x=[],this.trigger("reset")}},Ol.prototype=new Sa,hs=function(p,v){var x,_=[],S=[],C,$;v=v||{},x=v.firstSequenceNumber||0,hs.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function(j){mr.collectDtsInfo(p,j),j.nalUnitType==="seq_parameter_set_rbsp"&&!C&&(C=j.config,p.sps=[j.data],hm.forEach(function(H){p[H]=C[H]},this)),j.nalUnitType==="pic_parameter_set_rbsp"&&!$&&($=j.data,p.pps=[j.data]),_.push(j)},this.flush=function(){for(var j,H,G,W,ie,Te,le=0,Oe,ze;_.length&&_[0].nalUnitType!=="access_unit_delimiter_rbsp";)_.shift();if(_.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(j=Ao.groupNalsIntoFrames(_),G=Ao.groupFramesIntoGops(j),G[0][0].keyFrame||(H=this.getGopForFusion_(_[0],p),H?(le=H.duration,G.unshift(H),G.byteLength+=H.byteLength,G.nalCount+=H.nalCount,G.pts=H.pts,G.dts=H.dts,G.duration+=H.duration):G=Ao.extendFirstKeyFrame(G)),S.length){var Kn;if(v.alignGopsAtEnd?Kn=this.alignGopsAtEnd_(G):Kn=this.alignGopsAtStart_(G),!Kn){this.gopCache_.unshift({gop:G.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}mr.clearDtsInfo(p),G=Kn}mr.collectDtsInfo(p,G),p.samples=Ao.generateSampleTable(G),ie=Pl.mdat(Ao.concatenateNalData(G)),p.baseMediaDecodeTime=mr.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function($r){return{pts:$r.pts,dts:$r.dts,byteLength:$r.byteLength}})),Oe=G[0],ze=G[G.length-1],this.trigger("segmentTimingInfo",fm(p.baseMediaDecodeTime,Oe.dts,Oe.pts,ze.dts+ze.duration,ze.pts+ze.duration,le)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),W=Pl.moof(x,[p]),Te=new Uint8Array(W.byteLength+ie.byteLength),x++,Te.set(W),Te.set(ie,W.byteLength),this.trigger("data",{track:p,boxes:Te}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),_=[],this.gopCache_.length=0,S.length=0,this.trigger("reset")},this.resetStream_=function(){mr.clearDtsInfo(p),C=void 0,$=void 0},this.getGopForFusion_=function(j){var H=45e3,G=1e4,W=1/0,ie,Te,le,Oe,ze;for(ze=0;ze<this.gopCache_.length;ze++)Oe=this.gopCache_[ze],le=Oe.gop,!(!(p.pps&&Oi(p.pps[0],Oe.pps[0]))||!(p.sps&&Oi(p.sps[0],Oe.sps[0])))&&(le.dts<p.timelineStartInfo.dts||(ie=j.dts-le.dts-le.duration,ie>=-G&&ie<=H&&(!Te||W>ie)&&(Te=Oe,W=ie)));return Te?Te.gop:null},this.alignGopsAtStart_=function(j){var H,G,W,ie,Te,le,Oe,ze;for(Te=j.byteLength,le=j.nalCount,Oe=j.duration,H=G=0;H<S.length&&G<j.length&&(W=S[H],ie=j[G],W.pts!==ie.pts);){if(ie.pts>W.pts){H++;continue}G++,Te-=ie.byteLength,le-=ie.nalCount,Oe-=ie.duration}return G===0?j:G===j.length?null:(ze=j.slice(G),ze.byteLength=Te,ze.duration=Oe,ze.nalCount=le,ze.pts=ze[0].pts,ze.dts=ze[0].dts,ze)},this.alignGopsAtEnd_=function(j){var H,G,W,ie,Te,le;for(H=S.length-1,G=j.length-1,Te=null,le=!1;H>=0&&G>=0;){if(W=S[H],ie=j[G],W.pts===ie.pts){le=!0;break}if(W.pts>ie.pts){H--;continue}H===S.length-1&&(Te=G),G--}if(!le&&Te===null)return null;var Oe;if(le?Oe=G:Oe=Te,Oe===0)return j;var ze=j.slice(Oe),Kn=ze.reduce(function($r,Bl){return $r.byteLength+=Bl.byteLength,$r.duration+=Bl.duration,$r.nalCount+=Bl.nalCount,$r},{byteLength:0,duration:0,nalCount:0});return ze.byteLength=Kn.byteLength,ze.duration=Kn.duration,ze.nalCount=Kn.nalCount,ze.pts=ze[0].pts,ze.dts=ze[0].dts,ze},this.alignGopsWith=function(j){S=j}},hs.prototype=new Sa,Io=function(p,v){this.numberOfTracks=0,this.metadataStream=v,p=p||{},typeof p.remux<"u"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Io.prototype.init.call(this),this.push=function(x){if(x.content||x.text)return this.pendingCaptions.push(x);if(x.frames)return this.pendingMetadata.push(x);this.pendingTracks.push(x.track),this.pendingBytes+=x.boxes.byteLength,x.track.type==="video"&&(this.videoTrack=x.track,this.pendingBoxes.push(x.boxes)),x.track.type==="audio"&&(this.audioTrack=x.track,this.pendingBoxes.unshift(x.boxes))}},Io.prototype=new Sa,Io.prototype.flush=function(p){var v=0,x={captions:[],captionStreams:{},metadata:[],info:{}},_,S,C,$=0,j;if(this.pendingTracks.length<this.numberOfTracks){if(p!=="VideoSegmentStream"&&p!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?($=this.videoTrack.timelineStartInfo.pts,hm.forEach(function(H){x.info[H]=this.videoTrack[H]},this)):this.audioTrack&&($=this.audioTrack.timelineStartInfo.pts,dm.forEach(function(H){x.info[H]=this.audioTrack[H]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,C=Pl.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(C.byteLength),x.initSegment.set(C),x.data=new Uint8Array(this.pendingBytes),j=0;j<this.pendingBoxes.length;j++)x.data.set(this.pendingBoxes[j],v),v+=this.pendingBoxes[j].byteLength;for(j=0;j<this.pendingCaptions.length;j++)_=this.pendingCaptions[j],_.startTime=_u.metadataTsToSeconds(_.startPts,$,this.keepOriginalTimestamps),_.endTime=_u.metadataTsToSeconds(_.endPts,$,this.keepOriginalTimestamps),x.captionStreams[_.stream]=!0,x.captions.push(_);for(j=0;j<this.pendingMetadata.length;j++)S=this.pendingMetadata[j],S.cueTime=_u.metadataTsToSeconds(S.pts,$,this.keepOriginalTimestamps),x.metadata.push(S);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),j=0;j<x.captions.length;j++)_=x.captions[j],this.trigger("caption",_);for(j=0;j<x.metadata.length;j++)S=x.metadata[j],this.trigger("id3Frame",S)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Io.prototype.setRemux=function(p){this.remuxTracks=p},xu=function(p){var v=this,x=!0,_,S;xu.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var C={};this.transmuxPipeline_=C,C.type="aac",C.metadataStream=new Wi.MetadataStream,C.aacStream=new um,C.audioTimestampRolloverStream=new Wi.TimestampRolloverStream("audio"),C.timedMetadataTimestampRolloverStream=new Wi.TimestampRolloverStream("timed-metadata"),C.adtsStream=new lm,C.coalesceStream=new Io(p,C.metadataStream),C.headOfPipeline=C.aacStream,C.aacStream.pipe(C.audioTimestampRolloverStream).pipe(C.adtsStream),C.aacStream.pipe(C.timedMetadataTimestampRolloverStream).pipe(C.metadataStream).pipe(C.coalesceStream),C.metadataStream.on("timestamp",function($){C.aacStream.setTimestamp($.timeStamp)}),C.aacStream.on("data",function($){$.type!=="timed-metadata"&&$.type!=="audio"||C.audioSegmentStream||(S=S||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},C.coalesceStream.numberOfTracks++,C.audioSegmentStream=new Ol(S,p),C.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),C.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),C.adtsStream.pipe(C.audioSegmentStream).pipe(C.coalesceStream),v.trigger("trackinfo",{hasAudio:!!S,hasVideo:!!_}))}),C.coalesceStream.on("data",this.trigger.bind(this,"data")),C.coalesceStream.on("done",this.trigger.bind(this,"done")),wu(this,C)},this.setupTsPipeline=function(){var C={};this.transmuxPipeline_=C,C.type="ts",C.metadataStream=new Wi.MetadataStream,C.packetStream=new Wi.TransportPacketStream,C.parseStream=new Wi.TransportParseStream,C.elementaryStream=new Wi.ElementaryStream,C.timestampRolloverStream=new Wi.TimestampRolloverStream,C.adtsStream=new lm,C.h264Stream=new cm,C.captionStream=new Wi.CaptionStream(p),C.coalesceStream=new Io(p,C.metadataStream),C.headOfPipeline=C.packetStream,C.packetStream.pipe(C.parseStream).pipe(C.elementaryStream).pipe(C.timestampRolloverStream),C.timestampRolloverStream.pipe(C.h264Stream),C.timestampRolloverStream.pipe(C.adtsStream),C.timestampRolloverStream.pipe(C.metadataStream).pipe(C.coalesceStream),C.h264Stream.pipe(C.captionStream).pipe(C.coalesceStream),C.elementaryStream.on("data",function($){var j;if($.type==="metadata"){for(j=$.tracks.length;j--;)!_&&$.tracks[j].type==="video"?(_=$.tracks[j],_.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!S&&$.tracks[j].type==="audio"&&(S=$.tracks[j],S.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);_&&!C.videoSegmentStream&&(C.coalesceStream.numberOfTracks++,C.videoSegmentStream=new hs(_,p),C.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),C.videoSegmentStream.on("timelineStartInfo",function(H){S&&!p.keepOriginalTimestamps&&(S.timelineStartInfo=H,C.audioSegmentStream.setEarliestDts(H.dts-v.baseMediaDecodeTime))}),C.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),C.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),C.videoSegmentStream.on("baseMediaDecodeTime",function(H){S&&C.audioSegmentStream.setVideoBaseMediaDecodeTime(H)}),C.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),C.h264Stream.pipe(C.videoSegmentStream).pipe(C.coalesceStream)),S&&!C.audioSegmentStream&&(C.coalesceStream.numberOfTracks++,C.audioSegmentStream=new Ol(S,p),C.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),C.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),C.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),C.adtsStream.pipe(C.audioSegmentStream).pipe(C.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!S,hasVideo:!!_})}}),C.coalesceStream.on("data",this.trigger.bind(this,"data")),C.coalesceStream.on("id3Frame",function($){$.dispatchType=C.metadataStream.dispatchType,v.trigger("id3Frame",$)}),C.coalesceStream.on("caption",this.trigger.bind(this,"caption")),C.coalesceStream.on("done",this.trigger.bind(this,"done")),wu(this,C)},this.setBaseMediaDecodeTime=function(C){var $=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=C),S&&(S.timelineStartInfo.dts=void 0,S.timelineStartInfo.pts=void 0,mr.clearDtsInfo(S),$.audioTimestampRolloverStream&&$.audioTimestampRolloverStream.discontinuity()),_&&($.videoSegmentStream&&($.videoSegmentStream.gopCache_=[]),_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,mr.clearDtsInfo(_),$.captionStream.reset()),$.timestampRolloverStream&&$.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(C){S&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(C)},this.setRemux=function(C){var $=this.transmuxPipeline_;p.remux=C,$&&$.coalesceStream&&$.coalesceStream.setRemux(C)},this.alignGopsWith=function(C){_&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(C)},this.getLogTrigger_=function(C){var $=this;return function(j){j.stream=C,$.trigger("log",j)}},this.push=function(C){if(x){var $=mv(C);$&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!$&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),x=!1}this.transmuxPipeline_.headOfPipeline.push(C)},this.flush=function(){x=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},xu.prototype=new Sa;var bv={Transmuxer:xu},Ll=function(p){return p>>>0},f=function(p){return("00"+p.toString(16)).slice(-2)},E={toUnsigned:Ll,toHexString:f},I=function(p){var v="";return v+=String.fromCharCode(p[0]),v+=String.fromCharCode(p[1]),v+=String.fromCharCode(p[2]),v+=String.fromCharCode(p[3]),v},F=I,X=E.toUnsigned,re=F,xe=function(p,v){var x=[],_,S,C,$,j;if(!v.length)return null;for(_=0;_<p.byteLength;)S=X(p[_]<<24|p[_+1]<<16|p[_+2]<<8|p[_+3]),C=re(p.subarray(_+4,_+8)),$=S>1?_+S:p.byteLength,C===v[0]&&(v.length===1?x.push(p.subarray(_+8,$)):(j=xe(p.subarray(_+8,$),v.slice(1)),j.length&&(x=x.concat(j)))),_=$;return x},gt=xe,Nn=E.toUnsigned,ut=s.getUint64,Xn=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=ut(p.subarray(4)):v.baseMediaDecodeTime=Nn(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),v},Sn=Xn,Ml=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),x={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:v.getUint32(4)},_=x.flags[2]&1,S=x.flags[2]&2,C=x.flags[2]&8,$=x.flags[2]&16,j=x.flags[2]&32,H=x.flags[0]&65536,G=x.flags[0]&131072,W;return W=8,_&&(W+=4,x.baseDataOffset=v.getUint32(12),W+=4),S&&(x.sampleDescriptionIndex=v.getUint32(W),W+=4),C&&(x.defaultSampleDuration=v.getUint32(W),W+=4),$&&(x.defaultSampleSize=v.getUint32(W),W+=4),j&&(x.defaultSampleFlags=v.getUint32(W)),H&&(x.durationIsEmpty=!0),!_&&G&&(x.baseDataOffsetIsMoof=!0),x},gr=Ml,ch=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},pm=ch,kP=pm,Qq=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},x=new DataView(p.buffer,p.byteOffset,p.byteLength),_=v.flags[2]&1,S=v.flags[2]&4,C=v.flags[1]&1,$=v.flags[1]&2,j=v.flags[1]&4,H=v.flags[1]&8,G=x.getUint32(4),W=8,ie;for(_&&(v.dataOffset=x.getInt32(W),W+=4),S&&G&&(ie={flags:kP(p.subarray(W,W+4))},W+=4,C&&(ie.duration=x.getUint32(W),W+=4),$&&(ie.size=x.getUint32(W),W+=4),H&&(v.version===1?ie.compositionTimeOffset=x.getInt32(W):ie.compositionTimeOffset=x.getUint32(W),W+=4),v.samples.push(ie),G--);G--;)ie={},C&&(ie.duration=x.getUint32(W),W+=4),$&&(ie.size=x.getUint32(W),W+=4),j&&(ie.flags=kP(p.subarray(W,W+4)),W+=4),H&&(v.version===1?ie.compositionTimeOffset=x.getInt32(W):ie.compositionTimeOffset=x.getUint32(W),W+=4),v.samples.push(ie);return v},CP=Qq,AP={tfdt:Sn,trun:CP},IP={parseTfdt:AP.tfdt,parseTrun:AP.trun},Zq=function(p){for(var v=0,x=String.fromCharCode(p[v]),_="";x!=="\0";)_+=x,v++,x=String.fromCharCode(p[v]);return _+=x,_},Jq={uint8ToCString:Zq},vv=Jq.uint8ToCString,eG=s.getUint64,tG=function(p){var v=4,x=p[0],_,S,C,$,j,H,G,W;if(x===0){_=vv(p.subarray(v)),v+=_.length,S=vv(p.subarray(v)),v+=S.length;var ie=new DataView(p.buffer);C=ie.getUint32(v),v+=4,j=ie.getUint32(v),v+=4,H=ie.getUint32(v),v+=4,G=ie.getUint32(v),v+=4}else if(x===1){var ie=new DataView(p.buffer);C=ie.getUint32(v),v+=4,$=eG(p.subarray(v)),v+=8,H=ie.getUint32(v),v+=4,G=ie.getUint32(v),v+=4,_=vv(p.subarray(v)),v+=_.length,S=vv(p.subarray(v)),v+=S.length}W=new Uint8Array(p.subarray(v,p.byteLength));var Te={scheme_id_uri:_,value:S,timescale:C||1,presentation_time:$,presentation_time_delta:j,event_duration:H,id:G,message_data:W};return iG(x,Te)?Te:void 0},nG=function(p,v,x,_){return p||p===0?p/v:_+x/v},iG=function(p,v){var x=v.scheme_id_uri!=="\0",_=p===0&&DP(v.presentation_time_delta)&&x,S=p===1&&DP(v.presentation_time)&&x;return!(p>1)&&_||S},DP=function(p){return p!==void 0||p!==null},rG={parseEmsgBox:tG,scaleTime:nG},mm;typeof window<"u"?mm=window:typeof t<"u"?mm=t:typeof self<"u"?mm=self:mm={};var RP=mm,yv=E.toUnsigned,gm=E.toHexString,bn=gt,uh=F,NT=rG,sG=gr,oG=CP,aG=Sn,lG=s.getUint64,PP,OP,LP,MP,NP,BT,BP,UT=RP,cG=Jp.parseId3Frames;PP=function(p){var v={},x=bn(p,["moov","trak"]);return x.reduce(function(_,S){var C,$,j,H,G;return C=bn(S,["tkhd"])[0],!C||($=C[0],j=$===0?12:20,H=yv(C[j]<<24|C[j+1]<<16|C[j+2]<<8|C[j+3]),G=bn(S,["mdia","mdhd"])[0],!G)?null:($=G[0],j=$===0?12:20,_[H]=yv(G[j]<<24|G[j+1]<<16|G[j+2]<<8|G[j+3]),_)},v)},OP=function(p,v){var x;x=bn(v,["moof","traf"]);var _=x.reduce(function(S,C){var $=bn(C,["tfhd"])[0],j=yv($[4]<<24|$[5]<<16|$[6]<<8|$[7]),H=p[j]||9e4,G=bn(C,["tfdt"])[0],W=new DataView(G.buffer,G.byteOffset,G.byteLength),ie;G[0]===1?ie=lG(G.subarray(4,12)):ie=W.getUint32(4);let Te;return typeof ie=="bigint"?Te=ie/UT.BigInt(H):typeof ie=="number"&&!isNaN(ie)&&(Te=ie/H),Te<Number.MAX_SAFE_INTEGER&&(Te=Number(Te)),Te<S&&(S=Te),S},1/0);return typeof _=="bigint"||isFinite(_)?_:0},LP=function(p,v){var x=bn(v,["moof","traf"]),_=0,S=0,C;if(x&&x.length){var $=bn(x[0],["tfhd"])[0],j=bn(x[0],["trun"])[0],H=bn(x[0],["tfdt"])[0];if($){var G=sG($);C=G.trackId}if(H){var W=aG(H);_=W.baseMediaDecodeTime}if(j){var ie=oG(j);ie.samples&&ie.samples.length&&(S=ie.samples[0].compositionTimeOffset||0)}}var Te=p[C]||9e4;typeof _=="bigint"&&(S=UT.BigInt(S),Te=UT.BigInt(Te));var le=(_+S)/Te;return typeof le=="bigint"&&le<Number.MAX_SAFE_INTEGER&&(le=Number(le)),le},MP=function(p){var v=bn(p,["moov","trak"]),x=[];return v.forEach(function(_){var S=bn(_,["mdia","hdlr"]),C=bn(_,["tkhd"]);S.forEach(function($,j){var H=uh($.subarray(8,12)),G=C[j],W,ie,Te;H==="vide"&&(W=new DataView(G.buffer,G.byteOffset,G.byteLength),ie=W.getUint8(0),Te=ie===0?W.getUint32(12):W.getUint32(20),x.push(Te))})}),x},BT=function(p){var v=p[0],x=v===0?12:20;return yv(p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3])},NP=function(p){var v=bn(p,["moov","trak"]),x=[];return v.forEach(function(_){var S={},C=bn(_,["tkhd"])[0],$,j;C&&($=new DataView(C.buffer,C.byteOffset,C.byteLength),j=$.getUint8(0),S.id=j===0?$.getUint32(12):$.getUint32(20));var H=bn(_,["mdia","hdlr"])[0];if(H){var G=uh(H.subarray(8,12));G==="vide"?S.type="video":G==="soun"?S.type="audio":S.type=G}var W=bn(_,["mdia","minf","stbl","stsd"])[0];if(W){var ie=W.subarray(8);S.codec=uh(ie.subarray(4,8));var Te=bn(ie,[S.codec])[0],le,Oe;Te&&(/^[asm]vc[1-9]$/i.test(S.codec)?(le=Te.subarray(78),Oe=uh(le.subarray(4,8)),Oe==="avcC"&&le.length>11?(S.codec+=".",S.codec+=gm(le[9]),S.codec+=gm(le[10]),S.codec+=gm(le[11])):S.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(S.codec)?(le=Te.subarray(28),Oe=uh(le.subarray(4,8)),Oe==="esds"&&le.length>20&&le[19]!==0?(S.codec+="."+gm(le[19]),S.codec+="."+gm(le[20]>>>2&63).replace(/^0/,"")):S.codec="mp4a.40.2"):S.codec=S.codec.toLowerCase())}var ze=bn(_,["mdia","mdhd"])[0];ze&&(S.timescale=BT(ze)),x.push(S)}),x},BP=function(p,v=0){var x=bn(p,["emsg"]);return x.map(_=>{var S=NT.parseEmsgBox(new Uint8Array(_)),C=cG(S.message_data);return{cueTime:NT.scaleTime(S.presentation_time,S.timescale,S.presentation_time_delta,v),duration:NT.scaleTime(S.event_duration,S.timescale),frames:C}})};var bm={findBox:bn,parseType:uh,timescale:PP,startTime:OP,compositionStartTime:LP,videoTrackIds:MP,tracks:NP,getTimescaleFromMediaHeader:BT,getEmsgID3:BP};const{parseTrun:uG}=IP,{findBox:UP}=bm;var FP=RP,dG=function(p){var v=UP(p,["moof","traf"]),x=UP(p,["mdat"]),_=[];return x.forEach(function(S,C){var $=v[C];_.push({mdat:S,traf:$})}),_},hG=function(p,v,x){var _=v,S=x.defaultSampleDuration||0,C=x.defaultSampleSize||0,$=x.trackId,j=[];return p.forEach(function(H){var G=uG(H),W=G.samples;W.forEach(function(ie){ie.duration===void 0&&(ie.duration=S),ie.size===void 0&&(ie.size=C),ie.trackId=$,ie.dts=_,ie.compositionTimeOffset===void 0&&(ie.compositionTimeOffset=0),typeof _=="bigint"?(ie.pts=_+FP.BigInt(ie.compositionTimeOffset),_+=FP.BigInt(ie.duration)):(ie.pts=_+ie.compositionTimeOffset,_+=ie.duration)}),j=j.concat(W)}),j},VP={getMdatTrafPairs:dG,parseSamples:hG},fG=Ws.discardEmulationPreventionBytes,pG=Ce.CaptionStream,FT=gt,mG=Sn,gG=gr,{getMdatTrafPairs:bG,parseSamples:vG}=VP,yG=function(p,v){for(var x=p,_=0;_<v.length;_++){var S=v[_];if(x<S.size)return S;x-=S.size}return null},_G=function(p,v,x){var _=new DataView(p.buffer,p.byteOffset,p.byteLength),S={logs:[],seiNals:[]},C,$,j,H;for($=0;$+4<p.length;$+=j)if(j=_.getUint32($),$+=4,!(j<=0))switch(p[$]&31){case 6:var G=p.subarray($+1,$+1+j),W=yG($,v);if(C={nalUnitType:"sei_rbsp",size:j,data:G,escapedRBSP:fG(G),trackId:x},W)C.pts=W.pts,C.dts=W.dts,H=W;else if(H)C.pts=H.pts,C.dts=H.dts;else{S.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+$+" for trackId "+x+". See mux.js#223."});break}S.seiNals.push(C);break}return S},xG=function(p,v){var x={},_=bG(p);return _.forEach(function(S){var C=S.mdat,$=S.traf,j=FT($,["tfhd"]),H=gG(j[0]),G=H.trackId,W=FT($,["tfdt"]),ie=W.length>0?mG(W[0]).baseMediaDecodeTime:0,Te=FT($,["trun"]),le,Oe;v===G&&Te.length>0&&(le=vG(Te,ie,H),Oe=_G(C,le,G),x[G]||(x[G]={seiNals:[],logs:[]}),x[G].seiNals=x[G].seiNals.concat(Oe.seiNals),x[G].logs=x[G].logs.concat(Oe.logs))}),x},wG=function(p,v,x){var _;if(v===null)return null;_=xG(p,v);var S=_[v]||{};return{seiNals:S.seiNals,logs:S.logs,timescale:x}},TG=function(){var p=!1,v,x,_,S,C,$;this.isInitialized=function(){return p},this.init=function(j){v=new pG,p=!0,$=j?j.isPartial:!1,v.on("data",function(H){H.startTime=H.startPts/S,H.endTime=H.endPts/S,C.captions.push(H),C.captionStreams[H.stream]=!0}),v.on("log",function(H){C.logs.push(H)})},this.isNewInit=function(j,H){return j&&j.length===0||H&&typeof H=="object"&&Object.keys(H).length===0?!1:_!==j[0]||S!==H[_]},this.parse=function(j,H,G){var W;if(this.isInitialized()){if(!H||!G)return null;if(this.isNewInit(H,G))_=H[0],S=G[_];else if(_===null||!S)return x.push(j),null}else return null;for(;x.length>0;){var ie=x.shift();this.parse(ie,H,G)}return W=wG(j,_,S),W&&W.logs&&(C.logs=C.logs.concat(W.logs)),W===null||!W.seiNals?C.logs.length?{logs:C.logs,captions:[],captionStreams:[]}:null:(this.pushNals(W.seiNals),this.flushStream(),C)},this.pushNals=function(j){if(!this.isInitialized()||!j||j.length===0)return null;j.forEach(function(H){v.push(H)})},this.flushStream=function(){if(!this.isInitialized())return null;$?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){C.captions=[],C.captionStreams={},C.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){x=[],_=null,S=null,C?this.clearParsedCaptions():C={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},EG=TG;const{parseTfdt:SG}=IP,Nl=gt,{getTimescaleFromMediaHeader:kG}=bm,{parseSamples:CG,getMdatTrafPairs:AG}=VP;var $P=function(){let p=9e4;this.init=function(v){const x=Nl(v,["moov","trak","mdia","mdhd"])[0];x&&(p=kG(x))},this.parseSegment=function(v){const x=[],_=AG(v);let S=0;return _.forEach(function(C){const $=C.mdat,j=C.traf,H=Nl(j,["tfdt"])[0],G=Nl(j,["tfhd"])[0],W=Nl(j,["trun"]);if(H&&(S=SG(H).baseMediaDecodeTime),W.length&&G){const ie=CG(W,S,G);let Te=0;ie.forEach(function(le){const Oe="utf-8",ze=new TextDecoder(Oe),Kn=$.slice(Te,Te+le.size);if(Nl(Kn,["vtte"])[0]){Te+=le.size;return}Nl(Kn,["vttc"]).forEach(function(vm){const ym=Nl(vm,["payl"])[0],_m=Nl(vm,["sttg"])[0],xm=le.pts/p,wv=(le.pts+le.duration)/p;let $t,wm;if(ym)try{$t=ze.decode(ym)}catch(Ks){console.error(Ks)}if(_m)try{wm=ze.decode(_m)}catch(Ks){console.error(Ks)}le.duration&&$t&&x.push({cueText:$t,start:xm,end:wv,settings:wm})}),Te+=le.size})}}),x}},VT=je,jP=function(p){var v=p[1]&31;return v<<=8,v|=p[2],v},_v=function(p){return!!(p[1]&64)},xv=function(p){var v=0;return(p[3]&48)>>>4>1&&(v+=p[4]+1),v},IG=function(p,v){var x=jP(p);return x===0?"pat":x===v?"pmt":v?"pes":null},DG=function(p){var v=_v(p),x=4+xv(p);return v&&(x+=p[x]+1),(p[x+10]&31)<<8|p[x+11]},RG=function(p){var v={},x=_v(p),_=4+xv(p);if(x&&(_+=p[_]+1),!!(p[_+5]&1)){var S,C,$;S=(p[_+1]&15)<<8|p[_+2],C=3+S-4,$=(p[_+10]&15)<<8|p[_+11];for(var j=12+$;j<C;){var H=_+j;v[(p[H+1]&31)<<8|p[H+2]]=p[H],j+=((p[H+3]&15)<<8|p[H+4])+5}return v}},PG=function(p,v){var x=jP(p),_=v[x];switch(_){case VT.H264_STREAM_TYPE:return"video";case VT.ADTS_STREAM_TYPE:return"audio";case VT.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},OG=function(p){var v=_v(p);if(!v)return null;var x=4+xv(p);if(x>=p.byteLength)return null;var _=null,S;return S=p[x+7],S&192&&(_={},_.pts=(p[x+9]&14)<<27|(p[x+10]&255)<<20|(p[x+11]&254)<<12|(p[x+12]&255)<<5|(p[x+13]&254)>>>3,_.pts*=4,_.pts+=(p[x+13]&6)>>>1,_.dts=_.pts,S&64&&(_.dts=(p[x+14]&14)<<27|(p[x+15]&255)<<20|(p[x+16]&254)<<12|(p[x+17]&255)<<5|(p[x+18]&254)>>>3,_.dts*=4,_.dts+=(p[x+18]&6)>>>1)),_},$T=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},LG=function(p){for(var v=4+xv(p),x=p.subarray(v),_=0,S=0,C=!1,$;S<x.byteLength-3;S++)if(x[S+2]===1){_=S+5;break}for(;_<x.byteLength;)switch(x[_]){case 0:if(x[_-1]!==0){_+=2;break}else if(x[_-2]!==0){_++;break}S+3!==_-2&&($=$T(x[S+3]&31),$==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0));do _++;while(x[_]!==1&&_<x.length);S=_-2,_+=3;break;case 1:if(x[_-1]!==0||x[_-2]!==0){_+=3;break}$=$T(x[S+3]&31),$==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0),S=_-2,_+=3;break;default:_+=3;break}return x=x.subarray(S),_-=S,S=0,x&&x.byteLength>3&&($=$T(x[S+3]&31),$==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0)),C},MG={parseType:IG,parsePat:DG,parsePmt:RG,parsePayloadUnitStartIndicator:_v,parsePesType:PG,parsePesTime:OG,videoPacketContainsKeyFrame:LG},zP=je,dh=Kd.handleRollover,xt={};xt.ts=MG,xt.aac=sh;var Tu=lt.ONE_SECOND_IN_TS,Yi=188,Do=71,NG=function(p,v){for(var x=0,_=Yi,S,C;_<p.byteLength;){if(p[x]===Do&&p[_]===Do){switch(S=p.subarray(x,_),C=xt.ts.parseType(S,v.pid),C){case"pat":v.pid=xt.ts.parsePat(S);break;case"pmt":var $=xt.ts.parsePmt(S);v.table=v.table||{},Object.keys($).forEach(function(j){v.table[j]=$[j]});break}x+=Yi,_+=Yi;continue}x++,_++}},HP=function(p,v,x){for(var _=0,S=Yi,C,$,j,H,G,W=!1;S<=p.byteLength;){if(p[_]===Do&&(p[S]===Do||S===p.byteLength)){switch(C=p.subarray(_,S),$=xt.ts.parseType(C,v.pid),$){case"pes":j=xt.ts.parsePesType(C,v.table),H=xt.ts.parsePayloadUnitStartIndicator(C),j==="audio"&&H&&(G=xt.ts.parsePesTime(C),G&&(G.type="audio",x.audio.push(G),W=!0));break}if(W)break;_+=Yi,S+=Yi;continue}_++,S++}for(S=p.byteLength,_=S-Yi,W=!1;_>=0;){if(p[_]===Do&&(p[S]===Do||S===p.byteLength)){switch(C=p.subarray(_,S),$=xt.ts.parseType(C,v.pid),$){case"pes":j=xt.ts.parsePesType(C,v.table),H=xt.ts.parsePayloadUnitStartIndicator(C),j==="audio"&&H&&(G=xt.ts.parsePesTime(C),G&&(G.type="audio",x.audio.push(G),W=!0));break}if(W)break;_-=Yi,S-=Yi;continue}_--,S--}},BG=function(p,v,x){for(var _=0,S=Yi,C,$,j,H,G,W,ie,Te,le=!1,Oe={data:[],size:0};S<p.byteLength;){if(p[_]===Do&&p[S]===Do){switch(C=p.subarray(_,S),$=xt.ts.parseType(C,v.pid),$){case"pes":if(j=xt.ts.parsePesType(C,v.table),H=xt.ts.parsePayloadUnitStartIndicator(C),j==="video"&&(H&&!le&&(G=xt.ts.parsePesTime(C),G&&(G.type="video",x.video.push(G),le=!0)),!x.firstKeyFrame)){if(H&&Oe.size!==0){for(W=new Uint8Array(Oe.size),ie=0;Oe.data.length;)Te=Oe.data.shift(),W.set(Te,ie),ie+=Te.byteLength;if(xt.ts.videoPacketContainsKeyFrame(W)){var ze=xt.ts.parsePesTime(W);ze?(x.firstKeyFrame=ze,x.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Oe.size=0}Oe.data.push(C),Oe.size+=C.byteLength}break}if(le&&x.firstKeyFrame)break;_+=Yi,S+=Yi;continue}_++,S++}for(S=p.byteLength,_=S-Yi,le=!1;_>=0;){if(p[_]===Do&&p[S]===Do){switch(C=p.subarray(_,S),$=xt.ts.parseType(C,v.pid),$){case"pes":j=xt.ts.parsePesType(C,v.table),H=xt.ts.parsePayloadUnitStartIndicator(C),j==="video"&&H&&(G=xt.ts.parsePesTime(C),G&&(G.type="video",x.video.push(G),le=!0));break}if(le)break;_-=Yi,S-=Yi;continue}_--,S--}},UG=function(p,v){if(p.audio&&p.audio.length){var x=v;(typeof x>"u"||isNaN(x))&&(x=p.audio[0].dts),p.audio.forEach(function(C){C.dts=dh(C.dts,x),C.pts=dh(C.pts,x),C.dtsTime=C.dts/Tu,C.ptsTime=C.pts/Tu})}if(p.video&&p.video.length){var _=v;if((typeof _>"u"||isNaN(_))&&(_=p.video[0].dts),p.video.forEach(function(C){C.dts=dh(C.dts,_),C.pts=dh(C.pts,_),C.dtsTime=C.dts/Tu,C.ptsTime=C.pts/Tu}),p.firstKeyFrame){var S=p.firstKeyFrame;S.dts=dh(S.dts,_),S.pts=dh(S.pts,_),S.dtsTime=S.dts/Tu,S.ptsTime=S.pts/Tu}}},FG=function(p){for(var v=!1,x=0,_=null,S=null,C=0,$=0,j;p.length-$>=3;){var H=xt.aac.parseType(p,$);switch(H){case"timed-metadata":if(p.length-$<10){v=!0;break}if(C=xt.aac.parseId3TagSize(p,$),C>p.length){v=!0;break}S===null&&(j=p.subarray($,$+C),S=xt.aac.parseAacTimestamp(j)),$+=C;break;case"audio":if(p.length-$<7){v=!0;break}if(C=xt.aac.parseAdtsSize(p,$),C>p.length){v=!0;break}_===null&&(j=p.subarray($,$+C),_=xt.aac.parseSampleRate(j)),x++,$+=C;break;default:$++;break}if(v)return null}if(_===null||S===null)return null;var G=Tu/_,W={audio:[{type:"audio",dts:S,pts:S},{type:"audio",dts:S+x*1024*G,pts:S+x*1024*G}]};return W},VG=function(p){var v={pid:null,table:null},x={};NG(p,v);for(var _ in v.table)if(v.table.hasOwnProperty(_)){var S=v.table[_];switch(S){case zP.H264_STREAM_TYPE:x.video=[],BG(p,v,x),x.video.length===0&&delete x.video;break;case zP.ADTS_STREAM_TYPE:x.audio=[],HP(p,v,x),x.audio.length===0&&delete x.audio;break}}return x},$G=function(p,v){var x=xt.aac.isLikelyAacData(p),_;return x?_=FG(p):_=VG(p),!_||!_.audio&&!_.video?null:(UG(_,v),_)},jG={inspect:$G,parseAudioPes_:HP};const zG=function(p,v){v.on("data",function(x){const _=x.initSegment;x.initSegment={data:_.buffer,byteOffset:_.byteOffset,byteLength:_.byteLength};const S=x.data;x.data=S.buffer,p.postMessage({action:"data",segment:x,byteOffset:S.byteOffset,byteLength:S.byteLength},[x.data])}),v.on("done",function(x){p.postMessage({action:"done"})}),v.on("gopInfo",function(x){p.postMessage({action:"gopInfo",gopInfo:x})}),v.on("videoSegmentTimingInfo",function(x){const _={start:{decode:lt.videoTsToSeconds(x.start.dts),presentation:lt.videoTsToSeconds(x.start.pts)},end:{decode:lt.videoTsToSeconds(x.end.dts),presentation:lt.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:lt.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(_.prependedContentDuration=lt.videoTsToSeconds(x.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:_})}),v.on("audioSegmentTimingInfo",function(x){const _={start:{decode:lt.videoTsToSeconds(x.start.dts),presentation:lt.videoTsToSeconds(x.start.pts)},end:{decode:lt.videoTsToSeconds(x.end.dts),presentation:lt.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:lt.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(_.prependedContentDuration=lt.videoTsToSeconds(x.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:_})}),v.on("id3Frame",function(x){p.postMessage({action:"id3Frame",id3Frame:x})}),v.on("caption",function(x){p.postMessage({action:"caption",caption:x})}),v.on("trackinfo",function(x){p.postMessage({action:"trackinfo",trackInfo:x})}),v.on("audioTimingInfo",function(x){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:lt.videoTsToSeconds(x.start),end:lt.videoTsToSeconds(x.end)}})}),v.on("videoTimingInfo",function(x){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:lt.videoTsToSeconds(x.start),end:lt.videoTsToSeconds(x.end)}})}),v.on("log",function(x){p.postMessage({action:"log",log:x})})};class qP{constructor(v,x){this.options=x||{},this.self=v,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new bv.Transmuxer(this.options),zG(this.self,this.transmuxer)}pushMp4Captions(v){this.captionParser||(this.captionParser=new EG,this.captionParser.init());const x=new Uint8Array(v.data,v.byteOffset,v.byteLength),_=this.captionParser.parse(x,v.trackIds,v.timescales);this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:x.buffer},[x.buffer])}initMp4WebVttParser(v){this.webVttParser||(this.webVttParser=new $P);const x=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.webVttParser.init(x)}getMp4WebVttText(v){this.webVttParser||(this.webVttParser=new $P);const x=new Uint8Array(v.data,v.byteOffset,v.byteLength),_=this.webVttParser.parseSegment(x);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:_||[],data:x.buffer},[x.buffer])}probeMp4StartTime({timescales:v,data:x}){const _=bm.startTime(v,x);this.self.postMessage({action:"probeMp4StartTime",startTime:_,data:x},[x.buffer])}probeMp4Tracks({data:v}){const x=bm.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:v},[v.buffer])}probeEmsgID3({data:v,offset:x}){const _=bm.getEmsgID3(v,x);this.self.postMessage({action:"probeEmsgID3",id3Frames:_,emsgData:v},[v.buffer])}probeTs({data:v,baseStartTime:x}){const _=typeof x=="number"&&!isNaN(x)?x*lt.ONE_SECOND_IN_TS:void 0,S=jG.inspect(v,_);let C=null;S&&(C={hasVideo:S.video&&S.video.length===2||!1,hasAudio:S.audio&&S.audio.length===2||!1},C.hasVideo&&(C.videoStart=S.video[0].ptsTime),C.hasAudio&&(C.audioStart=S.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:C,data:v},[v.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(v){const x=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.transmuxer.push(x)}reset(){this.transmuxer.reset()}setTimestampOffset(v){const x=v.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(lt.secondsToVideoTs(x)))}setAudioAppendStart(v){this.transmuxer.setAudioAppendStart(Math.ceil(lt.secondsToVideoTs(v.appendStart)))}setRemux(v){this.transmuxer.setRemux(v.remux)}flush(v){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(v){this.transmuxer.alignGopsWith(v.gopsToAlignWith.slice())}}self.onmessage=function(p){if(p.data.action==="init"&&p.data.options){this.messageHandlers=new qP(self,p.data.options);return}this.messageHandlers||(this.messageHandlers=new qP(self)),p.data&&p.data.action&&p.data.action!=="init"&&this.messageHandlers[p.data.action]&&this.messageHandlers[p.data.action](p.data)}}));var Ske=_q(Eke);const kke=(t,e,n)=>{const{type:i,initSegment:r,captions:s,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:c}=t.data.segment;e.buffer.push({captions:s,captionStreams:o,metadata:a});const u=t.data.segment.boxes||{data:t.data.segment.data},d={type:i,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof c<"u"&&(d.videoFramePtsTime=c),n(d)},Cke=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},Ake=(t,e)=>{e.gopInfo=t.data.gopInfo},Tq=t=>{const{transmuxer:e,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:s,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:m,onDone:b,onEndedTimeline:g,onTransmuxerLog:w,isEndOfTimeline:y,segment:T,triggerSegmentEventFn:k}=t,D={buffer:[]};let P=y;const B=A=>{e.currentTransmux===t&&(A.data.action==="data"&&kke(A,D,o),A.data.action==="trackinfo"&&a(A.data.trackInfo),A.data.action==="gopInfo"&&Ake(A,D),A.data.action==="audioTimingInfo"&&l(A.data.audioTimingInfo),A.data.action==="videoTimingInfo"&&c(A.data.videoTimingInfo),A.data.action==="videoSegmentTimingInfo"&&u(A.data.videoSegmentTimingInfo),A.data.action==="audioSegmentTimingInfo"&&d(A.data.audioSegmentTimingInfo),A.data.action==="id3Frame"&&h([A.data.id3Frame],A.data.id3Frame.dispatchType),A.data.action==="caption"&&m(A.data.caption),A.data.action==="endedtimeline"&&(P=!1,g()),A.data.action==="log"&&w(A.data.log),A.data.type==="transmuxed"&&(P||(e.onmessage=null,Cke({transmuxedData:D,callback:b}),Eq(e))))},O=()=>{const A={message:"Received an error message from the transmuxer worker",metadata:{errorType:Q.Error.StreamingFailedToTransmuxSegment,segmentInfo:Lu({segment:T})}};b(null,A)};if(e.onmessage=B,e.onerror=O,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const A=n instanceof ArrayBuffer?n:n.buffer,R=n instanceof ArrayBuffer?0:n.byteOffset;k({type:"segmenttransmuxingstart",segment:T}),e.postMessage({action:"push",data:A,byteOffset:R,byteLength:n.byteLength},[A])}y&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Eq=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():Tq(t.currentTransmux))},IN=(t,e)=>{t.postMessage({action:e}),Eq(t)},Sq=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,IN(e,t);return}e.transmuxQueue.push(IN.bind(null,e,t))},Ike=t=>{Sq("reset",t)},Dke=t=>{Sq("endTimeline",t)},kq=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,Tq(t);return}t.transmuxer.transmuxQueue.push(t)},Rke=t=>{const e=new Ske;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var jS={reset:Ike,endTimeline:Dke,transmux:kq,createTransmuxer:Rke};const Sf=function(t){const e=t.transmuxer,n=t.endAction||t.action,i=t.callback,r=ft({},t,{endAction:null,transmuxer:null,callback:null}),s=o=>{o.data.action===n&&(e.removeEventListener("message",s),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),i(o.data))};if(e.addEventListener("message",s),t.data){const o=t.data instanceof ArrayBuffer;r.byteOffset=o?0:t.data.byteOffset,r.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(r,a)}else e.postMessage(r)},Ho={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Cq="wvtt",AC=t=>{t.forEach(e=>{e.abort()})},Pke=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),Oke=t=>{const e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},EP=(t,e)=>{const{requestType:n}=e,i=od({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ho.TIMEOUT,xhr:e,metadata:i}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Ho.ABORTED,xhr:e,metadata:i}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ho.FAILURE,xhr:e,metadata:i}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Ho.FAILURE,xhr:e,metadata:i}:null},DN=(t,e,n,i)=>(r,s)=>{const o=s.response,a=EP(r,s);if(a)return n(a,t);if(o.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Ho.FAILURE,xhr:s},t);const l=new DataView(o),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=c;const u={uri:s.uri};return i({type:"segmentkeyloadcomplete",segment:t,keyInfo:u}),n(null,t)},Lke=(t,e)=>{e===Cq&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},Mke=(t,e,n)=>{e===Cq&&Sf({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:i,mp4VttCues:r})=>{t.bytes=i,n(null,t,{mp4VttCues:r})}})},Aq=(t,e)=>{const n=HR(t.map.bytes);if(n!=="mp4"){const i=t.map.resolvedUri||t.map.uri,r=n||"unknown";return e({internal:!0,message:"Found unsupported ".concat(r," container for initialization segment at URL: ").concat(i),code:Ho.FAILURE,metadata:{mediaType:r}})}Sf({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:r})=>(t.map.bytes=r,i.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale),s.type==="text"&&Lke(t,s.codec))}),e(null))})},Nke=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(i,r)=>{const s=EP(i,r);if(s)return e(s,t);const o=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=o,e(null,t);t.map.bytes=o,Aq(t,function(a){if(a)return a.xhr=r,a.status=r.status,e(a,t);e(null,t)})},Bke=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:i})=>(r,s)=>{const o=EP(r,s);if(o)return e(o,t);i({type:"segmentloaded",segment:t});const a=n==="arraybuffer"||!s.responseText?s.response:wke(s.responseText.substring(t.lastReachedChar||0));return t.stats=Pke(s),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},Uke=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{const b=t.map&&t.map.tracks||{},g=!!(b.audio&&b.video);let w=i.bind(null,t,"audio","start");const y=i.bind(null,t,"audio","end");let T=i.bind(null,t,"video","start");const k=i.bind(null,t,"video","end"),D=()=>kq({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:g,onData:P=>{P.type=P.type==="combined"?"video":P.type,u(t,P)},onTrackInfo:P=>{n&&(g&&(P.isMuxed=!0),n(t,P))},onAudioTimingInfo:P=>{w&&typeof P.start<"u"&&(w(P.start),w=null),y&&typeof P.end<"u"&&y(P.end)},onVideoTimingInfo:P=>{T&&typeof P.start<"u"&&(T(P.start),T=null),k&&typeof P.end<"u"&&k(P.end)},onVideoSegmentTimingInfo:P=>{const B={pts:{start:P.start.presentation,end:P.end.presentation},dts:{start:P.start.decode,end:P.end.decode}};m({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),r(P)},onAudioSegmentTimingInfo:P=>{const B={pts:{start:P.start.pts,end:P.end.pts},dts:{start:P.start.dts,end:P.end.dts}};m({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),s(P)},onId3:(P,B)=>{o(t,P,B)},onCaptions:P=>{a(t,[P])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:(P,B)=>{d&&(P.type=P.type==="combined"?"video":P.type,m({type:"segmenttransmuxingcomplete",segment:t}),d(B,t,P))},segment:t,triggerSegmentEventFn:m});Sf({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:P=>{t.bytes=e=P.data;const B=P.result;B&&(n(t,{hasAudio:B.hasAudio,hasVideo:B.hasVideo,isMuxed:g}),n=null),D()}})},Iq=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{let b=new Uint8Array(e);if(oEe(b)){t.isFmp4=!0;const{tracks:g}=t.map;if(g.text&&(!g.audio||!g.video)){u(t,{data:b,type:"text"}),Mke(t,g.text.codec,d);return}const y={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(y.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(y.videoCodec=g.video.codec),g.video&&g.audio&&(y.isMuxed=!0),n(t,y);const T=(k,D)=>{u(t,{data:b,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),D&&D.length&&o(t,D),k&&k.length&&a(t,k),d(null,t,{})};Sf({action:"probeMp4StartTime",timescales:t.map.timescales,data:b,transmuxer:t.transmuxer,callback:({data:k,startTime:D})=>{e=k.buffer,t.bytes=b=k,y.hasAudio&&!y.isMuxed&&i(t,"audio","start",D),y.hasVideo&&i(t,"video","start",D),Sf({action:"probeEmsgID3",data:b,transmuxer:t.transmuxer,offset:D,callback:({emsgData:P,id3Frames:B})=>{if(e=P.buffer,t.bytes=b=P,!g.video||!P.byteLength||!t.transmuxer){T(void 0,B);return}Sf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:b,timescales:t.map.timescales,trackIds:[g.video.id],callback:O=>{e=O.data.buffer,t.bytes=b=O.data,O.logs.forEach(function(A){h(_t(A,{stream:"mp4CaptionParser"}))}),T(O.captions,B)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=HR(b)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}Uke({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})},Dq=function({id:t,key:e,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:s},o){const a=c=>{if(c.data.source===t){i.removeEventListener("message",a);const u=c.data.decrypted;o(new Uint8Array(u.bytes,u.byteOffset,u.byteLength))}};i.onerror=()=>{const c="An error occurred in the decryption worker",u=Lu({segment:r}),d={message:c,metadata:{error:new Error(c),errorType:Q.Error.StreamingFailedToDecryptSegment,segmentInfo:u,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};s(d,r)},i.addEventListener("message",a);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(pq({source:t,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},Fke=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{m({type:"segmentdecryptionstart"}),Dq({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:d},b=>{e.bytes=b,m({type:"segmentdecryptioncomplete",segment:e}),Iq({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})})},Vke=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{let b=0,g=!1;return(w,y)=>{if(!g){if(w)return g=!0,AC(t),d(w,y);if(b+=1,b===t.length){const T=function(){if(y.encryptedBytes)return Fke({decryptionWorker:e,segment:y,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m});Iq({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return m({type:"segmentdecryptionstart",segment:y}),Dq({decryptionWorker:e,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:d},k=>{y.map.bytes=k,m({type:"segmentdecryptioncomplete",segment:y}),Aq(y,D=>{if(D)return AC(t),d(D,y);T()})});T()}}}},$ke=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},jke=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u})=>d=>{if(!d.target.aborted)return t.stats=_t(t.stats,Oke(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},zke=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:i,abortFn:r,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:y})=>{const T=[],k=Vke({activeXhrs:T,decryptionWorker:n,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:g,onTransmuxerLog:w,triggerSegmentEventFn:y});if(i.key&&!i.key.bytes){const A=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&A.push(i.map.key);const R=_t(e,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),L=DN(i,A,k,y),U={uri:i.key.resolvedUri};y({type:"segmentkeyloadstart",segment:i,keyInfo:U});const V=t(R,L);T.push(V)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const V=_t(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),M=DN(i,[i.map.key],k,y),ae={uri:i.map.key.resolvedUri};y({type:"segmentkeyloadstart",segment:i,keyInfo:ae});const he=t(V,M);T.push(he)}const R=_t(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:kC(i.map),requestType:"segment-media-initialization"}),L=Nke({segment:i,finishProcessingFn:k,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:i});const U=t(R,L);T.push(U)}const D=_t(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:kC(i),requestType:"segment"}),P=Bke({segment:i,finishProcessingFn:k,responseType:D.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:i});const B=t(D,P);B.addEventListener("progress",jke({segment:i,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b})),T.push(B);const O={};return T.forEach(A=>{A.addEventListener("loadend",$ke({loadendState:O,abortFn:r}))}),()=>AC(T)},Hke=$s("CodecUtils"),qke=function(t){const e=t.attributes||{};if(e.CODECS)return Oo(e.CODECS)},Rq=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},Gke=(t,e)=>{if(!Rq(t,e))return!0;const n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1},rw=function(t){const e={};return t.forEach(({mediaType:n,type:i,details:r})=>{e[n]=e[n]||[],e[n].push(Fj("".concat(i).concat(r)))}),Object.keys(e).forEach(function(n){if(e[n].length>1){Hke("multiple ".concat(n," codecs found as attributes: ").concat(e[n].join(", "),". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.")),e[n]=null;return}e[n]=e[n][0]}),e},RN=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},Qg=function(t,e){const n=e.attributes||{},i=rw(qke(e)||[]);if(Rq(t,e)&&!i.audio&&!Gke(t,e)){const r=rw(a1e(t,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},py=$s("PlaylistSelector"),PN=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},sw=function(t,e){if(!t)return"";const n=q.getComputedStyle(t);return n?n[e]:""},kf=function(t,e){const n=t.slice();t.sort(function(i,r){const s=e(i,r);return s===0?n.indexOf(i)-n.indexOf(r):s})},SP=function(t,e){let n,i;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||q.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||q.Number.MAX_VALUE,n-i},Wke=function(t,e){let n,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||q.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||q.Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i};let Pq=function(t,e,n,i,r,s){if(!t)return;const o={bandwidth:e,width:n,height:i,limitRenditionByPlayerDimensions:r};let a=t.playlists;Sr.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(P=>{let B;const O=P.attributes&&P.attributes.RESOLUTION&&P.attributes.RESOLUTION.width,A=P.attributes&&P.attributes.RESOLUTION&&P.attributes.RESOLUTION.height;return B=P.attributes&&P.attributes.BANDWIDTH,B=B||q.Number.MAX_VALUE,{bandwidth:B,width:O,height:A,playlist:P}});kf(l,(P,B)=>P.bandwidth-B.bandwidth),l=l.filter(P=>!Sr.isIncompatible(P.playlist));let c=l.filter(P=>Sr.isEnabled(P.playlist));c.length||(c=l.filter(P=>!Sr.isDisabled(P.playlist)));const u=c.filter(P=>P.bandwidth*ti.BANDWIDTH_VARIANCE<e);let d=u[u.length-1];const h=u.filter(P=>P.bandwidth===d.bandwidth)[0];if(r===!1){const P=h||c[0]||l[0];if(P&&P.playlist){let B="sortedPlaylistReps";return h&&(B="bandwidthBestRep"),c[0]&&(B="enabledPlaylistReps"),py("choosing ".concat(PN(P)," using ").concat(B," with options"),o),P.playlist}return py("could not choose a playlist with options",o),null}const m=u.filter(P=>P.width&&P.height);kf(m,(P,B)=>P.width-B.width);const b=m.filter(P=>P.width===n&&P.height===i);d=b[b.length-1];const g=b.filter(P=>P.bandwidth===d.bandwidth)[0];let w,y,T;g||(w=m.filter(P=>P.width>n||P.height>i),y=w.filter(P=>P.width===w[0].width&&P.height===w[0].height),d=y[y.length-1],T=y.filter(P=>P.bandwidth===d.bandwidth)[0]);let k;if(s.leastPixelDiffSelector){const P=m.map(B=>(B.pixelDiff=Math.abs(B.width-n)+Math.abs(B.height-i),B));kf(P,(B,O)=>B.pixelDiff===O.pixelDiff?O.bandwidth-B.bandwidth:B.pixelDiff-O.pixelDiff),k=P[0]}const D=k||T||g||h||c[0]||l[0];if(D&&D.playlist){let P="sortedPlaylistReps";return k?P="leastPixelDiffRep":T?P="resolutionPlusOneRep":g?P="resolutionBestRep":h?P="bandwidthBestRep":c[0]&&(P="enabledPlaylistReps"),py("choosing ".concat(PN(D)," using ").concat(P," with options"),o),D.playlist}return py("could not choose a playlist with options",o),null};const ON=function(){let t=this.useDevicePixelRatio&&q.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),Pq(this.playlists.main,this.systemBandwidth,parseInt(sw(this.tech_.el(),"width"),10)*t,parseInt(sw(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},Yke=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&q.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),Pq(this.playlists.main,e,parseInt(sw(this.tech_.el(),"width"),10)*i,parseInt(sw(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},Xke=function(t){const{main:e,currentTime:n,bandwidth:i,duration:r,segmentDuration:s,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,c=e.playlists.filter(b=>!Sr.isIncompatible(b));let u=c.filter(Sr.isEnabled);u.length||(u=c.filter(b=>!Sr.isDisabled(b)));const h=u.filter(Sr.hasAttribute.bind(null,"BANDWIDTH")).map(b=>{const w=l.getSyncPoint(b,r,a,n)?1:2,T=Sr.estimateSegmentRequestTime(s,i,b)*w-o;return{playlist:b,rebufferingImpact:T}}),m=h.filter(b=>b.rebufferingImpact<=0);return kf(m,(b,g)=>SP(g.playlist,b.playlist)),m.length?m[0]:(kf(h,(b,g)=>b.rebufferingImpact-g.rebufferingImpact),h[0]||null)},Kke=function(){const t=this.playlists.main.playlists.filter(Sr.isEnabled);return kf(t,(n,i)=>SP(n,i)),t.filter(n=>!!Qg(this.playlists.main,n).video)[0]||null},Qke=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(i=>{n.set(i,e),e+=i.byteLength})),n};function Oq(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch(e){return""}}const Zke=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=e.textTracks().getTrackById(i);if(r)t[n]=r;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=n,a=n,l=!1;const c=s[i];c&&(o=c.label,a=c.language,l=c.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:i,default:l,label:o,language:a},!1).track}}},Jke=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const i=q.WebKitDataCue||q.VTTCue;e.forEach(r=>{const s=r.stream;r.content?r.content.forEach(o=>{const a=new i(r.startTime+n,r.endTime+n,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[s].addCue(a)}):t[s].addCue(new i(r.startTime+n,r.endTime+n,r.text))})},e2e=function(t){Object.defineProperties(t.frame,{id:{get(){return Q.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Q.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Q.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},t2e=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:i})=>{if(!e)return;const r=q.WebKitDataCue||q.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(u=>{const d=u.cueTime+n;typeof d!="number"||q.isNaN(d)||d<0||!(d<1/0)||!u.frames||!u.frames.length||u.frames.forEach(h=>{const m=new r(d,d,h.value||h.url||h.data||"");m.frame=h,m.value=h,e2e(m),s.addCue(m)})}),!s.cues||!s.cues.length))return;const o=s.cues,a=[];for(let u=0;u<o.length;u++)o[u]&&a.push(o[u]);const l=a.reduce((u,d)=>{const h=u[d.startTime]||[];return h.push(d),u[d.startTime]=h,u},{}),c=Object.keys(l).sort((u,d)=>Number(u)-Number(d));c.forEach((u,d)=>{const h=l[u],m=isFinite(i)?i:u,b=Number(c[d+1])||m;h.forEach(g=>{g.endTime=b})})},n2e={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},i2e=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),r2e=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const i=q.WebKitDataCue||q.VTTCue;e.forEach(r=>{for(const s of Object.keys(r)){if(i2e.has(s))continue;const o=new i(r.startTime,r.endTime,"");o.id=r.id,o.type="com.apple.quicktime.HLS",o.value={key:n2e[s],data:r[s]},(s==="scte35Out"||s==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(o)}r.processDateRange()})},LN=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Q.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},dg=function(t,e,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=t&&r.endTime<=e&&n.removeCue(r)},s2e=function(t){const e=t.cues;if(!e)return;const n={};for(let i=e.length-1;i>=0;i--){const r=e[i],s="".concat(r.startTime,"-").concat(r.endTime,"-").concat(r.text);n[s]?t.removeCue(r):n[s]=r}},o2e=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-n+3)*zu.ONE_SECOND_IN_TS);let r;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)},a2e=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const i=e[0].pts;let r=0;for(r;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)},l2e=(t,e,n,i)=>{const r=Math.ceil((e-i)*zu.ONE_SECOND_IN_TS),s=Math.ceil((n-i)*zu.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=s););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=r););return l=Math.max(l,0),o.splice(l,a-l+1),o},c2e=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(s!==i[r]||t[s]!==e[s])return!1}return!0},u2e=function(t,e,n){e=e||[];const i=[];let r=0;for(let s=0;s<e.length;s++){const o=e[s];if(t===o.timeline&&(i.push(s),r+=o.duration,r>n))return s}return i.length===0?0:i[i.length-1]},qm=1,d2e=500,MN=t=>typeof t=="number"&&isFinite(t),my=1/60,h2e=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,f2e=(t,e,n)=>{let i=e-ti.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const r=e-n;return Math.min(r,i)},wh=t=>{const{startOfSegment:e,duration:n,segment:i,part:r,playlist:{mediaSequence:s,id:o,segments:a=[]},mediaIndex:l,partIndex:c,timeline:u}=t,d=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h="getMediaInfoForTime (".concat(t.getMediaInfoForTime,")"):t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=" with independent ".concat(t.independent));const m=typeof c=="number",b=t.segment.uri?"segment":"pre-segment",g=m?ZH({preloadSegment:i})-1:0;return"".concat(b," [").concat(s+l,"/").concat(s+d,"]")+(m?" part [".concat(c,"/").concat(g,"]"):"")+" segment start/end [".concat(i.start," => ").concat(i.end,"]")+(m?" part start/end [".concat(r.start," => ").concat(r.end,"]"):"")+" startOfSegment [".concat(e,"]")+" duration [".concat(n,"]")+" timeline [".concat(u,"]")+" selected by [".concat(h,"]")+" playlist [".concat(o,"]")},NN=t=>"".concat(t,"TimingInfo"),p2e=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:i,overrideCheck:r})=>!r&&t===e?null:t<e?n:i.length?i.end(i.length-1):n,IC=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(e===n)return!1;if(i==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(i==="main"&&r){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},m2e=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),i=e&&n,r=i&&e.to!==n.to;return!!(i&&e.from!==-1&&n.from!==-1&&r)},g2e=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},Hl=t=>{const e=t.pendingSegment_;if(!e)return;if(IC({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&m2e(t.timelineChangeController_)){if(g2e(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},b2e=t=>{let e=0;return["video","audio"].forEach(function(n){const i=t["".concat(n,"TimingInfo")];if(!i)return;const{start:r,end:s}=i;let o;typeof r=="bigint"||typeof s=="bigint"?o=q.BigInt(s)-q.BigInt(r):typeof r=="number"&&typeof s=="number"&&(o=s-r),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},BN=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+jo:!1,v2e=(t,e)=>{if(e!=="hls")return null;const n=b2e({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const i=t.playlist.targetDuration,r=BN({segmentDuration:n,maxDuration:i*2}),s=BN({segmentDuration:n,maxDuration:i}),o="Segment with index ".concat(t.mediaIndex," ")+"from playlist ".concat(t.playlist.id," ")+"has a duration of ".concat(n," ")+"when the reported duration is ".concat(t.duration," ")+"and the target duration is ".concat(i,". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return r||s?{severity:r?"warn":"info",message:o}:null},Lu=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),i=!!(e.map&&!e.map.bytes),r=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:r,duration:e.duration,isEncrypted:n,isMediaInitialization:i}};class DC extends Q.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=$s("SegmentLoader[".concat(this.loaderType_,"]")),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_("".concat(this.state_," -> ").concat(i)),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hl(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(ft({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hl(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(ft({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Hl(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hl(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return jS.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&jS.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return li();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:i,isMuxed:r}=e;if(i&&n&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const i=iw(e);let r=this.initSegments_[i];return n&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}segmentKey(e,n=!1){if(!e)return null;const i=mq(e);let r=this.keyCache_[i];this.cacheEncryptionKeys_&&n&&!r&&e.bytes&&(this.keyCache_[i]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const i=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_("playlist update [".concat(s," => ").concat(e.id||e.uri,"]")),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_("Playlist update:\ncurrentTime: ".concat(this.currentTime_(),"\nbufferedEnd: ").concat(VS(this.buffered_()),"\n"),this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-i.mediaSequence;if(this.logger_("live window shift [".concat(o,"]")),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=l}}r&&(r.mediaIndex-=o,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&jS.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,i=()=>{},r=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const o=()=>{s--,s===0&&i()};(r||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,o)),(r||this.loaderType_==="main")&&(this.gopBuffer_=l2e(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,o));for(const a in this.inbandTextTracks_)dg(e,n,this.inbandTextTracks_[a]);dg(e,n,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=q.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=q.setTimeout(this.monitorBufferTick_.bind(this),d2e)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:Lu({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,i=this.partIndex){if(!n||!this.mediaSource_)return!1;const r=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,o=!r||!r.parts||i+1===r.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&o}chooseNextRequest_(){const e=this.buffered_(),n=VS(e)||0,i=_P(e,this.currentTime_()),r=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||r||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=u2e(this.currentTimeline_,o,n),this.logger_("choose next request. Can not find sync point. Fallback to media Index: ".concat(a.mediaIndex));else if(this.mediaIndex!==null){const h=o[this.mediaIndex],m=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:n,h.parts&&h.parts[m+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=m+1):a.mediaIndex=this.mediaIndex+1}else{let h,m,b;const g=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_("chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ".concat(g,".\nCurrentTime: ").concat(this.currentTime_(),"\nBufferedEnd: ").concat(n,"\nFetch At Buffer: ").concat(this.fetchAtBuffer_,"\n"),this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const w=this.getSyncInfoFromMediaSequenceSync_(g);if(!w){const y="No sync info found while using media sequence sync";return this.error({message:y,metadata:{errorType:Q.Error.StreamingFailedToSelectNextSegment,error:new Error(y)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_("chooseNextRequest_ mediaSequence syncInfo (".concat(w.start," --> ").concat(w.end,")")),h=w.segmentIndex,m=w.partIndex,b=w.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const w=Sr.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:g,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=w.segmentIndex,m=w.partIndex,b=w.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(g):"currentTime ".concat(g),a.mediaIndex=h,a.startOfSegment=b,a.partIndex=m,this.logger_("choose next request. Playlist switched and we have a sync point. Media Index: ".concat(a.mediaIndex," "))}const l=o[a.mediaIndex];let c=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!c)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,c=l.parts[0]);const u=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&c&&!u&&!c.independent)if(a.partIndex===0){const h=o[a.mediaIndex-1],m=h.parts&&h.parts.length&&h.parts[h.parts.length-1];m&&m.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_("getSyncInfoFromMediaSequenceSync_. Pulled target time from ".concat(e," to ").concat(n));const i=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!i)return null;if(!i.isAppended)return i;const r=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return r?(r.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),r):null}generateSegmentInfo_(e){const{independent:n,playlist:i,mediaIndex:r,startOfSegment:s,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:c}=e,u=i.segments[r],d=typeof a=="number"&&u.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||u.resolvedUri,mediaIndex:r,partIndex:d?a:null,isSyncRequest:o,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:d&&d.duration||u.duration,segment:u,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:c,independent:n},m=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:m});const b=VS(this.sourceUpdater_.audioBuffered());return typeof b=="number"&&(h.audioAppendStart=b-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=o2e(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return p2e(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,s=Sr.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),o=MSe(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=o)return;const a=Xke({main:this.vhs_.playlists.main,currentTime:n,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const c=s-o-a.rebufferingImpact;let u=.5;o<=jo&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||c<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*ti.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_("Aborting ".concat(wh(e))),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:i,hasVideo:r}=n,s={segmentInfo:Lu({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:r}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},c2e(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hl(this))))}handleTimingInfo_(e,n,i,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,o=NN(n);s[o]=s[o]||{},s[o][i]=r,this.logger_("timinginfo: ".concat(n," - ").concat(i," - ").concat(r)),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Hl(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(o=>{s[o.stream]=s[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=s[o.stream];a.startTime=Math.min(a.startTime,o.startTime+r),a.endTime=Math.max(a.endTime,o.endTime+r),a.captions.push(o)}),Object.keys(s).forEach(o=>{const{startTime:a,endTime:l,captions:c}=s[o],u=this.inbandTextTracks_;this.logger_("adding cues from ".concat(a," -> ").concat(l," for ").concat(o)),Zke(u,this.vhs_.tech_,o),dg(a,l,u[o]),Jke({captionArray:c,inbandTextTracks:u,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,i));return}this.addMetadataToTextTrack(i,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!IC({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:i,hasVideo:r,isMuxed:s}=n;return!(r&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||IC({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Hl(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[NN(n.type)].start;else{const r=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo;let o;s&&(o=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:o,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,n.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==i.mediaIndex||r.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:i,playlist:r}){if(i){const s=iw(i);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i},r){const s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Hu(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Hu(o).join(", "));const a=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,c=o.length?o.start(0):0,u=o.length?o.end(o.length-1):0;if(l-a<=qm&&u-c<=qm){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+"Appended byte length: ".concat(i.byteLength,", ")+"audio buffer: ".concat(Hu(s).join(", "),", ")+"video buffer: ".concat(Hu(o).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:i}));const h=this.currentTime_()-qm;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ".concat(h)),this.remove(0,h,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in ".concat(qm,"s")),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=q.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},qm*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:i},r){if(r){if(r.code===cq){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error({message:"".concat(n," append of ").concat(i.length,"b failed for segment ")+"#".concat(e.mediaIndex," in playlist ").concat(e.playlist.id),metadata:{errorType:Q.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r,bytes:s}){if(!s){const a=[r];let l=r.byteLength;i&&(a.unshift(i),l+=i.byteLength),s=Qke({bytes:l,segments:a})}const o={segmentInfo:Lu({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,i){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,s="".concat(e,"TimingInfo");r[s]||(r[s]={}),r[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,r[s].transmuxedPresentationStart=i.start.presentation,r[s].transmuxedDecodeStart=i.start.decode,r[s].transmuxedPresentationEnd=i.end.presentation,r[s].transmuxedDecodeEnd=i.end.decode,r[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,n){const{type:i,data:r}=n;if(!r||!r.byteLength||i==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:r})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Hl(this),this.loadQueue_.push(()=>{const n=ft({},e,{forceTimestampOffset:!0});ft(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,o=i||r&&s;this.logger_("Requesting\n".concat(Oq(e.uri),"\n").concat(wh(e))),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=zke({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:c})=>{this.logger_("".concat(wh(e)," logged from transmuxer stream ").concat(c," as a ").concat(l,": ").concat(a))},triggerSegmentEventFn:({type:a,segment:l,keyInfo:c,trackInfo:u,timingInfo:d})=>{const m={segmentInfo:Lu({segment:l})};c&&(m.keyInfo=c),u&&(m.trackInfo=u),d&&(m.timingInfo=d),this.trigger({type:a,metadata:m})}})}trimBackBuffer_(e){const n=f2e(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,i=e.part,r=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,o={resolvedUri:i?i.resolvedUri:n.resolvedUri,byterange:i?i.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:r,isMediaInitialization:s},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===n.timeline&&(a.videoTimingInfo?o.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(o.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(n.key),o.key.iv=l}return n.map&&(o.map=this.initSegmentForMap(n.map)),o}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<my){this.logger_("Ignoring segment's bandwidth because its duration of ".concat(e)+" is less than the min to record ".concat(my));return}const i={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,i));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Ho.ABORTED)return;if(this.pause(),e.code===Ho.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),r.endOfAllRequests=n.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=a2e(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:i,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const c=n.segments[i-1];return i===0||!c||typeof c.start>"u"||c.end!==r+s?r:a.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:r,isMuxed:s}=n,o=this.loaderType_==="main"&&r,a=!this.audioDisabled_&&i&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=h2e(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Lu({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=v2e(e,this.sourceType_);if(n&&(n.severity==="warn"?Q.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_("Throwing away un-appended sync request ".concat(wh(e)));return}this.logger_("Appended ".concat(wh(e))),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,r=e.part,s=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,o=r&&r.end&&this.currentTime_()-r.end>e.playlist.partTargetDuration*3;if(s||o){this.logger_("bad ".concat(s?"segment":"part"," ").concat(wh(e))),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<my){this.logger_("Ignoring segment's throughput because its duration of ".concat(e.duration)+" is less than the min to record ".concat(my));return}const n=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,i=n.start,r=n.end;if(!MN(i)||!MN(r))return;dg(i,r,this.segmentMetadataTrack_);const s=q.WebKitDataCue||q.VTTCue,o={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},a=JSON.stringify(o),l=new s(i,r,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}}function ja(){}const Lq=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},y2e=["video","audio"],RC=(t,e)=>{const n=e["".concat(t,"Buffer")];return n&&n.updating||e.queuePending[t]},_2e=(t,e)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="mediaSource")return null;if(i.type===t)return n}return null},Cf=(t,e)=>{if(e.queue.length===0)return;let n=0,i=e.queue[n];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),Cf("audio",e),Cf("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||RC(t,e))){if(i.type!==t){if(n=_2e(t,e.queue),n===null)return;i=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,Cf(t,e);return}}},Mq=(t,e)=>{const n=e["".concat(t,"Buffer")],i=Lq(t);n&&(n.removeEventListener("updateend",e["on".concat(i,"UpdateEnd_")]),n.removeEventListener("error",e["on".concat(i,"Error_")]),e.codecs[t]=null,e["".concat(t,"Buffer")]=null)},No=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,zr={appendBuffer:(t,e,n)=>(i,r)=>{const s=r["".concat(i,"Buffer")];if(No(r.mediaSource,s)){r.logger_("Appending segment ".concat(e.mediaIndex,"'s ").concat(t.length," bytes to ").concat(i,"Buffer"));try{s.appendBuffer(t)}catch(o){r.logger_("Error with code ".concat(o.code," ")+(o.code===cq?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(e.mediaIndex," to ").concat(i,"Buffer")),r.queuePending[i]=null,n(o)}}},remove:(t,e)=>(n,i)=>{const r=i["".concat(n,"Buffer")];if(No(i.mediaSource,r)){i.logger_("Removing ".concat(t," to ").concat(e," from ").concat(n,"Buffer"));try{r.remove(t,e)}catch(s){i.logger_("Remove ".concat(t," to ").concat(e," from ").concat(n,"Buffer failed"))}}},timestampOffset:t=>(e,n)=>{const i=n["".concat(e,"Buffer")];No(n.mediaSource,i)&&(n.logger_("Setting ".concat(e,"timestampOffset to ").concat(t)),i.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_("Calling mediaSource endOfStream(".concat(t||"",")"));try{e.mediaSource.endOfStream(t)}catch(n){Q.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_("Setting mediaSource duration to ".concat(t));try{e.mediaSource.duration=t}catch(n){Q.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e["".concat(t,"Buffer")];if(No(e.mediaSource,n)){e.logger_("calling abort on ".concat(t,"Buffer"));try{n.abort()}catch(i){Q.log.warn("Failed to abort on ".concat(t,"Buffer"),i)}}},addSourceBuffer:(t,e)=>n=>{const i=Lq(t),r=np(e);n.logger_("Adding ".concat(t,"Buffer with codec ").concat(e," to mediaSource"));const s=n.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",n["on".concat(i,"UpdateEnd_")]),s.addEventListener("error",n["on".concat(i,"Error_")]),n.codecs[t]=e,n["".concat(t,"Buffer")]=s},removeSourceBuffer:t=>e=>{const n=e["".concat(t,"Buffer")];if(Mq(t,e),!!No(e.mediaSource,n)){e.logger_("Removing ".concat(t,"Buffer with codec ").concat(e.codecs[t]," from mediaSource"));try{e.mediaSource.removeSourceBuffer(n)}catch(i){Q.log.warn("Failed to removeSourceBuffer ".concat(t,"Buffer"),i)}}},changeType:t=>(e,n)=>{const i=n["".concat(e,"Buffer")],r=np(t);if(!No(n.mediaSource,i))return;const s=t.substring(0,t.indexOf(".")),o=n.codecs[e];if(o.substring(0,o.indexOf("."))===s)return;const l={codecsChangeInfo:{from:o,to:t}};n.trigger({type:"codecschange",metadata:l}),n.logger_("changing ".concat(e,"Buffer codec from ").concat(o," to ").concat(t));try{i.changeType(r),n.codecs[e]=t}catch(c){l.errorType=Q.Error.StreamingCodecsChangeError,l.error=c,c.metadata=l,n.error_=c,n.trigger("error"),Q.log.warn("Failed to changeType on ".concat(e,"Buffer"),c)}}},Hr=({type:t,sourceUpdater:e,action:n,doneFn:i,name:r})=>{e.queue.push({type:t,action:n,doneFn:i,name:r}),Cf(t,e)},UN=(t,e)=>n=>{const i=e["".concat(t,"Buffered")](),r=PSe(i);if(e.logger_('received "updateend" event for '.concat(t," Source Buffer: "),r),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e["".concat(t,"Error_")])}Cf(t,e)};class Nq extends Q.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Cf("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=$s("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=UN("video",this),this.onAudioUpdateEnd_=UN("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Hr({type:"mediaSource",sourceUpdater:this,action:zr.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Hr({type:e,sourceUpdater:this,action:zr.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Q.log.error("removeSourceBuffer is not supported!");return}Hr({type:"mediaSource",sourceUpdater:this,action:zr.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Q.browser.IS_FIREFOX&&q.MediaSource&&q.MediaSource.prototype&&typeof q.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return q.SourceBuffer&&q.SourceBuffer.prototype&&typeof q.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){Q.log.error("changeType is not supported!");return}Hr({type:e,sourceUpdater:this,action:zr.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const i=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,i);this.canChangeType()&&this.changeType(n,i)})}appendBuffer(e,n){const{segmentInfo:i,type:r,bytes:s}=e;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_("delayed audio append of ".concat(s.length," until video append"));return}const o=n;if(Hr({type:r,sourceUpdater:this,action:zr.appendBuffer(s,i||{mediaIndex:-1},o),doneFn:n,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio ".concat(a.length," appendBuffers")),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return No(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:li()}videoBuffered(){return No(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:li()}buffered(){const e=No(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=No(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():LSe(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=ja){Hr({type:"mediaSource",sourceUpdater:this,action:zr.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=ja){typeof e!="string"&&(e=void 0),Hr({type:"mediaSource",sourceUpdater:this,action:zr.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,i=ja){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Hr({type:"audio",sourceUpdater:this,action:zr.remove(e,n),doneFn:i,name:"remove"})}removeVideo(e,n,i=ja){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Hr({type:"video",sourceUpdater:this,action:zr.remove(e,n),doneFn:i,name:"remove"})}updating(){return!!(RC("audio",this)||RC("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Hr({type:"audio",sourceUpdater:this,action:zr.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Hr({type:"video",sourceUpdater:this,action:zr.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Hr({type:"audio",sourceUpdater:this,action:zr.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Hr({type:"video",sourceUpdater:this,action:zr.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),y2e.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this["".concat(e,"QueueCallback")](()=>Mq(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const FN=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),x2e=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},VN=new Uint8Array("\n\n".split("").map(t=>t.charCodeAt(0)));class w2e extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class T2e extends DC{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return li();const e=this.subtitlesTrack_.cues,n=e[0].startTime,i=e[e.length-1].startTime;return li([[n,i]])}initSegmentForMap(e,n=!1){if(!e)return null;const i=iw(e);let r=this.initSegments_[i];if(n&&!r&&e.bytes){const s=VN.byteLength+e.bytes.byteLength,o=new Uint8Array(s);o.set(e.bytes),o.set(VN,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){dg(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Ho.TIMEOUT&&this.handleTimeout_(),e.code===Ho.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const r=this.pendingSegment_,s=i.mp4VttCues&&i.mp4VttCues.length;s&&(r.mp4VttCues=i.mp4VttCues),this.saveBandwidthRelatedStats_(r.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const o=r.segment;if(o.map&&(o.map.bytes=n.map.bytes),r.bytes=n.bytes,typeof q.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}o.requested=!0;try{this.parseVTTCues_(r)}catch(a){this.stopForError({message:a.message,metadata:{errorType:Q.Error.StreamingVttParserError,error:a}});return}if(s||this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,r.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new q.VTTCue(a.startTime,a.endTime,a.text):a)}),s2e(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,n){const i=e&&e.type==="vtt",r=n&&n.type==="text";i&&r&&super.handleData_(e,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(i=>{const r=i.start+n,s=i.end+n,o=new q.VTTCue(r,s,i.cueText);i.settings&&i.settings.split(" ").forEach(a=>{const l=a.split(":"),c=l[0],u=l[1];o[c]=isNaN(u)?u:Number(u)}),e.cues.push(o)})}parseVTTCues_(e){let n,i=!1;if(typeof q.WebVTT!="function")throw new w2e;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof q.TextDecoder=="function"?n=new q.TextDecoder("utf8"):(n=q.WebVTT.StringDecoder(),i=!0);const r=new q.WebVTT.Parser(q,q.vttjs,n);if(r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=o=>{e.timestampmap=o},r.onparsingerror=o=>{Q.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;i&&(o=FN(o)),r.parse(o)}let s=e.bytes;i&&(s=FN(s)),r.parse(s),r.flush()}updateTimeMapping_(e,n,i){const r=e.segment;if(!n)return;if(!e.cues.length){r.empty=!0;return}const{MPEGTS:s,LOCAL:o}=e.timestampmap,l=s/zu.ONE_SECOND_IN_TS-o+n.mapping;if(e.cues.forEach(c=>{const u=c.endTime-c.startTime,d=this.handleRollover_(c.startTime+l,n.time);c.startTime=Math.max(d,0),c.endTime=Math.max(d+u,0)}),!i.syncInfo){const c=e.cues[0].startTime,u=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(c,u-r.duration)}}}handleRollover_(e,n){if(n===null)return e;let i=e*zu.ONE_SECOND_IN_TS;const r=n*zu.ONE_SECOND_IN_TS;let s;for(r<i?s=-8589934592:s=8589934592;Math.abs(i-r)>4294967296;)i+=s;return i/zu.ONE_SECOND_IN_TS}}const E2e=function(t,e){const n=t.cues;for(let i=0;i<n.length;i++){const r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},S2e=function(t,e,n=0){if(!t.segments)return;let i=n,r;for(let s=0;s<t.segments.length;s++){const o=t.segments[s];if(r||(r=E2e(e,i+o.duration/2)),r){if("cueIn"in o){r.endTime=i,r.adEndTime=i,i+=o.duration,r=null;continue}if(i<r.endTime){i+=o.duration;continue}r.endTime+=o.duration}else if("cueOut"in o&&(r=new q.VTTCue(i,i+o.duration,o.cueOut),r.adStartTime=i,r.adEndTime=i+parseFloat(o.cueOut),e.addCue(r)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);r=new q.VTTCue(i,i+o.duration,""),r.adStartTime=i-a,r.adEndTime=r.adStartTime+l,e.addCue(r)}i+=o.duration}};class $N{constructor({start:e,end:n,segmentIndex:i,partIndex:r=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=i,this.partIndex_=r,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class k2e{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class Bq{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:i,segments:r}=e;if(this.isReliable_=this.isReliablePlaylist_(i,r),!!this.isReliable_)return this.updateStorage_(r,i,this.calculateBaseTime_(i,r,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const r of i)if(r.isInRange(e))return r}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,i){const r=new Map;let s="\n",o=i,a=n;this.start_=o,e.forEach((l,c)=>{const u=this.storage_.get(a),d=o,h=d+l.duration,m=!!(u&&u.segmentSyncInfo&&u.segmentSyncInfo.isAppended),b=new $N({start:d,end:h,appended:m,segmentIndex:c});l.syncInfo=b;let g=o;const w=(l.parts||[]).map((y,T)=>{const k=g,D=g+y.duration,P=!!(u&&u.partsSyncInfo&&u.partsSyncInfo[T]&&u.partsSyncInfo[T].isAppended),B=new $N({start:k,end:D,appended:P,segmentIndex:c,partIndex:T});return g=D,s+="Media Sequence: ".concat(a,".").concat(T," | Range: ").concat(k," --> ").concat(D," | Appended: ").concat(P,"\n"),y.syncInfo=B,B});r.set(a,new k2e(b,w)),s+="".concat(Oq(l.resolvedUri)," | Media Sequence: ").concat(a," | Range: ").concat(d," --> ").concat(h," | Appended: ").concat(m,"\n"),a++,o=h}),this.end_=o,this.storage_=r,this.diagnostics_=s}calculateBaseTime_(e,n,i){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const r=Math.min(...this.storage_.keys());if(e<r){const s=r-e;let o=this.storage_.get(r).segmentSyncInfo.start;for(let a=0;a<s;a++){const l=n[a];o-=l.duration}return o}return i}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class jN extends Bq{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n,i){if(!this.storage_.size){const r=this.parent_.getSyncInfoForMediaSequence(e);return r?r.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n,i)}}const C2e=86400,zS=[{name:"VOD",run:(t,e,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,i,r,s)=>{const o=t.getMediaSequenceSync(s);if(!o||!o.isReliable)return null;const a=o.getSyncInfoForTime(r);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,i,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,o=null;const a=xC(e);r=r||0;for(let l=0;l<a.length;l++){const c=e.endList||r===0?l:a.length-(l+1),u=a[c],d=u.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!h||!d.dateTimeObject)continue;let b=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&typeof u.partIndex=="number")for(let w=0;w<u.partIndex;w++)b+=d.parts[w].duration;const g=Math.abs(r-b);if(o!==null&&(g===0||o<g))break;o=g,s={time:b,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}return s}},{name:"Segment",run:(t,e,n,i,r)=>{let s=null,o=null;r=r||0;const a=xC(e);for(let l=0;l<a.length;l++){const c=e.endList||r===0?l:a.length-(l+1),u=a[c],d=u.segment,h=u.part&&u.part.start||d&&d.start;if(d.timeline===i&&typeof h<"u"){const m=Math.abs(r-h);if(o!==null&&o<m)break;(!s||o===null||o>=m)&&(o=m,s={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,i,r)=>{let s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],c=e.discontinuitySequence+a+1,u=t.discontinuities[c];if(u){const d=Math.abs(r-u.time);if(o!==null&&o<d)break;(!s||o===null||o>=d)&&(o=d,s={time:u.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,i,r)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class A2e extends Q.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new Bq,i=new jN(n),r=new jN(n);this.mediaSequenceStorage_={main:n,audio:i,vtt:r},this.logger_=$s("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,i,r,s){if(n!==1/0)return zS.find(({name:l})=>l==="VOD").run(this,e,n);const o=this.runStrategies_(e,n,i,r,s);if(!o.length)return null;for(const a of o){const{syncPoint:l,strategy:c}=a,{segmentIndex:u,time:d}=l;if(u<0)continue;const h=e.segments[u],m=d,b=m+h.duration;if(this.logger_("Strategy: ".concat(c,". Current time: ").concat(r,". selected segment: ").concat(u,". Time: [").concat(m," -> ").concat(b,"]}")),r>=m&&r<b)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(o,{key:"time",value:r})}getExpiredTime(e,n){if(!e||!e.segments)return null;const i=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!i.length)return null;const r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+Kg({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(e,n,i,r,s){const o=[];for(let a=0;a<zS.length;a++){const l=zS[a],c=l.run(this,e,n,i,r,s);c&&(c.strategy=l.name,o.push({strategy:l.name,syncPoint:c}))}return o}selectSyncPoint_(e,n){let i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[n.key]-n.value);a<r&&(r=a,i=e[o].syncPoint,s=e[o].strategy)}return this.logger_("syncPoint for [".concat(n.key,": ").concat(n.value,"] chosen with strategy")+" [".concat(s,"]: [time:").concat(i.time,",")+" segmentIndex:".concat(i.segmentIndex)+(typeof i.partIndex=="number"?",partIndex:".concat(i.partIndex):"")+"]"),i}saveExpiredSegmentInfo(e,n){const i=n.mediaSequence-e.mediaSequence;if(i>C2e){Q.log.warn("Not saving expired segment info. Media sequence gap ".concat(i," is too large."));return}for(let r=i-1;r>=0;r--){const s=e.segments[r];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+r,time:s.start},this.logger_("playlist refresh sync: [time:".concat(n.syncInfo.time,",")+" mediaSequence: ".concat(n.syncInfo.mediaSequence,"]")),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],i=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),r=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));const s=r.dateTimeObject;r.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[r.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,i){const r=e.segment,s=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-n.start},i&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline ".concat(e.timeline,": ")+"[time: ".concat(o.time,"] [mapping: ").concat(o.mapping,"]"))),a=e.startOfSegment,l=n.end+o.mapping;else if(o)a=n.start+o.mapping,l=n.end+o.mapping;else return!1;return s&&(s.start=a,s.end=l),(!r.start||a<r.start)&&(r.start=a),r.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let r=0;r<n.discontinuityStarts.length;r++){const s=n.discontinuityStarts[r],o=n.discontinuitySequence+r+1,a=s-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let c;a<0?c=i.start-Kg({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):c=i.end+Kg({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:c,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class I2e extends Q.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:i}){if(typeof n=="number"&&typeof i=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e];const r={timelineChangeInfo:{from:n,to:i}};this.trigger({type:"timelinechange",metadata:r})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const D2e=xq(wq(function(){var t=function(){function g(){this.listeners={}}var w=g.prototype;return w.on=function(T,k){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push(k)},w.off=function(T,k){if(!this.listeners[T])return!1;var D=this.listeners[T].indexOf(k);return this.listeners[T]=this.listeners[T].slice(0),this.listeners[T].splice(D,1),D>-1},w.trigger=function(T){var k=this.listeners[T];if(k)if(arguments.length===2)for(var D=k.length,P=0;P<D;++P)k[P].call(this,arguments[1]);else for(var B=Array.prototype.slice.call(arguments,1),O=k.length,A=0;A<O;++A)k[A].apply(this,B)},w.dispose=function(){this.listeners={}},w.pipe=function(T){this.on("data",function(k){T.push(k)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const g=[[[],[],[],[],[]],[[],[],[],[],[]]],w=g[0],y=g[1],T=w[4],k=y[4];let D,P,B;const O=[],A=[];let R,L,U,V,M,ae;for(D=0;D<256;D++)A[(O[D]=D<<1^(D>>7)*283)^D]=D;for(P=B=0;!T[P];P^=R||1,B=A[B]||1)for(V=B^B<<1^B<<2^B<<3^B<<4,V=V>>8^V&255^99,T[P]=V,k[V]=P,U=O[L=O[R=O[P]]],ae=U*16843009^L*65537^R*257^P*16843008,M=O[V]*257^V*16843008,D=0;D<4;D++)w[D][P]=M=M<<24^M>>>8,y[D][V]=ae=ae<<24^ae>>>8;for(D=0;D<5;D++)w[D]=w[D].slice(0),y[D]=y[D].slice(0);return g};let i=null;class r{constructor(w){i||(i=n()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let y,T,k;const D=this._tables[0][4],P=this._tables[1],B=w.length;let O=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");const A=w.slice(0),R=[];for(this._key=[A,R],y=B;y<4*B+28;y++)k=A[y-1],(y%B===0||B===8&&y%B===4)&&(k=D[k>>>24]<<24^D[k>>16&255]<<16^D[k>>8&255]<<8^D[k&255],y%B===0&&(k=k<<8^k>>>24^O<<24,O=O<<1^(O>>7)*283)),A[y]=A[y-B]^k;for(T=0;y;T++,y--)k=A[T&3?y:y-4],y<=4||T<4?R[T]=k:R[T]=P[0][D[k>>>24]]^P[1][D[k>>16&255]]^P[2][D[k>>8&255]]^P[3][D[k&255]]}decrypt(w,y,T,k,D,P){const B=this._key[1];let O=w^B[0],A=k^B[1],R=T^B[2],L=y^B[3],U,V,M;const ae=B.length/4-2;let he,K=4;const fe=this._tables[1],ee=fe[0],ne=fe[1],Y=fe[2],pe=fe[3],ge=fe[4];for(he=0;he<ae;he++)U=ee[O>>>24]^ne[A>>16&255]^Y[R>>8&255]^pe[L&255]^B[K],V=ee[A>>>24]^ne[R>>16&255]^Y[L>>8&255]^pe[O&255]^B[K+1],M=ee[R>>>24]^ne[L>>16&255]^Y[O>>8&255]^pe[A&255]^B[K+2],L=ee[L>>>24]^ne[O>>16&255]^Y[A>>8&255]^pe[R&255]^B[K+3],K+=4,O=U,A=V,R=M;for(he=0;he<4;he++)D[(3&-he)+P]=ge[O>>>24]<<24^ge[A>>16&255]<<16^ge[R>>8&255]<<8^ge[L&255]^B[K++],U=O,O=A,A=R,R=L,L=U}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(w){this.jobs.push(w),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},a=function(g,w,y){const T=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),k=new r(Array.prototype.slice.call(w)),D=new Uint8Array(g.byteLength),P=new Int32Array(D.buffer);let B,O,A,R,L,U,V,M,ae;for(B=y[0],O=y[1],A=y[2],R=y[3],ae=0;ae<T.length;ae+=4)L=o(T[ae]),U=o(T[ae+1]),V=o(T[ae+2]),M=o(T[ae+3]),k.decrypt(L,U,V,M,P,ae),P[ae]=o(P[ae]^B),P[ae+1]=o(P[ae+1]^O),P[ae+2]=o(P[ae+2]^A),P[ae+3]=o(P[ae+3]^R),B=L,O=U,A=V,R=M;return D};class l{constructor(w,y,T,k){const D=l.STEP,P=new Int32Array(w.buffer),B=new Uint8Array(w.byteLength);let O=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(P.subarray(O,O+D),y,T,B)),O=D;O<P.length;O+=D)T=new Uint32Array([o(P[O-4]),o(P[O-3]),o(P[O-2]),o(P[O-1])]),this.asyncStream_.push(this.decryptChunk_(P.subarray(O,O+D),y,T,B));this.asyncStream_.push(function(){k(null,e(B))})}static get STEP(){return 32e3}decryptChunk_(w,y,T,k){return function(){const D=a(w,y,T);k.set(D,w.byteOffset)}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u;typeof window<"u"?u=window:typeof c<"u"?u=c:typeof self<"u"?u=self:u={};var d=u,h=function(w){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(w):w&&w.buffer instanceof ArrayBuffer},m=d.BigInt||Number;m("0x1"),m("0x100"),m("0x10000"),m("0x1000000"),m("0x100000000"),m("0x10000000000"),m("0x1000000000000"),m("0x100000000000000"),m("0x10000000000000000"),function(){var g=new Uint16Array([65484]),w=new Uint8Array(g.buffer,g.byteOffset,g.byteLength);return w[0]===255?"big":w[0]===204?"little":"unknown"}();const b=function(g){const w={};return Object.keys(g).forEach(y=>{const T=g[y];h(T)?w[y]={bytes:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength}:w[y]=T}),w};self.onmessage=function(g){const w=g.data,y=new Uint8Array(w.encrypted.bytes,w.encrypted.byteOffset,w.encrypted.byteLength),T=new Uint32Array(w.key.bytes,w.key.byteOffset,w.key.byteLength/4),k=new Uint32Array(w.iv.bytes,w.iv.byteOffset,w.iv.byteLength/4);new l(y,T,k,function(D,P){self.postMessage(b({source:w.source,decrypted:P}),[P.buffer])})}}));var R2e=_q(D2e);const P2e=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Uq=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},PC=(t,e)=>{e.activePlaylistLoader=t,t.load()},O2e=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:r}}=e,s=r.activeTrack(),o=r.getActiveGroup(),a=r.activePlaylistLoader,l=r.lastGroup_;if(!(o&&l&&o.id===l.id)&&(r.lastGroup_=o,r.lastTrack_=s,Uq(n,r),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&i.resetEverything();return}n.resyncLoader(),PC(o.playlistLoader,r)}},L2e=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,n.abort(),n.pause()},M2e=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:i,main:r},mediaTypes:{[t]:s}}=e,o=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastTrack_;if(!(c&&o&&c.id===o.id)&&(s.lastGroup_=a,s.lastTrack_=o,Uq(i,s),!!a)){if(a.isMainPlaylist){if(!o||!c||o.id===c.id)return;const u=e.vhs.playlistController_,d=u.selectPlaylist();if(u.media()===d)return;s.logger_("track change. Switching main audio from ".concat(c.id," to ").concat(o.id)),n.pause(),r.resetEverything(),u.fastQualityChange_(d);return}if(t==="AUDIO"){if(!a.playlistLoader){r.setAudio(!0),r.resetEverything();return}i.setAudio(!0),r.setAudio(!1)}if(l===a.playlistLoader){PC(a.playlistLoader,s);return}i.track&&i.track(o),i.resetEverything(),PC(a.playlistLoader,s)}},ow={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:i}=e,r=n.activeTrack(),s=n.activeGroup(),o=(s.filter(l=>l.default)[0]||s[0]).id,a=n.tracks[o];if(r===a){i({error:{message:"Problem encountered loading the default audio track."}});return}Q.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===a;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;Q.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},zN={AUDIO:(t,e,n)=>{if(!e)return;const{tech:i,requestOptions:r,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,r),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",ow[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[t]:s},mediaTypes:{[t]:o}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,r),s.track(o.activeTrack()),(!i.paused()||a.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",ow[t](t,n))}},N2e={AUDIO:(t,e)=>{const{vhs:n,sourceType:i,segmentLoaders:{[t]:r},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:c}},mainPlaylistLoader:u}=e,d=rv(u.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},d&&(o[t].main.default.playlists=u.main.playlists));for(const h in o[t]){a[h]||(a[h]=[]);for(const m in o[t][h]){let b=o[t][h][m],g;if(d?(c("AUDIO group '".concat(h,"' label '").concat(m,"' is a main playlist")),b.isMainPlaylist=!0,g=null):i==="vhs-json"&&b.playlists?g=new Xh(b.playlists[0],n,s):b.resolvedUri?g=new Xh(b.resolvedUri,n,s):b.playlists&&i==="dash"?g=new CC(b.playlists[0],n,s,u):g=null,b=_t({id:m,playlistLoader:g},b),zN[t](t,b.playlistLoader,e),a[h].push(b),typeof l[m]>"u"){const w=new Q.AudioTrack({id:m,kind:P2e(b),enabled:!1,language:b.language,default:b.default,label:m});l[m]=w}}}r.on("error",ow[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[t]:s},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:c}},mainPlaylistLoader:u}=e;for(const d in a[t]){l[d]||(l[d]=[]);for(const h in a[t][d]){if(!i.options_.useForcedSubtitles&&a[t][d][h].forced)continue;let m=a[t][d][h],b;if(r==="hls")b=new Xh(m.resolvedUri,i,o);else if(r==="dash"){if(!m.playlists.filter(w=>w.excludeUntil!==1/0).length)return;b=new CC(m.playlists[0],i,o,u)}else r==="vhs-json"&&(b=new Xh(m.playlists?m.playlists[0]:m.resolvedUri,i,o));if(m=_t({id:h,playlistLoader:b},m),zN[t](t,m.playlistLoader,e),l[d].push(m),typeof c[h]>"u"){const g=n.addRemoteTextTrack({id:h,kind:"subtitles",default:m.default&&m.autoselect,language:m.language,label:h},!1).track;c[h]=g}}}s.on("error",ow[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[t]:{groups:r,tracks:s}}}=e;for(const o in i[t]){r[o]||(r[o]=[]);for(const a in i[t][o]){const l=i[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const c=n.options_.vhs&&n.options_.vhs.captionServices||{};let u={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[u.instreamId]&&(u=_t(u,c[u.instreamId])),u.default===void 0&&delete u.default,r[o].push(_t({id:a},l)),typeof s[a]>"u"){const d=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default,language:u.language,label:u.label},!1).track;s[a]=d}}}}},Fq=(t,e)=>{for(let n=0;n<t.length;n++)if(TP(e,t[n])||t[n].playlists&&Fq(t[n].playlists,e))return!0;return!1},B2e=(t,e)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:r}}}=e,s=i.media();if(!s)return null;let o=null;s.attributes[t]&&(o=r[s.attributes[t]]);const a=Object.keys(r);if(!o)if(t==="AUDIO"&&a.length>1&&rv(e.main))for(let l=0;l<a.length;l++){const c=r[a[l]];if(Fq(c,s)){o=c;break}}else r.main?o=r.main:a.length===1&&(o=r[a[0]]);return typeof n>"u"?o:n===null||!o?null:o.filter(l=>l.id===n.id)[0]||null},U2e={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].enabled)return n[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}},F2e=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},V2e=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(c=>{N2e[c](c,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{["AUDIO"]:s,main:o}}=t;["AUDIO","SUBTITLES"].forEach(c=>{e[c].activeGroup=B2e(c,t),e[c].activeTrack=U2e[c](c,t),e[c].onGroupChanged=O2e(c,t),e[c].onGroupChanging=L2e(c,t),e[c].onTrackChanged=M2e(c,t),e[c].getActiveGroup=F2e(c,t)});const a=e.AUDIO.activeGroup();if(a){const c=(a.filter(d=>d.default)[0]||a[0]).id;e.AUDIO.tracks[c].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const c in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[c])},$2e=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ja,activeTrack:ja,getActiveGroup:ja,onGroupChanged:ja,onTrackChanged:ja,lastTrack_:null,logger_:$s("MediaGroups[".concat(e,"]"))}}),t};class HN{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Tr(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class j2e extends Q.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new HN,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=$s("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const i=n.serverUri||n.serverURL;if(!i){this.logger_("steering manifest URL is ".concat(i,", cannot request steering manifest.")),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=Tr(e,i),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const i=e?n:this.getRequestURI(n);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const r={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:r}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(s,o)=>{if(s){if(o.status===410){this.logger_("manifest request 410 ".concat(s,".")),this.logger_("There will be no more content steering requests to ".concat(i," this session.")),this.excludedSteeringManifestURLs.add(i);return}if(o.status===429){const c=o.responseHeaders["retry-after"];this.logger_("manifest request 429 ".concat(s,".")),this.logger_("content steering will retry in ".concat(c," seconds.")),this.startTTLTimeout_(parseInt(c,10));return}this.logger_("manifest failed to load ".concat(s,".")),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:r});let a;try{a=JSON.parse(this.request_.responseText)}catch(c){const u={errorType:Q.Error.StreamingContentSteeringParserError,error:c};this.trigger({type:"error",metadata:u})}this.assignSteeringProperties_(a);const l={contentSteeringInfo:r.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new q.URL(e),i=new q.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const n=JSON.parse(q.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new q.URL(e),i=this.getPathway(),r=this.getBandwidth_();if(i){const s="_".concat(this.manifestType_,"_pathway");n.searchParams.set(s,i)}if(r){const s="_".concat(this.manifestType_,"_throughput");n.searchParams.set(s,r)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_("manifest version is ".concat(e.VERSION,", which is not supported.")),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(r=>{for(const s of r)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=r=>this.excludedSteeringManifestURLs.has(r);if(this.proxyServerUrl_){const r=this.setProxyServerUrl_(e);if(!n(r))return r}const i=this.setSteeringParams_(e);return n(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=q.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){q.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new HN}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(Tr(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const z2e=(t,e)=>{let n=null;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(null,i)},e)}},H2e=10;let ql;const q2e=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],G2e=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},W2e=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:o,bufferBasedABR:a,log:l}){if(!i)return Q.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c="allowing switch ".concat(t&&t.id||"null"," -> ").concat(i.id);if(!t)return l("".concat(c," as current playlist is not set")),!0;if(i.id===t.id)return!1;const u=!!Yh(e,n).length;if(!t.endList)return!u&&typeof t.partTargetDuration=="number"?(l("not ".concat(c," as current playlist is live llhls, but currentTime isn't in buffered.")),!1):(l("".concat(c," as current playlist is live")),!0);const d=_P(e,n),h=a?ti.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ti.MAX_BUFFER_LOW_WATER_LINE;if(o<h)return l("".concat(c," as duration < max low water line (").concat(o," < ").concat(h,")")),!0;const m=i.attributes.BANDWIDTH,b=t.attributes.BANDWIDTH;if(m<b&&(!a||d<s)){let g="".concat(c," as next bandwidth < current bandwidth (").concat(m," < ").concat(b,")");return a&&(g+=" and forwardBuffer < bufferHighWaterLine (".concat(d," < ").concat(s,")")),l(g),!0}if((!a||m>b)&&d>=r){let g="".concat(c," as forwardBuffer >= bufferLowWaterLine (").concat(d," >= ").concat(r,")");return a&&(g+=" and next bandwidth > current bandwidth (".concat(m," > ").concat(b,")")),l(g),!0}return l("not ".concat(c," as no switching criteria met")),!1};class Y2e extends Q.EventTarget{constructor(e){super(),this.fastQualityChange_=z2e(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:i,tech:r,bandwidth:s,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:c,sourceType:u,cacheEncryptionKeys:d,bufferBasedABR:h,leastPixelDiffSelector:m,captionServices:b,experimentalUseMMS:g}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:w}=e;(w===null||typeof w>"u")&&(w=1/0),ql=o,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!m,this.withCredentials=i,this.tech_=r,this.vhs_=r.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=w,this.enableLowInitialPlaylist=c,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:w,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=$2e(),g&&q.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new q.ManagedMediaSource,this.usingManagedMediaSource_=!0,Q.log("Using ManagedMediaSource")):q.MediaSource&&(this.mediaSource=new q.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=li(),this.hasPlayed_=!1,this.syncController_=new A2e(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new R2e,this.sourceUpdater_=new Nq(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new I2e,this.keyStatusMap_=new Map;const y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:b,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new CC(n,this.vhs_,_t(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Xh(n,this.vhs_,_t(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new DC(_t(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new DC(_t(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new T2e(_t(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((D,P)=>{function B(){r.off("vttjserror",O),D()}function O(){r.off("vttjsloaded",B),P()}r.one("vttjsloaded",B),r.one("vttjserror",O),r.addWebVttScript_()})}),e);const T=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new j2e(this.vhs_.xhr,T),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),q2e.forEach(D=>{this[D+"_"]=G2e.bind(this,D)}),this.logger_=$s("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const k=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(k,()=>{const D=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-D,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,i){const r=this.media(),s=r&&(r.id||r.uri),o=e&&(e.id||e.uri);if(s&&s!==o){this.logger_("switch media ".concat(s," -> ").concat(o," from ").concat(n));const a={renditionInfo:{id:o,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-".concat(n)})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],i=n?n.activeGroup():null,r=this.contentSteeringController_.getPathway();if(i&&r){const o=(i.length?i[0].playlists:i.playlists).filter(a=>a.attributes.serviceLocation===r);o.length&&this.mediaTypes_[e].activePlaylistLoader.media(o[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=q.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(q.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const i=e.mediaGroups.AUDIO,r=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const a=i.main||r.length&&i[r[0]];for(const l in a)if(a[l].default){s={label:l};break}}if(!s)return n;const o=[];for(const a in i)if(i[a][s.label]){const l=i[a][s.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let c=0;c<e.playlists.length;c++){const u=e.playlists[c];u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a&&o.push(u)}}return o.length?o:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),i=n.targetDuration*1.5*1e3;wC(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),V2e({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),i=n.targetDuration*1.5*1e3;wC(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,i=>{this.player_.trigger(ft({},i))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const i=e.mediaGroups||{};let r=!0;const s=Object.keys(i.AUDIO);for(const o in i.AUDIO)for(const a in i.AUDIO[o])i.AUDIO[o][a].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ql.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),o=this.tech_.buffered();return W2e({buffered:o,currentTime:i,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const i=this.audioSegmentLoader_.pendingSegment_;if(!i||!i.segment||!i.segment.syncInfo)return;const r=i.segment.syncInfo.end+.01;this.tech_.setCurrentTime(r)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:H2e}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(i=>{this.mainSegmentLoader_.on(i,r=>{this.player_.trigger(ft({},r))}),this.audioSegmentLoader_.on(i,r=>{this.player_.trigger(ft({},r))}),this.subtitleSegmentLoader_.on(i,r=>{this.player_.trigger(ft({},r))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const i=n.end(0);let r=i;if(e.start){const s=e.start.timeOffset;s<0?r=Math.max(i+s,n.start(0)):r=Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const r=ql.Playlist.playlistEnd(e,i),s=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return r-s<=zo;const a=o.end(o.length-1);return a-s<=zo&&r-a<=zo}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,s=r.filter(kT),o=s.length===1&&s[0]===e;if(r.length===1&&i!==1/0)return Q.log.warn("Problem encountered with playlist ".concat(e.id,". ")+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const b=this.pathwayAttribute_(e),g=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(b),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(b)},g);return}let m=!1;r.forEach(b=>{if(b===e)return;const g=b.excludeUntil;typeof g<"u"&&g!==1/0&&(m=!0,delete b.excludeUntil)}),m&&(Q.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+i*1e3,e.excludeUntil=a,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const c=n.internal?this.logger_:Q.log.warn,u=n.message?" "+n.message:"";c("".concat(n.internal?"Internal problem":"Problem"," encountered with playlist ").concat(e.id,".")+"".concat(u," Switching to playlist ").concat(l.id,".")),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",o||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const i=[],r=e==="all";(r||e==="main")&&i.push(this.mainPlaylistLoader_);const s=[];(r||e==="audio")&&s.push("AUDIO"),(r||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&i.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this["".concat(o,"SegmentLoader_")];a&&(e===o||e==="all")&&i.push(a)}),i.forEach(o=>n.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const n=Yh(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ql.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,n){const i=e.media();if(!i)return null;const r=this.syncController_.getMediaSequenceSync(n);if(r&&r.isReliable){const a=r.start,l=r.end;if(!isFinite(a)||!isFinite(l))return null;const c=ql.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i),u=Math.max(0,l-c);return u<a?null:li([[a,u]])}const s=this.syncController_.getExpiredTime(i,this.duration());if(s===null)return null;const o=ql.Playlist.seekable(i,s,ql.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i));return o.length?o:null}computeFinalSeekable_(e,n){if(!n)return e;const i=e.start(0),r=e.end(0),s=n.start(0),o=n.end(0);return s>r||i>o?e:li([[Math.max(i,s),Math.min(r,o)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const i=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,n),!this.seekable_||i&&i.length&&this.seekable_.length&&i.start(0)===this.seekable_.start(0)&&i.end(0)===this.seekable_.end(0))return;this.logger_("seekable updated [".concat(KH(this.seekable_),"]"));const r={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:r}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const n=this.tech_.buffered();let i=ql.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const i in n)n[i].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=Qg(this.main(),n),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(r.video=i.video||e.main.videoCodec||c1e),e.main.isMuxed&&(r.video+=",".concat(i.audio||e.main.audioCodec||SM)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(r.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||SM,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(c,u)=>c?Gg(u,this.usingManagedMediaSource_):kS(u),a={};let l;if(["video","audio"].forEach(function(c){if(r.hasOwnProperty(c)&&!o(e[c].isFmp4,r[c])){const u=e[c].isFmp4?"browser":"muxer";a[u]=a[u]||[],a[u].push(r[c]),c==="audio"&&(l=u)}}),s&&l&&n.attributes.AUDIO){const c=n.attributes.AUDIO;this.main().playlists.forEach(u=>{(u.attributes&&u.attributes.AUDIO)===c&&u!==n&&(u.excludeUntil=1/0)}),this.logger_("excluding audio group ".concat(c," as ").concat(l,' does not support codec(s): "').concat(r.audio,'"'))}if(Object.keys(a).length){const c=Object.keys(a).reduce((u,d)=>(u&&(u+=", "),u+="".concat(d,' does not support codec(s): "').concat(a[d].join(","),'"'),u),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:c},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const c=[];if(["video","audio"].forEach(u=>{const d=(Oo(this.sourceUpdater_.codecs[u]||"")[0]||{}).type,h=(Oo(r[u]||"")[0]||{}).type;d&&h&&d.toLowerCase()!==h.toLowerCase()&&c.push('"'.concat(this.sourceUpdater_.codecs[u],'" -> "').concat(r[u],'"'))}),c.length){this.excludePlaylist({playlistToExclude:n,error:{message:"Codec switching not supported: ".concat(c.join(", "),"."),internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(i=>{const r=e[i];if(n.indexOf(r.id)!==-1)return;n.push(r.id);const s=Qg(this.main,r),o=[];s.audio&&!kS(s.audio)&&!Gg(s.audio,this.usingManagedMediaSource_)&&o.push("audio codec ".concat(s.audio)),s.video&&!kS(s.video)&&!Gg(s.video,this.usingManagedMediaSource_)&&o.push("video codec ".concat(s.video)),s.text&&s.text==="stpp.ttml.im1t"&&o.push("text codec ".concat(s.text)),o.length&&(r.excludeUntil=1/0,this.logger_("excluding ".concat(r.id," for unsupported: ").concat(o.join(", "))))})}excludeIncompatibleVariants_(e){const n=[],i=this.main().playlists,r=rw(Oo(e)),s=RN(r),o=r.video&&Oo(r.video)[0]||null,a=r.audio&&Oo(r.audio)[0]||null;Object.keys(i).forEach(l=>{const c=i[l];if(n.indexOf(c.id)!==-1||c.excludeUntil===1/0)return;n.push(c.id);const u=[],d=Qg(this.mainPlaylistLoader_.main,c),h=RN(d);if(!(!d.audio&&!d.video)){if(h!==s&&u.push('codec count "'.concat(h,'" !== "').concat(s,'"')),!this.sourceUpdater_.canChangeType()){const m=d.video&&Oo(d.video)[0]||null,b=d.audio&&Oo(d.audio)[0]||null;m&&o&&m.type.toLowerCase()!==o.type.toLowerCase()&&u.push('video codec "'.concat(m.type,'" !== "').concat(o.type,'"')),b&&a&&b.type.toLowerCase()!==a.type.toLowerCase()&&u.push('audio codec "'.concat(b.type,'" !== "').concat(a.type,'"'))}u.length&&(c.excludeUntil=1/0,this.logger_("excluding ".concat(c.id,": ").concat(u.join(" && "))))}})}updateAdCues_(e){let n=0;const i=this.seekable();i.length&&(n=i.start(0)),S2e(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=ti.GOAL_BUFFER_LENGTH,i=ti.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,ti.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*i,r)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=ti.BUFFER_LOW_WATER_LINE,i=ti.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,ti.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,ti.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*i,this.bufferBasedABR?s:r)}bufferHighWaterLine(){return ti.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){LN(this.inbandTextTracks_,"com.apple.streaming",this.tech_),r2e({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,i){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();LN(this.inbandTextTracks_,e,this.tech_),t2e({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:r,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,i=>{this.trigger(ft({},i))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),o=[];for(const a of n.playlists){const l=a.attributes.serviceLocation;if(l&&(o.push(l),!s.has(l)))return!0}return!!(!o.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const i=this.main().playlists,r=new Set;let s=!1;Object.keys(i).forEach(o=>{const a=i[o],l=this.pathwayAttribute_(a),c=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!c&&(delete a.excludeUntil,delete a.lastExcludeReason_,s=!0);const d=!a.excludeUntil&&a.excludeUntil!==1/0;!r.has(a.id)&&c&&d&&(r.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_("excluding ".concat(a.id," for ").concat(a.lastExcludeReason_)))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(o=>{const a=this.mediaTypes_[o];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,i=this.contentSteeringController_.currentPathwayClones,r=this.contentSteeringController_.nextPathwayClones;if(i&&i.size||r&&r.size){for(const[o,a]of i.entries())r.get(o)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(o));for(const[o,a]of r.entries()){const l=i.get(o);if(!l){n.filter(u=>u.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(u=>{this.mainPlaylistLoader_.addClonePathway(a,u)}),this.contentSteeringController_.addAvailablePathway(o);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(o))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...r])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const i=e["URI-REPLACEMENT"].PARAMS,r=n["URI-REPLACEMENT"].PARAMS;for(const s in i)if(i[s]!==r[s])return!1;for(const s in r)if(i[s]!==r[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const r=this.mainPlaylistLoader_.getKeyIdSet(i);!r||!r.size||r.forEach(s=>{const o="usable",a=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===o,l=i.lastExcludeReason_===n&&i.excludeUntil===1/0;a?a&&l&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_("enabling playlist ".concat(i.id," because key ID ").concat(s," is ").concat(o))):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==n&&(i.excludeUntil=1/0,i.lastExcludeReason_=n,this.logger_("excluding playlist ".concat(i.id," because the key ID ").concat(s," doesn't exist in the keyStatusMap or is not ").concat(o))),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const r=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,s=i.excludeUntil===1/0&&i.lastExcludeReason_===n;r&&s&&(delete i.excludeUntil,Q.log.warn("enabling non-HD playlist ".concat(i.id," because all playlists were excluded due to ").concat(n," key IDs")))})}addKeyStatus_(e,n){const s=(typeof e=="string"?e:x2e(e)).slice(0,32).toLowerCase();this.logger_("KeyStatus '".concat(n,"' with key ID ").concat(s," added to the keyStatusMap")),this.keyStatusMap_.set(s,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const X2e=(t,e,n)=>i=>{const r=t.main.playlists[e],s=wP(r),o=kT(r);if(typeof i>"u")return o;i?delete r.disabled:r.disabled=!0;const a={renditionInfo:{id:e,bandwidth:r.attributes.BANDWIDTH,resolution:r.attributes.RESOLUTION,codecs:r.attributes.CODECS},cause:"fast-quality"};return i!==o&&!s&&(i?(n(r),t.trigger({type:"renditionenabled",metadata:a})):t.trigger({type:"renditiondisabled",metadata:a})),i};class K2e{constructor(e,n,i){const{playlistController_:r}=e,s=r.fastQualityChange_.bind(r);if(n.attributes){const o=n.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Qg(r.main(),n),this.playlist=n,this.id=i,this.enabled=X2e(e.playlists,n.id,s)}}const Q2e=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=rv(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(i=>!wP(i)).map((i,r)=>new K2e(t,i,i.id)):[]}},qN=["seeking","seeked","pause","playing","error"];class Z2e extends Q.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=$s("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(u=>{l[u]={reset:()=>this.resetSegmentDownloads_(u),updateend:()=>this.checkSegmentDownloads_(u)},o["".concat(u,"SegmentLoader_")].on("appendsdone",l[u].updateend),o["".concat(u,"SegmentLoader_")].on("playlistupdate",l[u].reset),this.tech_.on(["seeked","seeking"],l[u].reset)});const c=u=>{["main","audio"].forEach(d=>{o["".concat(d,"SegmentLoader_")][u]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(qN,s),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(qN,s),this.tech_.off("canplay",i),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(u=>{o["".concat(u,"SegmentLoader_")].off("appendsdone",l[u].updateend),o["".concat(u,"SegmentLoader_")].off("playlistupdate",l[u].reset),this.tech_.off(["seeked","seeking"],l[u].reset)}),this.checkCurrentTimeTimeout_&&q.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=q.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_["".concat(e,"SegmentLoader_")];this["".concat(e,"StalledDownloads_")]>0&&this.logger_("resetting possible stalled download count for ".concat(e," loader")),this["".concat(e,"StalledDownloads_")]=0,this["".concat(e,"Buffered_")]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,i=n["".concat(e,"SegmentLoader_")],r=i.buffered_(),s=NSe(this["".concat(e,"Buffered_")],r);if(this["".concat(e,"Buffered_")]=r,s){const o={bufferedRanges:r};n.trigger({type:"bufferedrangeschanged",metadata:o}),this.resetSegmentDownloads_(e);return}this["".concat(e,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(e,"StalledDownloads_")]," ").concat(e," appends that did not increase buffer (possible stalled download)"),{playlistId:i.playlist_&&i.playlist_.id,buffered:Hu(r)}),!(this["".concat(e,"StalledDownloads_")]<10)&&(this.logger_("".concat(e," loader stalled download exclusion")),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-".concat(e,"-download-exclusion")}),e!=="subtitle"&&n.excludePlaylist({error:{message:"Excessive ".concat(e," segment downloading detected.")},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+zo>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(li([this.lastRecordedTime,e]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),i=this.tech_.currentTime(),r=this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(r&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)){const b=n.start(0);s=b+(b===n.end(0)?0:zo)}if(typeof s<"u")return this.logger_("Trying to seek outside of seekable at time ".concat(i," with ")+"seekable range ".concat(KH(n),". Seeking to ")+"".concat(s,".")),this.tech_.setCurrentTime(s),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,c=o.videoBuffer?o.videoBuffered():null,u=this.media(),d=u.partTargetDuration?u.partTargetDuration:(u.targetDuration-jo)*2,h=[l,c];for(let b=0;b<h.length;b++){if(!h[b])continue;if(_P(h[b],i)<d)return!1}const m=fy(a,i);return m.length===0?!1:(s=m.start(0)+zo,this.logger_("Buffered region starts (".concat(m.start(0),") ")+" just beyond seek point (".concat(i,"). Seeking to ").concat(s,".")),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),i=Yh(n,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at ".concat(e," while inside a buffered region ")+"[".concat(i.start(0)," -> ").concat(i.end(0),"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const a=e.end(e.length-1);return this.logger_("Fell out of live window at time ".concat(n,". Seeking to ")+"live point (seekable end) ".concat(a)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=fy(r,n);return o.length>0?(this.logger_("Stopped at ".concat(n," and seeking to ").concat(o.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,i,r=!1){if(!e.length)return!1;let s=e.end(e.length-1)+zo;const o=!i.endList,a=typeof i.partTargetDuration=="number";return o&&(a||r)&&(s=e.end(e.length-1)+i.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:i}){if(!e)return;let r;if(e.length&&n.length){const s=Yh(e,i-3),o=Yh(e,i),a=Yh(n,i);a.length&&!o.length&&s.length&&(r={start:s.end(0),end:a.end(0)})}else fy(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return r?(this.logger_("Encountered a gap in video from ".concat(r.start," to ").concat(r.end,". ")+"Seeking to current time ".concat(i)),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),i=this.tech_.currentTime(),r=fy(n,i);if(this.resetTimeUpdate_(),r.length===0||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+jo);const s={gapInfo:{from:i,to:r.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const i=OSe(e);for(let r=0;r<i.length;r++){const s=i.start(r),o=i.end(r);if(n-s<4&&n-s>2)return{start:s,end:o}}return null}}const J2e={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},Vq=function(t,e){let n=0,i=0;const r=_t(J2e,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){i&&t.currentTime(i)},o=function(u){u!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(u),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-n<r.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){Q.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),r.getSource.call(t,o)},l=function(){t.off("loadedmetadata",s),t.off("error",a),t.off("dispose",l)},c=function(u){l(),Vq(t,u)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=c},eCe=function(t){Vq(this,t)};var $q="3.16.2",tCe="7.1.0",nCe="1.3.1",iCe="7.2.0",rCe="4.0.2";const tn={PlaylistLoader:Xh,Playlist:Sr,utils:oke,STANDARD_PLAYLIST_SELECTOR:ON,INITIAL_PLAYLIST_SELECTOR:Kke,lastBandwidthSelector:ON,movingAverageBandwidthSelector:Yke,comparePlaylistBandwidth:SP,comparePlaylistResolution:Wke,xhr:fq()};Object.keys(ti).forEach(t=>{Object.defineProperty(tn,t,{get(){return Q.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),ti[t]},set(e){if(Q.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),typeof e!="number"||e<0){Q.log.warn("value of Vhs.".concat(t," must be greater than or equal to 0"));return}ti[t]=e}})});const jq="videojs-vhs",zq=function(t,e){const n=e.media();let i=-1;for(let r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},sCe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),zq(t,e.playlists)};tn.canPlaySource=function(){return Q.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const oCe=(t,e,n)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=rw(Oo(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=np(i.video),s=np(i.audio),o={};for(const a in t)o[a]={},s&&(o[a].audioContentType=s),r&&(o[a].videoContentType=r),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return _t(t,o)},aCe=(t,e)=>t.reduce((n,i)=>{if(!i.contentProtection)return n;const r=e.reduce((s,o)=>{const a=i.contentProtection[o];return a&&a.pssh&&(s[o]={pssh:a.pssh}),s},{});return Object.keys(r).length&&n.push(r),n},[]),lCe=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const r=n?i.concat([n]):i,s=aCe(r,Object.keys(e)),o=[],a=[];return s.forEach(l=>{a.push(new Promise((c,u)=>{t.tech_.one("keysessioncreated",c)})),o.push(new Promise((c,u)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){u(d);return}c()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},cCe=({player:t,sourceKeySystems:e,media:n,audioMedia:i})=>{const r=oCe(e,n,i);return r?(t.currentSource().keySystems=r,r&&!t.eme?(Q.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Hq=()=>{if(!q.localStorage)return null;const t=q.localStorage.getItem(jq);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},uCe=t=>{if(!q.localStorage)return!1;let e=Hq();e=e?_t(e,t):t;try{q.localStorage.setItem(jq,JSON.stringify(e))}catch(n){return!1}return e},dCe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,qq=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},Gq=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Wq=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Yq=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};tn.supportsNativeHls=function(){if(!me||!me.createElement)return!1;const t=me.createElement("video");return Q.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();tn.supportsNativeDash=function(){return!me||!me.createElement||!Q.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(me.createElement("video").canPlayType("application/dash+xml"))}();tn.supportsTypeNatively=t=>t==="hls"?tn.supportsNativeHls:t==="dash"?tn.supportsNativeDash:!1;tn.isSupported=function(){return Q.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};tn.xhr.onRequest=function(t){qq(tn.xhr,t)};tn.xhr.onResponse=function(t){Gq(tn.xhr,t)};tn.xhr.offRequest=function(t){Wq(tn.xhr,t)};tn.xhr.offResponse=function(t){Yq(tn.xhr,t)};const hCe=Q.getComponent("Component");class Xq extends hCe{constructor(e,n,i){if(super(n,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=$s("VhsHandler"),n.options_&&n.options_.playerId){const r=Q.getPlayer(n.options_.playerId);this.player_=r}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(me,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const s=me.fullscreenElement||me.webkitFullscreenElement||me.mozFullScreenElement||me.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=_t(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=Hq();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ti.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ti.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=dCe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=tn,this.options_.sourceType=$j(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new Y2e(this.options_);const i=_t({liveRangeSafeTimeDelta:zo},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Z2e(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Q.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),s.error(o)});const r=this.options_.bufferBasedABR?tn.movingAverageBandwidthSelector(.55):tn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=tn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const o=q.navigator.connection||q.navigator.mozConnection||q.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&s>=a?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(s+o))},set(){Q.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Hu(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Hu(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&uCe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Q2e(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=q.URL.createObjectURL(this.playlistController_.mediaSource),(Q.browser.IS_ANY_SAFARI||Q.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),lCe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=cCe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Q.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{sCe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{zq(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":$q,"mux.js":tCe,"mpd-parser":nCe,"m3u8-parser":iCe,"aes-decrypter":rCe}}version(){return this.constructor.version()}canChangeType(){return Nq.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&q.URL.revokeObjectURL&&(q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return fke({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,i=!0,r=2){return vq({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{qq(this.xhr,e)},this.xhr.onResponse=e=>{Gq(this.xhr,e)},this.xhr.offRequest=e=>{Wq(this.xhr,e)},this.xhr.offResponse=e=>{Yq(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(i=>{this.playlistController_.on(i,r=>{this.player_.trigger(ft({},r))})}),n.forEach(i=>{this.playbackWatcher_.on(i,r=>{this.player_.trigger(ft({},r))})})}}const aw={name:"videojs-http-streaming",VERSION:$q,canHandleSource(t,e={}){const n=_t(Q.options,e);return!n.vhs.experimentalUseMMS&&!Gg("avc1.4d400d,mp4a.40.2",!1)?!1:aw.canPlayType(t.type,n)},handleSource(t,e,n={}){const i=_t(Q.options,n);return e.vhs=new Xq(t,e,i),e.vhs.xhr=fq(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=$j(t);if(!n)return"";const i=aw.getOverrideNative(e);return!tn.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(Q.browser.IS_ANY_SAFARI||Q.browser.IS_IOS),{overrideNative:i=n}=e;return i}},fCe=()=>Gg("avc1.4d400d,mp4a.40.2",!0);fCe()&&Q.getTech("Html5").registerSourceHandler(aw,0);Q.VhsHandler=Xq;Q.VhsSourceHandler=aw;Q.Vhs=tn;Q.use||Q.registerComponent("Vhs",tn);Q.options.vhs=Q.options.vhs||{};(!Q.getPlugin||!Q.getPlugin("reloadSourceOnError"))&&Q.registerPlugin("reloadSourceOnError",eCe);const pCe=t=>{const e=te.useRef(null),n=te.useRef(null),i=()=>{const s=document.createElement("video-js");s.classList.add("vjs-big-play-centered"),e.current.appendChild(s),n.current=Q(s,t,()=>console.log("Player initialized"))},r=()=>{if(!n.current)return;n.current.dispose(),i()};return te.useEffect(()=>{n.current?r():i(),console.log("Options changed")},[t]),N.jsx("div",{"data-vjs-player":!0,className:"player-container",children:N.jsx("div",{ref:e})})},mCe=await Nr(),gCe=t=>{console.log("Initial url: ".concat(t));const e="".concat(mCe.boo.Server,"/helpers/m3u8?url=").concat(encodeURIComponent(t));return console.log(e),e},bCe=async()=>{const{boo:t}=await Nr();return await(await fetch("".concat(t.Server,"/updates"))).json()},vCe=({info:t})=>{const[e,n]=te.useState(),[i,r]=te.useState(),[s,o]=te.useState(),[a,l]=te.useState(),[c,u]=te.useState(),[d,h]=te.useState([]),[m,b]=te.useState(),[g,w]=te.useState(),{user:y}=te.useContext(lu),T=Lw(),[k,D]=te.useState(!1),[P,B]=te.useState(!0),[O,A]=te.useState([]);xb();const[R]=wb(),L=async()=>{const ee=await Nr();if(ee.peek==!1){R({message:"An error occured while loading settings",duration:3e3,position:"top"}),await gj();return}w(ee.boo)},U=async()=>{const ne=await(async()=>t.Type=="anime"&&s?await e_e(s.id):t.Type=="tv"?e&&i?await rM(t.Id,e.SeasonNumber,i):(R({message:"state: season and state: tvEpisode are unavailable",duration:3e3,position:"top"}),await rM(t.Id,1,1)):await m_e(t.Id))();if(ne.peek==!1||typeof ne.boo=="string"){R({message:"Failed to load episode sources. Either change the Server or switch to ads mode (Settings)",duration:3e3,position:"top"});return}l(ne.boo);let Y=[];ne.boo.sources.forEach(ge=>{ge.url!=""&&Y.push({src:gCe(ge.url),type:ge.isM3U8?"application/x-mpegURL":"video/mp4"})}),b({autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:Y})},V=async()=>{const ne=await(async()=>t.Type=="anime"&&s?await n_e(s.id):t.Type=="tv"?e&&i?await sM(t.Id,e.SeasonNumber,i):(R({message:"state: season and state: tvEpisode are unavailable",duration:3e3,position:"top"}),await sM(t.Id,1,1)):await g_e(t.Id))();if(ne.peek==!1||typeof ne.boo=="string"){R({message:"Failed to load episode sources. Either change the Server or switch to ads mode (Settings)",duration:3e3,position:"top"}),R({message:"Server message: ".concat(ne.boo),duration:3e3,position:"top"});return}h(ne.boo),u(ne.boo[2])},M=async()=>{g&&(g.AnimeType=="ad"?(await V(),console.log("Loading embed sources")):(await U(),console.log("Loading streaming sources")))};te.useEffect(()=>{L()},[]),te.useEffect(()=>{(async()=>{if(!y){D(!1),B(!1);return}B(!0);const Y=Ui(hn),pe=Bi(Y,"users",y.uid,"favorites",t.Id),ge=await Xf(pe);D(ge.exists()),B(!1)})(),(async()=>{let Y;if(t.Type==="movie")Y=await l_e(t.Id);else if(t.Type==="tv")Y=await c_e(t.Id);else return;Y.peek&&A(Y.boo)})()},[y,t.Id]);const ae=async()=>{if(!y){T.push("/login?return=/".concat(t.Type,"/").concat(t.Id));return}B(!0);const ee=Ui(hn),ne=Bi(ee,"users",y.uid,"favorites",t.Id);if(k)await P2(ne),D(!1),R({message:"Removed from favorites",duration:2e3,position:"top"});else{const Y={mediaId:t.Id,mediaType:t.Type,title:t.Title,posterUrl:t.Poster,addedAt:Date.now()};await R2(ne,Y),D(!0),R({message:"Added to favorites",duration:2e3,position:"top"})}B(!1)};if(te.useEffect(()=>{M(),L()},[s,i]),!g)return N.jsx(Ms,{children:N.jsx(Ls,{children:N.jsx("h1",{children:"Loading settings . . ."})})});const he=()=>c?N.jsx("div",{children:N.jsx("div",{className:"info-iframe-container",children:N.jsx("iframe",{src:c.url,frameBorder:"0",allowFullScreen:!0,className:"info-iframe"})})}):m&&a?N.jsx(pCe,{...m}):N.jsx("div",{className:"info-img-container",children:N.jsx(_b,{className:"info-img",src:t.Poster})}),K=()=>{var ee,ne;return t.Type=="anime"?N.jsxs(N.Fragment,{children:[g.AnimeType=="ad"?N.jsx(Lo,{"aria-label":"server",label:"Select Server",labelPlacement:"floating",fill:"solid",onIonChange:Y=>{u(Y.target.value)},value:c,children:d.map((Y,pe)=>N.jsx(Mo,{value:Y,children:Y.name},pe))}):"",N.jsx(Lo,{"aria-label":"anime-episode",label:"Episode",labelPlacement:"floating",fill:"solid",onIonChange:Y=>{n(Y.target.value)},children:(ee=t.AnimeEpisodes)==null?void 0:ee.map((Y,pe)=>N.jsx(Mo,{value:Y,children:Y.number},pe))})]}):t.Type=="tv"?N.jsxs(N.Fragment,{children:[g.AnimeType=="ad"?N.jsx(Lo,{"aria-label":"server",label:"Server",labelPlacement:"floating",value:c,onIonChange:Y=>{u(Y.target.value)},disabled:!(d.length>0),fill:"solid",children:d.map((Y,pe)=>N.jsx(Mo,{value:Y,children:Y.name},pe))}):"",N.jsx(Lo,{"aria-label":"tv-season",label:"Season",labelPlacement:"floating",fill:"solid",value:e,onIonChange:Y=>{n(Y.target.value)},children:(ne=t.TvShowSeason)==null?void 0:ne.map((Y,pe)=>N.jsx(Mo,{value:Y,children:Y.Name},pe))}),N.jsx(Lo,{label:"Episode",labelPlacement:"floating",fill:"solid",value:i,onIonChange:Y=>{r(Y.target.value)},disabled:!e,children:Array.from({length:e?e.EpisodeCount:0},(Y,pe)=>N.jsxs(Mo,{value:pe+1,children:["Episode ",pe+1]},pe))})]}):d.length<1?N.jsxs(ai,{onClick:M,children:["Play",N.jsx(ki,{icon:Lae})]}):N.jsx(Lo,{"aria-label":"server",label:"Server",labelPlacement:"floating",fill:"solid",onIonChange:Y=>{u(Y.target.value)},value:c,children:d.map((Y,pe)=>N.jsx(Mo,{value:Y,children:Y.name},pe))})},fe=()=>N.jsxs("div",{className:"info-details-container",children:[N.jsx("div",{className:"info-actions",children:N.jsx(ai,{onClick:ae,fill:"outline",disabled:P,children:P?N.jsx(Nc,{name:"crescent"}):N.jsxs(N.Fragment,{children:[N.jsx(ki,{slot:"start",icon:k?Bae:Uae}),k?"Favorited":"Add to Favorites"]})})}),N.jsx("p",{children:t.Overview}),O.length>0&&N.jsxs("div",{className:"similar-media-section",children:[N.jsx("h2",{children:"Similar Titles"}),N.jsx(sg,{items:O,renderItem:ee=>N.jsx(qy,{imageUrl:ee.Poster,title:ee.Title,linkUrl:"/".concat(ee.Type,"/").concat(ee.Id),type:ee.Type,year:ee.Year,duration:ee.Duration,overview:ee.Overview},ee.Id)})]})]});return N.jsxs(Ms,{children:[N.jsx(Mc,{translucent:!0,children:N.jsxs(uo,{children:[N.jsx(uI,{slot:"start",children:N.jsx(bI,{defaultHref:"/media"})}),N.jsx(Bc,{children:t.Title})]})}),N.jsxs(Ls,{className:"ion-padding",children:[N.jsxs("div",{className:"info-top-section",children:[N.jsx(he,{}),N.jsx("div",{className:"infopage-selectors",children:N.jsx(K,{})})]}),N.jsx("div",{className:"info-bottom-section",children:N.jsx(fe,{})})]})]})},yCe=({match:t})=>{const[e,n]=te.useState();xb();const[i]=wb(),r=async()=>{if(!t.params.id){i("ID undefined, retrying. . .");return}console.log("Media Id: ".concat(t.params.id));const o=await(async()=>t.params.type=="anime"?await t_e(t.params.id):t.params.type=="movie"?await h_e(t.params.id):t.params.type=="tv"?await iM(t.params.id):await iM(t.params.id))();if(console.log(o),o.peek==!1||typeof o.boo=="string"){i({message:"Error: ".concat(o.boo),duration:3e3,position:"top"});return}n(o.boo)};return te.useEffect(()=>{r()},[]),e?N.jsx(vCe,{info:e}):N.jsx(Qa,{choice:"full_page"})},Kq=t=>{const[e,n]=te.useState(null),[i,r]=te.useState(!0);return te.useEffect(()=>{if(!t){r(!1);return}(async()=>{r(!0);try{const o=Ui(hn),a=Bi(o,"users",t),l=await Xf(a);l.exists()?n({uid:l.id,...l.data()}):n(null)}catch(o){console.error("Error fetching user data:",o),n(null)}finally{r(!1)}})()},[t]),{userData:e,loading:i}},_Ce=({message:t,currentUserId:e,onReply:n,onStartWatchTogether:i})=>{const r=t.senderId===e,{userData:s,loading:o}=Kq(r?null:t.senderId),a=J.useRef(null);return J.useEffect(()=>{if(!a.current)return;const l=Tp({el:a.current,gestureName:"swipe-to-reply",direction:"x",onMove:c=>{a.current&&c.deltaX>0&&(a.current.style.transform="translateX(".concat(Math.min(c.deltaX,150),"px)"))},onEnd:c=>{a.current&&(a.current.style.transition="transform 0.2s ease-out",c.deltaX>80&&n(t),a.current.style.transform="translateX(0px)",setTimeout(()=>{a.current&&(a.current.style.transition="")},200))}});return l.enable(!0),()=>{l.destroy()}},[t,n]),N.jsxs("div",{ref:a,className:"chat-message-wrapper ".concat(r?"sent":"received"),children:[!r&&!o&&N.jsx(Lc,{className:"chat-avatar",children:N.jsx("img",{src:s==null?void 0:s.photoURL,alt:s==null?void 0:s.displayName})}),N.jsxs("div",{className:"chat-bubble ".concat(r?"sent":"received"),children:[t.replyContext&&N.jsxs("div",{className:"reply-context",children:[N.jsx("p",{className:"reply-sender",children:t.replyContext.senderName}),N.jsx("p",{className:"reply-text",children:t.replyContext.text})]}),N.jsxs("div",{className:"chat-content",children:[t.type==="image"&&t.mediaUrl&&N.jsx(_b,{src:t.mediaUrl,className:"chat-media-image"}),(t.type==="video"||t.type==="audio")&&t.mediaUrl&&N.jsxs("div",{className:"watch-together-container",children:[t.type==="video"?N.jsx("video",{src:t.mediaUrl,controls:!0,className:"chat-media-video"}):N.jsx("audio",{src:t.mediaUrl,controls:!0,className:"chat-media-audio"}),N.jsxs(ai,{fill:"clear",className:"watch-together-button",onClick:()=>i(t.mediaUrl,t.type,t.text),children:[N.jsx(ki,{icon:VU,slot:"start"}),"Watch Together"]})]}),t.type==="text"&&N.jsx("p",{className:"chat-text",children:t.text}),N.jsx("span",{className:"chat-timestamp",children:t.timestamp?new Date(t.timestamp.toMillis?t.timestamp.toMillis():t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]})]})]})};var dc;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(dc||(dc={}));var Zg;(function(t){t.Rear="REAR",t.Front="FRONT"})(Zg||(Zg={}));var OC;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(OC||(OC={}));class xCe extends GI{async getPhoto(e){return new Promise(async(n,i)=>{if(e.webUseInput||e.source===dc.Photos)this.fileInputExperience(e,n,i);else if(e.source===dc.Prompt){let r=document.querySelector("pwa-action-sheet");r||(r=document.createElement("pwa-action-sheet"),document.body.appendChild(r)),r.header=e.promptLabelHeader||"Photo",r.cancelable=!1,r.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],r.addEventListener("onSelection",async s=>{s.detail===0?this.fileInputExperience(e,n,i):this.cameraExperience(e,n,i)})}else this.cameraExperience(e,n,i)})}async pickImages(e){return new Promise(async(n,i)=>{this.multipleFileInputExperience(n,i)})}async cameraExperience(e,n,i){if(customElements.get("pwa-camera-modal")){const r=document.createElement("pwa-camera-modal");r.facingMode=e.direction===Zg.Front?"user":"environment",document.body.appendChild(r);try{await r.componentOnReady(),r.addEventListener("onPhoto",async s=>{const o=s.detail;o===null?i(new hf("User cancelled photos app")):o instanceof Error?i(o):n(await this._getCameraPhoto(o,e)),r.dismiss(),document.body.removeChild(r)}),r.present()}catch(s){this.fileInputExperience(e,n,i)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,i)}fileInputExperience(e,n,i){let r=document.querySelector("#_capacitor-camera-input");const s=()=>{var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",o=>{const a=r.files[0];let l="jpeg";if(a.type==="image/png"?l="png":a.type==="image/gif"&&(l="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const c=new FileReader;c.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:c.result,format:l});else if(e.resultType==="base64"){const u=c.result.split(",")[1];n({base64String:u,format:l})}s()}),c.readAsDataURL(a)}else n({webPath:URL.createObjectURL(a),format:l}),s()}),r.addEventListener("cancel",o=>{i(new hf("User cancelled photos app")),s()})),r.accept="image/*",r.capture=!0,e.source===dc.Photos||e.source===dc.Prompt?r.removeAttribute("capture"):e.direction===Zg.Front?r.capture="user":e.direction===Zg.Rear&&(r.capture="environment"),r.click()}multipleFileInputExperience(e,n){let i=document.querySelector("#_capacitor-camera-input-multiple");const r=()=>{var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input-multiple",i.type="file",i.hidden=!0,i.multiple=!0,document.body.appendChild(i),i.addEventListener("change",s=>{const o=[];for(let a=0;a<i.files.length;a++){const l=i.files[a];let c="jpeg";l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),o.push({webPath:URL.createObjectURL(l),format:c})}e({photos:o}),r()}),i.addEventListener("cancel",s=>{n(new hf("User cancelled photos app")),r()})),i.accept="image/*",i.click()}_getCameraPhoto(e,n){return new Promise((i,r)=>{const s=new FileReader,o=e.type.split("/")[1];n.resultType==="uri"?i({webPath:URL.createObjectURL(e),format:o,saved:!1}):(s.readAsDataURL(e),s.onloadend=()=>{const a=s.result;n.resultType==="dataUrl"?i({dataUrl:a,format:o,saved:!1}):i({base64String:a.split(",")[1],format:o,saved:!1})},s.onerror=a=>{r(a)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const wCe=yo("Camera",{web:()=>new xCe}),TCe=({convoId:t})=>{const{user:e}=te.useContext(lu),[n,i]=te.useState(null),r=te.useRef(null),s=te.useRef(!1),o=te.useRef(0),a=K2(J2,"playback_sessions/".concat(t));te.useEffect(()=>{const m=fj(a,b=>{const g=b.val();if(i(g),g&&r.current&&e&&g.lastUpdatedBy!==e.uid){s.current=!0;const w=r.current;g.isPlaying&&w.paused?w.play().catch(T=>console.error("Autoplay failed",T)):!g.isPlaying&&!w.paused&&w.pause(),Math.abs(w.currentTime-g.progress)>2&&(w.currentTime=g.progress),setTimeout(()=>{s.current=!1},100)}});return()=>pj(a,"value",m)},[t,e]);const l=m=>{e&&Mye(a,{...m,lastUpdatedBy:e.uid,timestamp:mj()})},c=()=>!s.current&&l({isPlaying:!0}),u=()=>!s.current&&l({isPlaying:!1}),d=()=>{if(r.current&&!s.current){const m=r.current.currentTime,b=Date.now();b-o.current>1e3&&(o.current=b,l({progress:m}))}},h=()=>Lye(a);return n?N.jsxs("div",{className:"watch-together-player",children:[N.jsxs("div",{className:"player-header",children:[N.jsx("p",{className:"player-title",children:n.title}),N.jsx(ai,{fill:"clear",color:"light",onClick:h,children:N.jsx(ki,{slot:"icon-only",icon:FU})})]}),n.mediaType==="video"?N.jsx("video",{ref:r,src:n.mediaUrl,controls:!0,onPlay:c,onPause:u,onTimeUpdate:d,className:"media-element"}):N.jsx("audio",{ref:r,src:n.mediaUrl,controls:!0,onPlay:c,onPause:u,onTimeUpdate:d,className:"media-element"})]}):null},ECe=({match:t})=>{const{user:e}=te.useContext(lu),n=t.params.id,{userData:i,loading:r}=Kq(n),[s,o]=te.useState(null),[a,l]=te.useState([]),[c,u]=te.useState(""),[d,h]=te.useState(null),[m,b]=te.useState(!1),[g]=wb(),[w,y]=te.useState(!1),[T,k]=te.useState(!1),D=te.useRef(null);te.useEffect(()=>{if(!e||!n)return;const L=[e.uid,n].sort();o(L.join("-"))},[n,e]),te.useEffect(()=>{if(!s)return;const L=K2(J2,"playback_sessions/".concat(s)),U=fj(L,K=>{y(K.exists())}),V=Ui(hn),M=mf(V,"chats",s,"messages"),ae=hx(M,Ume("timestamp","asc")),he=O2(ae,K=>{const fe=K.docs.map(ee=>({id:ee.id,...ee.data()}));l(fe),setTimeout(()=>{var ee;return(ee=D.current)==null?void 0:ee.scrollToBottom(300)},100)});return()=>{he(),pj(L,"value",U)}},[s]);const P=async()=>{if(c.trim()===""||!e||!s)return;const L=Ui(hn),U=mf(L,"chats",s,"messages"),V={senderId:e.uid,text:c,timestamp:h5(),type:"text"};d&&(V.replyContext={messageId:d.id,senderId:d.senderId,senderName:d.senderId===e.uid?"You":(i==null?void 0:i.displayName)||"User",text:d.text.length>100?"".concat(d.text.substring(0,97),"..."):d.text}),await d5(U,V)},B=async(L,U,V)=>{if(!e||!s)return;const M=Ui(hn),ae=mf(M,"chats",s,"messages");await d5(ae,{senderId:e.uid,text:V,timestamp:h5(),type:U,mediaUrl:L})},O=async L=>{L.preventDefault(),await P(),u(""),h(null)},A=async L=>{var U;if(!(!e||!s))try{const V=await wCe.getPhoto({quality:90,allowEditing:!1,resultType:OC.Uri,source:L}),M=(U=V.path)!=null?U:V.webPath;if(!M)throw new Error("No file path received");b(!0);const ae=new Date().getTime()+".jpeg",he="chats/".concat(s,"/").concat(ae);let K;if(A0.isNativePlatform())K=(await Che.uploadFile({ref:he,path:M})).downloadUrl;else{const ee=await(await fetch(M)).blob(),ne=t$(hn),Y=I0e(ne,he);await C0e(Y,ee),K=await A0e(Y)}await B(K,"image",ae)}catch(V){console.error("File upload error",V),V instanceof Error&&V.message.includes("cancelled")||g({message:"File upload failed.",duration:3e3,color:"danger"})}finally{b(!1)}},R=(L,U,V)=>{if(!e||!s)return;const M=K2(J2,"playback_sessions/".concat(s)),ae={mediaUrl:L,mediaType:U,title:V,isPlaying:!1,progress:0,lastUpdatedBy:e.uid,timestamp:mj()};hj(M,ae)};return N.jsxs(Ms,{children:[N.jsx(Mc,{children:N.jsxs(uo,{children:[N.jsx(uI,{slot:"start",children:N.jsx(bI,{defaultHref:"/home"})}),r?N.jsx(Nc,{slot:"start"}):N.jsxs(N.Fragment,{children:[N.jsx(Lc,{slot:"start",className:"chat-header-avatar",children:N.jsx("img",{src:i==null?void 0:i.photoURL,alt:i==null?void 0:i.displayName})}),N.jsx(Bc,{children:(i==null?void 0:i.displayName)||"Chat"})]})]})}),N.jsxs(Ls,{ref:D,className:"ion-padding",scrollEvents:!0,children:[w&&s&&N.jsx(TCe,{convoId:s}),N.jsx("div",{className:"chat-messages-container",children:a.map(L=>N.jsx(_Ce,{message:L,currentUserId:e.uid,onReply:h,onStartWatchTogether:R},L.id))}),N.jsx(Use,{isOpen:T,onDidDismiss:()=>k(!1),header:"Attach Image",buttons:[{text:"Take Photo",handler:()=>A(dc.Camera)},{text:"Choose from Gallery",handler:()=>A(dc.Photos)},{text:"Cancel",role:"cancel"}]})]}),N.jsx(Pse,{children:N.jsx(uo,{className:"chat-input-toolbar",children:N.jsxs("div",{className:"chat-footer-wrapper",children:[d&&N.jsxs("div",{className:"reply-preview-container",children:[N.jsxs("div",{className:"reply-preview-content",children:[N.jsxs("p",{className:"reply-preview-sender",children:["Replying to ",d.senderId===(e==null?void 0:e.uid)?"yourself":i==null?void 0:i.displayName]}),N.jsx("p",{className:"reply-preview-text",children:d.text})]}),N.jsx(ai,{fill:"clear",onClick:()=>h(null),className:"reply-preview-close",children:N.jsx(ki,{icon:FU})})]}),N.jsxs("form",{className:"chat-form",onSubmit:O,children:[N.jsx(ai,{fill:"clear",slot:"start",onClick:()=>k(!0),disabled:m,children:N.jsx(ki,{icon:kae})}),N.jsx(z_,{value:c,onIonChange:L=>u(L.detail.value),placeholder:"Type a message...",className:"chat-input",disabled:!s||m}),N.jsx(ai,{type:"submit",fill:"clear",slot:"end",disabled:c.trim()===""||!s||m,children:m?N.jsx(Nc,{name:"crescent"}):N.jsx(ki,{icon:Nae})})]})]})})})]})};var LC;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE"})(LC||(LC={}));var GN;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(GN||(GN={}));const HS=yo("Filesystem",{web:()=>xi(()=>import("./web-Czp1kw5U.js"),[]).then(t=>new t.FilesystemWeb)}),SCe=yo("FileOpener"),kCe=({match:t})=>{const{user:e}=te.useContext(lu),n=Lw(),[i,r]=te.useState(null),[s,o]=te.useState(!0),[a,l]=te.useState("loading"),[c,u]=te.useState(!1),d=t.params.id;te.useEffect(()=>{if(!d)return;if((e==null?void 0:e.uid)===d){n.push("/settings","root","replace");return}(async()=>{o(!0);try{const w=Ui(hn),y=Bi(w,"users",d),T=await Xf(y);if(T.exists())r({uid:T.id,...T.data()});else{console.warn("User document not found for uid: ".concat(d)),r(null),o(!1);return}if(e){const k=Bi(w,"users",e.uid,"friends",d),D=await Xf(k);D.exists()?(l(D.data().status),console.log(D.data().status)):l("not_friends")}else l("not_friends")}catch(w){console.error("Error fetching user data or friend status:",w)}finally{o(!1)}})()},[d,e,n]);const h=async()=>{if(!(!e||!i||c)){u(!0);try{const g=Ui(hn),w=Date.now(),y={status:"sent_pending",since:w,uid:i.uid},T=Bi(g,"users",e.uid,"friends",i.uid);await R2(T,y);const k={status:"received_pending",since:w,uid:e.uid},D=Bi(g,"users",i.uid,"friends",e.uid);await R2(D,k),l("sent_pending")}catch(g){console.error("Error adding friend:",g)}finally{u(!1)}}},m=async()=>{if(!(!e||!i||c)){u(!0);try{const g=Ui(hn),y={status:"friends",since:Date.now()},T=Bi(g,"users",e.uid,"friends",i.uid);await px(T,y);const k=Bi(g,"users",i.uid,"friends",e.uid);await px(k,y),l("friends")}catch(g){console.error("Error accepting friend:",g)}finally{u(!1)}}},b=()=>s?N.jsx("div",{className:"spinner-container",children:N.jsx(Nc,{})}):i?N.jsxs("div",{className:"user-profile-container",children:[N.jsx(Lc,{className:"user-profile-avatar",children:N.jsx("img",{src:i.photoURL,alt:i.displayName})}),N.jsx("h1",{className:"user-profile-name",children:i.displayName}),N.jsx("p",{className:"user-profile-email",children:i.email}),N.jsxs("p",{className:"user-profile-created",children:["Member since ",new Date(i.createdAt).toLocaleDateString()]}),N.jsxs("div",{className:"user-profile-actions",children:[N.jsx(ai,{expand:"block",onClick:()=>{a==="not_friends"?h():a==="received_pending"&&m()},disabled:a!=="not_friends"&&a!=="received_pending"||c||!e,children:c?N.jsx(Nc,{name:"crescent"}):e?a==="sent_pending"?"Request Sent":a==="received_pending"?"Accept Request":a==="friends"?"Friends":"Add Friend":"Login to Add Friend"}),N.jsx(ai,{expand:"block",color:"warning",disabled:!0,children:"Block User"})]})]}):N.jsx("div",{className:"user-not-found",children:"User not found."});return N.jsxs(Ms,{children:[N.jsx(Mc,{children:N.jsxs(uo,{children:[N.jsx(uI,{slot:"start",children:N.jsx(bI,{defaultHref:"/search"})}),N.jsx(Bc,{children:(i==null?void 0:i.displayName)||"User Profile"})]})}),N.jsx(Ls,{className:"ion-padding",children:b()})]})};var WN;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(WN||(WN={}));var YN;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(YN||(YN={}));const CCe=yo("StatusBar"),ACe=({returnUrl:t,modalRef:e})=>{const{user:n,setUser:i,name:r}=te.useContext(lu),[s]=xb(),[o,a]=te.useState(!1),l=async()=>{var c;try{a(!0);const u=await khe.signInWithGoogle(),d=Fa.credential((c=u.credential)==null?void 0:c.idToken),h=Y7(hn);f1(h,d)}catch(u){console.error("Google Sign-In Error",u),s("Failed to signin with Google.")}finally{a(!1)}};return te.useEffect(()=>{document.title="PeekABoo",P7(_R,c=>{c!=null?i(c):i(null)})},[]),N.jsx(Ms,{children:N.jsx(Ls,{fullscreen:!0,children:N.jsxs("div",{className:"main",children:[N.jsxs("form",{className:"form",onSubmit:c=>{c.preventDefault()},children:[N.jsx(z_,{placeholder:"Enter a username",label:"Email",fill:"outline",labelPlacement:"floating",value:r.current,onIonInput:c=>r.current=c.target.value,disabled:o}),N.jsx(z_,{placeholder:"Enter a username",label:"Password",fill:"outline",labelPlacement:"floating",value:r.current,onIonInput:c=>r.current=c.target.value,disabled:o}),N.jsx(ai,{type:"submit",expand:"block",className:"form-button",disabled:o,children:"Submit"})]}),N.jsx(ai,{expand:"block",className:"form-button",disabled:o,onClick:l,children:"Sign in with Google"})]})})})};aoe();const lu=te.createContext({user:null,setUser:()=>{},name:{current:""}}),ICe=()=>{const t=te.useRef(""),[e,n]=te.useState(null),[i,r]=te.useState(!0),[s,o]=xb();A0.getPlatform()!="web"&&CCe.setOverlaysWebView({overlay:!1});const a=async()=>{(await HS.checkPermissions()).publicStorage!="granted"&&(await HS.requestPermissions()).publicStorage!="granted"&&s("Storage permissions are necessary for automatic updates and file downloads!!")},l=async()=>{const u=await bCe();Yae!=u.latest.Version&&s({header:"A new version (".concat(u.latest.Version,") is available"),message:"\n        ChangeLogs: \n\n\n        ".concat(u.latest.ChangeLogs,"\n        "),buttons:[{text:"Ignore",role:"cancel",handler:()=>{console.log("Cancelled")}},{text:"Update",role:"accept",handler:()=>{c(u.latest.Apk)}}]})},c=async u=>{const d=u.split("/"),h=d[d.length-1];let m="";const{boo:b}=await Nr();u.includes("http")?m=u:m="".concat(b.Server).concat(u),console.log(h);const g=await HS.downloadFile({method:"GET",url:m,directory:LC.ExternalStorage,path:"Download/".concat(h)});g.path?s({header:"Download successful!",message:"File was successfully downloaded to: ".concat(g.path,". Install now?"),buttons:[{text:"Later",role:"cancel",handler:()=>{console.log("Will install later")}},{text:"Install",role:"accept",handler:async()=>{try{await SCe.open({filePath:g.path})}catch(w){console.log(w)}}}]}):s("Failed to download file")};return te.useEffect(()=>{document.title="PeekABoo",a(),l();const u=P7(_R,d=>{n(d),r(!1)});return()=>u()},[]),N.jsx(lu.Provider,{value:{user:e,setUser:n,name:t},children:N.jsx(Gse,{children:i?N.jsx(Ms,{children:N.jsx(Ls,{fullscreen:!0,children:N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:N.jsx(Nc,{})})})}):e?N.jsx(Wae,{children:N.jsx(Hh,{children:N.jsxs(Eae,{children:[N.jsx(Ra,{exact:!0,path:"/user/:id",component:kCe}),N.jsx(Ra,{exact:!0,path:"/chat/:id",component:ECe}),N.jsx(Ra,{exact:!0,path:"/:type(movie|tv|anime)/:id",component:yCe}),N.jsx(Ra,{path:"/",children:N.jsxs(toe,{children:[N.jsxs(Hh,{children:[N.jsx(vae,{exact:!0,path:"/",to:"/home"}),N.jsx(Ra,{exact:!0,path:"/home",children:N.jsx(Jye,{})}),N.jsx(Ra,{exact:!0,path:"/search",children:N.jsx(Gxe,{})}),N.jsx(Ra,{exact:!0,path:"/media",children:N.jsx(Jxe,{})}),N.jsx(Ra,{exact:!0,path:"/settings",children:N.jsx(Kye,{})})]}),N.jsxs(roe,{slot:"bottom",children:[N.jsxs(Fu,{tab:"home",href:"/home",children:[N.jsx(ki,{icon:Cae}),N.jsx(Si,{children:"Home"})]}),N.jsxs(Fu,{tab:"search",href:"/search",children:[N.jsx(ki,{icon:Mae}),N.jsx(Si,{children:"Search"})]}),N.jsxs(Fu,{tab:"media",href:"/media",children:[N.jsx(ki,{icon:Dae}),N.jsx(Si,{children:"Media"})]}),N.jsxs(Fu,{tab:"settings",href:"/settings",children:[N.jsx(ki,{icon:Oae}),N.jsx(Si,{children:"Settings"})]})]})]})})]})})}):N.jsx(ACe,{})})})},DCe=document.getElementById("root"),RCe=jX.createRoot(DCe);RCe.render(N.jsx(J.StrictMode,{children:N.jsx(ICe,{})}));export{tIe as $,D0e as A,Y7 as B,jAe as C,zAe as D,GN as E,$Ae as F,iIe as G,YAe as H,dIe as I,GAe as J,G9 as K,Ud as L,tc as M,nc as N,Oy as O,c3 as P,Fa as Q,rIe as R,oIe as S,ic as T,Kce as U,nIe as V,GI as W,XAe as X,VAe as Y,qAe as Z,l3 as _,LCe as __vite_legacy_guard,md as a,zL as a0,mde as a1,N7 as a2,ide as a3,BAe as a4,FAe as a5,HAe as a6,WAe as a7,sIe as a8,UAe as a9,Ime as aA,O2 as aB,hx as aC,pIe as aD,yIe as aE,vIe as aF,fx as aG,EIe as aH,SIe as aI,TIe as aJ,wIe as aK,xIe as aL,_Ie as aM,Ume as aN,lge as aO,AIe as aP,IIe as aQ,cge as aR,Ie as aS,BCe as aT,ZAe as aa,JAe as ab,QAe as ac,wue as ad,KAe as ae,cIe as af,aIe as ag,uIe as ah,lIe as ai,Hue as aj,ul as ak,eIe as al,Ui as am,d5 as an,mf as ao,R2 as ap,Bi as aq,Xf as ar,px as as,P2 as at,CIe as au,RV as av,kIe as aw,mIe as ax,gIe as ay,bIe as az,Ehe as b,Tp as c,Yo as d,Pc as e,q9 as f,g0 as g,I_ as h,L_ as i,Qk as j,wt as k,di as l,Xk as m,JCe as n,t$ as o,NCe as p,I0e as q,hd as r,ZCe as s,MIe as t,A0e as u,PIe as v,Lr as w,LIe as x,OIe as y,RIe as z};
