!function(){function e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register([],(function(t,n){"use strict";return{execute:async function(){var i=document.createElement("style");i.textContent=':root{--ion-color-primary: #0054e9;--ion-color-primary-rgb: 0, 84, 233;--ion-color-primary-contrast: #fff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #004acd;--ion-color-primary-tint: #1a65eb;--ion-color-secondary: #0163aa;--ion-color-secondary-rgb: 1, 99, 170;--ion-color-secondary-contrast: #fff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #015796;--ion-color-secondary-tint: #1a73b3;--ion-color-tertiary: #6030ff;--ion-color-tertiary-rgb: 96, 48, 255;--ion-color-tertiary-contrast: #fff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #542ae0;--ion-color-tertiary-tint: #7045ff;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #c5000f;--ion-color-danger-rgb: 197, 0, 15;--ion-color-danger-contrast: #fff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #ad000d;--ion-color-danger-tint: #cb1a27;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #636469;--ion-color-medium-rgb: 99, 100, 105;--ion-color-medium-contrast: #fff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #57585c;--ion-color-medium-tint: #737478;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #fff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}html.ios{--ion-default-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Roboto", sans-serif}html.md{--ion-default-font: "Roboto", "Helvetica Neue", sans-serif}html{--ion-dynamic-font: -apple-system-body;--ion-font-family: var(--ion-default-font)}body{background:var(--ion-background-color);color:var(--ion-text-color)}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal.modal-card ion-header ion-toolbar:first-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:first-of-type,html.ios ion-modal ion-footer ion-toolbar:first-of-type{padding-top:6px}html.ios ion-modal.modal-card ion-header ion-toolbar:last-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:last-of-type{padding-bottom:6px}html.ios ion-modal ion-toolbar{padding-right:calc(var(--ion-safe-area-right) + 8px);padding-left:calc(var(--ion-safe-area-left) + 8px)}@media screen and (min-width: 768px){html.ios ion-modal.modal-card:first-of-type{--backdrop-opacity: .18}}ion-modal.modal-default.show-modal~ion-modal.modal-default{--backdrop-opacity: 0;--box-shadow: none}html.ios ion-modal.modal-card .ion-page{border-top-left-radius:var(--border-radius)}.ion-color-primary{--ion-color-base: var(--ion-color-primary, #0054e9) !important;--ion-color-base-rgb: var(--ion-color-primary-rgb, 0, 84, 233) !important;--ion-color-contrast: var(--ion-color-primary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-primary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-primary-shade, #004acd) !important;--ion-color-tint: var(--ion-color-primary-tint, #1a65eb) !important}.ion-color-secondary{--ion-color-base: var(--ion-color-secondary, #0163aa) !important;--ion-color-base-rgb: var(--ion-color-secondary-rgb, 1, 99, 170) !important;--ion-color-contrast: var(--ion-color-secondary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-secondary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-secondary-shade, #015796) !important;--ion-color-tint: var(--ion-color-secondary-tint, #1a73b3) !important}.ion-color-tertiary{--ion-color-base: var(--ion-color-tertiary, #6030ff) !important;--ion-color-base-rgb: var(--ion-color-tertiary-rgb, 96, 48, 255) !important;--ion-color-contrast: var(--ion-color-tertiary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-tertiary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-tertiary-shade, #542ae0) !important;--ion-color-tint: var(--ion-color-tertiary-tint, #7045ff) !important}.ion-color-success{--ion-color-base: var(--ion-color-success, #2dd55b) !important;--ion-color-base-rgb: var(--ion-color-success-rgb, 45, 213, 91) !important;--ion-color-contrast: var(--ion-color-success-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-success-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-success-shade, #28bb50) !important;--ion-color-tint: var(--ion-color-success-tint, #42d96b) !important}.ion-color-warning{--ion-color-base: var(--ion-color-warning, #ffc409) !important;--ion-color-base-rgb: var(--ion-color-warning-rgb, 255, 196, 9) !important;--ion-color-contrast: var(--ion-color-warning-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-warning-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-warning-shade, #e0ac08) !important;--ion-color-tint: var(--ion-color-warning-tint, #ffca22) !important}.ion-color-danger{--ion-color-base: var(--ion-color-danger, #c5000f) !important;--ion-color-base-rgb: var(--ion-color-danger-rgb, 197, 0, 15) !important;--ion-color-contrast: var(--ion-color-danger-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-danger-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-danger-shade, #ad000d) !important;--ion-color-tint: var(--ion-color-danger-tint, #cb1a27) !important}.ion-color-light{--ion-color-base: var(--ion-color-light, #f4f5f8) !important;--ion-color-base-rgb: var(--ion-color-light-rgb, 244, 245, 248) !important;--ion-color-contrast: var(--ion-color-light-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-light-shade, #d7d8da) !important;--ion-color-tint: var(--ion-color-light-tint, #f5f6f9) !important}.ion-color-medium{--ion-color-base: var(--ion-color-medium, #636469) !important;--ion-color-base-rgb: var(--ion-color-medium-rgb, 99, 100, 105) !important;--ion-color-contrast: var(--ion-color-medium-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-medium-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-medium-shade, #57585c) !important;--ion-color-tint: var(--ion-color-medium-tint, #737478) !important}.ion-color-dark{--ion-color-base: var(--ion-color-dark, #222428) !important;--ion-color-base-rgb: var(--ion-color-dark-rgb, 34, 36, 40) !important;--ion-color-contrast: var(--ion-color-dark-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-dark-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-dark-shade, #1e2023) !important;--ion-color-tint: var(--ion-color-dark-tint, #383a3e) !important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;z-index:0}ion-modal>.ion-page{position:relative;contain:layout style;height:100%}.split-pane-visible>.ion-page.split-pane-main{position:relative}ion-route,ion-route-redirect,ion-router,ion-select-option,ion-nav-controller,ion-menu-controller,ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-modal-controller,ion-picker-controller,ion-popover-controller,ion-toast-controller,.ion-page-hidden{display:none!important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding: 20px}@supports (padding-top: 20px){html{--ion-safe-area-top: var(--ion-statusbar-padding)}}@supports (padding-top: env(safe-area-inset-top)){html{--ion-safe-area-top: env(safe-area-inset-top);--ion-safe-area-bottom: env(safe-area-inset-bottom);--ion-safe-area-left: env(safe-area-inset-left);--ion-safe-area-right: env(safe-area-inset-right)}}ion-card.ion-color .ion-inherit-color,ion-card-header.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translateZ(0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none;overflow-y:hidden}.menu-content-open ion-content{--overflow: hidden}.menu-content-open .ion-content-scroll-host{overflow:hidden}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0,0,0,.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0,0,0,.08)}.md .menu-content-reveal,.md .menu-content-push{box-shadow:4px 0 16px rgba(0,0,0,.18)}ion-accordion-group.accordion-group-expand-inset>ion-accordion:first-of-type{border-top-left-radius:8px;border-top-right-radius:8px}ion-accordion-group.accordion-group-expand-inset>ion-accordion:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px}ion-accordion-group>ion-accordion:last-of-type ion-item[slot=header]{--border-width: 0px}ion-accordion.accordion-animated>[slot=header] .ion-accordion-toggle-icon{transition:.3s transform cubic-bezier(.25,.8,.5,1)}@media (prefers-reduced-motion: reduce){ion-accordion .ion-accordion-toggle-icon{transition:none!important}}ion-accordion.accordion-expanding>[slot=header] .ion-accordion-toggle-icon,ion-accordion.accordion-expanded>[slot=header] .ion-accordion-toggle-icon{transform:rotate(180deg)}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-previous ion-item[slot=header]{--border-width: 0px;--inner-border-width: 0px}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanding:first-of-type,ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanded:first-of-type{margin-top:0}ion-input input::-webkit-date-and-time-value{text-align:start}.ion-datetime-button-overlay{--width: fit-content;--height: fit-content}.ion-datetime-button-overlay ion-datetime.datetime-grid{width:320px;min-height:320px}[ion-last-focus],header[tabindex="-1"]:focus,[role=banner][tabindex="-1"]:focus,main[tabindex="-1"]:focus,[role=main][tabindex="-1"]:focus,h1[tabindex="-1"]:focus,[role=heading][aria-level="1"][tabindex="-1"]:focus{outline:none}.popover-viewport:has(>ion-content){overflow:hidden}@supports not selector(:has(> ion-content)){.popover-viewport{overflow:hidden}}.firebase-emulator-warning{display:none}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}label,input,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}a,a div,a span,a ion-icon,a ion-label,button,button div,button span,button ion-icon,button ion-label,.ion-tappable,[tappable],[tappable] div,[tappable] span,[tappable] ion-icon,[tappable] ion-label,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{padding:0;border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;-webkit-text-size-adjust:100%;text-size-adjust:100%}html:not(.hydrated) body{display:none}html.ion-ce body{display:block}html.plt-pwa{height:100vh}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;transform:translateZ(0);text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;-webkit-text-size-adjust:none;text-size-adjust:none}html{font-family:var(--ion-font-family)}@supports (-webkit-touch-callout: none){html{font:var(--ion-dynamic-font, 16px var(--ion-font-family))}}a{background-color:transparent;color:var(--ion-color-primary, #0054e9)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:1.625rem}h2{margin-top:18px;font-size:1.5rem}h3{font-size:1.375rem}h4{font-size:1.25rem}h5{font-size:1.125rem}h6{font-size:1rem}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-no-padding{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0}.ion-padding{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-top{--padding-top: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px)}.ion-padding-start{--padding-start: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px)}.ion-padding-end{--padding-end: var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-padding-bottom{--padding-bottom: var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-vertical{--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-horizontal{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-no-margin{--margin-start: 0;--margin-end: 0;--margin-top: 0;--margin-bottom: 0;margin:0}.ion-margin{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-top{--margin-top: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px)}.ion-margin-start{--margin-start: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px)}.ion-margin-end{--margin-end: var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-margin-bottom{--margin-bottom: var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-vertical{--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-horizontal{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-float-left{float:left!important}.ion-float-right{float:right!important}.ion-float-start{float:left!important}:host-context([dir=rtl]) .ion-float-start{float:right!important}[dir=rtl] .ion-float-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-start:dir(rtl){float:right!important}}.ion-float-end{float:right!important}:host-context([dir=rtl]) .ion-float-end{float:left!important}[dir=rtl] .ion-float-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-end:dir(rtl){float:left!important}}@media (min-width: 576px){.ion-float-sm-left{float:left!important}.ion-float-sm-right{float:right!important}.ion-float-sm-start{float:left!important}:host-context([dir=rtl]) .ion-float-sm-start{float:right!important}[dir=rtl] .ion-float-sm-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-sm-start:dir(rtl){float:right!important}}.ion-float-sm-end{float:right!important}:host-context([dir=rtl]) .ion-float-sm-end{float:left!important}[dir=rtl] .ion-float-sm-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-sm-end:dir(rtl){float:left!important}}}@media (min-width: 768px){.ion-float-md-left{float:left!important}.ion-float-md-right{float:right!important}.ion-float-md-start{float:left!important}:host-context([dir=rtl]) .ion-float-md-start{float:right!important}[dir=rtl] .ion-float-md-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-md-start:dir(rtl){float:right!important}}.ion-float-md-end{float:right!important}:host-context([dir=rtl]) .ion-float-md-end{float:left!important}[dir=rtl] .ion-float-md-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-md-end:dir(rtl){float:left!important}}}@media (min-width: 992px){.ion-float-lg-left{float:left!important}.ion-float-lg-right{float:right!important}.ion-float-lg-start{float:left!important}:host-context([dir=rtl]) .ion-float-lg-start{float:right!important}[dir=rtl] .ion-float-lg-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-lg-start:dir(rtl){float:right!important}}.ion-float-lg-end{float:right!important}:host-context([dir=rtl]) .ion-float-lg-end{float:left!important}[dir=rtl] .ion-float-lg-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-lg-end:dir(rtl){float:left!important}}}@media (min-width: 1200px){.ion-float-xl-left{float:left!important}.ion-float-xl-right{float:right!important}.ion-float-xl-start{float:left!important}:host-context([dir=rtl]) .ion-float-xl-start{float:right!important}[dir=rtl] .ion-float-xl-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-xl-start:dir(rtl){float:right!important}}.ion-float-xl-end{float:right!important}:host-context([dir=rtl]) .ion-float-xl-end{float:left!important}[dir=rtl] .ion-float-xl-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-xl-end:dir(rtl){float:left!important}}}.ion-text-center{text-align:center!important}.ion-text-justify{text-align:justify!important}.ion-text-start{text-align:start!important}.ion-text-end{text-align:end!important}.ion-text-left{text-align:left!important}.ion-text-right{text-align:right!important}.ion-text-nowrap{white-space:nowrap!important}.ion-text-wrap{white-space:normal!important}@media (min-width: 576px){.ion-text-sm-center{text-align:center!important}.ion-text-sm-justify{text-align:justify!important}.ion-text-sm-start{text-align:start!important}.ion-text-sm-end{text-align:end!important}.ion-text-sm-left{text-align:left!important}.ion-text-sm-right{text-align:right!important}.ion-text-sm-nowrap{white-space:nowrap!important}.ion-text-sm-wrap{white-space:normal!important}}@media (min-width: 768px){.ion-text-md-center{text-align:center!important}.ion-text-md-justify{text-align:justify!important}.ion-text-md-start{text-align:start!important}.ion-text-md-end{text-align:end!important}.ion-text-md-left{text-align:left!important}.ion-text-md-right{text-align:right!important}.ion-text-md-nowrap{white-space:nowrap!important}.ion-text-md-wrap{white-space:normal!important}}@media (min-width: 992px){.ion-text-lg-center{text-align:center!important}.ion-text-lg-justify{text-align:justify!important}.ion-text-lg-start{text-align:start!important}.ion-text-lg-end{text-align:end!important}.ion-text-lg-left{text-align:left!important}.ion-text-lg-right{text-align:right!important}.ion-text-lg-nowrap{white-space:nowrap!important}.ion-text-lg-wrap{white-space:normal!important}}@media (min-width: 1200px){.ion-text-xl-center{text-align:center!important}.ion-text-xl-justify{text-align:justify!important}.ion-text-xl-start{text-align:start!important}.ion-text-xl-end{text-align:end!important}.ion-text-xl-left{text-align:left!important}.ion-text-xl-right{text-align:right!important}.ion-text-xl-nowrap{white-space:nowrap!important}.ion-text-xl-wrap{white-space:normal!important}}.ion-text-uppercase{text-transform:uppercase!important}.ion-text-lowercase{text-transform:lowercase!important}.ion-text-capitalize{text-transform:capitalize!important}@media (min-width: 576px){.ion-text-sm-uppercase{text-transform:uppercase!important}.ion-text-sm-lowercase{text-transform:lowercase!important}.ion-text-sm-capitalize{text-transform:capitalize!important}}@media (min-width: 768px){.ion-text-md-uppercase{text-transform:uppercase!important}.ion-text-md-lowercase{text-transform:lowercase!important}.ion-text-md-capitalize{text-transform:capitalize!important}}@media (min-width: 992px){.ion-text-lg-uppercase{text-transform:uppercase!important}.ion-text-lg-lowercase{text-transform:lowercase!important}.ion-text-lg-capitalize{text-transform:capitalize!important}}@media (min-width: 1200px){.ion-text-xl-uppercase{text-transform:uppercase!important}.ion-text-xl-lowercase{text-transform:lowercase!important}.ion-text-xl-capitalize{text-transform:capitalize!important}}.ion-align-self-start{align-self:flex-start!important}.ion-align-self-end{align-self:flex-end!important}.ion-align-self-center{align-self:center!important}.ion-align-self-stretch{align-self:stretch!important}.ion-align-self-baseline{align-self:baseline!important}.ion-align-self-auto{align-self:auto!important}.ion-wrap{flex-wrap:wrap!important}.ion-nowrap{flex-wrap:nowrap!important}.ion-wrap-reverse{flex-wrap:wrap-reverse!important}.ion-justify-content-start{justify-content:flex-start!important}.ion-justify-content-center{justify-content:center!important}.ion-justify-content-end{justify-content:flex-end!important}.ion-justify-content-around{justify-content:space-around!important}.ion-justify-content-between{justify-content:space-between!important}.ion-justify-content-evenly{justify-content:space-evenly!important}.ion-align-items-start{align-items:flex-start!important}.ion-align-items-center{align-items:center!important}.ion-align-items-end{align-items:flex-end!important}.ion-align-items-stretch{align-items:stretch!important}.ion-align-items-baseline{align-items:baseline!important}.ion-hide,.ion-hide-up,.ion-hide-down{display:none!important}@media (min-width: 576px){.ion-hide-sm-up{display:none!important}}@media (max-width: 575.98px){.ion-hide-sm-down{display:none!important}}@media (min-width: 768px){.ion-hide-md-up{display:none!important}}@media (max-width: 767.98px){.ion-hide-md-down{display:none!important}}@media (min-width: 992px){.ion-hide-lg-up{display:none!important}}@media (max-width: 991.98px){.ion-hide-lg-down{display:none!important}}@media (min-width: 1200px){.ion-hide-xl-up{display:none!important}}@media (max-width: 1199.98px){.ion-hide-xl-down{display:none!important}}@media (prefers-color-scheme: dark){:root{--ion-color-primary: #4d8dff;--ion-color-primary-rgb: 77, 141, 255;--ion-color-primary-contrast: #000;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #447ce0;--ion-color-primary-tint: #5f98ff;--ion-color-secondary: #46b1ff;--ion-color-secondary-rgb: 70, 177, 255;--ion-color-secondary-contrast: #000;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #3e9ce0;--ion-color-secondary-tint: #59b9ff;--ion-color-tertiary: #8482fb;--ion-color-tertiary-rgb: 132, 130, 251;--ion-color-tertiary-contrast: #000;--ion-color-tertiary-contrast-rgb: 0, 0, 0;--ion-color-tertiary-shade: #7472dd;--ion-color-tertiary-tint: #908ffb;--ion-color-success: #2dd55b;--ion-color-success-rgb: 45, 213, 91;--ion-color-success-contrast: #000;--ion-color-success-contrast-rgb: 0, 0, 0;--ion-color-success-shade: #28bb50;--ion-color-success-tint: #42d96b;--ion-color-warning: #ffce31;--ion-color-warning-rgb: 255, 206, 49;--ion-color-warning-contrast: #000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0b52b;--ion-color-warning-tint: #ffd346;--ion-color-danger: #f24c58;--ion-color-danger-rgb: 242, 76, 88;--ion-color-danger-contrast: #000;--ion-color-danger-contrast-rgb: 0, 0, 0;--ion-color-danger-shade: #d5434d;--ion-color-danger-tint: #f35e69;--ion-color-light: #222428;--ion-color-light-rgb: 34, 36, 40;--ion-color-light-contrast: #fff;--ion-color-light-contrast-rgb: 255, 255, 255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #000;--ion-color-medium-contrast-rgb: 0, 0, 0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244, 245, 248;--ion-color-dark-contrast: #000;--ion-color-dark-contrast-rgb: 0, 0, 0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9}:root.ios{--ion-background-color: #000000;--ion-background-color-rgb: 0, 0, 0;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-background-color-step-50: #0d0d0d;--ion-background-color-step-100: #1a1a1a;--ion-background-color-step-150: #262626;--ion-background-color-step-200: #333333;--ion-background-color-step-250: #404040;--ion-background-color-step-300: #4d4d4d;--ion-background-color-step-350: #595959;--ion-background-color-step-400: #666666;--ion-background-color-step-450: #737373;--ion-background-color-step-500: #808080;--ion-background-color-step-550: #8c8c8c;--ion-background-color-step-600: #999999;--ion-background-color-step-650: #a6a6a6;--ion-background-color-step-700: #b3b3b3;--ion-background-color-step-750: #bfbfbf;--ion-background-color-step-800: #cccccc;--ion-background-color-step-850: #d9d9d9;--ion-background-color-step-900: #e6e6e6;--ion-background-color-step-950: #f2f2f2;--ion-text-color-step-50: #f2f2f2;--ion-text-color-step-100: #e6e6e6;--ion-text-color-step-150: #d9d9d9;--ion-text-color-step-200: #cccccc;--ion-text-color-step-250: #bfbfbf;--ion-text-color-step-300: #b3b3b3;--ion-text-color-step-350: #a6a6a6;--ion-text-color-step-400: #999999;--ion-text-color-step-450: #8c8c8c;--ion-text-color-step-500: #808080;--ion-text-color-step-550: #737373;--ion-text-color-step-600: #666666;--ion-text-color-step-650: #595959;--ion-text-color-step-700: #4d4d4d;--ion-text-color-step-750: #404040;--ion-text-color-step-800: #333333;--ion-text-color-step-850: #262626;--ion-text-color-step-900: #1a1a1a;--ion-text-color-step-950: #0d0d0d;--ion-item-background: #000000;--ion-card-background: #1c1c1d}:root.ios ion-modal{--ion-background-color: var(--ion-color-step-100, var(--ion-background-color-step-100));--ion-toolbar-background: var(--ion-color-step-150, var(--ion-background-color-step-150));--ion-toolbar-border-color: var(--ion-color-step-250, var(--ion-background-color-step-250))}:root.md{--ion-background-color: #121212;--ion-background-color-rgb: 18, 18, 18;--ion-text-color: #ffffff;--ion-text-color-rgb: 255, 255, 255;--ion-background-color-step-50: #1e1e1e;--ion-background-color-step-100: #2a2a2a;--ion-background-color-step-150: #363636;--ion-background-color-step-200: #414141;--ion-background-color-step-250: #4d4d4d;--ion-background-color-step-300: #595959;--ion-background-color-step-350: #656565;--ion-background-color-step-400: #717171;--ion-background-color-step-450: #7d7d7d;--ion-background-color-step-500: #898989;--ion-background-color-step-550: #949494;--ion-background-color-step-600: #a0a0a0;--ion-background-color-step-650: #acacac;--ion-background-color-step-700: #b8b8b8;--ion-background-color-step-750: #c4c4c4;--ion-background-color-step-800: #d0d0d0;--ion-background-color-step-850: #dbdbdb;--ion-background-color-step-900: #e7e7e7;--ion-background-color-step-950: #f3f3f3;--ion-text-color-step-50: #f3f3f3;--ion-text-color-step-100: #e7e7e7;--ion-text-color-step-150: #dbdbdb;--ion-text-color-step-200: #d0d0d0;--ion-text-color-step-250: #c4c4c4;--ion-text-color-step-300: #b8b8b8;--ion-text-color-step-350: #acacac;--ion-text-color-step-400: #a0a0a0;--ion-text-color-step-450: #949494;--ion-text-color-step-500: #898989;--ion-text-color-step-550: #7d7d7d;--ion-text-color-step-600: #717171;--ion-text-color-step-650: #656565;--ion-text-color-step-700: #595959;--ion-text-color-step-750: #4d4d4d;--ion-text-color-step-800: #414141;--ion-text-color-step-850: #363636;--ion-text-color-step-900: #2a2a2a;--ion-text-color-step-950: #1e1e1e;--ion-item-background: #1e1e1e;--ion-toolbar-background: #1f1f1f;--ion-tab-bar-background: #1f1f1f;--ion-card-background: #1e1e1e}}.settings-user-header{display:flex;flex-direction:column;align-items:center;text-align:center;padding:1rem 0 2rem}.settings-avatar{width:96px;height:96px;margin-bottom:1rem;border:3px solid var(--ion-color-primary)}.settings-user-header h2{font-size:1.5rem;font-weight:700;margin:.5rem 0 .25rem}.settings-user-header p{color:var(--ion-color-medium-shade);margin:0}.settings-login-prompt{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;height:100%}.settings-login-prompt h2{margin-bottom:.5rem}.settings-login-prompt p{margin-bottom:1.5rem;color:var(--ion-color-medium)}.homepage-header,.homepage-main{padding:1rem}.socket-id{font-size:.75rem}.main{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem;gap:1rem}.main>h1{font-size:.8rem;text-align:center}.main>.form{border:1px solid white;border-radius:.5rem;padding:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem}.main>.form>.form-button{width:100%}ion-modal#loginModal{--width: fit-content;--height: fit-content;--box-shadow: 0 28px 48px rgba(var(--ion-color-dark-rgb), 1)}.loading-component-list{aspect-ratio:9/16;animation:loader infinite 1s alternate linear;border-radius:.5rem}.loading-component-card-large{aspect-ratio:1/1;width:100%;animation:loader infinite 1s alternate linear;border-radius:.5rem}.loading-component-card{aspect-ratio:9/16;width:100%;animation:loader infinite 1s alternate linear;border-radius:.5rem}@keyframes loader{0%{background-color:rgba(var(--ion-color-medium-rgb),.5);scale:1}to{background-color:rgba(var(--ion-color-medium-rgb),1);scale:1.025}}.loading-episode-name{max-width:7rem;padding:1.5rem;animation:loader infinite 1s alternate linear;border-radius:.5rem}.loading-container{width:100%;height:100%;display:flex;flex-direction:column;padding:1rem;gap:1rem}.loading-container>div{flex-grow:1}.loading-top{width:100%;display:flex;flex-direction:column;gap:1rem}.loading-image,.loading-bottom{animation:loader infinite 1s alternate linear;flex-grow:1;border-radius:.5rem}.loading-episodes{display:flex;justify-content:center;align-items:center;gap:.5rem}.loading-episode{padding:1.5rem;flex-grow:1;border-radius:.5rem;animation:loader infinite 1s alternate linear}.detail-card-container{display:flex;flex-direction:row;align-items:center}.item-card-img-container{display:flex;justify-content:center;align-items:center;border-radius:.5rem;overflow:hidden;aspect-ratio:9/16;position:relative}.item-card-img{width:100%;height:100%;object-fit:cover;position:absolute;z-index:0}.item-card-title{position:absolute;bottom:0rem;left:0rem;width:100%;z-index:1;padding:.5rem;background-color:rgba(10,10,10,.8);font-size:1rem}@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}:root{--swiper-theme-color: #007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function, initial);box-sizing:content-box}.swiper-android .swiper-slide,.swiper-ios .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-slide,.swiper-3d .swiper-cube-shadow{transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color, var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader,.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear}.swiper-lazy-preloader-white{--swiper-preloader-color: #fff}.swiper-lazy-preloader-black{--swiper-preloader-color: #000}@keyframes swiper-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.swiper-virtual .swiper-slide{-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper:after{content:"";position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper:after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper:after{width:1px;height:var(--swiper-virtual-size)}:root{--swiper-navigation-size: 44px}.swiper-button-prev,.swiper-button-next{position:absolute;top:var(--swiper-navigation-top-offset, 50%);width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size) / 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-prev.swiper-button-disabled,.swiper-button-next.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-prev.swiper-button-hidden,.swiper-button-next.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-prev,.swiper-navigation-disabled .swiper-button-next{display:none!important}.swiper-button-prev svg,.swiper-button-next svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-prev svg,.swiper-rtl .swiper-button-next svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset, 10px);right:auto}.swiper-button-lock{display:none}.swiper-button-prev:after,.swiper-button-next:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-variant:initial;line-height:1}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset, 10px);left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius, 10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color, rgba(0, 0, 0, .1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset, 1%);bottom:var(--swiper-scrollbar-bottom, 4px);top:var(--swiper-scrollbar-top, auto);z-index:50;height:var(--swiper-scrollbar-size, 4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset, 1%))}.swiper-vertical>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-vertical{position:absolute;left:var(--swiper-scrollbar-left, auto);right:var(--swiper-scrollbar-right, 4px);top:var(--swiper-scrollbar-sides-offset, 1%);z-index:50;width:var(--swiper-scrollbar-size, 4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset, 1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color, rgba(0, 0, 0, .5));border-radius:var(--swiper-scrollbar-border-radius, 10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}.swiper-zoom-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}.swiper-zoom-container>img,.swiper-zoom-container>svg,.swiper-zoom-container>canvas{max-width:100%;max-height:100%;object-fit:contain}.swiper-slide-zoomed{cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-fade .swiper-slide-active,.swiper-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-cube.swiper-rtl .swiper-slide{transform-origin:100% 0}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-next,.swiper-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:"";background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube .swiper-slide-next+.swiper-slide{pointer-events:auto;visibility:visible}.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-top,.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-bottom,.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-left,.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-right{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper.swiper-flip{overflow:visible}.swiper-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-flip .swiper-slide-active,.swiper-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-top,.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-bottom,.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-left,.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-right{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-creative .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards .swiper-slide{transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}.featured-card{width:100%;height:400px;position:relative;display:flex;flex-direction:column;justify-content:flex-end;margin:0;border-radius:var(--ion-card-border-radius, 12px);box-shadow:none;overflow:hidden}.featured-card-image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1}.featured-card-gradient{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to top,rgba(0,0,0,.9) 10%,transparent 90%);z-index:2}.featured-card-content{color:#fff;padding:1rem;position:relative;z-index:3}.featured-card-content ion-card-title{font-size:2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.featured-card-content p{font-size:.9rem;max-height:5.4em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin-bottom:1rem}.featured-card-content ion-button{--color: white;--border-color: white;--border-style: solid;--border-width: 1px;--border-radius: 20px;font-weight:700}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-pagination-fraction,.swiper-pagination-custom,.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal{bottom:var(--swiper-pagination-bottom, 8px);top:var(--swiper-pagination-top, auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius, 50%);background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-vertical>.swiper-pagination-bullets,.swiper-pagination-vertical.swiper-pagination-bullets{right:var(--swiper-pagination-right, 8px);left:var(--swiper-pagination-left, auto);top:50%;transform:translate3d(0,-50%,0)}.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color, inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color, rgba(0, 0, 0, .25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size, 4px);left:0;top:0}.swiper-vertical>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite{width:var(--swiper-pagination-progressbar-size, 4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.vjs-svg-icon{display:inline-block;background-repeat:no-repeat;background-position:center;fill:currentColor;height:1.8em;width:1.8em}.vjs-svg-icon:before{content:none!important}.vjs-svg-icon:hover,.vjs-control:focus .vjs-svg-icon{filter:drop-shadow(0 0 .25em #fff)}.vjs-modal-dialog .vjs-modal-dialog-content,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABTsAAsAAAAAIpAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV32Y21hcAAAAYQAAAEJAAAD5p42+VxnbHlmAAACkAAADtIAABckI4l972hlYWQAABFkAAAAKwAAADYsvIjpaGhlYQAAEZAAAAAdAAAAJA+RCL1obXR4AAARsAAAABcAAAC8Q2YAAGxvY2EAABHIAAAAYAAAAGB7CIGGbWF4cAAAEigAAAAfAAAAIAFAAI9uYW1lAAASSAAAASUAAAIK1cf1oHBvc3QAABNwAAABfAAAAnXdFqh1eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGR7yDiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGPHcRdyA4RZgQRADaGCyYAAHic7dPXbcMwAEXRK1vuvffem749XAbKV3bjBA6fXsaIgMMLEWoQJaAEFKNnlELyQ4K27zib5PNF6vl8yld+TKr5kH0+cUw0xv00Hwvx2DResUyFKrV4XoMmLdp06NKjz4AhI8ZMmDJjzoIlK9Zs2LJjz4EjJ85cuHLjziPe/0UWL17mf2tqKLz/9jK9f8tXpGCoRdPKhtS0RqFkWvVQNtSKoVYNtWaoddPXEBqG2jQ9XWgZattQO4baNdSeofYNdWCoQ0MdGerYUCeGOjXUmaHODXVhqEtDXRnq2lA3hro11J2h7g31YKhHQz0Z6tlQL4Z6NdSbod4N9WGoT9MfHF6GmhnZLxyDcRMAAAB4nJ1YC1hU17U+a5/HMA4iA3NmVBDmoQwP5TFnHlFeA4gYiUFRQINoSCBAyK3G2yi+0aipYtFcHYo2xsb4NiY3+VrNxSaX5uvt495ozNdoYoxmem2/L8HGpLc+InB279pnhlGr5mvL4eyz99nrrL32eu1/DQcc/okdYgdHOA6MQKp4r9gx0EcMHMezOalVasW5BM7NcXoSb9fFgE6KtSSBxWz1FYDPG+vMBGcKb9cebu2VS5s2aaTkCvRSf6C7Y+Ppibm5E09v7IDs2/3uZQtbD0zIyppwoHXh/93ukmyYgdePNRp65p5v+3v/9otQl2O7wP34cT88p8Md2YxpYLQZoRcy6FlSBRnwnGAe6BPMSCZo+7NJVqS0cE4uHendzhSnbPH6TDqL1+Nme5LZXkCHnGyoH0kne30WH+gswhm3q+pt/mTas9NLS64GnjmSlTPw0wVQT/ewRaBgxtydy3cuUB9/6SW+vb5yRvr+t0eOfPKJZ/9t3+4tL7xj32Xd3thCxi+ge6ifdsAN+l5+wi5HQ/cCoeull1AszS7CUfEcJzK7sKWJAdJhCd0sPM4+EY7QDm5ov08hXRQXE5bf6PV5Q5+IjW7X7Nku92Ask4l2hCRRD6TPqISiCJeQna3SCFwrhrNzXHzo4yFevBwxpzxk8WCIIfkvVEKVy32SbT8n68gzgaslpaiO2zIGIyuSb7RNf9HSuN26y/7OC1tgEmpiyA6aD4qcgTOiLThwGG0eB694FI8NHLLN6OBlRVaMxNAFS4JdXUG6mW8PwpKuYLCLXKGbu8iwYNdgO06Sn3Th+/vyZAxs8Ro30DjHe9gy8Fywi24OMm7Qyzh3MTZVOMYhLBnoC+J79lpTUyQmorjhnMwlcQ5uPEYGpDjsOkkH49BjQLQBqs3jFtFdJNlksYmoQFDArLh8Xh+Qd6Ghcsb6FUuehDi+U/lqD71K/qiegeV1imcwjl7ExwiSrf4BZyCujV6cVcFo6VX+G9IcPyFjJnUufbU/jzrL1X99as36reXl8K32nFaOr+E8jWJEcJ55DpMVfSMe95/AJaOsGBH2GJCNpiRQbK4C8BjdmQA22QY2j03Em13i2YHqtNLU1NI04Yj2HJgA6fQc6VPNpA/D+Ryks554NnVy2mB72uRUfPLsqR4N0LOBQKArwJYO+5W2fgZX8oC1HR6HjNaQTVIG2FPwnTcXXGZZfNB7TE6pTKZUwaw91XWLAoFFGcnB5PHjsckgBjbWutrL+0h5Y1xw3DRGDumsnXb3MJwXrJIN5U7m0rgJ3yG5w4he5ckFG4pmNEkOm0/xOO4r4yL87wqtQM+hiJIVp+6iG2wPBKD35ElGkDx+UfC2v1mFG1o+M3AjNFty8biKMXwzyxnZLds8wYD2BxmCPHAldPOeLsy/0BugftYhVYFAhO8SqQ0j3oK7dHJZnI/jxmUS4onlxskSF8thmvNZjIrRZwEPxr0lBuLRuz3oy/FOHCsxwOPYh2M+e9u3J5pgPYz9gp6G7C9m0A11F9ddqKMfV+4sbq45/YspOysXvT+3pdFdYNg2fHbW8Dz301MqDVuGrz0Fuh0YMW8mddrpqzST7rV9BcvqPoNvadRndWp0p8HvbiqrFj5yFQ/vNFSXDpxpLEFWp+DcrF3FT1afWshFcmCfeAMjEvO65i0Y6XijQfSRPWx3TV/Df7Km3E1l+kLt56s/rwVzuRusNMhudznkwdLaS+QNdeal2jDPP4l9qHc98vTYZOSkxzD+njBWVWjFPKgipx6DkWvXQiW8OYcewVHE5yukinDMcfGgc0opDltYKDxIGBedkzc6jSfE7tlvESCDFUw0Hx0opS+U0lHCxNottbNWSxX9zZVvEhKWUSyBpaXwBc2a98M6UqPeXAs/GDon8Ax7hsthO8cM5HU7Ad0UvRR9lHmtyQKZ4MAe814X5h9MSUkQmhf96eVJ6p90OjIiqSIjvykvr2l5U55O/fPQKD+jIomYpNyGJQ25uQ2kIikRfAmuBHCPsWqkSDEqgZ5KDI2sifS/R43MbZg0idFHbCPNxXxZws1ACVE6hAhOdJwRkJLFBLPZpRGYJ50pko6XzMkgmSx40ljik6AQcKhFnLcQE6rF7PXFe1Ocoj0T3AXgSgJTDIhHRfHlYZKuSzc6uievOJGXY+i5GJkkTp7UM3y0LqATDbtFcbdBxO7o4T25JYlEjoH0uynUh8rapkxp62QN70svSF+hT4gGPlovlmcm/ComLi7mV4kTykV9NFWjE/QrwgQ4uIcAP0rQF4VZYRP2o3PhHHzfPMJj9Ir+uzKUlrH49ntT18AVvj1sc3YGjUT/Mt2Dxawa8ArcA7bCQIpvfwAYu22vEG/No/5RvPdA7g+AelLrPwzy+LtkLPhnpIxH14m4EYq8eeMHbPEPNm6G7Nv9B4jcFPZ8bJj0SEjP3MPgQdKTqqEoy2v6G32P/Y6dxOv04AxnoAeq+GILvUavtYCBXm+BaIhuodcfrN5B/V2EYMCPh+SxavjGyPwV0x4CJgUPGT0mQaODGBACIJZGsMXwAD0LGXx7l3CdAcKMIKI+f5CepWeD0BvyU/GcdBxPF8SwejC6LGZmAURFdsSWKR5HyHld2kbdIZO1Ixx+bnnzU7n5+blPNV9jnUDWhP2tC68tbN3PVIldsQPxSAcSpjOav7Q05uXn5zW2LLvDXn9B6syscPy9iDLEMmSrJz6nYuWMipukjM0AH8JkGS+XFyMRkzSCH7KD/hwm172SAyZYumHlefr5AddrtA0O0TnwaVZxcRY9Bfukn9Gf05N1r9DV9MoBsJ1f+ZrqUvtPHizJAntWybv7hmqLt6QLuK6ZS9Fqi1jO5rDoWPZXXII5Tgajg53cIXCjDCGIcYrRIY2n6+mXOa/W0bdhau3ryiEYe2FV/5oeaIYK/5w5frCyll6/cYO8DiNhw6t1MBWmznt91QX62UF1N7l0eHBZTRGpKaqpKVIPF9UcIzmReud9TSY75+K899GHbBu6wjoR7RKKZVYiYxSPf5/2wJT5e3NAhmUbVn5KLx1Ujg0+BGvpAIh0DezInTkzF37KVocxrKU3r1+XLtAe2lO3l66kfQfB/unKY+q8N375Ru8bc4pJXfEcESU95q+p8ZNZRTWH1d9FzvUdYXk5rLkcdkEisoKKVHQW/b3GEx6tPaYcoJfOr9wAbSBnv1IHpep0OExr4LPMkpJM+j7sly7UHkOzXjoAZljHCGiyegtNlwljM0v+c19ET9Pvst09a2Mtgcf5/ZSzYO5h1156+eyydfAsxGa9XAuF6vzjh6CssLq6ECysperXX0sX5h5ZdpZe3guxsGIPEtHk/aqXX1hVqP5HYVVVISkrrNqvXorIc+5Ou91Hnr/LcD2afi6eX7UBloOcs7cOpqgGaNfs1g7bNbs9z6wASaylN69d0/TFTIz6Ws8+oGV3mE2612wRTHKcVUbhjKadebloMc+dyXgMVtVK6BwMB/+mVW09igdRBWaRtNQX59d/VD//xdQ0TCiYNj1KT9sq6Wdu5WTbqk3qDXyDaLa1fv621LS01G3z61sD6lH8lAxDLicV921s6Bf92JOYvzNYCL1khbqBXEFUzC521N5NyzNaQIWhjyFyDoBIVrAjmv2UEaLlI+c6zw1jmVIPLLLZZUTj6GxGHW+mq1tgHXR2D85p4Q934+jLbtjVLcyCdS10NVzpHqxp4Q/hK7WopY/NRGx9HGsPGdFjOjcpjBnGYMVqY/4eqT5khWEHWUup2A/pTw7pdWgsWft7ETUERL96nRg0HNFPmCYba6pylECaExX89A9WLUOVB4oKLu/o1oqSYHCgLzBUlAz8hNFDRpeSU1XT+LRmDUgPaKbYdHDn9suF/tu13nHJij0N97LfS0QmqONuyONk7zvUI6Qa0pF9f2+oABL92AT6e0U//z9YqAiWtJLU1JK0gS+1aacwamiNqK067u9ZQ8f1d4qLodMzz3uL89Z68V/Hnr++hXWUuHgw8dfi972PeTyPefu3aNNucemQ74qFuIaJnVkOu4Q+yjuwmmC1FqZpl1i4uzoPxjkpPf3Xv545tl26Rr+dOvUd+omqJzch9dOeU7f10Y64nMcKK137DccIZq2WdXtdZjbEoLSzHwiMtrjYLDxpHQW8gjMX6XFYAE2zSWVD04EGYSs9MbO6sEo20BMEAB4mpvSypsKjZ4Stgzb+c3A9/MQT2+vrBy+qvyFxLUtLlSRF/Ri2wjfZ2dus2Q8lXx4608/jnqK5OOap6NY2PSjYYnECCjiEeLJll/pbmqfeIK+ps3+MxrlEhqmTPipVP7kqlF4VhpEb6r+Q7YOJg38kJ9SHBf3NBl6+9YchfbUjb5ahLSzUM3kPHmwFAsZ5rpai0S7E5xWzZ1j+fW7zsUWP2g5NXTw52ySCTrgG0+lbw60l2Y/CB185CoA8NK+tbRKxfjy6pm5hzQRRR+cMqv1Jbiw6STivtEvt3DRcy0QEh92JlUGo2PG4tSKHl00YD6xc8CK+YPYyy3io2lN8BcSjKRzrIV6ypOAobqxViJPaT9M9Hy5szY33mp7OX/Zu89L/7Ww5vqY2Y8b0pKgoiUhG5cPDPzq8qTV/WkzUOIvXVVA96kmjcBrr3HrYC/Wn+fYP6Z7T1rqy3zknbvqma/FvVk96fNXGkuaXrdHW5JGSxZT/2I/O73v+yNWafMdzc5NdxYurHs6h86e01sLKLz9EBrg+x36rxAaED7hRnAMx7Vzu+9wabh3zG8XLQjx0ablUJzmxdErxYT3kzQSd0SSafVqF5PXgpp0OyYJ1EyNHpGUZmvK575ySzd85JSqF7IBzSAbMM04+MbE58xF3/njXOGecSaermlw2y9PsSQdytLJVr8t+wg+rR8cZYoeNxVIzNdk3Bngi8U5LAlgTFoQnzJCa5EsCgYhCaGL+qPj7TdhG31p9tej3R04N//PXxNwJvyUqwaJqRPJY98TJ5TPndmflRAkAhBfe46sfKW5wizSge08Xb7Ca/GUVs55trngkKkrUS2WPzKttaaqq+idmahugkY+W6fN0I6i3gPt/x88U4wAAeJxjYGRgYADiGU9YXsXz23xl4GZnAIFH7fO+IdMc/WBxDgYmEAUASbMKwAB4nGNgZGBgZwABjj4Ghv//OfoZGBlQgT4ARicDZAAAAHicY2BgYGAfxJijD8Fmu4EqBwCSpgKpAAAAAAAADgBoAH4AzADgAQIBQgFsAZgB7gIuAooC0AL8A2IDjAOoA+AEMASwBNoFCAVaBcAGCAYuBnAGrAb2B04HigfSCCoIcAiGCJwIyAkkCVYJiAmsCfIKIApWCsQLknicY2BkYGDQZ2hmYGcAASYg5gJCBob/YD4DABqrAdAAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2ReVPbMBDF/ULi2EkDBFqO3gdHLxUzDB9IkdexBllydRD49ihO3Ckz7B/a31utZnafkkGyiXnyclxhgB0MMUKKMTLkmGCKV5hhF3vYxxwHOMRrvMERjnGCU7zFO7zHB3zEJ3zGF3zFN5zhHBe4xHf8wE/8wm8w/MEVimTYKv44XR9MSCsUjVoeHE3vjQoNsSZ4mmxZmVWPjSz7jlou6/0qKOWEJdKMtCe793/hQfqxa6XWZHMXFl56RS4TvPXSaDeoy0zUUZB109KstDK8lHo5q6Qi1hcOnqkImubPS6aqRq7mlnaEWabub4iYblba3SRmgldS0+FWdhNtt04F14JUaqkl7tcpOpJtErvNt3Bd9HRT5JWxK25Ldjvp6br4hzfFiIdSmlzTg2fSUzNrLd1LE1ynxq4OVaVoKLjzJ60UPtj1RKzHzsbjly6inVnFBS2MucviPncU7Rr7lfTxRepDs1A2j3ZHRc7PuzFYSfE3ZOd4kjwBy227hA==) format("woff");font-weight:400;font-style:normal}.vjs-icon-play,.video-js .vjs-play-control .vjs-icon-placeholder,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{content:""}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:""}.vjs-icon-pause,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pause:before,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-mute,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mute:before,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-low,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-low:before,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-mid,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mid:before,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-high,.video-js .vjs-mute-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-high:before,.video-js .vjs-mute-control .vjs-icon-placeholder:before{content:""}.vjs-icon-fullscreen-enter,.video-js .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-enter:before,.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before{content:""}.vjs-icon-fullscreen-exit,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-exit:before,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before{content:""}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:""}.vjs-icon-subtitles,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-subtitles:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before{content:""}.vjs-icon-captions,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-captions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-captions:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-captions-button .vjs-icon-placeholder:before{content:""}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:""}.vjs-icon-chapters,.video-js .vjs-chapters-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-chapters:before,.video-js .vjs-chapters-button .vjs-icon-placeholder:before{content:""}.vjs-icon-downloading{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-downloading:before{content:""}.vjs-icon-file-download{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download:before{content:""}.vjs-icon-file-download-done{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download-done:before{content:""}.vjs-icon-file-download-off{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download-off:before{content:""}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:""}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:""}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:""}.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder,.video-js .vjs-volume-level,.video-js .vjs-play-progress{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before,.video-js .vjs-volume-level:before,.video-js .vjs-play-progress:before{content:""}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:""}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:""}.vjs-icon-cancel,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cancel:before,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before{content:""}.vjs-icon-repeat{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-repeat:before{content:""}.vjs-icon-replay,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay:before,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before{content:""}.vjs-icon-replay-5,.video-js .vjs-skip-backward-5 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay-5:before,.video-js .vjs-skip-backward-5 .vjs-icon-placeholder:before{content:""}.vjs-icon-replay-10,.video-js .vjs-skip-backward-10 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay-10:before,.video-js .vjs-skip-backward-10 .vjs-icon-placeholder:before{content:""}.vjs-icon-replay-30,.video-js .vjs-skip-backward-30 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay-30:before,.video-js .vjs-skip-backward-30 .vjs-icon-placeholder:before{content:""}.vjs-icon-forward-5,.video-js .vjs-skip-forward-5 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-forward-5:before,.video-js .vjs-skip-forward-5 .vjs-icon-placeholder:before{content:""}.vjs-icon-forward-10,.video-js .vjs-skip-forward-10 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-forward-10:before,.video-js .vjs-skip-forward-10 .vjs-icon-placeholder:before{content:""}.vjs-icon-forward-30,.video-js .vjs-skip-forward-30 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-forward-30:before,.video-js .vjs-skip-forward-30 .vjs-icon-placeholder:before{content:""}.vjs-icon-audio,.video-js .vjs-audio-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio:before,.video-js .vjs-audio-button .vjs-icon-placeholder:before{content:""}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:""}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:""}.vjs-icon-shuffle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-shuffle:before{content:""}.vjs-icon-cast{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cast:before{content:""}.vjs-icon-picture-in-picture-enter,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-enter:before,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:""}.vjs-icon-picture-in-picture-exit,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-exit:before,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:""}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:""}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:""}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:""}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:""}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:""}.vjs-icon-audio-description,.video-js .vjs-descriptions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio-description:before,.video-js .vjs-descriptions-button .vjs-icon-placeholder:before{content:""}.video-js{display:inline-block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js *:before,.video-js *:after{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-fluid,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-1-1{width:100%;max-width:100%}.video-js.vjs-fluid:not(.vjs-audio-only-mode),.video-js.vjs-16-9:not(.vjs-audio-only-mode),.video-js.vjs-4-3:not(.vjs-audio-only-mode),.video-js.vjs-9-16:not(.vjs-audio-only-mode),.video-js.vjs-1-1:not(.vjs-audio-only-mode){height:0}.video-js.vjs-16-9:not(.vjs-audio-only-mode){padding-top:56.25%}.video-js.vjs-4-3:not(.vjs-audio-only-mode){padding-top:75%}.video-js.vjs-9-16:not(.vjs-audio-only-mode){padding-top:177.7777777778%}.video-js.vjs-1-1:not(.vjs-audio-only-mode){padding-top:100%}.video-js.vjs-fill:not(.vjs-audio-only-mode){width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.video-js.vjs-audio-only-mode .vjs-tech{display:none}body.vjs-full-window,body.vjs-pip-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen,body.vjs-pip-window .video-js{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs),body.vjs-pip-window .video-js{width:100%!important;height:100%!important;padding-top:0!important;display:block}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-pip-container .vjs-pip-text{position:absolute;bottom:10%;font-size:2em;background-color:rgba(0,0,0,.7);padding:.5em;text-align:center;width:100%}.vjs-layout-tiny.vjs-pip-container .vjs-pip-text,.vjs-layout-x-small.vjs-pip-container .vjs-pip-text,.vjs-layout-small.vjs-pip-container .vjs-pip-text{bottom:0;font-size:1.4em}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:50%;left:50%;padding:0;margin-top:-.81666em;margin-left:-1.5em;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-button .vjs-svg-icon{width:1em;height:1em;position:absolute;top:50%;left:50%;line-height:1;transform:translate(-50%,-50%)}.video-js:hover .vjs-big-play-button,.video-js .vjs-big-play-button:focus{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button,.vjs-error .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause:not(.vjs-seeking,.vjs-scrubbing,.vjs-error) .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.video-js.vjs-spatial-navigation-enabled .vjs-button:focus{outline:.0625em solid white;box-shadow:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{display:flex;justify-content:center;list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover,.js-focus-visible .vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.js-focus-visible .vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-selected .vjs-svg-icon,.vjs-menu li.vjs-selected:focus .vjs-svg-icon,.vjs-menu li.vjs-selected:hover .vjs-svg-icon,.js-focus-visible .vjs-menu li.vjs-selected:hover .vjs-svg-icon{fill:#000}.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible){background:none}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0em;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-pip-window .vjs-menu-button-popup .vjs-menu{left:unset;right:1em}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,.vjs-menu-button-popup .vjs-menu.vjs-lock-showing{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline:hover,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline.vjs-slider-active{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline:hover .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline.vjs-slider-active .vjs-menu{display:block;opacity:1}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js.vjs-spatial-navigation-enabled .vjs-control-bar{gap:1px}.video-js:not(.vjs-controls-disabled,.vjs-using-native-controls,.vjs-error) .vjs-control-bar.vjs-lock-showing{display:flex!important}.vjs-has-started .vjs-control-bar,.vjs-audio-only-mode .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar,.vjs-error .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible;pointer-events:auto}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.video-js .vjs-control.vjs-visible-text{width:auto;padding-left:1em;padding-right:1em}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.vjs-button>.vjs-svg-icon{display:inline-block}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before,.video-js .vjs-control:focus{text-shadow:0em 0em 1em white}.video-js *:not(.vjs-visible-text)>.vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder,.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;line-height:.35em;z-index:1}.vjs-svg-icons-enabled .vjs-play-progress:before{content:none!important}.vjs-play-progress .vjs-svg-icon{position:absolute;top:-.35em;right:-.4em;width:.9em;height:.9em;pointer-events:none;line-height:.15em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.video-js .vjs-progress-control:hover .vjs-mouse-display,.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0em 0em 1em white;box-shadow:0 0 1em #fff}.video-js.vjs-spatial-navigation-enabled .vjs-slider:focus{outline:.0625em solid white}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-svg-icons-enabled .vjs-volume-level:before{content:none}.vjs-volume-level .vjs-svg-icon{position:absolute;width:.9em;height:.9em;pointer-events:none;z-index:1}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{line-height:.35em;right:-.5em}.vjs-slider-horizontal .vjs-volume-level .vjs-svg-icon{right:-.3em;transform:translateY(-50%)}.vjs-slider-vertical .vjs-volume-level .vjs-svg-icon{top:-.55em;transform:translate(-50%)}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.vjs-poster{display:inline-block;vertical-align:middle;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster,.vjs-using-native-controls .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster,.vjs-has-started.vjs-audio-poster-mode .vjs-poster,.vjs-pip-container.vjs-has-started .vjs-poster{display:block}.vjs-poster img{width:100%;height:100%;object-fit:contain}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.video-js:not(.vjs-live) .vjs-live-control,.video-js.vjs-liveui .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-svg-icons-enabled .vjs-seek-to-live-control{line-height:0}.vjs-seek-to-live-control .vjs-svg-icon{width:1em;height:1em;pointer-events:none;fill:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-svg-icon{fill:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control,.vjs-live .vjs-time-divider,.video-js .vjs-current-time,.video-js .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-normalise-time-controls:not(.vjs-live) .vjs-time-control{display:flex}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.vjs-error .vjs-text-track-display{display:none}.video-js.vjs-controls-disabled .vjs-text-track-display,.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js.vjs-force-center-align-cues .vjs-text-track-cue{text-align:center!important;width:80%!important}@supports not (inset: 10px){.video-js .vjs-text-track-display>div{top:0;right:0;bottom:0;left:0}}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control,.vjs-pip-window .vjs-picture-in-picture-control{display:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-fullscreen-control,.vjs-pip-window .vjs-fullscreen-control{display:none}.vjs-playback-rate>.vjs-menu-button,.vjs-playback-rate .vjs-playback-rate-value{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.85;text-align:left;border:.6em solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:5em;height:5em;border-radius:50%;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:flex;justify-content:center;align-items:center;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-error .vjs-loading-spinner{display:none}.vjs-loading-spinner:before,.vjs-loading-spinner:after{content:"";position:absolute;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:before,.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after{animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.video-js.vjs-audio-only-mode .vjs-captions-button{display:none}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-audio-only-mode .vjs-descriptions-button{display:none}.vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-svg-icon{width:1.5em;height:1.5em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"";font-size:1.5em;line-height:inherit}.video-js.vjs-audio-only-mode .vjs-subs-caps-button{display:none}.video-js .vjs-audio-button+.vjs-menu .vjs-descriptions-menu-item .vjs-menu-item-text .vjs-icon-placeholder,.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-descriptions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before,.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" ";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-volume-control{display:none}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover{width:auto;width:initial}.video-js.vjs-layout-x-small .vjs-progress-control,.video-js.vjs-layout-tiny .vjs-progress-control{display:none}.video-js.vjs-layout-x-small .vjs-custom-control-spacer{flex:auto;display:block}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-spatial-navigation-enabled .vjs-modal-dialog.vjs-text-track-settings{height:80%}.vjs-error .vjs-text-track-settings{display:none}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-font,.vjs-text-track-settings .vjs-track-settings-controls{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display: grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-text-track-settings select{font-size:inherit}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:10px;border:none}.vjs-text-track-settings fieldset span{display:inline-block;padding:0 .6em .8em}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;font-weight:700;font-size:1.2em}.vjs-text-track-settings .vjs-label{margin:0 .5em .5em 0}.vjs-track-settings-controls button:focus,.vjs-track-settings-controls button:active{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}.vjs-title-bar{background:rgba(0,0,0,.9);background:linear-gradient(180deg,rgba(0,0,0,.9),rgba(0,0,0,.7) 60%,rgba(0,0,0,0));font-size:1.2em;line-height:1.5;transition:opacity .1s;padding:.666em 1.333em 4em;pointer-events:none;position:absolute;top:0;width:100%}.vjs-error .vjs-title-bar{display:none}.vjs-title-bar-title,.vjs-title-bar-description{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vjs-title-bar-title{font-weight:700;margin-bottom:.333em}.vjs-playing.vjs-user-inactive .vjs-title-bar{opacity:0;transition:opacity 1s}.video-js .vjs-skip-forward-5,.video-js .vjs-skip-forward-10,.video-js .vjs-skip-forward-30,.video-js .vjs-skip-backward-5,.video-js .vjs-skip-backward-10,.video-js .vjs-skip-backward-30{cursor:pointer}.video-js .vjs-transient-button{position:absolute;height:3em;display:flex;align-items:center;justify-content:center;background-color:rgba(50,50,50,.5);cursor:pointer;opacity:1;transition:opacity 1s}.video-js:not(.vjs-has-started) .vjs-transient-button{display:none}.video-js.not-hover .vjs-transient-button:not(.force-display),.video-js.vjs-user-inactive .vjs-transient-button:not(.force-display){opacity:0}.video-js .vjs-transient-button span{padding:0 .5em}.video-js .vjs-transient-button.vjs-left{left:1em}.video-js .vjs-transient-button.vjs-right{right:1em}.video-js .vjs-transient-button.vjs-top{top:1em}.video-js .vjs-transient-button.vjs-near-top{top:4em}.video-js .vjs-transient-button.vjs-bottom{bottom:4em}.video-js .vjs-transient-button:hover{background-color:rgba(50,50,50,.9)}@media print{.video-js>*:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js *:focus:not(.focus-visible){outline:none}.video-js *:focus:not(:focus-visible){outline:none}.player-container{aspect-ratio:16/9;display:flex;justify-content:center;align-items:center}.player-container>div{width:100%;height:100%}.info-details-container{padding-top:1rem}.info-actions{margin-bottom:1rem}.similar-media-section{margin-top:2rem}.similar-media-section h2{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.infopage-selectors{display:flex;flex-direction:column;gap:1rem;padding:1rem 0}.chat-header-avatar{width:36px;height:36px;margin-left:8px}.chat-messages-container{display:flex;flex-direction:column}.chat-input-toolbar{--padding-start: 8px;--padding-end: 8px}.chat-input{--background: var(--ion-color-light-tint);border-radius:20px;--padding-start: 16px;--padding-end: 16px}.chat-form{display:flex;align-items:center;width:100%}.chat-footer-wrapper{width:100%}.reply-preview-container{display:flex;align-items:center;padding:4px 8px 4px 16px;border-left:3px solid var(--ion-color-primary);background-color:var(--ion-color-light-tint);animation:fadeIn .2s ease-in}.reply-preview-content{flex-grow:1;overflow:hidden}.reply-preview-sender{font-size:.8rem;font-weight:700;color:var(--ion-color-primary);margin:0}.reply-preview-text{font-size:.9rem;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ion-color-medium-shade)}.reply-preview-close{--padding-start: 4px;--padding-end: 4px}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.chat-message-wrapper{display:flex;align-items:flex-end;margin-bottom:.5rem;max-width:80%;user-select:none}.chat-message-wrapper.sent{margin-left:auto;flex-direction:row-reverse}.chat-message-wrapper.received{margin-right:auto}.chat-avatar{width:32px;height:32px;margin-right:8px;margin-bottom:4px}.chat-bubble{padding:8px 12px;border-radius:18px;color:#fff;position:relative;overflow:hidden}.chat-bubble.sent{background:var(--ion-color-primary);border-bottom-right-radius:4px}.chat-bubble.received{background:var(--ion-color-medium-shade);border-bottom-left-radius:4px}.chat-content{position:relative}.chat-text{margin:0;padding-right:3.5rem;word-wrap:break-word;white-space:pre-wrap}.chat-timestamp{font-size:.7rem;color:rgba(255,255,255,.8);position:absolute;bottom:0;right:0;margin:0}.chat-text+.chat-timestamp{position:relative;float:right;margin-left:8px;margin-top:4px}.chat-media-image{max-width:250px;display:block}.chat-media-video,.chat-media-audio{width:100%;max-width:250px;display:block}.chat-media-image+.chat-timestamp,.chat-media-video+.chat-timestamp,.chat-media-audio+.chat-timestamp{background:rgba(0,0,0,.4);padding:1px 5px;border-radius:8px}.reply-context{background-color:rgba(0,0,0,.2);border-left:3px solid var(--ion-color-secondary);border-radius:4px;padding:4px 8px;margin-bottom:6px;max-width:100%}.reply-sender{font-size:.8rem;font-weight:700;color:var(--ion-color-secondary);margin:0}.reply-text{font-size:.9rem;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.9}.watch-together-container{position:relative}.watch-together-button{position:absolute;bottom:8px;left:8px;--color: #fff;--background: rgba(0, 0, 0, .6);--border-radius: 20px;height:32px;font-size:.8rem;text-transform:none}.watch-together-player{position:sticky;top:0;background:var(--ion-color-dark-shade);z-index:1000;padding:8px;border-bottom:1px solid var(--ion-color-step-250, #333);box-shadow:0 2px 8px rgba(0,0,0,.3);animation:slideInDown .3s ease-out}.player-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.player-title{margin:0;font-size:.9rem;font-weight:700;color:var(--ion-color-light);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.media-element{width:100%;border-radius:4px}@keyframes slideInDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.user-profile-container{display:flex;flex-direction:column;align-items:center;text-align:center;padding-top:2rem}.user-profile-avatar{width:128px;height:128px;margin-bottom:1rem;border:4px solid var(--ion-color-primary)}.user-profile-name{font-size:1.8rem;font-weight:700;margin:.5rem 0}.user-profile-email{color:var(--ion-color-medium-shade);margin-bottom:1rem}.user-profile-created{color:var(--ion-color-medium);font-size:.9rem;margin-bottom:2rem}.user-profile-actions{width:100%;max-width:300px}.user-profile-actions ion-button{margin-top:.5rem}.spinner-container,.user-not-found{display:flex;justify-content:center;align-items:center;height:100%}\n',document.head.appendChild(i),t({$:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e,t){return ZC(e).setPersistence(t)},A:xH,B:wN,C:async function(e,t){await async function(e,t){return JA(e,"POST","/v1/accounts:update",QA(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(ZC(e),{oobCode:t})},D:async function(e,t,n){if(dA(e.app))return Promise.reject(RA(e));const i=qP(e),r=iD(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ID,"EMAIL_PASSWORD_PROVIDER"),o=await r.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&FD(e),t})),s=await AD._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(s.user),s},F:async function(e,t,n){
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */await async function(e,t){return JA(e,"POST","/v1/accounts:resetPassword",QA(e,t))}(ZC(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&FD(e),t}))},G:async function(e){return ZC(e).delete()}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */,H:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t){const n=$A()?zA():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:r}=
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */await async function(e,t){return JA(e,"POST","/v1/accounts:createAuthUri",QA(e,t))}(ZC(e),i);return r||[]},I:async function(e,t){return await qP(e)._initializationPromise,$O(e,t,!1)},J:function(e,t){const n=yD.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)},S:async function(e,t,n){const i=ZC(e);await RD(!1,i,"phone");const r=await SO(i.auth,t,ZC(n));return new TO(r,(e=>UD(i,e)))},U:vP,V:function(e,t){const n=qP(e);return n.revokeAccessToken(t)},X:async function(e,t){const n=ZC(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&BD(n.auth,i,t);const{email:r}=await async function(e,t){return dD(e,t)}(n.auth,i);r!==e.email&&await e.reload()},Y:async function(e,t,n){const i=qP(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&BD(i,r,n);await iD(i,r,"getOobCode",uD,"EMAIL_PASSWORD_PROVIDER")},Z:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t,n){const i=qP(e),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};(function(e,t){UA(t.handleCodeInApp,i,"argument-error"),t&&BD(i,e,t)})(r,n),await iD(i,r,"getOobCode",hD,"EMAIL_PASSWORD_PROVIDER")},a4:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e){var t;if(dA(e.app))return Promise.reject(RA(e));const n=qP(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new AD({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await ID(n,{returnSecureToken:!0}),r=await AD._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */,a5:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t){if(dA(e.app))return Promise.reject(RA(e));const n=qP(e),i=
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */await async function(e,t){return eP(e,"POST","/v1/accounts:signInWithCustomToken",QA(e,t))}(n,{token:t,returnSecureToken:!0}),r=await AD._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */,a6:function(e,t,n){if(dA(e.app))return Promise.reject(RA(e));return MD(ZC(e),wD.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&FD(e),t}))},a7:async function(e,t,n){if(dA(e.app))return Promise.reject(RA(e));const i=ZC(e),r=wD.credentialWithLink(t,n||zA());return UA(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),MD(i,r)},a8:async function(e,t,n){if(dA(e.app))return Promise.reject(RA(e));const i=qP(e),r=await SO(i,t,ZC(n));return new TO(r,(e=>MD(i,e)))},a9:
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t){const n=ZC(e);await RD(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return JA(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=ND(i||[]);n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null);return await n.auth._persistUserIfCurrent(n),n},aA:zz,aB:cV,aC:R$,aD:function(e,t){if(e=FL(e,Fz),RL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new uL(dL.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $z(e,null,function(e){return new Bj(DL.emptyPath(),e)}(t))},aE:function(...e){return e.forEach((e=>Y$("and",e))),U$._create("and",e)},aF:function(...e){return e.forEach((e=>Y$("or",e))),U$._create("or",e)},aG:M$,aH:function(...e){return V$._create("endBefore",e,!1)},aI:function(...e){return V$._create("endAt",e,!0)},aJ:function(...e){return $$._create("startAfter",e,!1)},aK:function(...e){return $$._create("startAt",e,!0)},aL:function(e){return zL("limitToLast",e),z$._create("limitToLast",e,"L")},aM:function(e){return zL("limit",e),z$._create("limit",e,"F")},aN:F$,aO:LV,aP:function(e,t,n){return function(e,t){const n=n=>function(e,t,n,i){const r=e._url(t);return PV(e,r,n,i)}(e,t,n,{});return n.stream=(n,i)=>function(e,t,n,i){const r=e._url(t);return DV(e,r,n,i||{})}(e,t,n,i),n}(ZC(e),t)},aQ:function(e,t,n){return function(e,t){const n=n=>PV(e,t,n,{});return n.stream=(n,i)=>DV(e,t,n,i||{}),n}(ZC(e),t)},aR:RV,aa:function(e,t){const n=ZC(e);if(dA(n.auth.app))return Promise.reject(RA(n.auth));return zD(n,t,null)},ab:function(e,t){return zD(ZC(e),null,t)},ac:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=ZC(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await mP(i,
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t){return JA(e,"POST","/v1/accounts:update",t)}(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL);await i._updateTokensIfNecessary(o)},ad:rD,ae:async function(e,t,n){const i=ZC(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&BD(i.auth,r,n);const{email:o}=await async function(e,t){return dD(e,t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(i.auth,r);o!==e.email&&await e.reload()},af:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e,t,n){return async function(e,t,n){if(dA(e.app))return Promise.reject(RA(e));const i=qP(e);jA(e,t,_D),await i._initializationPromise;const r=CO(i,n);return await UO(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)},ag:async function(e,t,n){if(dA(e.app))return Promise.reject(NA(e,"operation-not-supported-in-this-environment"));const i=qP(e);jA(e,t,_D);const r=CO(i,n);return new LO(i,"signInViaPopup",t,r).executeNotNull()},ah:function(e,t,n){return async function(e,t,n){const i=ZC(e);jA(i.auth,t,_D),await i.auth._initializationPromise;const r=CO(i.auth,n);await RD(!1,i,t.providerId),await UO(r,i.auth);const o=await async function(e){const t=iO(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(i);return r._openRedirect(i.auth,t,"linkViaRedirect",o)}(e,t,n)},ai:async function(e,t,n){const i=ZC(e);jA(i.auth,t,_D);const r=CO(i.auth,n);return new LO(i.auth,"linkViaPopup",t,r,i).executeNotNull()},aj:UD,al:function(e){const{user:t,_tokenResponse:n}=e;if(t.isAnonymous&&!n)return{providerId:null,isNewUser:!1,profile:null};
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */return function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=hP(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i){return new $D(o,"anonymous"!==i&&"custom"!==i?i:null)}}if(!i)return null;switch(i){case"facebook.com":return new qD(o,r);case"github.com":return new HD(o,r);case"google.com":return new WD(o,r);case"twitter.com":return new GD(o,r,e.screenName||null);case"custom":case"anonymous":return new $D(o,null);default:return new $D(o,i,r)}}(n)},am:Jz,an:lV,ao:Hz,ap:oV,aq:Wz,ar:nV,as:sV,at:aV,au:
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){return Zz(e=FL(e,Qz)),new hV(e,(t=>dV(e,t)))},av:rV,aw:function(e){return function(e,t){const n=FL(e.firestore,Qz),i=Zz(n),r=function(e,t){const n=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.push(t(e[i],i,e));return n}(t,((e,t)=>new YM(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const i=new hL;return e.asyncQueue.enqueueAndForget((async()=>{try{const r=await function(e){return Dz(e).then((e=>e.datastore))}(e);i.resolve(async function(e,t,n){var i;const r=cL(e),{request:o,ft:s,parent:a}=function(e,t,n){const{Vt:i,parent:r}=OU(e,t),o={},s=[];let a=0;return n.forEach((e=>{const t="aggregate_"+a++;o[t]=e.alias,"count"===e.aggregateType?s.push({alias:t,count:{}}):"avg"===e.aggregateType?s.push({alias:t,avg:{field:UU(e.fieldPath)}}):"sum"===e.aggregateType&&s.push({alias:t,sum:{field:UU(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},ft:o,parent:r}}(r.serializer,function(e){const t=cL(e);return t.de||(t.de=Hj(t,e.explicitOrderBy)),t.de}(t),n);r.connection.Qo||delete o.parent;const l=(await r.Jo("RunAggregationQuery",r.serializer.databaseId,a,o,1)).filter((e=>!!e.result));lL(1===l.length,64727);const c=null===(i=l[0].result)||void 0===i?void 0:i.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[s[t]]=c[t],e)),{})}(r,t,n))}catch(e){i.reject(e)}})),i.promise
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}(i,e._query,r).then((t=>function(e,t,n){const i=new iV(e);return new t$(t,i,n)}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(n,e,t)))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,{count:new e$("count")})},ax:function(e){if(e._initialized&&!e._terminated)throw new uL(dL.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new hL;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!iR.C())return Promise.resolve();const t=e+yB;await iR.delete(t)}(function(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},ay:function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Oz(e),n=await Nz(e);return t.setNetworkEnabled(!0),function(e){const t=cL(e);return t.Ia.delete(0),iF(t)}(n)}))}(Zz(e=FL(e,Qz)))},az:function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Oz(e),n=await Nz(e);return t.setNetworkEnabled(!1),async function(e){const t=cL(e);t.Ia.add(0),await rF(t),t.Aa.set("Offline")}(n)}))}(Zz(e=FL(e,Qz)))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */,o:_H,q:wH,t:function(e){return e=ZC(e),dH(e)},u:yH,v:function(e){return e=ZC(e),aH(e)},x:function(e,t){return e=ZC(e),sH(e,t)},y:function(e,t){return e=ZC(e),lH(e,t)},z:function(e,t,n){return e=ZC(e),oH(e,t,n)}});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})})),n}var a={exports:{}},l={},c=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function u(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var r in n={},t)"key"!==r&&(n[r]=t[r]);else n=t;return t=n.ref,{$$typeof:c,type:e,key:i,ref:void 0!==t?t:null,props:n}}l.Fragment=d,l.jsx=u,l.jsxs=u,a.exports=l;var h=a.exports,p={exports:{}},m={},f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function P(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||C}function D(){}function O(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||C}P.prototype.isReactComponent={},P.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},P.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D.prototype=P.prototype;var N=O.prototype=new D;N.constructor=O,I(N,P.prototype),N.isPureReactComponent=!0;var L=Array.isArray,R={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function M(e,t,n,i,r,o){return n=o.ref,{$$typeof:f,type:e,key:t,ref:void 0!==n?n:null,props:o}}function U(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var B=/\/+/g;function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return i[e]}))):t.toString(36);var n,i}function z(){}function $(e,t,n,i,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s,a,l=!1;if(null===e)l=!0;else switch(o){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case f:case g:l=!0;break;case S:return $((l=e._init)(e._payload),t,n,i,r)}}if(l)return r=r(e),l=""===i?"."+F(e,0):i,L(r)?(n="",null!=l&&(n=l.replace(B,"$&/")+"/"),$(r,t,n,"",(function(e){return e}))):null!=r&&(U(r)&&(s=r,a=n+(null==r.key||e&&e.key===r.key?"":(""+r.key).replace(B,"$&/")+"/")+l,r=M(s.type,a,void 0,0,0,s.props)),t.push(r)),1;l=0;var c,d=""===i?".":i+":";if(L(e))for(var u=0;u<e.length;u++)l+=$(i=e[u],t,n,o=d+F(i,u),r);else if("function"==typeof(u=null===(c=e)||"object"!=typeof c?null:"function"==typeof(c=E&&c[E]||c["@@iterator"])?c:null))for(e=u.call(e),u=0;!(i=e.next()).done;)l+=$(i=i.value,t,n,o=d+F(i,u++),r);else if("object"===o){if("function"==typeof e.then)return $(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(z,z):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function V(e,t,n){if(null==e)return e;var i=[],r=0;return $(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function q(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var H="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function W(){}m.Children={map:V,forEach:function(e,t,n){V(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return V(e,(function(){t++})),t},toArray:function(e){return V(e,(function(e){return e}))||[]},only:function(e){if(!U(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},m.Component=P,m.Fragment=b,m.Profiler=y,m.PureComponent=O,m.StrictMode=v,m.Suspense=k,m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,m.act=function(){throw Error("act(...) is not supported in production builds of React.")},m.cache=function(e){return function(){return e.apply(null,arguments)}},m.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=I({},e.props),r=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!j.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(i[o]=t[o]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];i.children=s}return M(e.type,r,void 0,0,0,i)},m.createContext=function(e){return(e={$$typeof:_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:w,_context:e},e},m.createElement=function(e,t,n){var i,r={},o=null;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)j.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return M(e,o,void 0,0,0,r)},m.createRef=function(){return{current:null}},m.forwardRef=function(e){return{$$typeof:x,render:e}},m.isValidElement=U,m.lazy=function(e){return{$$typeof:S,_payload:{_status:-1,_result:e},_init:q}},m.memo=function(e,t){return{$$typeof:T,type:e,compare:void 0===t?null:t}},m.startTransition=function(e){var t=R.T,n={};R.T=n;try{var i=e(),r=R.S;null!==r&&r(n,i),"object"==typeof i&&null!==i&&"function"==typeof i.then&&i.then(W,H)}catch(zH){H(zH)}finally{R.T=t}},m.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},m.use=function(e){return R.H.use(e)},m.useActionState=function(e,t,n){return R.H.useActionState(e,t,n)},m.useCallback=function(e,t){return R.H.useCallback(e,t)},m.useContext=function(e){return R.H.useContext(e)},m.useDebugValue=function(){},m.useDeferredValue=function(e,t){return R.H.useDeferredValue(e,t)},m.useEffect=function(e,t){return R.H.useEffect(e,t)},m.useId=function(){return R.H.useId()},m.useImperativeHandle=function(e,t,n){return R.H.useImperativeHandle(e,t,n)},m.useInsertionEffect=function(e,t){return R.H.useInsertionEffect(e,t)},m.useLayoutEffect=function(e,t){return R.H.useLayoutEffect(e,t)},m.useMemo=function(e,t){return R.H.useMemo(e,t)},m.useOptimistic=function(e,t){return R.H.useOptimistic(e,t)},m.useReducer=function(e,t,n){return R.H.useReducer(e,t,n)},m.useRef=function(e){return R.H.useRef(e)},m.useState=function(e){return R.H.useState(e)},m.useSyncExternalStore=function(e,t,n){return R.H.useSyncExternalStore(e,t,n)},m.useTransition=function(){return R.H.useTransition()},m.version="19.0.0",p.exports=m;var G=p.exports;const Y=o(G);var K={exports:{}},X={},Q={exports:{}},J={};
/**
             * @license React
             * scheduler.production.js
             *
             * Copyright (c) Meta Platforms, Inc. and affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(!(0<r(o,t)))break e;e[i]=t,e[n]=o,n=i}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,d=e[c];if(0>r(l,n))c<o&&0>r(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<o&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,p=!1,m=!1,f=!1,g="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var r=n(c);null!==r;){if(null===r.callback)i(c);else{if(!(r.startTime<=e))break;i(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function w(e){if(f=!1,y(e),!m)if(null!==n(l))m=!0,P();else{var t=n(c);null!==t&&D(w,t.startTime-e)}}var _,x=!1,k=-1,T=5,S=-1;function E(){return!(e.unstable_now()-S<T)}function C(){if(x){var t=e.unstable_now();S=t;var r=!0;try{e:{m=!1,f&&(f=!1,b(k),k=-1),p=!0;var o=h;try{t:{for(y(t),u=n(l);null!==u&&!(u.expirationTime>t&&E());){var s=u.callback;if("function"==typeof s){u.callback=null,h=u.priorityLevel;var a=s(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){u.callback=a,y(t),r=!0;break t}u===n(l)&&i(l),y(t)}else i(l);u=n(l)}if(null!==u)r=!0;else{var d=n(c);null!==d&&D(w,d.startTime-t),r=!1}}break e}finally{u=null,h=o,p=!1}r=void 0}}finally{r?_():x=!1}}}if("function"==typeof v)_=function(){v(C)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=C,_=function(){A.postMessage(null)}}else _=function(){g(C,0)};function P(){x||(x=!0,_())}function D(t,n){k=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,P())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(i,r,o){var s=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,i){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return i={id:d++,callback:r,priorityLevel:i,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(i.sortIndex=o,t(c,i),null===n(l)&&i===n(c)&&(f?(b(k),k=-1):f=!0,D(w,o-s))):(i.sortIndex=a,t(l,i),m||p||(m=!0,P())),i},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(J),Q.exports=J;var Z=Q.exports,ee={exports:{}},te={},ne=G;function ie(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function re(){}var oe={d:{f:re,r:function(){throw Error(ie(522))},D:re,C:re,L:re,m:re,X:re,S:re,M:re},p:0,findDOMNode:null},se=Symbol.for("react.portal");var ae=ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function le(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,te.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(ie(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:se,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},te.flushSync=function(e){var t=ae.T,n=oe.p;try{if(ae.T=null,oe.p=2,e)return e()}finally{ae.T=t,oe.p=n,oe.d.f()}},te.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,oe.d.C(e,t))},te.prefetchDNS=function(e){"string"==typeof e&&oe.d.D(e)},te.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=le(n,t.crossOrigin),r="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?oe.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):"script"===n&&oe.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},te.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=le(t.as,t.crossOrigin);oe.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&oe.d.M(e)},te.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=le(n,t.crossOrigin);oe.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},te.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=le(t.as,t.crossOrigin);oe.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else oe.d.m(e)},te.requestFormReset=function(e){oe.d.r(e)},te.unstable_batchedUpdates=function(e,t){return e(t)},te.useFormState=function(e,t,n){return ae.H.useFormState(e,t,n)},te.useFormStatus=function(){return ae.H.useHostTransitionStatus()},te.version="19.0.0",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(sm){console.error(sm)}}(),ee.exports=te;var ce=ee.exports;const de=o(ce);
/**
             * @license React
             * react-dom-client.production.js
             *
             * Copyright (c) Meta Platforms, Inc. and affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */var ue=Z,he=G,pe=ce;function me(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fe(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var ge=Symbol.for("react.element"),be=Symbol.for("react.transitional.element"),ve=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ke=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),De=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Ne(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Oe&&e[Oe]||e["@@iterator"])?e:null}var Le=Symbol.for("react.client.reference");function Re(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===Le?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ye:return"Fragment";case ve:return"Portal";case _e:return"Profiler";case we:return"StrictMode";case Ee:return"Suspense";case Ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Te:return(e.displayName||"Context")+".Provider";case ke:return(e._context.displayName||"Context")+".Consumer";case Se:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return null!==(t=e.displayName||null)?t:Re(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return Re(e(t))}catch(ZN){}}return null}var je,Me,Ue=he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be=Object.assign;function Fe(e){if(void 0===je)try{throw Error()}catch(ZN){var t=ZN.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||"",Me=-1<ZN.stack.indexOf("\n    at")?" (<anonymous>)":-1<ZN.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+je+e+Me}var ze=!1;function $e(e,t){if(!e||ze)return"";ze=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(ZN){var i=ZN}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(oE){i=oE}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&i&&"string"==typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var d="\n"+l[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=i&&0<=r);break}}}finally{ze=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Fe(n):""}function Ve(e){switch(e.tag){case 26:case 27:case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return e=$e(e.type,!1);case 11:return e=$e(e.type.render,!1);case 1:return e=$e(e.type,!0);default:return""}}function qe(e){try{var t="";do{t+=Ve(e),e=e.return}while(e);return t}catch(ZN){return"\nError generating stack: "+ZN.message+"\n"+ZN.stack}}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(me(188))}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=Ye(e)))return t;e=e.sibling}return null}var Ke=Array.isArray,Xe=pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qe={pending:!1,data:null,method:null,action:null},Je=[],Ze=-1;function et(e){return{current:e}}function tt(e){0>Ze||(e.current=Je[Ze],Je[Ze]=null,Ze--)}function nt(e,t){Ze++,Je[Ze]=e.current,e.current=t}var it=et(null),rt=et(null),ot=et(null),st=et(null);function at(e,t){switch(nt(ot,t),nt(rt,e),nt(it,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?rh(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=oh(e=rh(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(it),nt(it,t)}function lt(){tt(it),tt(rt),tt(ot)}function ct(e){null!==e.memoizedState&&nt(st,e);var t=it.current,n=oh(t,e.type);t!==n&&(nt(rt,e),nt(it,n))}function dt(e){rt.current===e&&(tt(it),tt(rt)),st.current===e&&(tt(st),qh._currentValue=Qe)}var ut=Object.prototype.hasOwnProperty,ht=ue.unstable_scheduleCallback,pt=ue.unstable_cancelCallback,mt=ue.unstable_shouldYield,ft=ue.unstable_requestPaint,gt=ue.unstable_now,bt=ue.unstable_getCurrentPriorityLevel,vt=ue.unstable_ImmediatePriority,yt=ue.unstable_UserBlockingPriority,wt=ue.unstable_NormalPriority,_t=ue.unstable_LowPriority,xt=ue.unstable_IdlePriority,kt=ue.log,Tt=ue.unstable_setDisableYieldValue,St=null,Et=null;function Ct(e){if("function"==typeof kt&&Tt(e),Et&&"function"==typeof Et.setStrictMode)try{Et.setStrictMode(St,e)}catch(sm){}}var It=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(At(e)/Pt|0)|0},At=Math.log,Pt=Math.LN2;var Dt=128,Ot=4194304;function Nt(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Lt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~r)?i=Nt(n):0!==(o&=a)?i=Nt(o):e||0!==(s=a&~s)&&(i=Nt(s)):0!==(a=n&~r)?i=Nt(a):0!==o?i=Nt(o):e||0!==(s=n&~s)&&(i=Nt(s)),0===i?0:0!==t&&t!==i&&!(t&r)&&((r=i&-i)>=(s=t&-t)||32===r&&4194176&s)?t:i}function Rt(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function jt(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Mt(){var e=Dt;return!(4194176&(Dt<<=1))&&(Dt=128),e}function Ut(){var e=Ot;return!(62914560&(Ot<<=1))&&(Ot=4194304),e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ft(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-It(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194218&n}function $t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-It(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Vt(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function qt(){var e=Xe.p;return 0!==e?e:void 0===(e=window.event)?32:op(e.type)}var Ht=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ht,Gt="__reactProps$"+Ht,Yt="__reactContainer$"+Ht,Kt="__reactEvents$"+Ht,Xt="__reactListeners$"+Ht,Qt="__reactHandles$"+Ht,Jt="__reactResources$"+Ht,Zt="__reactMarker$"+Ht;function en(e){delete e[Wt],delete e[Gt],delete e[Kt],delete e[Xt],delete e[Qt]}function tn(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Wt]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=gh(e);null!==e;){if(n=e[Wt])return n;e=gh(e)}return t}n=(e=n).parentNode}return null}function nn(e){if(e=e[Wt]||e[Yt]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function rn(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(me(33))}function on(e){var t=e[Jt];return t||(t=e[Jt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function sn(e){e[Zt]=!0}var an=new Set,ln={};function cn(e,t){dn(e,t),dn(e+"Capture",t)}function dn(e,t){for(ln[e]=t,e=0;e<t.length;e++)an.add(t[e])}var un=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),hn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pn={},mn={};function fn(e,t,n){if(r=t,ut.call(mn,r)||!ut.call(pn,r)&&(hn.test(r)?mn[r]=!0:(pn[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function gn(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function bn(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function yn(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function wn(e){e._valueTracker||(e._valueTracker=function(e){var t=yn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _n(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=yn(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function xn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(HS){return e.body}}var kn=/[\n"\\]/g;function Tn(e){return e.replace(kn,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function Sn(e,t,n,i,r,o,s,a){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?Cn(e,s,vn(t)):null!=n?Cn(e,s,vn(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=o&&(e.defaultChecked=!!o),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+vn(a):e.removeAttribute("name")}function En(e,t,n,i,r,o,s,a){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+vn(n):"",t=null!=t?""+vn(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s)}function Cn(e,t,n){"number"===t&&xn(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function In(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function An(e,t,n){null==t||((t=""+vn(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+vn(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Pn(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(me(92));if(Ke(i)){if(1<i.length)throw Error(me(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=vn(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Dn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var On=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nn(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||On.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ln(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(me(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Nn(e,r,i)}else for(var o in t)t.hasOwnProperty(o)&&Nn(e,o,t[o])}function Rn(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Un(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bn=null;function Fn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zn=null,$n=null;function Vn(e){var t=nn(e);if(t&&(e=t.stateNode)){var n=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sn(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Gt]||null;if(!r)throw Error(me(90));Sn(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&_n(i)}break e;case"textarea":An(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&In(e,!!n.multiple,t,!1)}}}var qn=!1;function Hn(e,t,n){if(qn)return e(t,n);qn=!0;try{return e(t)}finally{if(qn=!1,(null!==zn||null!==$n)&&(Wd(),zn&&(t=zn,e=$n,$n=zn=null,Vn(t),e)))for(t=0;t<e.length;t++)Vn(e[t])}}function Wn(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Gt]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(me(231,t,typeof n));return n}var Gn=!1;if(un)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch(HS){Gn=!1}var Kn=null,Xn=null,Qn=null;function Jn(){if(Qn)return Qn;var e,t,n=Xn,i=n.length,r="value"in Kn?Kn.value:Kn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Qn=r.slice(e,1<t?1-t:void 0)}function Zn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ei(){return!0}function ti(){return!1}function ni(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ei:ti,this.isPropagationStopped=ti,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),t}var ii,ri,oi,si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=ni(si),li=Be({},si,{view:0,detail:0}),ci=ni(li),di=Be({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&"mousemove"===e.type?(ii=e.screenX-oi.screenX,ri=e.screenY-oi.screenY):ri=ii=0,oi=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:ri}}),ui=ni(di),hi=ni(Be({},di,{dataTransfer:0})),pi=ni(Be({},li,{relatedTarget:0})),mi=ni(Be({},si,{animationName:0,elapsedTime:0,pseudoElement:0})),fi=ni(Be({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gi=ni(Be({},si,{data:0})),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yi[e])&&!!t[e]}function _i(){return wi}var xi=ni(Be({},li,{key:function(e){if(e.key){var t=bi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(e){return"keypress"===e.type?Zn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ki=ni(Be({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ti=ni(Be({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i})),Si=ni(Be({},si,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ei=ni(Be({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ci=ni(Be({},si,{newState:0,oldState:0})),Ii=[9,13,27,32],Ai=un&&"CompositionEvent"in window,Pi=null;un&&"documentMode"in document&&(Pi=document.documentMode);var Di=un&&"TextEvent"in window&&!Pi,Oi=un&&(!Ai||Pi&&8<Pi&&11>=Pi),Ni=String.fromCharCode(32),Li=!1;function Ri(e,t){switch(e){case"keyup":return-1!==Ii.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ji(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Mi=!1;var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ui[e.type]:"textarea"===t}function Fi(e,t,n,i){zn?$n?$n.push(i):$n=[i]:zn=i,0<(t=qu(t,"onChange")).length&&(n=new ai("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var zi=null,$i=null;function Vi(e){ju(e,0)}function qi(e){if(_n(rn(e)))return e}function Hi(e,t){if("change"===e)return t}var Wi=!1;if(un){var Gi;if(un){var Yi="oninput"in document;if(!Yi){var Ki=document.createElement("div");Ki.setAttribute("oninput","return;"),Yi="function"==typeof Ki.oninput}Gi=Yi}else Gi=!1;Wi=Gi&&(!document.documentMode||9<document.documentMode)}function Xi(){zi&&(zi.detachEvent("onpropertychange",Qi),$i=zi=null)}function Qi(e){if("value"===e.propertyName&&qi($i)){var t=[];Fi(t,$i,e,Fn(e)),Hn(Vi,t)}}function Ji(e,t,n){"focusin"===e?(Xi(),$i=n,(zi=t).attachEvent("onpropertychange",Qi)):"focusout"===e&&Xi()}function Zi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qi($i)}function er(e,t){if("click"===e)return qi(t)}function tr(e,t){if("input"===e||"change"===e)return qi(t)}var nr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ir(e,t){if(nr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ut.call(t,r)||!nr(e[r],t[r]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,i=rr(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rr(i)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(e){for(var t=xn((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(sm){n=!1}if(!n)break;t=xn((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e,t){var n=ar(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&sr(t.ownerDocument.documentElement,t)){if(null!==i&&lr(t))if(e=i.start,void 0===(n=i.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var r=t.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=or(t,o);var s=or(t,i);r&&s&&(1!==n.rangeCount||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var dr=un&&"documentMode"in document&&11>=document.documentMode,ur=null,hr=null,pr=null,mr=!1;function fr(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==ur||ur!==xn(i)||("selectionStart"in(i=ur)&&lr(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},pr&&ir(pr,i)||(pr=i,0<(i=qu(hr,"onSelect")).length&&(t=new ai("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ur)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},vr={},yr={};function wr(e){if(vr[e])return vr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return vr[e]=n[t];return e}un&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var _r=wr("animationend"),xr=wr("animationiteration"),kr=wr("animationstart"),Tr=wr("transitionrun"),Sr=wr("transitionstart"),Er=wr("transitioncancel"),Cr=wr("transitionend"),Ir=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),cn(t,[e])}var Dr=[],Or=0,Nr=0;function Lr(){for(var e=Or,t=Nr=Or=0;t<e;){var n=Dr[t];Dr[t++]=null;var i=Dr[t];Dr[t++]=null;var r=Dr[t];Dr[t++]=null;var o=Dr[t];if(Dr[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==o&&Ur(n,r,o)}}function Rr(e,t,n,i){Dr[Or++]=e,Dr[Or++]=t,Dr[Or++]=n,Dr[Or++]=i,Nr|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function jr(e,t,n,i){return Rr(e,t,n,i),Br(e)}function Mr(e,t){return Rr(e,null,null,t),Br(e)}function Ur(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(i=o.alternate)&&(i.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(r=!0)),e=o,o=o.return;r&&null!==t&&3===e.tag&&(o=e.stateNode,r=31-It(n),null===(e=(o=o.hiddenUpdates)[r])?o[r]=[t]:e.push(t),t.lane=536870912|n)}function Br(e){if(50<jd)throw jd=0,Md=null,Error(me(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={},zr=new WeakMap;function $r(e,t){if("object"==typeof e&&null!==e){var n=zr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:qe(t)},zr.set(e,t),t)}return{value:e,source:t,stack:qe(t)}}var Vr=[],qr=0,Hr=null,Wr=0,Gr=[],Yr=0,Kr=null,Xr=1,Qr="";function Jr(e,t){Vr[qr++]=Wr,Vr[qr++]=Hr,Hr=e,Wr=t}function Zr(e,t,n){Gr[Yr++]=Xr,Gr[Yr++]=Qr,Gr[Yr++]=Kr,Kr=e;var i=Xr;e=Qr;var r=32-It(i)-1;i&=~(1<<r),n+=1;var o=32-It(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Xr=1<<32-It(t)+r|n<<r|i,Qr=o+e}else Xr=1<<o|n<<r|i,Qr=e}function eo(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function to(e){for(;e===Hr;)Hr=Vr[--qr],Vr[qr]=null,Wr=Vr[--qr],Vr[qr]=null;for(;e===Kr;)Kr=Gr[--Yr],Gr[Yr]=null,Qr=Gr[--Yr],Gr[Yr]=null,Xr=Gr[--Yr],Gr[Yr]=null}var no=null,io=null,ro=!1,oo=null,so=!1,ao=Error(me(519));function lo(e){throw mo($r(Error(me(418,"")),e)),ao}function co(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Wt]=e,t[Gt]=i,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Mu(Lu[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),En(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),wn(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),Pn(t,i.value,i.defaultValue,i.children),wn(t)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Xu(t.textContent,n)?(null!=i.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=i.onScroll&&Mu("scroll",t),null!=i.onScrollEnd&&Mu("scrollend",t),null!=i.onClick&&(t.onclick=Qu),t=!0):t=!1,t||lo(e)}function uo(e){for(no=e.return;no;)switch(no.tag){case 3:case 27:return void(so=!0);case 5:case 13:return void(so=!1);default:no=no.return}}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sh(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&io&&lo(e),uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(me(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){io=fh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}io=null}}else io=no?fh(e.stateNode.nextSibling):null;return!0}function po(){io=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var fo=Error(me(460)),go=Error(me(474)),bo={then:function(){}};function vo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function yo(){}function wo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(yo,yo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===fo)throw Error(me(483));throw e;default:if("string"==typeof t.status)t.then(yo,yo);else{if(null!==(e=cd)&&100<e.shellSuspendCounter)throw Error(me(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===fo)throw Error(me(483));throw e}throw _o=t,fo}}var _o=null;function xo(){if(null===_o)throw Error(me(459));var e=_o;return _o=null,e}var ko=null,To=0;function So(e){var t=To;return To+=1,null===ko&&(ko=[]),wo(ko,e,t)}function Eo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Co(e,t){if(t.$$typeof===ge)throw Error(me(525));throw e=Object.prototype.toString.call(t),Error(me(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Io(e){return(0,e._init)(e._payload)}function Ao(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=33554434,n):i:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function a(e,t,n,i){return null===t||6!==t.tag?((t=Xc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){var o=n.type;return o===ye?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Ae&&Io(o)===t.type)?(Eo(t=r(t,n.props),n),t.return=e,t):(Eo(t=Gc(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Yc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Xc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case be:return Eo(n=Gc(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case ve:return(t=Qc(t,e.mode,n)).return=e,t;case Ae:return u(e,t=(0,t._init)(t._payload),n)}if(Ke(t)||Ne(t))return(t=Yc(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return u(e,So(t),n);if(t.$$typeof===Te)return u(e,Ll(e,t),n);Co(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:a(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case be:return n.key===r?l(e,t,n,i):null;case ve:return n.key===r?c(e,t,n,i):null;case Ae:return h(e,t,n=(r=n._init)(n._payload),i)}if(Ke(n)||Ne(n))return null!==r?null:d(e,t,n,i,null);if("function"==typeof n.then)return h(e,t,So(n),i);if(n.$$typeof===Te)return h(e,t,Ll(e,n),i);Co(e,n)}return null}function p(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return a(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case be:return l(t,e=e.get(null===i.key?n:i.key)||null,i,r);case ve:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case Ae:return p(e,t,n,i=(0,i._init)(i._payload),r)}if(Ke(i)||Ne(i))return d(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return p(e,t,n,So(i),r);if(i.$$typeof===Te)return p(e,t,n,Ll(t,i),r);Co(t,i)}return null}function m(a,l,c,d){if("object"==typeof c&&null!==c&&c.type===ye&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case be:e:{for(var f=c.key;null!==l;){if(l.key===f){if((f=c.type)===ye){if(7===l.tag){n(a,l.sibling),(d=r(l,c.props.children)).return=a,a=d;break e}}else if(l.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===Ae&&Io(f)===l.type){n(a,l.sibling),Eo(d=r(l,c.props),c),d.return=a,a=d;break e}n(a,l);break}t(a,l),l=l.sibling}c.type===ye?((d=Yc(c.props.children,a.mode,d,c.key)).return=a,a=d):(Eo(d=Gc(c.type,c.key,c.props,null,a.mode,d),c),d.return=a,a=d)}return s(a);case ve:e:{for(f=c.key;null!==l;){if(l.key===f){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(a,l.sibling),(d=r(l,c.children||[])).return=a,a=d;break e}n(a,l);break}t(a,l),l=l.sibling}(d=Qc(c,a.mode,d)).return=a,a=d}return s(a);case Ae:return m(a,l,c=(f=c._init)(c._payload),d)}if(Ke(c))return function(r,s,a,l){for(var c=null,d=null,m=s,f=s=0,g=null;null!==m&&f<a.length;f++){m.index>f?(g=m,m=null):g=m.sibling;var b=h(r,m,a[f],l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,f),null===d?c=b:d.sibling=b,d=b,m=g}if(f===a.length)return n(r,m),ro&&Jr(r,f),c;if(null===m){for(;f<a.length;f++)null!==(m=u(r,a[f],l))&&(s=o(m,s,f),null===d?c=m:d.sibling=m,d=m);return ro&&Jr(r,f),c}for(m=i(m);f<a.length;f++)null!==(g=p(m,r,f,a[f],l))&&(e&&null!==g.alternate&&m.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(r,e)})),ro&&Jr(r,f),c}(a,l,c,d);if(Ne(c)){if("function"!=typeof(f=Ne(c)))throw Error(me(150));return function(r,s,a,l){if(null==a)throw Error(me(151));for(var c=null,d=null,m=s,f=s=0,g=null,b=a.next();null!==m&&!b.done;f++,b=a.next()){m.index>f?(g=m,m=null):g=m.sibling;var v=h(r,m,b.value,l);if(null===v){null===m&&(m=g);break}e&&m&&null===v.alternate&&t(r,m),s=o(v,s,f),null===d?c=v:d.sibling=v,d=v,m=g}if(b.done)return n(r,m),ro&&Jr(r,f),c;if(null===m){for(;!b.done;f++,b=a.next())null!==(b=u(r,b.value,l))&&(s=o(b,s,f),null===d?c=b:d.sibling=b,d=b);return ro&&Jr(r,f),c}for(m=i(m);!b.done;f++,b=a.next())null!==(b=p(m,r,f,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?f:b.key),s=o(b,s,f),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(r,e)})),ro&&Jr(r,f),c}(a,l,c=f.call(c),d)}if("function"==typeof c.then)return m(a,l,So(c),d);if(c.$$typeof===Te)return m(a,l,Ll(a,c),d);Co(a,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==l&&6===l.tag?(n(a,l.sibling),(d=r(l,c)).return=a,a=d):(n(a,l),(d=Xc(c,a.mode,d)).return=a,a=d),s(a)):n(a,l)}return function(e,t,n,i){try{To=0;var r=m(e,t,n,i);return ko=null,r}catch(ZN){if(ZN===fo)throw ZN;var o=Vc(29,ZN,null,e.mode);return o.lanes=i,o.return=e,o}}}var Po=Ao(!0),Do=Ao(!1),Oo=et(null),No=et(0);function Lo(e,t){nt(No,e=bd),nt(Oo,t),bd=e|t.baseLanes}function Ro(){nt(No,bd),nt(Oo,Oo.current)}function jo(){bd=No.current,tt(Oo),tt(No)}var Mo=et(null),Uo=null;function Bo(e){var t=e.alternate;nt(Vo,1&Vo.current),nt(Mo,e),null===Uo&&(null===t||null!==Oo.current||null!==t.memoizedState)&&(Uo=e)}function Fo(e){if(22===e.tag){if(nt(Vo,Vo.current),nt(Mo,e),null===Uo){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Uo=e)}}else zo()}function zo(){nt(Vo,Vo.current),nt(Mo,Mo.current)}function $o(e){tt(Mo),Uo===e&&(Uo=null),tt(Vo)}var Vo=et(0);function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Wo=ue.unstable_scheduleCallback,Go=ue.unstable_NormalPriority,Yo={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ko(){return{controller:new Ho,data:new Map,refCount:0}}function Xo(e){e.refCount--,0===e.refCount&&Wo(Go,(function(){e.controller.abort()}))}var Qo=null,Jo=0,Zo=0,es=null;function ts(){if(0==--Jo&&null!==Qo){null!==es&&(es.status="fulfilled");var e=Qo;Qo=null,Zo=0,es=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var ns=Ue.S;Ue.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Qo){var n=Qo=[];Jo=0,Zo=Au(),es={status:"pending",value:void 0,then:function(e){n.push(e)}}}Jo++,t.then(ts,ts)}(0,t),null!==ns&&ns(e,t)};var is=et(null);function rs(){var e=is.current;return null!==e?e:cd.pooledCache}function os(e,t){nt(is,null===t?is.current:t.pool)}function ss(){var e=rs();return null===e?null:{parent:Yo._currentValue,pool:e}}var as=0,ls=null,cs=null,ds=null,us=!1,hs=!1,ps=!1,ms=0,fs=0,gs=null,bs=0;function vs(){throw Error(me(321))}function ys(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function ws(e,t,n,i,r,o){return as=o,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ue.H=null===e||null===e.memoizedState?La:Ra,ps=!1,o=n(i,r),ps=!1,hs&&(o=xs(t,n,i,r)),_s(e),o}function _s(e){Ue.H=Na;var t=null!==cs&&null!==cs.next;if(as=0,ds=cs=ls=null,us=!1,fs=0,gs=null,t)throw Error(me(300));null===e||Ja||null!==(e=e.dependencies)&&Dl(e)&&(Ja=!0)}function xs(e,t,n,i){ls=e;var r=0;do{if(hs&&(gs=null),fs=0,hs=!1,25<=r)throw Error(me(301));if(r+=1,ds=cs=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}Ue.H=ja,o=t(n,i)}while(hs);return o}function ks(){var e=Ue.H,t=e.useState()[0];return t="function"==typeof t.then?As(t):t,e=e.useState()[0],(null!==cs?cs.memoizedState:null)!==e&&(ls.flags|=1024),t}function Ts(){var e=0!==ms;return ms=0,e}function Ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Es(e){if(us){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}us=!1}as=0,ds=cs=ls=null,hs=!1,fs=ms=0,gs=null}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ds?ls.memoizedState=ds=e:ds=ds.next=e,ds}function Is(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ds?ls.memoizedState:ds.next;if(null!==t)ds=t,cs=e;else{if(null===e){if(null===ls.alternate)throw Error(me(467));throw Error(me(310))}e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ds?ls.memoizedState=ds=e:ds=ds.next=e}return ds}function As(e){var t=fs;return fs+=1,null===gs&&(gs=[]),e=wo(gs,e,t),t=ls,null===(null===ds?t.memoizedState:ds.next)&&(t=t.alternate,Ue.H=null===t||null===t.memoizedState?La:Ra),e}function Ps(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return As(e);if(e.$$typeof===Te)return Nl(e)}throw Error(me(438,String(e)))}function Ds(e){var t=null,n=ls.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=ls.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ls.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=De;return t.index++,n}function Os(e,t){return"function"==typeof t?t(e):t}function Ns(e){return Ls(Is(),cs,e)}function Ls(e,t,n){var i=e.queue;if(null===i)throw Error(me(311));i.lastRenderedReducer=n;var r=e.baseQueue,o=i.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}t.baseQueue=r=o,i.pending=null}if(o=e.baseState,null===r)e.memoizedState=o;else{var a=s=null,l=null,c=t=r.next,d=!1;do{var u=-536870913&c.lane;if(u!==c.lane?(ud&u)===u:(as&u)===u){var h=c.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),u===Zo&&(d=!0);else{if((as&h)===h){c=c.next,h===Zo&&(d=!0);continue}u={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(a=l=u,s=o):l=l.next=u,ls.lanes|=h,yd|=h}u=c.action,ps&&n(o,u),o=c.hasEagerState?c.eagerState:n(o,u)}else h={lane:u,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(a=l=h,s=o):l=l.next=h,ls.lanes|=u,yd|=u;c=c.next}while(null!==c&&c!==t);if(null===l?s=o:l.next=a,!nr(o,e.memoizedState)&&(Ja=!0,d&&null!==(n=es)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,i.lastRenderedState=o}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Rs(e){var t=Is(),n=t.queue;if(null===n)throw Error(me(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);nr(o,t.memoizedState)||(Ja=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function js(e,t,n){var i=ls,r=Is(),o=ro;if(o){if(void 0===n)throw Error(me(407));n=n()}else n=t();var s=!nr((cs||r).memoizedState,n);if(s&&(r.memoizedState=n,Ja=!0),r=r.queue,aa(Bs.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==ds&&1&ds.memoizedState.tag){if(i.flags|=2048,na(9,Us.bind(null,i,r,n,t),{destroy:void 0},null),null===cd)throw Error(me(349));o||60&as||Ms(i,t,n)}return n}function Ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Us(e,t,n,i){t.value=n,t.getSnapshot=i,Fs(t)&&zs(e)}function Bs(e,t,n){return n((function(){Fs(t)&&zs(e)}))}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nr(e,n)}catch(zH){return!0}}function zs(e){var t=Mr(e,2);null!==t&&Fd(t,e,2)}function $s(e){var t=Cs();if("function"==typeof e){var n=e;if(e=n(),ps){Ct(!0);try{n()}finally{Ct(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t}function Vs(e,t,n,i){return e.baseState=n,Ls(e,cs,"function"==typeof i?i:Os)}function qs(e,t,n,i,r){if(Pa(e))throw Error(me(485));if(null!==(e=t.action)){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==Ue.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,Hs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Hs(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var o=Ue.T,s={};Ue.T=s;try{var a=n(r,i),l=Ue.S;null!==l&&l(s,a),Ws(e,t,a)}catch(zH){Ys(e,t,zH)}finally{Ue.T=o}}else try{Ws(e,t,o=n(r,i))}catch(c){Ys(e,t,c)}}function Ws(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){Gs(e,t,n)}),(function(n){return Ys(e,t,n)})):Gs(e,t,n)}function Gs(e,t,n){t.status="fulfilled",t.value=n,Ks(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Hs(e,n)))}function Ys(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,Ks(t),t=t.next}while(t!==i)}e.action=null}function Ks(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xs(e,t){return t}function Qs(e,t){if(ro){var n=cd.formState;if(null!==n){e:{var i=ls;if(ro){if(io){t:{for(var r=io,o=so;8!==r.nodeType;){if(!o){r=null;break t}if(null===(r=fh(r.nextSibling))){r=null;break t}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){io=fh(r.nextSibling),i="F!"===r.data;break e}}lo(i)}i=!1}i&&(t=n[0])}}return(n=Cs()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:t},n.queue=i,n=Ca.bind(null,ls,i),i.dispatch=n,i=$s(!1),o=Aa.bind(null,ls,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=Cs()).queue=r,n=qs.bind(null,ls,r,o,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Js(e){return Zs(Is(),cs,e)}function Zs(e,t,n){t=Ls(e,t,Xs)[0],e=Ns(Os)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?As(t):t;var i=Is(),r=i.queue,o=r.dispatch;return n!==i.memoizedState&&(ls.flags|=2048,na(9,ea.bind(null,r,n),{destroy:void 0},null)),[t,o,e]}function ea(e,t){e.action=t}function ta(e){var t=Is(),n=cs;if(null!==n)return Zs(t,n,e);Is(),t=t.memoizedState;var i=(n=Is()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function na(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},null===(t=ls.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ls.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ia(){return Is().memoizedState}function ra(e,t,n,i){var r=Cs();ls.flags|=e,r.memoizedState=na(1|t,n,{destroy:void 0},void 0===i?null:i)}function oa(e,t,n,i){var r=Is();i=void 0===i?null:i;var o=r.memoizedState.inst;null!==cs&&null!==i&&ys(i,cs.memoizedState.deps)?r.memoizedState=na(t,n,o,i):(ls.flags|=e,r.memoizedState=na(1|t,n,o,i))}function sa(e,t){ra(8390656,8,e,t)}function aa(e,t){oa(2048,8,e,t)}function la(e,t){return oa(4,2,e,t)}function ca(e,t){return oa(4,4,e,t)}function da(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ua(e,t,n){n=null!=n?n.concat([e]):null,oa(4,4,da.bind(null,t,e),n)}function ha(){}function pa(e,t){var n=Is();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&ys(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ma(e,t){var n=Is();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&ys(t,i[1]))return i[0];if(i=e(),ps){Ct(!0);try{e()}finally{Ct(!1)}}return n.memoizedState=[i,t],i}function fa(e,t,n){return void 0===n||1073741824&as?e.memoizedState=t:(e.memoizedState=n,e=Bd(),ls.lanes|=e,yd|=e,n)}function ga(e,t,n,i){return nr(n,t)?n:null!==Oo.current?(e=fa(e,n,i),nr(e,t)||(Ja=!0),e):42&as?(e=Bd(),ls.lanes|=e,yd|=e,t):(Ja=!0,e.memoizedState=n)}function ba(e,t,n,i,r){var o=Xe.p;Xe.p=0!==o&&8>o?o:8;var s,a,l,c=Ue.T,d={};Ue.T=d,Aa(e,!1,t,n);try{var u=r(),h=Ue.S;if(null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then){var p=(s=i,a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},u.then((function(){l.status="fulfilled",l.value=s;for(var e=0;e<a.length;e++)(0,a[e])(s)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)})),l);Ia(e,t,p,Ud())}else Ia(e,t,i,Ud())}catch(zH){Ia(e,t,{then:function(){},status:"rejected",reason:zH},Ud())}finally{Xe.p=o,Ue.T=c}}function va(){}function ya(e,t,n,i){if(5!==e.tag)throw Error(me(476));var r=wa(e).queue;ba(e,r,t,Qe,null===n?va:function(){return _a(e),n(i)})}function wa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:Qe,baseState:Qe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:Qe},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function _a(e){Ia(e,wa(e).next.queue,{},Ud())}function xa(){return Nl(qh)}function ka(){return Is().memoizedState}function Ta(){return Is().memoizedState}function Sa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ud(),i=Fl(t,e=Bl(n),n);return null!==i&&(Fd(i,t,n),zl(i,t,n)),t={cache:Ko()},void(e.payload=t)}t=t.return}}function Ea(e,t,n){var i=Ud();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Pa(e)?Da(t,n):null!==(n=jr(e,t,n,i))&&(Fd(n,e,i),Oa(n,t,i))}function Ca(e,t,n){Ia(e,t,n,Ud())}function Ia(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pa(e))Da(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,nr(a,s))return Rr(e,t,r,0),null===cd&&Lr(),!1}catch(zH){}if(null!==(n=jr(e,t,r,i)))return Fd(n,e,i),Oa(n,t,i),!0}return!1}function Aa(e,t,n,i){if(i={lane:2,revertLane:Au(),action:i,hasEagerState:!1,eagerState:null,next:null},Pa(e)){if(t)throw Error(me(479))}else null!==(t=jr(e,n,i,2))&&Fd(t,e,2)}function Pa(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function Da(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oa(e,t,n){if(4194176&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,$t(e,n)}}var Na={readContext:Nl,use:Ps,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useLayoutEffect:vs,useInsertionEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useSyncExternalStore:vs,useId:vs};Na.useCacheRefresh=vs,Na.useMemoCache=vs,Na.useHostTransitionStatus=vs,Na.useFormState=vs,Na.useActionState=vs,Na.useOptimistic=vs;var La={readContext:Nl,use:Ps,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Nl,useEffect:sa,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ra(4194308,4,da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4194308,4,e,t)},useInsertionEffect:function(e,t){ra(4,2,e,t)},useMemo:function(e,t){var n=Cs();t=void 0===t?null:t;var i=e();if(ps){Ct(!0);try{e()}finally{Ct(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Cs();if(void 0!==n){var r=n(t);if(ps){Ct(!0);try{n(t)}finally{Ct(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Ea.bind(null,ls,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:function(e){var t=(e=$s(e)).queue,n=Ca.bind(null,ls,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ha,useDeferredValue:function(e,t){return fa(Cs(),e,t)},useTransition:function(){var e=$s(!1);return e=ba.bind(null,ls,e.queue,!0,!1),Cs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ls,r=Cs();if(ro){if(void 0===n)throw Error(me(407));n=n()}else{if(n=t(),null===cd)throw Error(me(349));60&ud||Ms(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,sa(Bs.bind(null,i,o,e),[e]),i.flags|=2048,na(9,Us.bind(null,i,o,n,t),{destroy:void 0},null),n},useId:function(){var e=Cs(),t=cd.identifierPrefix;if(ro){var n=Qr;t=":"+t+"R"+(n=(Xr&~(1<<32-It(Xr)-1)).toString(32)+n),0<(n=ms++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bs++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Cs().memoizedState=Sa.bind(null,ls)}};La.useMemoCache=Ds,La.useHostTransitionStatus=xa,La.useFormState=Qs,La.useActionState=Qs,La.useOptimistic=function(e){var t=Cs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Aa.bind(null,ls,!0,n),n.dispatch=t,[e,t]};var Ra={readContext:Nl,use:Ps,useCallback:pa,useContext:Nl,useEffect:aa,useImperativeHandle:ua,useInsertionEffect:la,useLayoutEffect:ca,useMemo:ma,useReducer:Ns,useRef:ia,useState:function(){return Ns(Os)},useDebugValue:ha,useDeferredValue:function(e,t){return ga(Is(),cs.memoizedState,e,t)},useTransition:function(){var e=Ns(Os)[0],t=Is().memoizedState;return["boolean"==typeof e?e:As(e),t]},useSyncExternalStore:js,useId:ka};Ra.useCacheRefresh=Ta,Ra.useMemoCache=Ds,Ra.useHostTransitionStatus=xa,Ra.useFormState=Js,Ra.useActionState=Js,Ra.useOptimistic=function(e,t){return Vs(Is(),0,e,t)};var ja={readContext:Nl,use:Ps,useCallback:pa,useContext:Nl,useEffect:aa,useImperativeHandle:ua,useInsertionEffect:la,useLayoutEffect:ca,useMemo:ma,useReducer:Rs,useRef:ia,useState:function(){return Rs(Os)},useDebugValue:ha,useDeferredValue:function(e,t){var n=Is();return null===cs?fa(n,e,t):ga(n,cs.memoizedState,e,t)},useTransition:function(){var e=Rs(Os)[0],t=Is().memoizedState;return["boolean"==typeof e?e:As(e),t]},useSyncExternalStore:js,useId:ka};function Ma(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:Be({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ja.useCacheRefresh=Ta,ja.useMemoCache=Ds,ja.useHostTransitionStatus=xa,ja.useFormState=ta,ja.useActionState=ta,ja.useOptimistic=function(e,t){var n=Is();return null!==cs?Vs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ud(),r=Bl(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=Fl(e,r,i))&&(Fd(t,e,i),zl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ud(),r=Bl(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=Fl(e,r,i))&&(Fd(t,e,i),zl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ud(),i=Bl(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=Fl(e,i,n))&&(Fd(t,e,n),zl(t,e,n))}};function Ba(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,i)||!ir(r,o))}function Fa(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function za(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=Be({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var $a="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Va(e){$a(e)}function qa(e){console.error(e)}function Ha(e){$a(e)}function Wa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ga(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function Ya(e,t,n){return(n=Bl(n)).tag=3,n.payload={element:null},n.callback=function(){Wa(e,t)},n}function Ka(e){return(e=Bl(e)).tag=3,e}function Xa(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var o=i.value;e.payload=function(){return r(o)},e.callback=function(){Ga(t,n,i)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Ga(t,n,i),"function"!=typeof r&&(null===Pd?Pd=new Set([this]):Pd.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Qa=Error(me(461)),Ja=!1;function Za(e,t,n,i){t.child=null===e?Do(t,null,n,i):Po(t,e.child,n,i)}function el(e,t,n,i,r){n=n.render;var o=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Ol(t),i=ws(e,t,n,s,o,r),a=Ts(),null===e||Ja?(ro&&a&&eo(t),t.flags|=1,Za(e,t,i,r),t.child):(Ss(e,t,r),wl(e,t,r))}function tl(e,t,n,i,r){if(null===e){var o=n.type;return"function"!=typeof o||qc(o)||void 0!==o.defaultProps||null!==n.compare?((e=Gc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,nl(e,t,o,i,r))}if(o=e.child,!_l(e,r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(s,i)&&e.ref===t.ref)return wl(e,t,r)}return t.flags|=1,(e=Hc(o,i)).ref=t.ref,e.return=t,t.child=e}function nl(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(ir(o,i)&&e.ref===t.ref){if(Ja=!1,t.pendingProps=i=o,!_l(e,r))return t.lanes=e.lanes,wl(e,t,r);131072&e.flags&&(Ja=!0)}}return sl(e,t,n,i,r)}function il(e,t,n){var i=t.pendingProps,r=i.children,o=!!(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(ol(e,t),"hidden"===i.mode||o){if(128&t.flags){if(i=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;t.childLanes=o&~i}else t.childLanes=0,t.child=null;return rl(e,t,i,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,rl(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&os(0,null!==s?s.cachePool:null),null!==s?Lo(t,s):Ro(),Fo(t)}else null!==s?(os(0,s.cachePool),Lo(t,s),zo(),t.memoizedState=null):(null!==e&&os(0,null),Ro(),zo());return Za(e,t,r,n),t.child}function rl(e,t,n,i){var r=rs();return r=null===r?null:{parent:Yo._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&os(0,null),Ro(),Fo(t),null!==e&&Pl(e,t,i,!0),null}function ol(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(me(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function sl(e,t,n,i,r){return Ol(t),n=ws(e,t,n,i,void 0,r),i=Ts(),null===e||Ja?(ro&&i&&eo(t),t.flags|=1,Za(e,t,n,r),t.child):(Ss(e,t,r),wl(e,t,r))}function al(e,t,n,i,r,o){return Ol(t),t.updateQueue=null,n=xs(t,i,n,r),_s(e),i=Ts(),null===e||Ja?(ro&&i&&eo(t),t.flags|=1,Za(e,t,n,o),t.child):(Ss(e,t,o),wl(e,t,o))}function ll(e,t,n,i,r){if(Ol(t),null===t.stateNode){var o=Fr,s=n.contextType;"object"==typeof s&&null!==s&&(o=Nl(s)),o=new n(i,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Ua,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=i,o.state=t.memoizedState,o.refs={},Ml(t),s=n.contextType,o.context="object"==typeof s&&null!==s?Nl(s):Fr,o.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(Ma(t,n,s,i),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(s=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&Ua.enqueueReplaceState(o,o.state,null),Hl(t,i,o,r),ql(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=za(n,a);o.props=l;var c=o.context,d=n.contextType;s=Fr,"object"==typeof d&&null!==d&&(s=Nl(d));var u=n.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a||c!==s)&&Fa(t,o,i,s),jl=!1;var h=t.memoizedState;o.state=h,Hl(t,i,o,r),ql(),c=t.memoizedState,a||h!==c||jl?("function"==typeof u&&(Ma(t,n,u,i),c=t.memoizedState),(l=jl||Ba(t,n,l,i,h,c,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=s,i=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ul(e,t),d=za(n,s=t.memoizedProps),o.props=d,u=t.pendingProps,h=o.context,c=n.contextType,l=Fr,"object"==typeof c&&null!==c&&(l=Nl(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==u||h!==l)&&Fa(t,o,i,l),jl=!1,h=t.memoizedState,o.state=h,Hl(t,i,o,r),ql();var p=t.memoizedState;s!==u||h!==p||jl||null!==e&&null!==e.dependencies&&Dl(e.dependencies)?("function"==typeof a&&(Ma(t,n,a,i),p=t.memoizedState),(d=jl||Ba(t,n,d,i,h,p,l)||null!==e&&null!==e.dependencies&&Dl(e.dependencies))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=d):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,ol(e,t),i=!!(128&t.flags),o||i?(o=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&i?(t.child=Po(t,e.child,null,r),t.child=Po(t,null,n,r)):Za(e,t,n,r),t.memoizedState=o.state,e=t.child):e=wl(e,t,r),e}function cl(e,t,n,i){return po(),t.flags|=256,Za(e,t,n,i),t.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:ss()}}function hl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xd),e}function pl(e,t,n){var i,r=t.pendingProps,o=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&Vo.current)),i&&(o=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(ro){if(o?Bo(t):zo(),ro){var a,l=io;if(a=l){e:{for(a=l,l=so;8!==a.nodeType;){if(!l){l=null;break e}if(null===(a=fh(a.nextSibling))){l=null;break e}}l=a}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Kr?{id:Xr,overflow:Qr}:null,retryLane:536870912},(a=Vc(18,null,null,0)).stateNode=l,a.return=t,t.child=a,no=t,io=null,a=!0):a=!1}a||lo(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?t.lanes=16:t.lanes=536870912,null;$o(t)}return l=r.children,r=r.fallback,o?(zo(),l=fl({mode:"hidden",children:l},o=t.mode),r=Yc(r,o,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(o=t.child).memoizedState=ul(n),o.childLanes=hl(e,i,n),t.memoizedState=dl,r):(Bo(t),ml(t,l))}if(null!==(a=e.memoizedState)&&null!==(l=a.dehydrated)){if(s)256&t.flags?(Bo(t),t.flags&=-257,t=gl(e,t,n)):null!==t.memoizedState?(zo(),t.child=e.child,t.flags|=128,t=null):(zo(),o=r.fallback,l=t.mode,r=fl({mode:"visible",children:r.children},l),(o=Yc(o,l,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,Po(t,e.child,null,n),(r=t.child).memoizedState=ul(n),r.childLanes=hl(e,i,n),t.memoizedState=dl,t=o);else if(Bo(t),"$!"===l.data){if(i=l.nextSibling&&l.nextSibling.dataset)var c=i.dgst;i=c,(r=Error(me(419))).stack="",r.digest=i,mo({value:r,source:null,stack:null}),t=gl(e,t,n)}else if(Ja||Pl(e,t,n,!1),i=!!(n&e.childLanes),Ja||i){if(null!==(i=cd)){if(42&(r=n&-n))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=r&(i.suspendedLanes|n)?0:r)&&r!==a.retryLane)throw a.retryLane=r,Mr(e,r),Fd(i,e,r),Qa}"$?"===l.data||Jd(),t=gl(e,t,n)}else"$?"===l.data?(t.flags|=128,t.child=e.child,t=fu.bind(null,e),l._reactRetry=t,t=null):(e=a.treeContext,io=fh(l.nextSibling),no=t,ro=!0,oo=null,so=!1,null!==e&&(Gr[Yr++]=Xr,Gr[Yr++]=Qr,Gr[Yr++]=Kr,Xr=e.id,Qr=e.overflow,Kr=t),(t=ml(t,r.children)).flags|=4096);return t}return o?(zo(),o=r.fallback,l=t.mode,c=(a=e.child).sibling,(r=Hc(a,{mode:"hidden",children:r.children})).subtreeFlags=31457280&a.subtreeFlags,null!==c?o=Hc(c,o):(o=Yc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,null===(l=e.child.memoizedState)?l=ul(n):(null!==(a=l.cachePool)?(c=Yo._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=ss(),l={baseLanes:l.baseLanes|n,cachePool:a}),o.memoizedState=l,o.childLanes=hl(e,i,n),t.memoizedState=dl,r):(Bo(t),e=(n=e.child).sibling,(n=Hc(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function ml(e,t){return(t=fl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function fl(e,t){return Kc(e,t,0,null)}function gl(e,t,n){return Po(t,e.child,null,n),(e=ml(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function bl(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Il(e.return,t,n)}function vl(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function yl(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Za(e,t,i.children,n),2&(i=Vo.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&bl(e,n,t);else if(19===e.tag)bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(nt(Vo,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),vl(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===qo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}vl(t,!0,n,null,o);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),yd|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(Pl(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(me(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function _l(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Dl(e))}function xl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ja=!0;else{if(!(_l(e,n)||128&t.flags))return Ja=!1,function(e,t,n){switch(t.tag){case 3:at(t,t.stateNode.containerInfo),El(t,Yo,e.memoizedState.cache),po();break;case 27:case 5:ct(t);break;case 4:at(t,t.stateNode.containerInfo);break;case 10:El(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Bo(t),t.flags|=128,null):n&t.child.childLanes?pl(e,t,n):(Bo(t),null!==(e=wl(e,t,n))?e.sibling:null);Bo(t);break;case 19:var r=!!(128&e.flags);if((i=!!(n&t.childLanes))||(Pl(e,t,n,!1),i=!!(n&t.childLanes)),r){if(i)return yl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),nt(Vo,Vo.current),i)break;return null;case 22:case 23:return t.lanes=0,il(e,t,n);case 24:El(t,Yo,e.memoizedState.cache)}return wl(e,t,n)}(e,t,n);Ja=!!(131072&e.flags)}else Ja=!1,ro&&1048576&t.flags&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((r=i.$$typeof)===Se){t.tag=11,t=el(null,t,i,e,n);break e}if(r===Ie){t.tag=14,t=tl(null,t,i,e,n);break e}}throw t=Re(i)||i,Error(me(306,t,""))}qc(i)?(e=za(i,e),t.tag=1,t=ll(null,t,i,e,n)):(t.tag=0,t=sl(null,t,i,e,n))}return t;case 0:return sl(e,t,t.type,t.pendingProps,n);case 1:return ll(e,t,i=t.type,r=za(i,t.pendingProps),n);case 3:e:{if(at(t,t.stateNode.containerInfo),null===e)throw Error(me(387));var o=t.pendingProps;i=(r=t.memoizedState).element,Ul(e,t),Hl(t,o,null,n);var s=t.memoizedState;if(o=s.cache,El(t,Yo,o),o!==r.cache&&Al(t,[Yo],n,!0),ql(),o=s.element,r.isDehydrated){if(r={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=cl(e,t,o,n);break e}if(o!==i){mo(i=$r(Error(me(424)),t)),t=cl(e,t,o,n);break e}for(io=fh(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,so=!0,n=Do(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),o===i){t=wl(e,t,n);break e}Za(e,t,o,n)}t=t.child}return t;case 26:return ol(e,t),null===e?(n=Th(t.type,null,t.pendingProps,null))?t.memoizedState=n:ro||(n=t.type,e=t.pendingProps,(i=ih(ot.current).createElement(n))[Wt]=t,i[Gt]=e,eh(i,n,e),sn(i),t.stateNode=i):t.memoizedState=Th(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ct(t),null===e&&ro&&(i=t.stateNode=bh(t.type,t.pendingProps,ot.current),no=t,so=!0,io=fh(i.firstChild)),i=t.pendingProps.children,null!==e||ro?Za(e,t,i,n):t.child=Po(t,null,i,n),ol(e,t),t.child;case 5:return null===e&&ro&&((r=i=io)&&(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Zt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(null==r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===o)return e}if(null===(e=fh(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,so),null!==i?(t.stateNode=i,no=t,io=fh(i.firstChild),so=!1,r=!0):r=!1),r||lo(t)),ct(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,sh(r,o)?i=null:null!==s&&sh(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=ws(e,t,ks,null,null,n),qh._currentValue=r),ol(e,t),Za(e,t,i,n),t.child;case 6:return null===e&&ro&&((e=n=io)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=fh(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,no=t,io=null,e=!0):e=!1),e||lo(t)),null;case 13:return pl(e,t,n);case 4:return at(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Po(t,null,i,n):Za(e,t,i,n),t.child;case 11:return el(e,t,t.type,t.pendingProps,n);case 7:return Za(e,t,t.pendingProps,n),t.child;case 8:case 12:return Za(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,El(t,t.type,i.value),Za(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Ol(t),i=i(r=Nl(r)),t.flags|=1,Za(e,t,i,n),t.child;case 14:return tl(e,t,t.type,t.pendingProps,n);case 15:return nl(e,t,t.type,t.pendingProps,n);case 19:return yl(e,t,n);case 22:return il(e,t,n);case 24:return Ol(t),i=Nl(Yo),null===e?(null===(r=rs())&&(r=cd,o=Ko(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:i,cache:r},Ml(t),El(t,Yo,r)):(!!(e.lanes&n)&&(Ul(e,t),Hl(t,null,null,n),ql()),r=e.memoizedState,o=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),El(t,Yo,i)):(i=o.cache,El(t,Yo,i),i!==r.cache&&Al(t,[Yo],n,!0))),Za(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(me(156,t.tag))}var kl=et(null),Tl=null,Sl=null;function El(e,t,n){nt(kl,t._currentValue),t._currentValue=n}function Cl(e){e._currentValue=kl.current,tt(kl)}function Il(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Al(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var o=r.dependencies;if(null!==o){var s=r.child;o=o.firstContext;e:for(;null!==o;){var a=o;o=r;for(var l=0;l<t.length;l++)if(a.context===t[l]){o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Il(o.return,n,e),i||(s=null);break e}o=a.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(me(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Il(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function Pl(e,t,n,i){e=null;for(var r=t,o=!1;null!==r;){if(!o)if(524288&r.flags)o=!0;else if(262144&r.flags)break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(me(387));if(null!==(s=s.memoizedProps)){var a=r.type;nr(r.pendingProps.value,s.value)||(null!==e?e.push(a):e=[a])}}else if(r===st.current){if(null===(s=r.alternate))throw Error(me(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(qh):e=[qh])}r=r.return}null!==e&&Al(t,e,n,i),t.flags|=262144}function Dl(e){for(e=e.firstContext;null!==e;){if(!nr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ol(e){Tl=e,Sl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Nl(e){return Rl(Tl,e)}function Ll(e,t){return null===Tl&&Ol(e),Rl(e,t)}function Rl(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Sl){if(null===e)throw Error(me(308));Sl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sl=Sl.next=t;return n}var jl=!1;function Ml(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ul(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fl(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&ld){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Br(e),Ur(e,null,n),t}return Rr(e,i,t,n),Br(e)}function zl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194176&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,$t(e,n)}}function $l(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Vl=!1;function ql(){if(Vl){if(null!==es)throw es}}function Hl(e,t,n,i){Vl=!1;var r=e.updateQueue;jl=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=r.baseState;for(s=0,d=c=l=null,a=o;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(ud&h)===h:(i&h)===h){0!==h&&h===Zo&&(Vl=!0),null!==d&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,f=a;h=t;var g=n;switch(f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(g,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(g,u,h):m))break e;u=Be({},u,h);break e;case 2:jl=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===o&&(r.shared.lanes=0),yd|=s,e.lanes=s,e.memoizedState=u}}function Wl(e,t){if("function"!=typeof e)throw Error(me(191,e));e.call(t)}function Gl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Wl(n[e],t)}function Yl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(zH){uu(t,t.return,zH)}}function Kl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var o=r.next;i=o;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,r=t;var l=n;try{a()}catch(zH){uu(r,l,zH)}}}i=i.next}while(i!==o)}}catch(zH){uu(t,t.return,zH)}}function Xl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Gl(t,n)}catch(zH){uu(e,e.return,zH)}}}function Ql(e,t,n){n.props=za(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(zH){uu(e,t,zH)}}function Jl(e,t){try{var n=e.ref;if(null!==n){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=i;break;default:r=i}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(zH){uu(e,t,zH)}}function Zl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(zH){uu(e,t,zH)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(r){uu(e,t,r)}else n.current=null}function ec(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(zH){uu(e,e.return,zH)}}function tc(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,s=null,a=null,l=null,c=null,d=null;for(p in n){var u=n[p];if(n.hasOwnProperty(p)&&null!=u)switch(p){case"checked":case"value":break;case"defaultValue":l=u;default:i.hasOwnProperty(p)||Ju(e,t,p,null,i,u)}}for(var h in i){var p=i[h];if(u=n[h],i.hasOwnProperty(h)&&(null!=p||null!=u))switch(h){case"type":o=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":a=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(me(137,t));break;default:p!==u&&Ju(e,t,h,p,i,u)}}return void Sn(e,s,a,l,c,d,o,r);case"select":for(o in p=s=a=h=null,n)if(l=n[o],n.hasOwnProperty(o)&&null!=l)switch(o){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(o)||Ju(e,t,o,null,i,l)}for(r in i)if(o=i[r],l=n[r],i.hasOwnProperty(r)&&(null!=o||null!=l))switch(r){case"value":h=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:o!==l&&Ju(e,t,r,o,i,l)}return t=a,n=s,i=p,void(null!=h?In(e,!!n,h,!1):!!i!=!!n&&(null!=t?In(e,!!n,t,!0):In(e,!!n,n?[]:"",!1)));case"textarea":for(a in p=h=null,n)if(r=n[a],n.hasOwnProperty(a)&&null!=r&&!i.hasOwnProperty(a))switch(a){case"value":case"children":break;default:Ju(e,t,a,null,i,r)}for(s in i)if(r=i[s],o=n[s],i.hasOwnProperty(s)&&(null!=r||null!=o))switch(s){case"value":h=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(me(91));break;default:r!==o&&Ju(e,t,s,r,i,o)}return void An(e,h,p);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,i,h);for(l in i)if(h=i[l],p=n[l],i.hasOwnProperty(l)&&h!==p&&(null!=h||null!=p))if("selected"===l)e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h;else Ju(e,t,l,h,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in n)h=n[f],n.hasOwnProperty(f)&&null!=h&&!i.hasOwnProperty(f)&&Ju(e,t,f,null,i,h);for(c in i)if(h=i[c],p=n[c],i.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(me(137,t));break;default:Ju(e,t,c,h,i,p)}return;default:if(Rn(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!i.hasOwnProperty(g)&&Zu(e,t,g,void 0,i,h);for(d in i)h=i[d],p=n[d],!i.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Zu(e,t,d,h,i,p);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&null!=h&&!i.hasOwnProperty(b)&&Ju(e,t,b,null,i,h);for(u in i)h=i[u],p=n[u],!i.hasOwnProperty(u)||h===p||null==h&&null==p||Ju(e,t,u,h,i,p)}(i,e.type,n,t),i[Gt]=t}catch(zH){uu(e,e.return,zH)}}function nc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function ic(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function rc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qu));else if(4!==i&&27!==i&&null!==(e=e.child))for(rc(e,t,n),e=e.sibling;null!==e;)rc(e,t,n),e=e.sibling}function oc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&27!==i&&null!==(e=e.child))for(oc(e,t,n),e=e.sibling;null!==e;)oc(e,t,n),e=e.sibling}var sc=!1,ac=!1,lc=!1,cc="function"==typeof WeakSet?WeakSet:Set,dc=null,uc=!1;function hc(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Sc(e,n),4&i&&Yl(5,n);break;case 1:if(Sc(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(zH){uu(n,n.return,zH)}else{var r=za(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&i&&Xl(n),512&i&&Jl(n,n.return);break;case 3:if(Sc(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Gl(i,e)}catch(zH){uu(n,n.return,zH)}}break;case 26:Sc(e,n),512&i&&Jl(n,n.return);break;case 27:case 5:Sc(e,n),null===t&&4&i&&ec(n),512&i&&Jl(n,n.return);break;case 12:default:Sc(e,n);break;case 13:Sc(e,n),4&i&&vc(e,n);break;case 22:if(!(r=null!==n.memoizedState||sc)){t=null!==t&&null!==t.memoizedState||ac;var o=sc,s=ac;sc=r,(ac=t)&&!s?Cc(e,n,!!(8772&n.subtreeFlags)):Sc(e,n),sc=o,ac=s}512&i&&("manual"===n.memoizedProps.mode?Jl(n,n.return):Zl(n,n.return))}}function pc(e){var t=e.alternate;null!==t&&(e.alternate=null,pc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&en(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mc=null,fc=!1;function gc(e,t,n){for(n=n.child;null!==n;)bc(e,t,n),n=n.sibling}function bc(e,t,n){if(Et&&"function"==typeof Et.onCommitFiberUnmount)try{Et.onCommitFiberUnmount(St,n)}catch(sm){}switch(n.tag){case 26:ac||Zl(n,t),gc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ac||Zl(n,t);var i=mc,r=fc;for(mc=n.stateNode,gc(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);en(n),mc=i,fc=r;break;case 5:ac||Zl(n,t);case 6:r=mc;var o=fc;if(mc=null,gc(e,t,n),fc=o,null!==(mc=r))if(fc)try{e=mc,i=n.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)}catch(zH){uu(n,t,zH)}else try{mc.removeChild(n.stateNode)}catch(zH){uu(n,t,zH)}break;case 18:null!==mc&&(fc?(t=mc,n=n.stateNode,8===t.nodeType?ph(t.parentNode,n):1===t.nodeType&&ph(t,n),kp(t)):ph(mc,n.stateNode));break;case 4:i=mc,r=fc,mc=n.stateNode.containerInfo,fc=!0,gc(e,t,n),mc=i,fc=r;break;case 0:case 11:case 14:case 15:ac||Kl(2,n,t),ac||Kl(4,n,t),gc(e,t,n);break;case 1:ac||(Zl(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&Ql(n,t,i)),gc(e,t,n);break;case 21:gc(e,t,n);break;case 22:ac||Zl(n,t),ac=(i=ac)||null!==n.memoizedState,gc(e,t,n),ac=i;break;default:gc(e,t,n)}}function vc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kp(e)}catch(zH){uu(t,t.return,zH)}}function yc(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new cc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new cc),t;default:throw Error(me(435,e.tag))}}(e);t.forEach((function(t){var i=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function wc(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 27:case 5:mc=a.stateNode,fc=!1;break e;case 3:case 4:mc=a.stateNode.containerInfo,fc=!0;break e}a=a.return}if(null===mc)throw Error(me(160));bc(o,s,r),mc=null,fc=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)xc(t,e),t=t.sibling}var _c=null;function xc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wc(t,e),kc(e),4&i&&(Kl(3,e,e.return),Yl(3,e),Kl(5,e,e.return));break;case 1:wc(t,e),kc(e),512&i&&(ac||null===n||Zl(n,n.return)),64&i&&sc&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=_c;if(wc(t,e),kc(e),512&i&&(ac||null===n||Zl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(o=r.getElementsByTagName("title")[0])||o[Zt]||o[Wt]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),eh(o,i,n),o[Wt]=e,sn(o),i=o;break e;case"link":var s=Rh("link","href",r).get(i+(n.href||""));if(s)for(var a=0;a<s.length;a++)if((o=s[a]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(a,1);break t}eh(o=r.createElement(i),i,n),r.head.appendChild(o);break;case"meta":if(s=Rh("meta","content",r).get(i+(n.content||"")))for(a=0;a<s.length;a++)if((o=s[a]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(a,1);break t}eh(o=r.createElement(i),i,n),r.head.appendChild(o);break;default:throw Error(me(468,i))}o[Wt]=e,sn(o),i=o}e.stateNode=i}else jh(r,e.type,e.stateNode);else e.stateNode=Ph(r,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?jh(r,e.type,e.stateNode):Ph(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&tc(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&i&&null===e.alternate){r=e.stateNode,o=e.memoizedProps;try{for(var l=r.firstChild;l;){var c=l.nextSibling,d=l.nodeName;l[Zt]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===l.rel.toLowerCase()||r.removeChild(l),l=c}for(var u=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);eh(r,u,o),r[Wt]=e,r[Gt]=o}catch(zH){uu(e,e.return,zH)}}case 5:if(wc(t,e),kc(e),512&i&&(ac||null===n||Zl(n,n.return)),32&e.flags){r=e.stateNode;try{Dn(r,"")}catch(zH){uu(e,e.return,zH)}}4&i&&null!=e.stateNode&&tc(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(lc=!0);break;case 6:if(wc(t,e),kc(e),4&i){if(null===e.stateNode)throw Error(me(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(zH){uu(e,e.return,zH)}}break;case 3:if(Lh=null,r=_c,_c=wh(t.containerInfo),wc(t,e),_c=r,kc(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{kp(t.containerInfo)}catch(zH){uu(e,e.return,zH)}lc&&(lc=!1,Tc(e));break;case 4:i=_c,_c=wh(e.stateNode.containerInfo),wc(t,e),kc(e),_c=i;break;case 12:wc(t,e),kc(e);break;case 13:wc(t,e),kc(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Cd=gt()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,yc(e,i)));break;case 22:if(512&i&&(ac||null===n||Zl(n,n.return)),l=null!==e.memoizedState,c=null!==n&&null!==n.memoizedState,sc=(d=sc)||l,ac=(u=ac)||c,wc(t,e),ac=u,sc=d,kc(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=sc||ac,null===n||c||t||Ec(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,l)"function"==typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var p=null!=(a=c.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null;s.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(zH){uu(c,c.return,zH)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(zH){uu(c,c.return,zH)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,yc(e,n))));break;case 19:wc(t,e),kc(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,yc(e,i)));break;case 21:break;default:wc(t,e),kc(e)}}function kc(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(nc(n)){var i=n;break e}n=n.return}throw Error(me(160))}switch(i.tag){case 27:var r=i.stateNode;oc(e,ic(e),r);break;case 5:var o=i.stateNode;32&i.flags&&(Dn(o,""),i.flags&=-33),oc(e,ic(e),o);break;case 3:case 4:var s=i.stateNode.containerInfo;rc(e,ic(e),s);break;default:throw Error(me(161))}}}catch(zH){uu(e,e.return,zH)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Tc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Sc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)hc(e,t.alternate,t),t=t.sibling}function Ec(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kl(4,t,t.return),Ec(t);break;case 1:Zl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&Ql(t,t.return,n),Ec(t);break;case 26:case 27:case 5:Zl(t,t.return),Ec(t);break;case 22:Zl(t,t.return),null===t.memoizedState&&Ec(t);break;default:Ec(t)}e=e.sibling}}function Cc(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Cc(r,o,n),Yl(4,o);break;case 1:if(Cc(r,o,n),"function"==typeof(r=(i=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(zH){uu(i,i.return,zH)}if(null!==(r=(i=o).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Wl(l[r],a)}catch(zH){uu(i,i.return,zH)}}n&&64&s&&Xl(o),Jl(o,o.return);break;case 26:case 27:case 5:Cc(r,o,n),n&&null===i&&4&s&&ec(o),Jl(o,o.return);break;case 12:default:Cc(r,o,n);break;case 13:Cc(r,o,n),n&&4&s&&vc(r,o);break;case 22:null===o.memoizedState&&Cc(r,o,n),Jl(o,o.return)}t=t.sibling}}function Ic(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Xo(n))}function Ac(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Xo(e))}function Pc(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Dc(e,t,n,i),t=t.sibling}function Dc(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Pc(e,t,n,i),2048&r&&Yl(9,t);break;case 3:Pc(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Xo(e)));break;case 12:if(2048&r){Pc(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"==typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(zH){uu(t,t.return,zH)}}else Pc(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?Pc(e,t,n,i):Nc(e,t):4&o._visibility?Pc(e,t,n,i):(o._visibility|=4,Oc(e,t,n,i,!!(10256&t.subtreeFlags))),2048&r&&Ic(t.alternate,t);break;case 24:Pc(e,t,n,i),2048&r&&Ac(t.alternate,t);break;default:Pc(e,t,n,i)}}function Oc(e,t,n,i,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Oc(o,s,a,l,r),Yl(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?4&d._visibility?Oc(o,s,a,l,r):Nc(o,s):(d._visibility|=4,Oc(o,s,a,l,r)),r&&2048&c&&Ic(s.alternate,s);break;case 24:Oc(o,s,a,l,r),r&&2048&c&&Ac(s.alternate,s);break;default:Oc(o,s,a,l,r)}t=t.sibling}}function Nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Nc(n,i),2048&r&&Ic(i.alternate,i);break;case 24:Nc(n,i),2048&r&&Ac(i.alternate,i);break;default:Nc(n,i)}t=t.sibling}}var Lc=8192;function Rc(e){if(e.subtreeFlags&Lc)for(e=e.child;null!==e;)jc(e),e=e.sibling}function jc(e){switch(e.tag){case 26:Rc(e),e.flags&Lc&&null!==e.memoizedState&&function(e,t,n){if(null===Uh)throw Error(me(475));var i=Uh;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var r=Sh(n.href),o=e.querySelector(Eh(r));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Fh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,void sn(o);o=e.ownerDocument||e,n=Ch(n),(r=vh.get(r))&&Oh(n,r),sn(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eh(o,"link",n),t.instance=o}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Fh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(_c,e.memoizedState,e.memoizedProps);break;case 5:default:Rc(e);break;case 3:case 4:var t=_c;_c=wh(e.stateNode.containerInfo),Rc(e),_c=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Lc,Lc=16777216,Rc(e),Lc=t):Rc(e))}}function Mc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Uc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];dc=i,zc(i,e)}Mc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Bc(e),e=e.sibling}function Bc(e){switch(e.tag){case 0:case 11:case 15:Uc(e),2048&e.flags&&Kl(9,e,e.return);break;case 3:case 12:default:Uc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Fc(e)):Uc(e)}}function Fc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];dc=i,zc(i,e)}Mc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Kl(8,t,t.return),Fc(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Fc(t));break;default:Fc(t)}e=e.sibling}}function zc(e,t){for(;null!==dc;){var n=dc;switch(n.tag){case 0:case 11:case 15:Kl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Xo(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,dc=i;else e:for(n=e;null!==dc;){var r=(i=dc).sibling,o=i.return;if(pc(i),i===n){dc=null;break e}if(null!==r){r.return=o,dc=r;break e}dc=o}}}function $c(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,n,i){return new $c(e,t,n,i)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wc(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gc(e,t,n,i,r,o){var s=0;if(i=e,"function"==typeof e)qc(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,it.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case ye:return Yc(n.children,r,o,t);case we:s=8,r|=24;break;case _e:return(e=Vc(12,n,t,2|r)).elementType=_e,e.lanes=o,e;case Ee:return(e=Vc(13,n,t,r)).elementType=Ee,e.lanes=o,e;case Ce:return(e=Vc(19,n,t,r)).elementType=Ce,e.lanes=o,e;case Pe:return Kc(n,r,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case xe:case Te:s=10;break e;case ke:s=9;break e;case Se:s=11;break e;case Ie:s=14;break e;case Ae:s=16,i=null;break e}s=29,n=Error(me(130,null===e?"null":typeof e,"")),i=null}return(t=Vc(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Yc(e,t,n,i){return(e=Vc(7,e,i,t)).lanes=n,e}function Kc(e,t,n,i){(e=Vc(22,e,i,t)).elementType=Pe,e.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error(me(456));if(!(2&r._pendingVisibility)){var t=Mr(e,2);null!==t&&(r._pendingVisibility|=2,Fd(t,e,2))}},attach:function(){var e=r._current;if(null===e)throw Error(me(456));if(2&r._pendingVisibility){var t=Mr(e,2);null!==t&&(r._pendingVisibility&=-3,Fd(t,e,2))}}};return e.stateNode=r,e}function Xc(e,t,n){return(e=Vc(6,e,null,t)).lanes=n,e}function Qc(e,t,n){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e){e.flags|=4}function Zc(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Mh(t)){if(null!==(t=Mo.current)&&((4194176&ud)===ud?null!==Uo:(62914560&ud)!==ud&&!(536870912&ud)||t!==Uo))throw _o=bo,go;e.flags|=8192}}function ed(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ut():536870912,e.lanes|=t,kd|=t)}function td(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nd(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=31457280&r.subtreeFlags,i|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function id(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nd(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Cl(Yo),lt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ho(t)?Jc(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&($d(oo),oo=null))),nd(t),null;case 26:return n=t.memoizedState,null===e?(Jc(t),null!==n?(nd(t),Zc(t,n)):(nd(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jc(t),nd(t),Zc(t,n)):(nd(t),t.flags&=-16777217):(e.memoizedProps!==i&&Jc(t),nd(t),t.flags&=-16777217),null;case 27:dt(t),n=ot.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Jc(t);else{if(!i){if(null===t.stateNode)throw Error(me(166));return nd(t),null}e=it.current,ho(t)?co(t):(e=bh(r,i,n),t.stateNode=e,Jc(t))}return nd(t),null;case 5:if(dt(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Jc(t);else{if(!i){if(null===t.stateNode)throw Error(me(166));return nd(t),null}if(e=it.current,ho(t))co(t);else{switch(r=ih(ot.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Wt]=t,e[Gt]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(eh(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jc(t)}}return nd(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Jc(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(me(166));if(e=ot.current,ho(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=no))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Wt]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Xu(e.nodeValue,n)))||lo(t)}else(e=ih(e).createTextNode(i))[Wt]=t,t.stateNode=e}return nd(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(me(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(me(317));r[Wt]=t}else po(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nd(t),r=!1}else null!==oo&&($d(oo),oo=null),r=!0;if(!r)return 256&t.flags?($o(t),t):($o(t),null)}if($o(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ed(t,t.updateQueue),nd(t),null;case 4:return lt(),null===e&&Fu(t.stateNode.containerInfo),nd(t),null;case 10:return Cl(t.type),nd(t),null;case 19:if(tt(Vo),null===(r=t.memoizedState))return nd(t),null;if(i=!!(128&t.flags),null===(o=r.rendering))if(i)td(r,!1);else{if(0!==vd||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=qo(e))){for(t.flags|=128,td(r,!1),e=o.updateQueue,t.updateQueue=e,ed(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wc(n,e),n=n.sibling;return nt(Vo,1&Vo.current|2),t.child}e=e.sibling}null!==r.tail&&gt()>Id&&(t.flags|=128,i=!0,td(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=qo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ed(t,e),td(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ro)return nd(t),null}else 2*gt()-r.renderingStartTime>Id&&536870912!==n&&(t.flags|=128,i=!0,td(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=gt(),t.sibling=null,e=Vo.current,nt(Vo,i?1&e|2:1&e),t):(nd(t),null);case 22:case 23:return $o(t),jo(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(nd(t),6&t.subtreeFlags&&(t.flags|=8192)):nd(t),null!==(n=t.updateQueue)&&ed(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&tt(is),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cl(Yo),nd(t),null;case 25:return null}throw Error(me(156,t.tag))}function rd(e,t){switch(to(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cl(Yo),lt(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return dt(t),null;case 13:if($o(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(me(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return tt(Vo),null;case 4:return lt(),null;case 10:return Cl(t.type),null;case 22:case 23:return $o(t),jo(),null!==e&&tt(is),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cl(Yo),null;default:return null}}function od(e,t){switch(to(t),t.tag){case 3:Cl(Yo),lt();break;case 26:case 27:case 5:dt(t);break;case 4:lt();break;case 13:$o(t);break;case 19:tt(Vo);break;case 10:Cl(t.type);break;case 22:case 23:$o(t),jo(),null!==e&&tt(is);break;case 24:Cl(Yo)}}var sd={getCacheForType:function(e){var t=Nl(Yo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ad="function"==typeof WeakMap?WeakMap:Map,ld=0,cd=null,dd=null,ud=0,hd=0,pd=null,md=!1,fd=!1,gd=!1,bd=0,vd=0,yd=0,wd=0,_d=0,xd=0,kd=0,Td=null,Sd=null,Ed=!1,Cd=0,Id=1/0,Ad=null,Pd=null,Dd=!1,Od=null,Nd=0,Ld=0,Rd=null,jd=0,Md=null;function Ud(){if(2&ld&&0!==ud)return ud&-ud;if(null!==Ue.T){return 0!==Zo?Zo:Au()}return qt()}function Bd(){0===xd&&(xd=536870912&ud&&!ro?536870912:Mt());var e=Mo.current;return null!==e&&(e.flags|=32),xd}function Fd(e,t,n){(e===cd&&2===hd||null!==e.cancelPendingCommit)&&(Yd(e,0),Hd(e,ud,xd,!1)),Ft(e,n),2&ld&&e===cd||(e===cd&&(!(2&ld)&&(wd|=n),4===vd&&Hd(e,ud,xd,!1)),ku(e))}function zd(e,t,n){if(6&ld)throw Error(me(327));for(var i=!n&&!(60&t)&&!(t&e.expiredLanes)||Rt(e,t),r=i?function(e,t){var n=ld;ld|=2;var i=Xd(),r=Qd();cd!==e||ud!==t?(Ad=null,Id=gt()+500,Yd(e,t)):fd=Rt(e,t);e:for(;;)try{if(0!==hd&&null!==dd){t=dd;var o=pd;t:switch(hd){case 1:hd=0,pd=null,ru(e,t,o,1);break;case 2:if(vo(o)){hd=0,pd=null,iu(t);break}t=function(){2===hd&&cd===e&&(hd=7),ku(e)},o.then(t,t);break e;case 3:hd=7;break e;case 4:hd=5;break e;case 7:vo(o)?(hd=0,pd=null,iu(t)):(hd=0,pd=null,ru(e,t,o,7));break;case 5:var s=null;switch(dd.tag){case 26:s=dd.memoizedState;case 5:case 27:var a=dd;if(!s||Mh(s)){hd=0,pd=null;var l=a.sibling;if(null!==l)dd=l;else{var c=a.return;null!==c?(dd=c,ou(c)):dd=null}break t}}hd=0,pd=null,ru(e,t,o,5);break;case 6:hd=0,pd=null,ru(e,t,o,6);break;case 8:Gd(),vd=6;break e;default:throw Error(me(462))}}tu();break}catch(d){Kd(e,d)}return Sl=Tl=null,Ue.H=i,Ue.A=r,ld=n,null!==dd?0:(cd=null,ud=0,Lr(),vd)}(e,t):Zd(e,t,!0),o=i;;){if(0===r){fd&&!i&&Hd(e,t,0,!1);break}if(6===r)Hd(e,t,0,!md);else{if(n=e.current.alternate,o&&!qd(n)){r=Zd(e,t,!1),o=!1;continue}if(2===r){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var a=e;r=Td;var l=a.current.memoizedState.isDehydrated;if(l&&(Yd(a,s).flags|=256),2!==(s=Zd(a,s,!1))){if(gd&&!l){a.errorRecoveryDisabledLanes|=o,wd|=o,r=4;break e}o=Sd,Sd=r,null!==o&&$d(o)}r=s}if(o=!1,2!==r)continue}}if(1===r){Yd(e,0),Hd(e,t,0,!0);break}e:{switch(i=e,r){case 0:case 1:throw Error(me(345));case 4:if((4194176&t)===t){Hd(i,t,xd,!md);break e}break;case 2:Sd=null;break;case 3:case 5:break;default:throw Error(me(329))}if(i.finishedWork=n,i.finishedLanes=t,(62914560&t)===t&&10<(o=Cd+300-gt())){if(Hd(i,t,xd,!md),0!==Lt(i,0))break e;i.timeoutHandle=lh(Vd.bind(null,i,n,Sd,Ad,Ed,t,xd,wd,kd,md,2,-0,0),o)}else Vd(i,n,Sd,Ad,Ed,t,xd,wd,kd,md,0,-0,0)}}break}ku(e)}function $d(e){null===Sd?Sd=e:Sd.push.apply(Sd,e)}function Vd(e,t,n,i,r,o,s,a,l,c,d,u,h){var p=t.subtreeFlags;if((8192&p||!(16785408&~p))&&(Uh={stylesheets:null,count:0,unsuspend:Bh},jc(t),null!==(t=function(){if(null===Uh)throw Error(me(475));var e=Uh;return e.stylesheets&&0===e.count&&$h(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&$h(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(au.bind(null,e,n,i,r,s,a,l,1,u,h)),void Hd(e,o,s,!c);au(e,n,i,r,s,a,l,d,u,h)}function qd(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!nr(o(),r))return!1}catch(zH){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hd(e,t,n,i){t&=~_d,t&=~wd,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var o=31-It(r),s=1<<o;i[o]=-1,r&=~s}0!==n&&zt(e,n,t)}function Wd(){return!!(6&ld)||(Tu(0),!1)}function Gd(){if(null!==dd){if(0===hd)var e=dd.return;else Sl=Tl=null,Es(e=dd),ko=null,To=0,e=dd;for(;null!==e;)od(e.alternate,e),e=e.return;dd=null}}function Yd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gd(),cd=e,dd=n=Hc(e.current,null),ud=t,hd=0,pd=null,md=!1,fd=Rt(e,t),gd=!1,kd=xd=_d=wd=yd=vd=0,Sd=Td=null,Ed=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-It(i),o=1<<r;t|=e[r],i&=~o}return bd=t,Lr(),n}function Kd(e,t){ls=null,Ue.H=Na,t===fo?(t=xo(),hd=3):t===go?(t=xo(),hd=4):hd=t===Qa?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,pd=t,null===dd&&(vd=1,Wa(e,$r(t,e.current)))}function Xd(){var e=Ue.H;return Ue.H=Na,null===e?Na:e}function Qd(){var e=Ue.A;return Ue.A=sd,e}function Jd(){vd=4,md||(4194176&ud)!==ud&&null!==Mo.current||(fd=!0),!(134217727&yd)&&!(134217727&wd)||null===cd||Hd(cd,ud,xd,!1)}function Zd(e,t,n){var i=ld;ld|=2;var r=Xd(),o=Qd();cd===e&&ud===t||(Ad=null,Yd(e,t)),t=!1;var s=vd;e:for(;;)try{if(0!==hd&&null!==dd){var a=dd,l=pd;switch(hd){case 8:Gd(),s=6;break e;case 3:case 2:case 6:null===Mo.current&&(t=!0);var c=hd;if(hd=0,pd=null,ru(e,a,l,c),n&&fd){s=0;break e}break;default:c=hd,hd=0,pd=null,ru(e,a,l,c)}}eu(),s=vd;break}catch(d){Kd(e,d)}return t&&e.shellSuspendCounter++,Sl=Tl=null,ld=i,Ue.H=r,Ue.A=o,null===dd&&(cd=null,ud=0,Lr()),s}function eu(){for(;null!==dd;)nu(dd)}function tu(){for(;null!==dd&&!mt();)nu(dd)}function nu(e){var t=xl(e.alternate,e,bd);e.memoizedProps=e.pendingProps,null===t?ou(e):dd=t}function iu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=al(n,t,t.pendingProps,t.type,void 0,ud);break;case 11:t=al(n,t,t.pendingProps,t.type.render,t.ref,ud);break;case 5:Es(t);default:od(n,t),t=xl(n,t=dd=Wc(t,bd),bd)}e.memoizedProps=e.pendingProps,null===t?ou(e):dd=t}function ru(e,t,n,i){Sl=Tl=null,Es(t),ko=null,To=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Pl(t,n,r,!0),null!==(n=Mo.current)){switch(n.tag){case 13:return null===Uo?Jd():null===n.alternate&&0===vd&&(vd=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===bo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),hu(e,i,r)),!1;case 22:return n.flags|=65536,i===bo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),hu(e,i,r)),!1}throw Error(me(435,n.tag))}return hu(e,i,r),Jd(),!1}if(ro)return null!==(t=Mo.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==ao&&mo($r(e=Error(me(422),{cause:i}),n))):(i!==ao&&mo($r(t=Error(me(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=$r(i,n),$l(e,r=Ya(e.stateNode,i,r)),4!==vd&&(vd=2)),!1;var o=Error(me(520),{cause:i});if(o=$r(o,n),null===Td?Td=[o]:Td.push(o),4!==vd&&(vd=2),null===t)return!0;i=$r(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,$l(n,e=Ya(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Pd&&Pd.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,Xa(r=Ka(r),e,n,i),$l(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ud))return vd=1,Wa(e,$r(n,e.current)),void(dd=null)}catch(zH){if(null!==r)throw dd=r,zH;return vd=1,Wa(e,$r(n,e.current)),void(dd=null)}32768&t.flags?(ro||1===i?e=!0:fd||536870912&ud?e=!1:(md=e=!0,(2===i||3===i||6===i)&&(null!==(i=Mo.current)&&13===i.tag&&(i.flags|=16384))),su(t,e)):ou(t)}function ou(e){var t=e;do{if(32768&t.flags)return void su(t,md);e=t.return;var n=id(t.alternate,t,bd);if(null!==n)return void(dd=n);if(null!==(t=t.sibling))return void(dd=t);dd=t=e}while(null!==t);0===vd&&(vd=5)}function su(e,t){do{var n=rd(e.alternate,e);if(null!==n)return n.flags&=32767,void(dd=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(dd=e);dd=e=n}while(null!==e);vd=6,dd=null}function au(e,t,n,i,r,o,s,a,l,c){var d=Ue.T,u=Xe.p;try{Xe.p=2,Ue.T=null,function(e,t,n,i,r,o,s,a){do{cu()}while(null!==Od);if(6&ld)throw Error(me(327));var l=e.finishedWork;if(i=e.finishedLanes,null===l)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(function(e,t,n,i,r,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-It(n),u=1<<d;a[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==i&&zt(e,i,0),0!==o&&0===r&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,i,c|=Nr,o,s,a),e===cd&&(dd=cd=null,ud=0),!(10256&l.subtreeFlags)&&!(10256&l.flags)||Dd||(Dd=!0,Ld=c,Rd=n,function(e,t){ht(e,t)}(wt,(function(){return cu(),null}))),n=!!(15990&l.flags),15990&l.subtreeFlags||n?(n=Ue.T,Ue.T=null,o=Xe.p,Xe.p=2,s=ld,ld|=4,function(e,t){if(e=e.containerInfo,th=Jh,lr(e=ar(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(f){n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var p;u!==n||0!==r&&3!==u.nodeType||(a=s+r),u!==o||0!==i&&3!==u.nodeType||(l=s+i),3===u.nodeType&&(s+=u.nodeValue.length),null!==(p=u.firstChild);)h=u,u=p;for(;;){if(u===e)break t;if(h===n&&++c===r&&(a=s),h===o&&++d===i&&(l=s),null!==(p=u.nextSibling))break;h=(u=h).parentNode}u=p}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},Jh=!1,dc=t;null!==dc;)if(e=(t=dc).child,1028&t.subtreeFlags&&null!==e)e.return=t,dc=e;else for(;null!==dc;){switch(o=(t=dc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=za(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(zH){uu(n,n.return,zH)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(me(163))}if(null!==(e=t.sibling)){e.return=t.return,dc=e;break}dc=t.return}m=uc,uc=!1}(e,l),xc(l,e),cr(nh,e.containerInfo),Jh=!!th,nh=th=null,e.current=l,hc(e,l.alternate,l),ft(),ld=s,Xe.p=o,Ue.T=n):e.current=l,Dd?(Dd=!1,Od=e,Nd=i):lu(e,c),c=e.pendingLanes,0===c&&(Pd=null),function(e){if(Et&&"function"==typeof Et.onCommitFiberRoot)try{Et.onCommitFiberRoot(St,e,void 0,!(128&~e.current.flags))}catch(sm){}}(l.stateNode),ku(e),null!==t)for(r=e.onRecoverableError,l=0;l<t.length;l++)c=t[l],r(c.value,{componentStack:c.stack});!!(3&Nd)&&cu(),c=e.pendingLanes,4194218&i&&42&c?e===Md?jd++:(jd=0,Md=e):jd=0,Tu(0)}(e,t,n,i,u,r,o,s)}finally{Ue.T=d,Xe.p=u}}function lu(e,t){0==(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Xo(t)))}function cu(){if(null!==Od){var e=Od,t=Ld;Ld=0;var n=Vt(Nd),i=Ue.T,r=Xe.p;try{if(Xe.p=32>n?32:n,Ue.T=null,null===Od)var o=!1;else{n=Rd,Rd=null;var s=Od,a=Nd;if(Od=null,Nd=0,6&ld)throw Error(me(331));var l=ld;if(ld|=4,Bc(s.current),Dc(s,s.current,a,n),ld=l,Tu(0,!1),Et&&"function"==typeof Et.onPostCommitFiberRoot)try{Et.onPostCommitFiberRoot(St,s)}catch(sm){}o=!0}return o}finally{Xe.p=r,Ue.T=i,lu(e,t)}}return!1}function du(e,t,n){t=$r(n,t),null!==(e=Fl(e,t=Ya(e.stateNode,t,2),2))&&(Ft(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Pd||!Pd.has(i))){e=$r(n,e),null!==(i=Fl(t,n=Ka(2),2))&&(Xa(n,i,t,e),Ft(i,2),ku(i));break}}t=t.return}}function hu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ad;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(gd=!0,r.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,cd===e&&(ud&n)===n&&(4===vd||3===vd&&(62914560&ud)===ud&&300>gt()-Cd?!(2&ld)&&Yd(e,0):_d|=n,kd===ud&&(kd=0)),ku(e)}function mu(e,t){0===t&&(t=Ut()),null!==(e=Mr(e,t))&&(Ft(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(me(314))}null!==i&&i.delete(t),mu(e,n)}var bu=null,vu=null,yu=!1,wu=!1,_u=!1,xu=0;function ku(e){var t;e!==vu&&null===e.next&&(null===vu?bu=vu=e:vu=vu.next=e),wu=!0,yu||(yu=!0,t=Su,uh((function(){6&ld?ht(vt,t):t()})))}function Tu(e,t){if(!_u&&wu){_u=!0;do{for(var n=!1,i=bu;null!==i;){if(0!==e){var r=i.pendingLanes;if(0===r)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-It(42|e)+1)-1,o=201326677&(o&=r&~(s&~a))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,Iu(i,o))}else o=ud,!(3&(o=Lt(i,i===cd?o:0)))||Rt(i,o)||(n=!0,Iu(i,o));i=i.next}}while(n);_u=!1}}function Su(){wu=yu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ah&&(ah=e,!0);return ah=null,!1}()&&(e=xu),xu=0);for(var t=gt(),n=null,i=bu;null!==i;){var r=i.next,o=Eu(i,t);0===o?(i.next=null,null===n?bu=r:n.next=r,null===r&&(vu=n)):(n=i,(0!==e||3&o)&&(wu=!0)),i=r}Tu(e)}function Eu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-It(o),a=1<<s,l=r[s];-1===l?a&n&&!(a&i)||(r[s]=jt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=ud,n=Lt(e,e===(t=cd)?n:0),i=e.callbackNode,0===n||e===t&&2===hd||null!==e.cancelPendingCommit)return null!==i&&null!==i&&pt(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Rt(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&pt(i),Vt(n)){case 2:case 8:n=yt;break;case 32:default:n=wt;break;case 268435456:n=xt}return i=Cu.bind(null,e),n=ht(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&pt(i),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var i=ud;return 0===(i=Lt(e,e===cd?i:0))?null:(zd(e,i,t),Eu(e,gt()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Iu(e,t){if(cu())return null;zd(e,t,!0)}function Au(){return 0===xu&&(xu=Mt()),xu}function Pu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Un(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<Ar.length;Ou++){var Nu=Ar[Ou];Pr(Nu.toLowerCase(),"on"+(Nu[0].toUpperCase()+Nu.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(kr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionRun"),Pr(Sr,"onTransitionStart"),Pr(Er,"onTransitionCancel"),Pr(Cr,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function ju(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(zH){$a(zH)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(zH){$a(zH)}r.currentTarget=null,o=l}}}}function Mu(e,t){var n=t[Kt];void 0===n&&(n=t[Kt]=new Set);var i=e+"__bubble";n.has(i)||(zu(t,e,2,!1),n.add(i))}function Uu(e,t,n){var i=0;t&&(i|=4),zu(n,e,i,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Bu]){e[Bu]=!0,an.forEach((function(t){"selectionchange"!==t&&(Ru.has(t)||Uu(t,!1,e),Uu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Uu("selectionchange",!1,t))}}function zu(e,t,n,i){switch(op(t)){case 2:var r=Zh;break;case 8:r=ep;break;default:r=tp}n=r.bind(null,t,n,e),r=void 0,!Gn||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function $u(e,t,n,i,r){var o=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=tn(a)))return;if(5===(l=s.tag)||6===l||26===l||27===l){i=o=s;continue e}a=a.parentNode}}i=i.return}Hn((function(){var i=o,r=Fn(n),s=[];e:{var a=Ir.get(e);if(void 0!==a){var l=ai,c=e;switch(e){case"keypress":if(0===Zn(n))break e;case"keydown":case"keyup":l=xi;break;case"focusin":c="focus",l=pi;break;case"focusout":c="blur",l=pi;break;case"beforeblur":case"afterblur":l=pi;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ti;break;case _r:case xr:case kr:l=mi;break;case Cr:l=Si;break;case"scroll":case"scrollend":l=ci;break;case"wheel":l=Ei;break;case"copy":case"cut":case"paste":l=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ki;break;case"toggle":case"beforetoggle":l=Ci}var d=!!(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=i;null!==m;){var f=m;if(p=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===p||null===h||null!=(f=Wn(m,h))&&d.push(Vu(m,f,p)),u)break;m=m.return}0<d.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Bn||!(c=n.relatedTarget||n.fromElement)||!tn(c)&&!c[Yt])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?tn(c):null)&&(u=He(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=i),l!==c)){if(d=ui,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=ki,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?a:rn(l),p=null==c?a:rn(c),(a=new d(f,m+"leave",l,n,r)).target=u,a.relatedTarget=p,f=null,tn(r)===i&&((d=new d(h,m+"enter",c,n,r)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Hu(p))m++;for(p=0,f=h;f;f=Hu(f))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)h=Hu(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Hu(d),h=Hu(h)}d=null}else d=null;null!==l&&Wu(s,a,l,d,!1),null!==c&&null!==u&&Wu(s,u,c,d,!0)}if("select"===(l=(a=i?rn(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Hi;else if(Bi(a))if(Wi)g=tr;else{g=Zi;var b=Ji}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Rn(i.elementType)&&(g=Hi):g=er;switch(g&&(g=g(e,i))?Fi(s,g,n,r):(b&&b(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&Cn(a,"number",a.value)),b=i?rn(i):window,e){case"focusin":(Bi(b)||"true"===b.contentEditable)&&(ur=b,hr=i,pr=null);break;case"focusout":pr=hr=ur=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,fr(s,n,r);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":fr(s,n,r)}var v;if(Ai)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Mi?Ri(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Oi&&"ko"!==n.locale&&(Mi||"onCompositionStart"!==y?"onCompositionEnd"===y&&Mi&&(v=Jn()):(Xn="value"in(Kn=r)?Kn.value:Kn.textContent,Mi=!0)),0<(b=qu(i,y)).length&&(y=new gi(y,e,null,n,r),s.push({event:y,listeners:b}),v?y.data=v:null!==(v=ji(n))&&(y.data=v))),(v=Di?function(e,t){switch(e){case"compositionend":return ji(t);case"keypress":return 32!==t.which?null:(Li=!0,Ni);case"textInput":return(e=t.data)===Ni&&Li?null:e;default:return null}}(e,n):function(e,t){if(Mi)return"compositionend"===e||!Ai&&Ri(e,t)?(e=Jn(),Qn=Xn=Kn=null,Mi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oi&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=qu(i,"onBeforeInput")).length&&(b=new gi("onBeforeInput","beforeinput",null,n,r),s.push({event:b,listeners:y}),b.data=v)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var o=Pu((r[Gt]||null).action),s=i.submitter;s&&null!==(t=(t=s[Gt]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new ai("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==xu){var e=s?Du(r,s):new FormData(r);ya(n,{pending:!0,data:e,method:r.method,action:o},null,e)}}else"function"==typeof o&&(a.preventDefault(),e=s?Du(r,s):new FormData(r),ya(n,{pending:!0,data:e,method:r.method,action:o},o,e))},currentTarget:r}]})}}(s,e,i,n,r)}ju(s,t)}))}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Wn(e,n))&&i.unshift(Vu(e,r,o)),null!=(r=Wn(e,t))&&i.push(Vu(e,r,o))),e=e.return}return i}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,r?null!=(c=Wn(n,o))&&s.unshift(Vu(n,c,l)):r||null!=(c=Wn(n,o))&&s.push(Vu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Ku(e){return("string"==typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function Xu(e,t){return t=Ku(t),Ku(e)===t}function Qu(){}function Ju(e,t,n,i,r,o){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Dn(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Dn(e,""+i);break;case"className":gn(e,"class",i);break;case"tabIndex":gn(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,n,i);break;case"style":Ln(e,i,o);break;case"data":if("object"!==t){gn(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Un(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&Ju(e,t,"name",r.name,r,null),Ju(e,t,"formEncType",r.formEncType,r,null),Ju(e,t,"formMethod",r.formMethod,r,null),Ju(e,t,"formTarget",r.formTarget,r,null)):(Ju(e,t,"encType",r.encType,r,null),Ju(e,t,"method",r.method,r,null),Ju(e,t,"target",r.target,r,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Un(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Qu);break;case"onScroll":null!=i&&Mu("scroll",e);break;case"onScrollEnd":null!=i&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(me(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(me(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Un(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),fn(e,"popover",i);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fn(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&fn(e,n=jn.get(n)||n,i)}}function Zu(e,t,n,i,r,o){switch(n){case"style":Ln(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(me(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(me(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Dn(e,i):("number"==typeof i||"bigint"==typeof i)&&Dn(e,""+i);break;case"onScroll":null!=i&&Mu("scroll",e);break;case"onScrollEnd":null!=i&&Mu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:ln.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Gt]||null)?o[n]:null)&&e.removeEventListener(t,o,r),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):fn(e,n,i):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var i,r=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(me(137,t));default:Ju(e,t,i,s,n,null)}}return o&&Ju(e,t,"srcSet",n.srcSet,n,null),void(r&&Ju(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var a=i=s=o=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":o=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(me(137,t));break;default:Ju(e,t,r,d,n,null)}}return En(e,i,a,l,c,s,o,!1),void wn(e);case"select":for(o in Mu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(a=n[o]))switch(o){case"value":i=a;break;case"defaultValue":s=a;break;case"multiple":r=a;default:Ju(e,t,o,a,n,null)}return t=i,n=s,e.multiple=!!r,void(null!=t?In(e,!!r,t,!1):null!=n&&In(e,!!r,n,!0));case"textarea":for(s in Mu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(a=n[s]))switch(s){case"value":r=a;break;case"defaultValue":o=a;break;case"children":i=a;break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(me(91));break;default:Ju(e,t,s,a,n,null)}return Pn(e,r,o,i),void wn(e);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(r=n[l]))if("selected"===l)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else Ju(e,t,l,r,n,null);return;case"dialog":Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(r=0;r<Lu.length;r++)Mu(Lu[r],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(me(137,t));default:Ju(e,t,c,r,n,null)}return;default:if(Rn(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Zu(e,t,d,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(null!=(r=n[a])&&Ju(e,t,a,r,n,null))}var th=null,nh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function rh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ah=null;var lh="function"==typeof setTimeout?setTimeout:void 0,ch="function"==typeof clearTimeout?clearTimeout:void 0,dh="function"==typeof Promise?Promise:void 0,uh="function"==typeof queueMicrotask?queueMicrotask:void 0!==dh?function(e){return dh.resolve(null).then(e).catch(hh)}:lh;function hh(e){setTimeout((function(){throw e}))}function ph(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void kp(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);kp(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),en(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function fh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function gh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(me(452));return e;case"head":if(!(e=t.head))throw Error(me(453));return e;case"body":if(!(e=t.body))throw Error(me(454));return e;default:throw Error(me(451))}}var vh=new Map,yh=new Set;function wh(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var _h=Xe.d;Xe.d={f:function(){var e=_h.f(),t=Wd();return e||t},r:function(e){var t=nn(e);null!==t&&5===t.tag&&"form"===t.type?_a(t):_h.r(e)},D:function(e){_h.D(e),kh("dns-prefetch",e,null)},C:function(e,t){_h.C(e,t),kh("preconnect",e,t)},L:function(e,t,n){_h.L(e,t,n);var i=xh;if(i&&e&&t){var r='link[rel="preload"][as="'+Tn(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Tn(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+Tn(n.imageSizes)+'"]')):r+='[href="'+Tn(e)+'"]';var o=r;switch(t){case"style":o=Sh(e);break;case"script":o=Ih(e)}vh.has(o)||(e=Be({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),vh.set(o,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Eh(o))||"script"===t&&i.querySelector(Ah(o))||(eh(t=i.createElement("link"),"link",e),sn(t),i.head.appendChild(t)))}},m:function(e,t){_h.m(e,t);var n=xh;if(n&&e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+Tn(i)+'"][href="'+Tn(e)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ih(e)}if(!vh.has(o)&&(e=Be({rel:"modulepreload",href:e},t),vh.set(o,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ah(o)))return}eh(i=n.createElement("link"),"link",e),sn(i),n.head.appendChild(i)}}},X:function(e,t){_h.X(e,t);var n=xh;if(n&&e){var i=on(n).hoistableScripts,r=Ih(e),o=i.get(r);o||((o=n.querySelector(Ah(r)))||(e=Be({src:e,async:!0},t),(t=vh.get(r))&&Nh(e,t),sn(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}},S:function(e,t,n){_h.S(e,t,n);var i=xh;if(i&&e){var r=on(i).hoistableStyles,o=Sh(e);t=t||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Eh(o)))a.loading=5;else{e=Be({rel:"stylesheet",href:e,"data-precedence":t},n),(n=vh.get(o))&&Oh(e,n);var l=s=i.createElement("link");sn(l),eh(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Dh(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}},M:function(e,t){_h.M(e,t);var n=xh;if(n&&e){var i=on(n).hoistableScripts,r=Ih(e),o=i.get(r);o||((o=n.querySelector(Ah(r)))||(e=Be({src:e,async:!0,type:"module"},t),(t=vh.get(r))&&Nh(e,t),sn(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}};var xh="undefined"==typeof document?null:document;function kh(e,t,n){var i=xh;if(i&&"string"==typeof t&&t){var r=Tn(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),yh.has(r)||(yh.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(eh(t=i.createElement("link"),"link",e),sn(t),i.head.appendChild(t)))}}function Th(e,t,n,i){var r,o,s,a,l=(l=ot.current)?wh(l):null;if(!l)throw Error(me(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Sh(n.href),(i=(n=on(l).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Sh(n.href);var c=on(l).hoistableStyles,d=c.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=l.querySelector(Eh(e)))&&!c._p&&(d.instance=c,d.state.loading=5),vh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},vh.set(e,n),c||(r=l,o=e,s=n,a=d.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?a.loading=1:(o=r.createElement("link"),a.preload=o,o.addEventListener("load",(function(){return a.loading|=1})),o.addEventListener("error",(function(){return a.loading|=2})),eh(o,"link",s),sn(o),r.head.appendChild(o))))),t&&null===i)throw Error(me(528,""));return d}if(t&&null!==i)throw Error(me(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ih(n),(i=(n=on(l).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(me(444,e))}}function Sh(e){return'href="'+Tn(e)+'"'}function Eh(e){return'link[rel="stylesheet"]['+e+"]"}function Ch(e){return Be({},e,{"data-precedence":e.precedence,precedence:null})}function Ih(e){return'[src="'+Tn(e)+'"]'}function Ah(e){return"script[async]"+e}function Ph(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Tn(n.href)+'"]');if(i)return t.instance=i,sn(i),i;var r=Be({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return sn(i=(e.ownerDocument||e).createElement("style")),eh(i,"style",r),Dh(i,n.precedence,e),t.instance=i;case"stylesheet":r=Sh(n.href);var o=e.querySelector(Eh(r));if(o)return t.state.loading|=4,t.instance=o,sn(o),o;i=Ch(n),(r=vh.get(r))&&Oh(i,r),sn(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eh(o,"link",i),t.state.loading|=4,Dh(o,n.precedence,e),t.instance=o;case"script":return o=Ih(n.src),(r=e.querySelector(Ah(o)))?(t.instance=r,sn(r),r):(i=n,(r=vh.get(o))&&Nh(i=Be({},n),r),sn(r=(e=e.ownerDocument||e).createElement("script")),eh(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(me(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Dh(i,n.precedence,e));return t.instance}function Dh(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Oh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Lh=null;function Rh(e,t,n){if(null===Lh){var i=new Map,r=Lh=new Map;r.set(n,i)}else(i=(r=Lh).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[Zt]||o[Wt]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function jh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Mh(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Uh=null;function Bh(){}function Fh(){if(this.count--,0===this.count)if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var zh=null;function $h(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,zh=new Map,t.forEach(Vh,e),zh=null,Fh.call(e))}function Vh(e,t){if(!(4&t.state.loading)){var n=zh.get(e);if(n)var i=n.get(null);else{n=new Map,zh.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=t.instance).getAttribute("data-precedence"),(o=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Fh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var qh={$$typeof:Te,Provider:null,Consumer:null,_currentValue:Qe,_currentValue2:Qe,_threadCount:0};function Hh(e,t,n,i,r,o,s,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Wh(e,t,n,i,r,o,s,a,l,c,d,u){return e=new Hh(e,t,n,s,a,l,c,u),t=1,!0===o&&(t|=24),o=Vc(3,null,null,t),e.current=o,o.stateNode=e,(t=Ko()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Ml(o),e}function Gh(e){return e?e=Fr:Fr}function Yh(e,t,n,i,r,o){r=Gh(r),null===i.context?i.context=r:i.pendingContext=r,(i=Bl(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(i.callback=o),null!==(n=Fl(e,i,t))&&(Fd(n,0,t),zl(n,e,t))}function Kh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xh(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}function Qh(e){if(13===e.tag){var t=Mr(e,67108864);null!==t&&Fd(t,0,67108864),Xh(e,67108864)}}var Jh=!0;function Zh(e,t,n,i){var r=Ue.T;Ue.T=null;var o=Xe.p;try{Xe.p=2,tp(e,t,n,i)}finally{Xe.p=o,Ue.T=r}}function ep(e,t,n,i){var r=Ue.T;Ue.T=null;var o=Xe.p;try{Xe.p=8,tp(e,t,n,i)}finally{Xe.p=o,Ue.T=r}}function tp(e,t,n,i){if(Jh){var r=np(i);if(null===r)$u(e,t,i,ip,n),mp(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return ap=fp(ap,e,t,n,i,r),!0;case"dragenter":return lp=fp(lp,e,t,n,i,r),!0;case"mouseover":return cp=fp(cp,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return dp.set(o,fp(dp.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,up.set(o,fp(up.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(mp(e,i),4&t&&-1<pp.indexOf(e)){for(;null!==r;){var o=nn(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Nt(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-It(s);a.entanglements[1]|=l,s&=~l}ku(o),!(6&ld)&&(Id=gt()+500,Tu(0))}}break;case 13:null!==(a=Mr(o,2))&&Fd(a,0,2),Wd(),Xh(o,2)}if(null===(o=np(i))&&$u(e,t,i,ip,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else $u(e,t,i,null,n)}}function np(e){return rp(e=Fn(e))}var ip=null;function rp(e){if(ip=null,null!==(e=tn(e))){var t=He(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ip=e,null}function op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case vt:return 2;case yt:return 8;case wt:case _t:return 32;case xt:return 268435456;default:return 32}default:return 32}}var sp=!1,ap=null,lp=null,cp=null,dp=new Map,up=new Map,hp=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mp(e,t){switch(e){case"focusin":case"focusout":ap=null;break;case"dragenter":case"dragleave":lp=null;break;case"mouseover":case"mouseout":cp=null;break;case"pointerover":case"pointerout":dp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":up.delete(t.pointerId)}}function fp(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=nn(t))&&Qh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function gp(e){var t=tn(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void function(e,t){var n=Xe.p;try{return Xe.p=e,t()}finally{Xe.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ud(),t=Mr(n,e);null!==t&&Fd(t,0,e),Xh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=np(e.nativeEvent);if(null!==n)return null!==(t=nn(n))&&Qh(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Bn=i,n.target.dispatchEvent(i),Bn=null,t.shift()}return!0}function vp(e,t,n){bp(e)&&n.delete(t)}function yp(){sp=!1,null!==ap&&bp(ap)&&(ap=null),null!==lp&&bp(lp)&&(lp=null),null!==cp&&bp(cp)&&(cp=null),dp.forEach(vp),up.forEach(vp)}function wp(e,t){e.blockedOn===t&&(e.blockedOn=null,sp||(sp=!0,ue.unstable_scheduleCallback(ue.unstable_NormalPriority,yp)))}var _p=null;function xp(e){_p!==e&&(_p=e,ue.unstable_scheduleCallback(ue.unstable_NormalPriority,(function(){_p===e&&(_p=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!=typeof i){if(null===rp(i||n))continue;break}var o=nn(n);null!==o&&(e.splice(t,3),t-=3,ya(o,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function kp(e){function t(t){return wp(t,e)}null!==ap&&wp(ap,e),null!==lp&&wp(lp,e),null!==cp&&wp(cp,e),dp.forEach(t),up.forEach(t);for(var n=0;n<hp.length;n++){var i=hp[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<hp.length&&null===(n=hp[0]).blockedOn;)gp(n),null===n.blockedOn&&hp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[Gt]||null;if("function"==typeof o)s||xp(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[Gt]||null)a=s.formAction;else if(null!==rp(r))continue}else a=s.action;"function"==typeof a?n[i+1]=a:(n.splice(i,3),i-=3),xp(n)}}}function Tp(e){this._internalRoot=e}function Sp(e){this._internalRoot=e}Sp.prototype.render=Tp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(me(409));Yh(t.current,Ud(),e,t,null,null)},Sp.prototype.unmount=Tp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&cu(),Yh(e.current,2,null,e,null,null),Wd(),t[Yt]=null}},Sp.prototype.unstable_scheduleHydration=function(e){if(e){var t=qt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hp.length&&0!==t&&t<hp[n].priority;n++);hp.splice(n,0,e),0===n&&gp(e)}};var Ep=he.version;if("19.0.0"!==Ep)throw Error(me(527,Ep,"19.0.0"));Xe.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(me(188));throw e=Object.keys(e).join(","),Error(me(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(me(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ge(r),e;if(o===i)return Ge(r),t;o=o.sibling}throw Error(me(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(me(189))}}if(n.alternate!==i)throw Error(me(190))}if(3!==n.tag)throw Error(me(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?Ye(e):null)?null:e.stateNode};var Cp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Ue,findFiberByHostInstance:tn,reconcilerVersion:"19.0.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{St=Ip.inject(Cp),Et=Ip}catch(sm){}}X.createRoot=function(e,t){if(!fe(e))throw Error(me(299));var n=!1,i="",r=Va,o=qa,s=Ha;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Wh(e,1,!1,null,0,n,i,r,o,s,0,null),e[Yt]=t.current,Fu(8===e.nodeType?e.parentNode:e),new Tp(t)},X.hydrateRoot=function(e,t,n){if(!fe(e))throw Error(me(299));var i=!1,r="",o=Va,s=qa,a=Ha,l=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(a=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(l=n.formState)),(t=Wh(e,1,!0,t,0,i,r,o,s,a,0,l)).context=Gh(null),n=t.current,(r=Bl(i=Ud())).callback=null,Fl(n,r,i),t.current.lanes=i,Ft(t,i),ku(t),e[Yt]=t.current,Fu(e),new Sp(t)},X.version="19.0.0",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(sm){console.error(sm)}}(),K.exports=X;var Ap=K.exports;const Pp=function(e,t,n){let i=Promise.resolve();return i.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};var Dp={hasRenderFn:!0,reflect:!0,scoped:!0,updatable:!0,vdomRender:!0,hydrateServerSide:!1,lazyLoad:!1,slotRelocation:!0,experimentalSlotFixes:!1},Op=Object.defineProperty,Np=!0,Lp=new WeakMap,Rp=e=>Lp.get(e),jp=(e,t)=>t in e,Mp=(e,t)=>(0,console.error)(e,t),Up=new Map,Bp=[],Fp="http://www.w3.org/1999/xlink",zp="undefined"!=typeof window?window:{},$p=zp.document||{head:{}},Vp=zp.HTMLElement||class{},qp={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,i)=>e.addEventListener(t,n,i),rel:(e,t,n,i)=>e.removeEventListener(t,n,i),ce:(e,t)=>new CustomEvent(e,t)},Hp=(()=>{let e=!1;try{$p.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(HS){}return e})(),Wp=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(HS){}return!1})(),Gp=!1,Yp=[],Kp=[],Xp=(e,t)=>n=>{e.push(n),Gp||(Gp=!0,t&&4&qp.$flags$?Zp(Jp):qp.raf(Jp))},Qp=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(HS){Mp(HS)}e.length=0},Jp=()=>{Qp(Yp),Qp(Kp),(Gp=Yp.length>0)&&qp.raf(Jp)},Zp=e=>(e=>Promise.resolve(e))().then(e),em=t("r",Xp(Yp,!1)),tm=t("w",Xp(Kp,!0)),nm=e=>{const t=new URL(e,qp.$resourcesUrl$);return t.origin!==zp.location.origin?t.href:t.pathname},im={},rm=e=>"object"===(e=typeof e)||"function"===e;((e,t)=>{for(var n in t)Op(e,n,{get:t[n],enumerable:!0})})({},{err:()=>sm,map:()=>am,ok:()=>om,unwrap:()=>um,unwrapErr:()=>hm});var om=e=>({isOk:!0,isErr:!1,value:e}),sm=e=>({isOk:!1,isErr:!0,value:e});function am(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then((e=>om(e))):om(n)}if(e.isErr){const t=e.value;return sm(t)}throw"should never get here"}var lm,cm,dm,um=e=>{if(e.isOk)return e.value;throw e.value},hm=e=>{if(e.isErr)return e.value;throw e.value},pm=(e,t,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=t=>{for(let n=0;n<t.length;n++)i=t[n],Array.isArray(i)?c(i):null!=i&&"boolean"!=typeof i&&((s="function"!=typeof e&&!rm(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?mm(null,i):i),a=s)};if(c(n),t){t.key&&(r=t.key),t.name&&(o=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,gm);const d=mm(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=r,d.$name$=o,d},mm=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},fm={},gm={forEach:(e,t)=>e.map(bm).forEach(t),map:(e,t)=>e.map(bm).map(t).map(vm)},bm=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),vm=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),pm(e.vtag,t,...e.vchildren||[])}const t=mm(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},ym=(e,t,n)=>{const i=e;return{emit:e=>wm(i,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},wm=(e,t,n)=>{const i=qp.ce(t,n);return e.dispatchEvent(i),i},_m=new WeakMap,xm=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,r=(t.$tagName$,()=>{}),o=((e,t,n)=>{var i;const r=km(t,n),o=Up.get(r);if(e=11===e.nodeType?e:$p,o)if("string"==typeof o){e=e.head||e;let n,s=_m.get(e);if(s||_m.set(e,s=new Set),!s.has(r)){{n=$p.createElement("style"),n.innerHTML=o;const r=null!=(i=qp.$nonce$)?i:function(e){var t,n,i;return null!=(i=null==(n=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:n.getAttribute("content"))?i:void 0}($p);null!=r&&n.setAttribute("nonce",r),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(n,e.querySelector("link"))}4&t.$flags$&&(n.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),s&&s.add(r)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return r})(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);10&i&&2&i&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&i&&n.classList.add(o+"-s")),r()},km=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),Tm=(e,t,n,i,r,o)=>{if(n!==i){let s=jp(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,r=Em(n),o=Em(i);t.remove(...r.filter((e=>e&&!o.includes(e)))),t.add(...o.filter((e=>e&&!r.includes(e))))}else if("style"===t){for(const t in n)i&&null!=i[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in i)n&&i[t]===n[t]||(t.includes("-")?e.style.setProperty(t,i[t]):e.style[t]=i[t])}else if("key"===t);else if("ref"===t)i&&i(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=rm(i);if((s||l&&null!==i)&&!r)try{if(e.tagName.includes("-"))e[t]=i;else{const r=null==i?"":i;"list"===t?s=!1:null!=n&&e[t]==r||(e[t]=r)}}catch(HS){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),null==i||!1===i?!1===i&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(Fp,t):e.removeAttribute(t)):(!s||4&o||r)&&!l&&(i=!0===i?"":i,c?e.setAttributeNS(Fp,t,i):e.setAttribute(t,i))}else if(t="-"===t[2]?t.slice(3):jp(zp,a)?a.slice(2):a[2]+t.slice(3),n||i){const r=t.endsWith(Cm);t=t.replace(Im,""),n&&qp.rel(e,t,n,r),i&&qp.ael(e,t,i,r)}}},Sm=/\s/,Em=e=>e?e.split(Sm):[],Cm="Capture",Im=new RegExp(Cm+"$"),Am=(e,t,n)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,r=e&&e.$attrs$||im,o=t.$attrs$||im;for(const s of Pm(Object.keys(r)))s in o||Tm(i,s,r[s],void 0,n,t.$flags$);for(const s of Pm(Object.keys(o)))Tm(i,s,r[s],o[s],n,t.$flags$)};function Pm(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var Dm=!1,Om=!1,Nm=!1,Lm=!1,Rm=(e,t,n,i)=>{var r;const o=t.$children$[n];let s,a,l,c=0;if(Dm||(Nm=!0,"slot"===o.$tag$&&(lm&&i.classList.add(lm+"-s"),o.$flags$|=o.$children$?2:1)),null!==o.$text$)s=o.$elm$=$p.createTextNode(o.$text$);else if(1&o.$flags$)s=o.$elm$=$p.createTextNode("");else{Lm||(Lm="svg"===o.$tag$),s=o.$elm$=$p.createElementNS(Lm?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Dm&&Dp.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$),Lm&&"foreignObject"===o.$tag$&&(Lm=!1),Am(null,o,Lm);if(!!s.getRootNode().querySelector("body")&&Dp.scoped&&(e=>null!=e)(lm)&&s["s-si"]!==lm&&s.classList.add(s["s-si"]=lm),Xm(s,i),o.$children$)for(c=0;c<o.$children$.length;++c)a=Rm(e,o,c,s),a&&s.appendChild(a);"svg"===o.$tag$?Lm=!1:"foreignObject"===s.tagName&&(Lm=!0)}return s["s-hn"]=dm,3&o.$flags$&&(s["s-sr"]=!0,s["s-cr"]=cm,s["s-sn"]=o.$name$||"",s["s-rf"]=null==(r=o.$attrs$)?void 0:r.ref,l=e&&e.$children$&&e.$children$[n],l&&l.$tag$===o.$tag$&&e.$elm$&&jm(e.$elm$,!1)),s},jm=(e,t)=>{qp.$flags$|=1;const n=Array.from(e.childNodes);if(e["s-sr"]&&Dp.experimentalSlotFixes){let t=e;for(;t=t.nextSibling;)t&&t["s-sn"]===e["s-sn"]&&t["s-sh"]===dm&&n.push(t)}for(let i=n.length-1;i>=0;i--){const e=n[i];e["s-hn"]!==dm&&e["s-ol"]&&(Ym(zm(e),e,Fm(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,Nm=!0),t&&jm(e,t)}qp.$flags$&=-2},Mm=(e,t,n,i,r,o)=>{let s,a=e["s-cr"]&&e["s-cr"].parentNode||e;for(a.shadowRoot&&a.tagName===dm&&(a=a.shadowRoot);r<=o;++r)i[r]&&(s=Rm(null,n,r,e),s&&(i[r].$elm$=s,Ym(a,s,Fm(t))))},Um=(e,t,n)=>{for(let i=t;i<=n;++i){const t=e[i];if(t){const e=t.$elm$;Gm(t),e&&(Om=!0,e["s-ol"]?e["s-ol"].remove():jm(e,!0),e.remove())}}},Bm=(e,t,n=!1)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?(!("$nodeId$"in e)||!n||8===e.$elm$.nodeType)&&e.$name$===t.$name$:!!n||e.$key$===t.$key$),Fm=e=>e&&e["s-ol"]||e,zm=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,$m=(e,t,n=!1)=>{const i=t.$elm$=e.$elm$,r=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;let l;null===a?(Lm="svg"===s||"foreignObject"!==s&&Lm,("slot"!==s||Dm)&&Am(e,t,Lm),null!==r&&null!==o?((e,t,n,i,r=!1)=>{let o,s,a=0,l=0,c=0,d=0,u=t.length-1,h=t[0],p=t[u],m=i.length-1,f=i[0],g=i[m];for(;a<=u&&l<=m;)if(null==h)h=t[++a];else if(null==p)p=t[--u];else if(null==f)f=i[++l];else if(null==g)g=i[--m];else if(Bm(h,f,r))$m(h,f,r),h=t[++a],f=i[++l];else if(Bm(p,g,r))$m(p,g,r),p=t[--u],g=i[--m];else if(Bm(h,g,r))"slot"!==h.$tag$&&"slot"!==g.$tag$||jm(h.$elm$.parentNode,!1),$m(h,g,r),Ym(e,h.$elm$,p.$elm$.nextSibling),h=t[++a],g=i[--m];else if(Bm(p,f,r))"slot"!==h.$tag$&&"slot"!==g.$tag$||jm(p.$elm$.parentNode,!1),$m(p,f,r),Ym(e,p.$elm$,h.$elm$),p=t[--u],f=i[++l];else{for(c=-1,d=a;d<=u;++d)if(t[d]&&null!==t[d].$key$&&t[d].$key$===f.$key$){c=d;break}c>=0?(s=t[c],s.$tag$!==f.$tag$?o=Rm(t&&t[l],n,c,e):($m(s,f,r),t[c]=void 0,o=s.$elm$),f=i[++l]):(o=Rm(t&&t[l],n,l,e),f=i[++l]),o&&Ym(zm(h.$elm$),o,Fm(h.$elm$))}a>u?Mm(e,null==i[m+1]?null:i[m+1].$elm$,n,i,l,m):l>m&&Um(t,a,u)})(i,r,t,o,n):null!==o?(null!==e.$text$&&(i.textContent=""),Mm(i,null,t,o,0,o.length-1)):!n&&Dp.updatable&&null!==r&&Um(r,0,r.length-1),Lm&&"svg"===s&&(Lm=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(i.data=a)},Vm=e=>{const t=e.childNodes;for(const n of t)if(1===n.nodeType){if(n["s-sr"]){const e=n["s-sn"];n.hidden=!1;for(const i of t)if(i!==n)if(i["s-hn"]!==n["s-hn"]||""!==e){if(1===i.nodeType&&(e===i.getAttribute("slot")||e===i["s-sn"])||3===i.nodeType&&e===i["s-sn"]){n.hidden=!0;break}}else if(1===i.nodeType||3===i.nodeType&&""!==i.textContent.trim()){n.hidden=!0;break}}Vm(n)}},qm=[],Hm=e=>{let t,n,i;for(const r of e.childNodes){if(r["s-sr"]&&(t=r["s-cr"])&&t.parentNode){n=t.parentNode.childNodes;const e=r["s-sn"];for(i=n.length-1;i>=0;i--)if(t=n[i],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==r["s-hn"]&&!Dp.experimentalSlotFixes)if(Wm(t,e)){let n=qm.find((e=>e.$nodeToRelocate$===t));Om=!0,t["s-sn"]=t["s-sn"]||e,n?(n.$nodeToRelocate$["s-sh"]=r["s-hn"],n.$slotRefNode$=r):(t["s-sh"]=r["s-hn"],qm.push({$slotRefNode$:r,$nodeToRelocate$:t})),t["s-sr"]&&qm.map((e=>{Wm(e.$nodeToRelocate$,t["s-sn"])&&(n=qm.find((e=>e.$nodeToRelocate$===t)),n&&!e.$slotRefNode$&&(e.$slotRefNode$=n.$slotRefNode$))}))}else qm.some((e=>e.$nodeToRelocate$===t))||qm.push({$nodeToRelocate$:t})}1===r.nodeType&&Hm(r)}},Wm=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,Gm=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Gm)},Ym=(e,t,n)=>{const i=null==e?void 0:e.insertBefore(t,n);return Xm(t,e),i},Km=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...Km(e.parentElement)),t},Xm=(e,t,n=!1)=>{var i;if(e&&t&&1===e.nodeType){const r=new Set(Km(t).filter(Boolean));if(r.size&&(null==(i=e.classList)||i.add(...e["s-scs"]=[...r]),e["s-ol"]||n))for(const t of Array.from(e.childNodes))Xm(t,e,!0)}},Qm=(e,t,n=!1)=>{var i,r,o,s,a;const l=e.$hostElement$,c=e.$cmpMeta$,d=e.$vnode$||mm(null,null),u=(h=t)&&h.$tag$===fm?t:pm(null,null,t);var h;if(dm=l.tagName,c.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},c.$attrsToReflect$.map((([e,t])=>u.$attrs$[t]=l[e]))),n&&u.$attrs$)for(const p of Object.keys(u.$attrs$))l.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(u.$attrs$[p]=l[p]);if(u.$tag$=null,u.$flags$|=4,e.$vnode$=u,u.$elm$=d.$elm$=l.shadowRoot||l,lm=l["s-sc"],Dm=!!(1&c.$flags$),cm=l["s-cr"],Om=!1,$m(d,u,n),qp.$flags$|=1,Nm){Hm(u.$elm$);for(const e of qm){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=$p.createTextNode("");e["s-nr"]=t,Ym(t.parentNode,t["s-ol"]=e,t)}}for(const e of qm){const t=e.$nodeToRelocate$,a=e.$slotRefNode$;if(a){const e=a.parentNode;let n=a.nextSibling;{let o=null==(i=t["s-ol"])?void 0:i.previousSibling;for(;o;){let i=null!=(r=o["s-nr"])?r:null;if(i&&i["s-sn"]===t["s-sn"]&&e===i.parentNode){for(i=i.nextSibling;i===t||(null==i?void 0:i["s-sr"]);)i=null==i?void 0:i.nextSibling;if(!i||!i["s-nr"]){n=i;break}}o=o.previousSibling}}(!n&&e!==t.parentNode||t.nextSibling!==n)&&t!==n&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),Ym(e,t,n),1===t.nodeType&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof a["s-rf"]&&a["s-rf"](t)}else 1===t.nodeType&&(n&&(t["s-ih"]=null!=(s=t.hidden)&&s),t.hidden=!0)}}if(Om&&Vm(u.$elm$),qp.$flags$&=-2,qm.length=0,Dp.experimentalScopedSlotChanges&&2&c.$flags$)for(const p of u.$elm$.childNodes)p["s-hn"]===dm||p["s-sh"]||(n&&null==p["s-ih"]&&(p["s-ih"]=null!=(a=p.hidden)&&a),p.hidden=!0);cm=void 0},Jm=(e,t)=>{e.$flags$|=16,e.$ancestorComponent$;return tm((()=>Zm(e,t)))},Zm=(e,t)=>{const n=e.$hostElement$,i=(e.$cmpMeta$.$tagName$,()=>{}),r=n;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return o=af(r,t?"componentWillLoad":"componentWillUpdate"),o=ef(o,(()=>af(r,"componentWillRender"))),i(),ef(o,(()=>nf(e,r,t)))},ef=(e,t)=>tf(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),tf=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,nf=async(e,t,n)=>{const i=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{});i["s-rc"],n&&xm(e);const o=(e.$cmpMeta$.$tagName$,()=>{});rf(e,t,i,n),o(),r(),of(e)},rf=(e,t,n,i)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Dp.hasRenderFn||Dp.reflect)&&(Dp.vdomRender||Dp.reflect)&&(Dp.hydrateServerSide||Qm(e,t,i))}catch(HS){Mp(HS,e.$hostElement$)}return null},of=e=>{e.$cmpMeta$.$tagName$;const t=()=>{},n=e.$hostElement$;e.$ancestorComponent$,af(n,"componentDidRender"),64&e.$flags$?(af(n,"componentDidUpdate"),t()):(e.$flags$|=64,af(n,"componentDidLoad"),t())},sf=e=>{{const t=Rp(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&Jm(t,!1),n}},af=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(HS){Mp(HS)}},lf=(e,t,n,i)=>{const r=Rp(e),o=e,s=r.$instanceValues$.get(t),a=r.$flags$,l=o;var c,d;c=n,d=i.$members$[t][0],n=null==c||rm(c)?c:4&d?"false"!==c&&(""===c||!!c):2&d?parseFloat(c):1&d?String(c):c;const u=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!u){if(r.$instanceValues$.set(t,n),i.$watchers$&&128&a){const e=i.$watchers$[t];e&&e.map((e=>{try{l[e](n,s,t)}catch(HS){Mp(HS,o)}}))}if(2==(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,s,t))return;Jm(r,!1)}}},cf=(e,t,n)=>{var i,r;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const n=Object.entries(null!=(i=t.$members$)?i:{});n.map((([e,[n]])=>{(31&n||32&n)&&Object.defineProperty(o,e,{get(){return((e,t)=>Rp(e).$instanceValues$.get(t))(this,e)},set(n){lf(this,e,n,t)},configurable:!0,enumerable:!0})}));{const i=new Map;o.attributeChangedCallback=function(e,n,r){qp.jmp((()=>{var s;const a=i.get(e);if(this.hasOwnProperty(a))r=this[a],delete this[a];else{if(o.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==r)return;if(null==a){const i=Rp(this),o=null==i?void 0:i.$flags$;if(o&&!(8&o)&&128&o&&r!==n){const i=this,o=null==(s=t.$watchers$)?void 0:s[e];null==o||o.forEach((t=>{null!=i[t]&&i[t].call(i,r,n,e)}))}return}}this[a]=(null!==r||"boolean"!=typeof this[a])&&r}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(r=t.$watchers$)?r:{}),...n.filter((([e,t])=>15&t[0])).map((([e,n])=>{var r;const o=n[1]||e;return i.set(o,e),512&n[0]&&(null==(r=t.$attrsToReflect$)||r.push([e,o])),o}))]))}}return e},df=async(e,t,n,i)=>{let r;if(!(32&t.$flags$)){t.$flags$|=32,n.$lazyBundleId$;{r=e.constructor;const n=e.localName;customElements.whenDefined(n).then((()=>t.$flags$|=128))}if(r&&r.style){let i;"string"==typeof r.style?i=r.style:"string"!=typeof r.style&&(t.$modeName$=(e=>Bp.map((t=>t(e))).find((e=>!!e)))(e),t.$modeName$&&(i=r.style[t.$modeName$]));const o=km(n,t.$modeName$);if(!Up.has(o)){const e=(n.$tagName$,()=>{});((e,t,n)=>{let i=Up.get(e);Wp&&n?(i=i||new CSSStyleSheet,"string"==typeof i?i=t:i.replaceSync(t)):i=t,Up.set(e,i)})(o,i,!!(1&n.$flags$)),e()}}}t.$ancestorComponent$;Jm(t,!0)},uf=e=>{const t=e["s-cr"]=$p.createComment("");t["s-cn"]=!0,Ym(e,t,e.firstChild)},hf=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[];const i=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){((e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};Lp.set(e,n)})(this,n)},connectedCallback(){const e=Rp(this);pf(this,e,n.$listeners$),(e=>{if(!(1&qp.$flags$)){const t=Rp(e),n=t.$cmpMeta$,i=(n.$tagName$,()=>{});1&t.$flags$?(pf(e,t,n.$listeners$),(null==t?void 0:t.$lazyInstance$)?t.$lazyInstance$:(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{t.$lazyInstance$}))):(t.$flags$|=1,12&n.$flags$&&uf(e),n.$members$&&Object.entries(n.$members$).map((([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}})),df(e,t,n)),i()}})(this),i&&i.call(this)},disconnectedCallback(){(async e=>{if(!(1&qp.$flags$)){const t=Rp(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this),r&&r.call(this)},__attachShadow(){if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)})}}),e.is=n.$tagName$,cf(e,n)},pf=(e,t,n,i)=>{n&&n.map((([n,i,r])=>{const o=ff(e,n),s=mf(t,r),a=gf(n);qp.ael(o,i,s,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>qp.rel(o,i,s,a)))}))},mf=(e,t)=>n=>{try{Dp.lazyLoad||e.$hostElement$[t](n)}catch(HS){Mp(HS)}},ff=(e,t)=>4&t?$p:8&t?zp:16&t?$p.body:e,gf=e=>Hp?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */;const bf=t("k","undefined"!=typeof window?window:void 0),vf=t("d","undefined"!=typeof document?document:void 0);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let yf;const wf=(e,t,n)=>{const i=t.startsWith("animation")?(e=>{if(void 0===yf){const t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;yf=!t&&n?"-webkit-":""}return yf})(e):"";e.style.setProperty(i+t,n)},_f=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},xf=t("aS",(e=>{let t,n,i,r,o,s,a,l,c,d,u,h=[],p=[],m=[],f=!1,g={},b=[],v=[],y={},w=0,_=!1,x=!1,k=!0,T=!1,S=!0,E=!1;const C=e,I=[],A=[],P=[],D=[],O=[],N=[],L=[],R=[],j=[],M=[],U=[],B="function"==typeof AnimationEffect||void 0!==bf&&"function"==typeof bf.AnimationEffect,F="function"==typeof Element&&"function"==typeof Element.prototype.animate&&B,z=()=>U,$=e=>{W(),e&&G()},V=(e,t)=>{const n=t.findIndex((t=>t.c===e));n>-1&&t.splice(n,1)},q=(e,t)=>(((null==t?void 0:t.oneTimeCallback)?A:I).push({c:e,o:t}),u),H=()=>(I.length=0,A.length=0,u),W=()=>{F&&(U.forEach((e=>{e.cancel()})),U.length=0)},G=()=>{N.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),N.length=0},Y=()=>void 0!==o?o:a?a.getFill():"both",K=()=>void 0!==l?l:void 0!==s?s:a?a.getDirection():"normal",X=()=>_?"linear":void 0!==i?i:a?a.getEasing():"linear",Q=()=>x?0:void 0!==c?c:void 0!==n?n:a?a.getDuration():0,J=()=>void 0!==r?r:a?a.getIterations():1,Z=()=>void 0!==d?d:void 0!==t?t:a?a.getDelay():0,ee=e=>{F&&z().forEach((t=>{const n=t.effect;if(n.setKeyframes)n.setKeyframes(e);else{const i=new KeyframeEffect(n.target,e,n.getTiming());t.effect=i}}))},te=()=>{0!==w&&(w--,0===w&&((()=>{j.forEach((e=>e())),M.forEach((e=>e()));const e=k?1:0,t=b,n=v,i=y;D.forEach((e=>{const r=e.classList;t.forEach((e=>r.add(e))),n.forEach((e=>r.remove(e)));for(const t in i)i.hasOwnProperty(t)&&wf(e,t,i[t])})),c=void 0,l=void 0,d=void 0,I.forEach((t=>t.c(e,u))),A.forEach((t=>t.c(e,u))),A.length=0,S=!0,k&&(T=!0),k=!0})(),a&&a.animationFinish()))},ne=()=>{(()=>{L.forEach((e=>e())),R.forEach((e=>e()));const e=p,t=m,n=g;D.forEach((i=>{const r=i.classList;e.forEach((e=>r.add(e))),t.forEach((e=>r.remove(e)));for(const e in n)n.hasOwnProperty(e)&&wf(i,e,n[e])}))})(),h.length>0&&F&&(D.forEach((e=>{const t=e.animate(h,{id:C,delay:Z(),duration:Q(),easing:X(),iterations:J(),fill:Y(),direction:K()});t.pause(),U.push(t)})),U.length>0&&(U[0].onfinish=()=>{te()})),f=!0},ie=e=>{e=Math.min(Math.max(e,0),.9999),F&&U.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+Q()*e,t.pause()}))},re=e=>{U.forEach((e=>{e.effect.updateTiming({delay:Z(),duration:Q(),easing:X(),iterations:J(),fill:Y(),direction:K()})})),void 0!==e&&ie(e)},oe=(e=!1,t=!0,n)=>(e&&O.forEach((i=>{i.update(e,t,n)})),F&&re(n),u),se=()=>{f&&(F?U.forEach((e=>{e.pause()})):D.forEach((e=>{wf(e,"animation-play-state","paused")})),E=!0)},ae=e=>new Promise((t=>{(null==e?void 0:e.sync)&&(x=!0,q((()=>x=!1),{oneTimeCallback:!0})),f||ne(),T&&(F&&(ie(0),re()),T=!1),S&&(w=O.length+1,S=!1);const n=()=>{V(i,A),t()},i=()=>{V(n,P),t()};q(i,{oneTimeCallback:!0}),((e,t)=>{P.push({c:e,o:t})})(n,{oneTimeCallback:!0}),O.forEach((e=>{e.play()})),F?(U.forEach((e=>{e.play()})),0!==h.length&&0!==D.length||te()):te(),E=!1})),le=(e,t)=>{const n=h[0];return void 0===n||void 0!==n.offset&&0!==n.offset?h=[{offset:0,[e]:t},...h]:n[e]=t,u};return u={parentAnimation:a,elements:D,childAnimations:O,id:C,animationFinish:te,from:le,to:(e,t)=>{const n=h[h.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?h=[...h,{offset:1,[e]:t}]:n[e]=t,u},fromTo:(e,t,n)=>le(e,t).to(e,n),parent:e=>(a=e,u),play:ae,pause:()=>(O.forEach((e=>{e.pause()})),se(),u),stop:()=>{O.forEach((e=>{e.stop()})),f&&(W(),f=!1),_=!1,x=!1,S=!0,l=void 0,c=void 0,d=void 0,w=0,T=!1,k=!0,E=!1,P.forEach((e=>e.c(0,u))),P.length=0},destroy:e=>(O.forEach((t=>{t.destroy(e)})),$(e),D.length=0,O.length=0,h.length=0,H(),f=!1,S=!0,u),keyframes:e=>{const t=h!==e;return h=e,t&&ee(h),u},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(u),O.push(t);else e.parent(u),O.push(e);return u},addElement:e=>{if(null!=e)if(1===e.nodeType)D.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)D.push(e[t]);else console.error("Invalid addElement value");return u},update:oe,fill:e=>(o=e,oe(!0),u),direction:e=>(s=e,oe(!0),u),iterations:e=>(r=e,oe(!0),u),duration:e=>(F||0!==e||(e=1),n=e,oe(!0),u),easing:e=>(i=e,oe(!0),u),delay:e=>(t=e,oe(!0),u),getWebAnimations:z,getKeyframes:()=>h,getFill:Y,getDirection:K,getDelay:Z,getIterations:J,getEasing:X,getDuration:Q,afterAddRead:e=>(j.push(e),u),afterAddWrite:e=>(M.push(e),u),afterClearStyles:(e=[])=>{for(const t of e)y[t]="";return u},afterStyles:(e={})=>(y=e,u),afterRemoveClass:e=>(v=_f(v,e),u),afterAddClass:e=>(b=_f(b,e),u),beforeAddRead:e=>(L.push(e),u),beforeAddWrite:e=>(R.push(e),u),beforeClearStyles:(e=[])=>{for(const t of e)g[t]="";return u},beforeStyles:(e={})=>(g=e,u),beforeRemoveClass:e=>(m=_f(m,e),u),beforeAddClass:e=>(p=_f(p,e),u),onFinish:q,isRunning:()=>0!==w&&!E,progressStart:(e=!1,t)=>(O.forEach((n=>{n.progressStart(e,t)})),se(),_=e,f||ne(),oe(!1,!0,t),u),progressStep:e=>(O.forEach((t=>{t.progressStep(e)})),ie(e),u),progressEnd:(e,t,n)=>(_=!1,O.forEach((i=>{i.progressEnd(e,t,n)})),void 0!==n&&(c=n),T=!1,k=!0,0===e?(l="reverse"===K()?"normal":"reverse","reverse"===l&&(k=!1),F?(oe(),ie(1-t)):(d=(1-t)*Q()*-1,oe(!1,!1))):1===e&&(F?(oe(),ie(t)):(d=t*Q()*-1,oe(!1,!1))),void 0===e||a||ae(),u)}}));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let kf=class{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}};const Tf=new kf,Sf=(e,t)=>e.substr(0,t.length)===t,Ef="ionic:",Cf="ionic-persist-config",If=(e,t)=>("string"==typeof e&&(t=e,e=void 0),(e=>Af(e))(e).includes(t)),Af=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=Pf(e),t.forEach((t=>e.document.documentElement.classList.add(`plt-${t}`)))),t},Pf=e=>{const t=Tf.get("platform");return Object.keys(Bf).filter((n=>{const i=null==t?void 0:t[n];return"function"==typeof i?i(e):Bf[n](e)}))},Df=e=>!!Mf(e,/iPad/i)||!(!Mf(e,/Macintosh/i)||!Nf(e)),Of=e=>Mf(e,/android|sink/i),Nf=e=>Uf(e,"(any-pointer:coarse)"),Lf=e=>Rf(e)||jf(e),Rf=e=>!!(e.cordova||e.phonegap||e.PhoneGap),jf=e=>{const t=e.Capacitor;return!!(null==t?void 0:t.isNative)},Mf=(e,t)=>t.test(e.navigator.userAgent),Uf=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},Bf={ipad:Df,iphone:e=>Mf(e,/iPhone/i),ios:e=>Mf(e,/iPhone|iPod/i)||Df(e),android:Of,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),r=Math.max(t,n);return i>390&&i<520&&r>620&&r<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),r=Math.max(t,n);return Df(e)||(e=>Of(e)&&!Mf(e,/mobile/i))(e)||i>460&&i<820&&r>780&&r<1400},cordova:Rf,capacitor:jf,electron:e=>Mf(e,/electron/i),pwa:e=>{var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:Nf,mobileweb:e=>Nf(e)&&!Lf(e),desktop:e=>!Nf(e),hybrid:Lf};let Ff;const zf=e=>e&&(e=>Rp(e).$modeName$)(e)||Ff,$f=(e={})=>{if("undefined"==typeof window)return;const t=window.document,n=window,i=n.Ionic=n.Ionic||{},r={};var o;e._ael&&(r.ael=e._ael),e._rel&&(r.rel=e._rel),e._ce&&(r.ce=e._ce),o=r,Object.assign(qp,o);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem(Cf);return null!==t?JSON.parse(t):{}}catch(HS){return{}}})(n)),{persistConfig:!1}),i.config),(e=>{const t={};return e.location.search.slice(1).split("&").map((e=>e.split("="))).map((([e,t])=>{try{return[decodeURIComponent(e),decodeURIComponent(t)]}catch(HS){return["",""]}})).filter((([e])=>Sf(e,Ef))).map((([e,t])=>[e.slice(Ef.length),t])).forEach((([e,n])=>{t[e]=n})),t})(n)),e);Tf.reset(s),Tf.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem(Cf,JSON.stringify(t))}catch(HS){return}})(n,s),Af(n),i.config=Tf,i.mode=Ff=Tf.get("mode",t.documentElement.getAttribute("mode")||(If(n,"ios")?"ios":"md")),Tf.set("mode",Ff),t.documentElement.setAttribute("mode",Ff),t.documentElement.classList.add(Ff),Tf.getBoolean("_testing")&&Tf.set("animated",!1);const a=e=>{var t;return null===(t=e.tagName)||void 0===t?void 0:t.startsWith("ION-")},l=e=>["ios","md"].includes(e);var c;c=e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;a(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return Ff},Bp.push(c)},Vf=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),qf=t("e",((e,t)=>{e.componentOnReady?e.componentOnReady().then((e=>t(e))):Jf((()=>t(e)))})),Hf=e=>void 0!==e.componentOnReady,Wf=(e,t=[])=>{const n={};return t.forEach((t=>{if(e.hasAttribute(t)){null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t)}})),n},Gf=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Yf=(e,t)=>Wf(e,Gf),Kf=t("g",((e,t,n,i)=>{var r;if("undefined"!=typeof window){const o=window,s=null===(r=null==o?void 0:o.Ionic)||void 0===r?void 0:r.config;if(s){const r=s.get("_ael");if(r)return r(e,t,n,i);if(s._ael)return s._ael(e,t,n,i)}}return e.addEventListener(t,n,i)})),Xf=t("h",((e,t,n,i)=>{var r;if("undefined"!=typeof window){const o=window,s=null===(r=null==o?void 0:o.Ionic)||void 0===r?void 0:r.config;if(s){const r=s.get("_rel");if(r)return r(e,t,n,i);if(s._rel)return s._rel(e,t,n,i)}}return e.removeEventListener(t,n,i)})),Qf=(e,t=e)=>e.shadowRoot||t,Jf=t("l",(e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e))),Zf=e=>{if(e.focus(),e.classList.contains("ion-focusable")){const t=e.closest("ion-app");t&&t.setFocus([e])}},eg=(e,t,n,i,r)=>{{let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=r,e.name=n,e.value=i||""}},tg=t("a",((e,t,n)=>Math.max(e,Math.min(t,n)))),ng=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},ig=(t("p",(e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}})),(e,t=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(e,t,...i)}}),rg=(e,t)=>{if(null!=e||(e={}),null!=t||(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n){if(!(i in t))return!1;if(e[i]!==t[i])return!1}return!0},og="ionViewWillLeave",sg="ionViewDidLeave",ag="ionViewWillUnload",lg=e=>{e.tabIndex=-1,e.focus()},cg=e=>null!==e.offsetParent,dg="ion-last-focus",ug={saveViewFocus:e=>{if(Tf.get("focusManagerPriority",!1)){const t=document.activeElement;null!==t&&(null==e?void 0:e.contains(t))&&t.setAttribute(dg,"true")}},setViewFocus:e=>{const t=Tf.get("focusManagerPriority",!1);if(Array.isArray(t)&&!e.contains(document.activeElement)){const n=e.querySelector(`[${dg}]`);if(n&&cg(n))return void lg(n);for(const i of t)switch(i){case"content":const t=e.querySelector('main, [role="main"]');if(t&&cg(t))return void lg(t);break;case"heading":const n=e.querySelector('h1, [role="heading"][aria-level="1"]');if(n&&cg(n))return void lg(n);break;case"banner":const r=e.querySelector('header, [role="banner"]');if(r&&cg(r))return void lg(r);break;default:Vf(`Unrecognized focus manager priority value ${i}`)}lg(e)}}},hg=e=>new Promise(((t,n)=>{tm((()=>{pg(e),mg(e).then((n=>{n.animation&&n.animation.destroy(),fg(e),t(n)}),(t=>{fg(e),n(t)}))}))})),pg=e=>{const t=e.enteringEl,n=e.leavingEl;ug.saveViewFocus(n),Ig(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),Cg(t,!1),t.style.setProperty("pointer-events","none"),n&&(Cg(n,!1),n.style.setProperty("pointer-events","none"))},mg=async e=>{const t=await gg(e);return t&&Np?bg(t,e):vg(e)},fg=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),ug.setViewFocus(t)},gg=async e=>{if(!e.leavingEl||!e.animated||0===e.duration)return;if(e.animationBuilder)return e.animationBuilder;return"ios"===e.mode?(await Pp((()=>n.import("./ios.transition-legacy-DcuY7T3p.js")))).iosTransitionAnimation:(await Pp((()=>n.import("./md.transition-legacy-BxPz3fA2.js")))).mdTransitionAnimation},bg=async(e,t)=>{await yg(t,!0);const n=e(t.baseEl,t);xg(t.enteringEl,t.leavingEl);const i=await _g(n,t);return t.progressCallback&&t.progressCallback(void 0),i&&kg(t.enteringEl,t.leavingEl),{hasCompleted:i,animation:n}},vg=async e=>{const t=e.enteringEl,n=e.leavingEl,i=Tf.get("focusManagerPriority",!1);return await yg(e,i),xg(t,n),kg(t,n),{hasCompleted:!0}},yg=async(e,t)=>{(void 0!==e.deepWait?e.deepWait:t)&&await Promise.all([Eg(e.enteringEl),Eg(e.leavingEl)]),await wg(e.viewIsReady,e.enteringEl)},wg=async(e,t)=>{e&&await e(t)},_g=(e,t)=>{const n=t.progressCallback,i=new Promise((t=>{e.onFinish((e=>t(1===e)))}));return n?(e.progressStart(!0),n(e)):e.play(),i},xg=(e,t)=>{Tg(t,og),Tg(e,"ionViewWillEnter")},kg=(e,t)=>{Tg(e,"ionViewDidEnter"),Tg(t,sg)},Tg=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},Sg=()=>new Promise((e=>Jf((()=>Jf((()=>e())))))),Eg=async e=>{const t=e;if(t){if(null!=t.componentOnReady){if(null!=await t.componentOnReady())return}else if(null!=t.__registerHost){const e=new Promise((e=>Jf(e)));return void(await e)}await Promise.all(Array.from(t.children).map(Eg))}},Cg=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},Ig=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},Ag=(t("aT",(e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e})),(e,t,n,i,r)=>Dg(e[1],t[1],n[1],i[1],r).map((r=>Pg(e[0],t[0],n[0],i[0],r)))),Pg=(e,t,n,i,r)=>r*(3*t*Math.pow(r-1,2)+r*(-3*n*r+3*n+i*r))-e*Math.pow(r-1,3),Dg=(e,t,n,i,r)=>Og((i-=r)-3*(n-=r)+3*(t-=r)-(e-=r),3*n-6*t+3*e,3*t-3*e,e).filter((e=>e>=0&&e<=1)),Og=(e,t,n,i)=>{if(0===e)return((e,t,n)=>{const i=t*t-4*e*n;return i<0?[]:[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]})(t,n,i);const r=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(i/=e))/27;if(0===r)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-r),-Math.sqrt(-r)];const s=Math.pow(o/2,2)+Math.pow(r/3,3);if(0===s)return[Math.pow(o/2,.5)-t/3];if(s>0)return[Math.pow(-o/2+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-t/3];const a=Math.sqrt(Math.pow(-r/3,3)),l=Math.acos(-o/(2*Math.sqrt(Math.pow(-r/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]};class Ng{constructor(e,t,n,i,r){this.id=t,this.name=n,this.disableScroll=r,this.priority=1e6*i+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Lg{constructor(e,t,n,i){this.id=t,this.disable=n,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Rg="backdrop-no-scroll",jg=new
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new Ng(this,this.newID(),e.name,null!==(t=e.priority)&&void 0!==t?t:0,!!e.disableScroll)}createBlocker(e={}){return new Lg(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const i=this.requestedStart;let r=-1e4;if(i.forEach((e=>{r=Math.max(r,e)})),r===n){this.capturedId=t,i.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return i.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(Rg)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(Rg)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}},Mg=(e,t,n,i)=>{const r=Ug(e)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let o,s;return e.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(o="addEventListener",s="removeEventListener"),e[o](t,n,r),()=>{e[s](t,n,r)}},Ug=e=>{if(void 0===Bg)try{const t=Object.defineProperty({},"passive",{get:()=>{Bg=!0}});e.addEventListener("optsTest",(()=>{}),t)}catch(HS){Bg=!1}return!!Bg};let Bg;const Fg=e=>e instanceof Document?e:e.ownerDocument,zg=t("c",(e=>{let t=!1,n=!1,i=!0,r=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),s=o.canStart,a=o.onWillStart,l=o.onStart,c=o.onEnd,d=o.notCaptured,u=o.onMove,h=o.threshold,p=o.passive,m=o.blurOnStart,f={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},g=((e,t,n)=>{const i=n*(Math.PI/180),r="x"===e,o=Math.cos(i),s=t*t;let a=0,l=0,c=!1,d=0;return{start(e,t){a=e,l=t,d=0,c=!0},detect(e,t){if(!c)return!1;const n=e-a,i=t-l,u=n*n+i*i;if(u<s)return!1;const h=Math.sqrt(u),p=(r?n:i)/h;return d=p>o?1:p<-o?-1:0,c=!1,!0},isGesture:()=>0!==d,getDirection:()=>d}})(o.direction,o.threshold,o.maxAngle),b=jg.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),v=()=>{t&&(r=!1,u&&u(f))},y=()=>!!b.capture()&&(t=!0,i=!1,f.startX=f.currentX,f.startY=f.currentY,f.startTime=f.currentTime,a?a(f).then(w):w(),!0),w=()=>{m&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;(null==e?void 0:e.blur)&&e.blur()}})(),l&&l(f),i=!0},_=()=>{t=!1,n=!1,r=!1,i=!0,b.release()},x=e=>{const n=t,r=i;_(),r&&($g(f,e),n?c&&c(f):d&&d(f))},k=((e,t,n,i,r)=>{let o,s,a,l,c,d,u,h=0;const p=i=>{h=Date.now()+2e3,t(i)&&(!s&&n&&(s=Mg(e,"touchmove",n,r)),a||(a=Mg(i.target,"touchend",f,r)),l||(l=Mg(i.target,"touchcancel",f,r)))},m=i=>{h>Date.now()||t(i)&&(!d&&n&&(d=Mg(Fg(e),"mousemove",n,r)),u||(u=Mg(Fg(e),"mouseup",g,r)))},f=e=>{b(),i&&i(e)},g=e=>{v(),i&&i(e)},b=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},v=()=>{d&&d(),u&&u(),d=u=void 0},y=()=>{b(),v()},w=(t=!0)=>{t?(o||(o=Mg(e,"touchstart",p,r)),c||(c=Mg(e,"mousedown",m,r))):(o&&o(),c&&c(),o=c=void 0,y())};return{enable:w,stop:y,destroy:()=>{w(!1),i=n=t=void 0}}})(o.el,(e=>{const t=qg(e);return!(n||!i)&&(Vg(e,f),f.startX=f.currentX,f.startY=f.currentY,f.startTime=f.currentTime=t,f.velocityX=f.velocityY=f.deltaX=f.deltaY=0,f.event=e,(!s||!1!==s(f))&&(b.release(),!!b.start()&&(n=!0,0===h?y():(g.start(f.startX,f.startY),!0))))}),(e=>{t?!r&&i&&(r=!0,$g(f,e),requestAnimationFrame(v)):($g(f,e),g.detect(f.currentX,f.currentY)&&(g.isGesture()&&y()||T()))}),x,{capture:!1,passive:p}),T=()=>{_(),k.stop(),d&&d(f)};return{enable(e=!0){e||(t&&x(void 0),_()),k.enable(e)},destroy(){b.destroy(),k.destroy()}}})),$g=(e,t)=>{if(!t)return;const n=e.currentX,i=e.currentY,r=e.currentTime;Vg(t,e);const o=e.currentX,s=e.currentY,a=(e.currentTime=qg(t))-r;if(a>0&&a<100){const t=(o-n)/a,r=(s-i)/a;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*r+.3*e.velocityY}e.deltaX=o-e.startX,e.deltaY=s-e.startY,e.event=t},Vg=(e,t)=>{let n=0,i=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,i=e.clientY}else void 0!==e.pageX&&(n=e.pageX,i=e.pageY)}t.currentX=n,t.currentY=i},qg=e=>e.timeStamp||Date.now(),Hg=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:jg,createGesture:zg},Symbol.toStringTag,{value:"Module"})),Wg=e=>{try{if(e instanceof Jg)return e.value;if(!Kg()||"string"!=typeof e||""===e)return e;if(e.includes("onload="))return"";const t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,Qg.forEach((e=>{const n=t.querySelectorAll(e);for(let i=n.length-1;i>=0;i--){const e=n[i];e.parentNode?e.parentNode.removeChild(e):t.removeChild(e);const r=Yg(e);for(let t=0;t<r.length;t++)Gg(r[t])}}));const i=Yg(t);for(let e=0;e<i.length;e++)Gg(i[e]);const r=document.createElement("div");r.appendChild(t);const o=r.querySelector("div");return null!==o?o.innerHTML:r.innerHTML}catch(sm){return console.error(sm),""}},Gg=e=>{if(e.nodeType&&1!==e.nodeType)return;if("undefined"!=typeof NamedNodeMap&&!(e.attributes instanceof NamedNodeMap))return void e.remove();for(let n=e.attributes.length-1;n>=0;n--){const t=e.attributes.item(n),i=t.name;if(!Xg.includes(i.toLowerCase())){e.removeAttribute(i);continue}const r=t.value,o=e[i];(null!=r&&r.toLowerCase().includes("javascript:")||null!=o&&o.toLowerCase().includes("javascript:"))&&e.removeAttribute(i)}const t=Yg(e);for(let n=0;n<t.length;n++)Gg(t[n])},Yg=e=>null!=e.children?e.children:e.childNodes,Kg=()=>{var e;const t=window,n=null===(e=null==t?void 0:t.Ionic)||void 0===e?void 0:e.config;return!n||(n.get?n.get("sanitizerEnabled",!0):!0===n.sanitizerEnabled||void 0===n.sanitizerEnabled)},Xg=["class","id","href","src","name","slot"],Qg=["script","style","iframe","meta","link","object","embed"];class Jg{constructor(e){this.value=e}}const Zg=!1,eb=(e,t)=>null!==t.closest(e),tb=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,nb=e=>{const t={};return(e=>{if(void 0!==e)return(Array.isArray(e)?e:e.split(" ")).filter((e=>null!=e)).map((e=>e.trim())).filter((e=>""!==e));return[]})(e).forEach((e=>t[e]=!0)),t},ib=/^[a-z][a-z0-9+\-.]*:/,rb=async(e,t,n,i)=>{if(null!=e&&"#"!==e[0]&&!ib.test(e)){const r=document.querySelector("ion-router");if(r)return null!=t&&t.preventDefault(),r.push(e,n,i)}return!1},ob=()=>Tf.get("experimentalCloseWatcher",!1)&&void 0!==bf&&"CloseWatcher"in bf,sb=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:99,OVERLAY_BACK_BUTTON_PRIORITY:100,blockHardwareBackButton:()=>{document.addEventListener("backbutton",(()=>{}))},shouldUseCloseWatcher:ob,startHardwareBackButton:()=>{const e=document;let t=!1;const n=()=>{if(t)return;let n=0,i=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){i.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(r);const o=()=>{if(i.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach((t=>{t.priority>=e.priority&&(e=t)})),t=!0,i=i.filter((t=>t.id!==e.id)),(async e=>{try{if(null==e?void 0:e.handler){const t=e.handler(o);null!=t&&await t}}catch(HS){console.error(HS)}})(e).then((()=>t=!1))}};o()};if(ob()){let e;const t=()=>{null==e||e.destroy(),e=new bf.CloseWatcher,e.onclose=()=>{n(),t()}};t()}else e.addEventListener("backbutton",n)}},Symbol.toStringTag,{value:"Module"})),ab=async(e,t,n,i,r,o)=>{var s;if(e)return e.attachViewToDom(t,n,r,i);if(!(o||"string"==typeof n||n instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof n?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(n):n;return i&&i.forEach((e=>a.classList.add(e))),r&&Object.assign(a,r),t.appendChild(a),await new Promise((e=>qf(a,e))),a},lb=(e,t)=>{if(t){if(e){const n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()},cb=()=>{let e,t;return{attachViewToDom:async(n,i,r={},o=[])=>{var s,a;let l;if(e=n,i){const t="string"==typeof i?null===(s=e.ownerDocument)||void 0===s?void 0:s.createElement(i):i;o.forEach((e=>t.classList.add(e))),Object.assign(t,r),e.appendChild(t),l=t,await new Promise((e=>qf(t,e)))}else if(e.children.length>0&&("ION-MODAL"===e.tagName||"ION-POPOVER"===e.tagName)){if(!(l=e.children[0]).classList.contains("ion-delegate-host")){const t=null===(a=e.ownerDocument)||void 0===a?void 0:a.createElement("div");t.classList.add("ion-delegate-host"),o.forEach((e=>t.classList.add(e))),t.append(...e.children),e.appendChild(t),l=t}}const c=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),c.appendChild(e),null!=l?l:e},removeViewFromDom:()=>(e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve())}},db='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ub=(e,t)=>{const n=e.querySelector(db);pb(n,null!=t?t:e)},hb=(e,t)=>{const n=Array.from(e.querySelectorAll(db)),i=n.length>0?n[n.length-1]:null;pb(i,null!=t?t:e)},pb=(e,t)=>{let n=e;const i=null==e?void 0:e.shadowRoot;if(i&&(n=i.querySelector(db)||e),n){const e=n.closest("ion-radio-group");e?e.setFocus():Zf(n)}else t.focus()};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let mb=0,fb=0;const gb=new WeakMap,bb=e=>({create:t=>Sb(e,t),dismiss:(t,n,i)=>Ab(document,t,n,e,i),getTop:async()=>Db(document,e)}),vb=bb("ion-alert"),yb=bb("ion-action-sheet"),wb=bb("ion-modal"),_b=bb("ion-popover"),xb=bb("ion-toast"),kb=e=>{"undefined"!=typeof document&&Ib(document);const t=mb++;e.overlayIndex=t},Tb=e=>(e.hasAttribute("id")||(e.id="ion-overlay-"+ ++fb),e.id),Sb=(e,t)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(e).then((()=>{const n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},t),{hasController:!0})),jb(document).appendChild(n),new Promise((e=>qf(n,e)))})):Promise.resolve(),Eb=(e,t)=>{let n=e;const i=null==e?void 0:e.shadowRoot;i&&(n=i.querySelector(db)||e),n?Zf(n):t.focus()},Cb=(e,t)=>{const n=Db(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),i=e.target;if(!n||!i)return;if(n.classList.contains(Xb))return;n.shadowRoot?(()=>{if(n.contains(i))n.lastFocus=i;else if("ION-TOAST"===i.tagName)Eb(n.lastFocus,n);else{const e=n.lastFocus;ub(n),e===t.activeElement&&hb(n),n.lastFocus=t.activeElement}})():(()=>{if(n===i)n.lastFocus=void 0;else if("ION-TOAST"===i.tagName)Eb(n.lastFocus,n);else{const e=Qf(n);if(!e.contains(i))return;const r=e.querySelector(".ion-overlay-wrapper");if(!r)return;if(r.contains(i)||i===e.querySelector("ion-backdrop"))n.lastFocus=i;else{const e=n.lastFocus;ub(r,n),e===t.activeElement&&hb(r,n),n.lastFocus=t.activeElement}}})()},Ib=e=>{0===mb&&(mb=1,e.addEventListener("focus",(t=>{Cb(t,e)}),!0),e.addEventListener("ionBackButton",(t=>{const n=Db(e);(null==n?void 0:n.backdropDismiss)&&t.detail.register(100,(()=>{n.dismiss(void 0,Vb)}))})),ob()||e.addEventListener("keydown",(t=>{if("Escape"===t.key){const t=Db(e);(null==t?void 0:t.backdropDismiss)&&t.dismiss(void 0,Vb)}})))},Ab=(e,t,n,i,r)=>{const o=Db(e,i,r);return o?o.dismiss(t,n):Promise.reject("overlay does not exist")},Pb=(e,t)=>((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((e=>e.overlayIndex>0))))(e,t).filter((e=>!e.classList.contains("overlay-hidden"))),Db=(e,t,n)=>{const i=Pb(e,t);return void 0===n?i[i.length-1]:i.find((e=>e.id===n))},Ob=(e=!1)=>{const t=jb(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},Nb=async(e,t,n,i,r)=>{var o,s;if(e.presented)return;"ION-TOAST"!==e.el.tagName&&Ob(!0),document.body.classList.add(Rg),Yb(e.el),Gb(e.el),e.presented=!0,e.willPresent.emit(),null===(o=e.willPresentShorthand)||void 0===o||o.emit();const a=zf(e),l=e.enterAnimation?e.enterAnimation:Tf.get(t,"ios"===a?n:i);await Mb(e,l,e.el,r)&&(e.didPresent.emit(),null===(s=e.didPresentShorthand)||void 0===s||s.emit()),"ION-TOAST"!==e.el.tagName&&Lb(e.el),!e.keyboardClose||null!==document.activeElement&&e.el.contains(document.activeElement)||e.el.focus(),e.el.removeAttribute("aria-hidden")},Lb=async e=>{let t=document.activeElement;if(!t)return;const n=null==t?void 0:t.shadowRoot;n&&(t=n.querySelector(db)||t),await e.onDidDismiss(),null!==document.activeElement&&document.activeElement!==document.body||t.focus()},Rb=async(e,t,n,i,r,o,s)=>{var a,l;if(!e.presented)return!1;const c=void 0!==vf?Pb(vf).filter((e=>"ION-TOAST"!==e.tagName)):[];1===c.length&&c[0].id===e.el.id&&(Ob(!1),document.body.classList.remove(Rg)),e.presented=!1;try{Gb(e.el),e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n}),null===(a=e.willDismissShorthand)||void 0===a||a.emit({data:t,role:n});const c=zf(e),d=e.leaveAnimation?e.leaveAnimation:Tf.get(i,"ios"===c?r:o);n!==qb&&await Mb(e,d,e.el,s),e.didDismiss.emit({data:t,role:n}),null===(l=e.didDismissShorthand)||void 0===l||l.emit({data:t,role:n});(gb.get(e)||[]).forEach((e=>e.destroy())),gb.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),void 0!==e.el.lastFocus&&(e.el.lastFocus=void 0)}catch(sm){console.error(sm)}return e.el.remove(),Kb(),!0},jb=e=>e.querySelector("ion-app")||e.body,Mb=async(e,t,n,i)=>{n.classList.remove("overlay-hidden");const r=t(e.el,i);e.animated&&Tf.getBoolean("animated",!0)||r.duration(0),e.keyboardClose&&r.beforeAddWrite((()=>{const e=n.ownerDocument.activeElement;(null==e?void 0:e.matches("input,ion-input, ion-textarea"))&&e.blur()}));const o=gb.get(e)||[];return gb.set(e,[...o,r]),await r.play(),!0},Ub=(e,t)=>{let n;const i=new Promise((e=>n=e));return Bb(e,t,(e=>{n(e.detail)})),i},Bb=(e,t,n)=>{const i=r=>{Xf(e,t,i),n(r)};Kf(e,t,i)},Fb=e=>"cancel"===e||e===Vb,zb=e=>e(),$b=(e,t)=>{if("function"==typeof e){return Tf.get("_zoneGate",zb)((()=>{try{return e(t)}catch(HS){throw HS}}))}},Vb="backdrop",qb="gesture",Hb=e=>{let t,n=!1;const i=cb(),r=(r=!1)=>{if(t&&!r)return{delegate:t,inline:n};const{el:o,hasController:s,delegate:a}=e,l=o.parentNode;return n=null!==l&&!s,t=n?a||i:a,{inline:n,delegate:t}};return{attachViewToDom:async t=>{const{delegate:n}=r(!0);if(n)return await n.attachViewToDom(e.el,t);const{hasController:i}=e;if(i&&void 0!==t)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:t}=r();t&&void 0!==e.el&&t.removeViewFromDom(e.el.parentElement,e.el)}}},Wb=()=>{let e;const t=()=>{e&&(e(),e=void 0)};return{addClickListener:(n,i)=>{t();const r=void 0!==i?document.getElementById(i):null;if(!r)return void Vf(`A trigger element with the ID "${i}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,n);e=((e,t)=>{const n=()=>{t.present()};return e.addEventListener("click",n),()=>{e.removeEventListener("click",n)}})(r,n)},removeClickListener:t}},Gb=e=>{void 0!==vf&&If("android")&&e.setAttribute("aria-hidden","true")},Yb=e=>{var t;if(void 0===vf)return;const n=Pb(vf);for(let i=n.length-1;i>=0;i--){const r=n[i],o=null!==(t=n[i+1])&&void 0!==t?t:e;(o.hasAttribute("aria-hidden")||"ION-TOAST"!==o.tagName)&&r.setAttribute("aria-hidden","true")}},Kb=()=>{if(void 0===vf)return;const e=Pb(vf);for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.removeAttribute("aria-hidden"),"ION-TOAST"!==n.tagName)break}},Xb="ion-disable-focus-trap";function Qb(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}"function"==typeof SuppressedError&&SuppressedError;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Jb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let Zb;const ev=(e,t)=>{const n=(()=>{if("undefined"==typeof window)return new Map;if(!Zb){const e=window;e.Ionicons=e.Ionicons||{},Zb=e.Ionicons.map=e.Ionicons.map||new Map}return Zb})().get(e);if(n)return n;try{return nm(`svg/${e}.svg`)}catch(HS){console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},tv=(e,t,n,i,r)=>{if(n="ios"===(n&&ov(n))?"ios":"md",i&&"ios"===n?e=ov(i):r&&"md"===n?e=ov(r):(e||!t||iv(t)||(e=t),rv(e)&&(e=ov(e))),!rv(e)||""===e.trim())return null;return""!==e.replace(/[a-z]|-|\d/gi,"")?null:e},nv=e=>rv(e)&&(e=e.trim(),iv(e))?e:null,iv=e=>e.length>0&&/(\/|\.)/.test(e),rv=e=>"string"==typeof e,ov=e=>e.toLowerCase(),sv=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(rv(n)&&0===n.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!sv(e.childNodes[t]))return!1}return!0},av=new Map,lv=new Map;let cv;const dv=(e,t)=>{let n=lv.get(e);if(!n){if("undefined"==typeof fetch||"undefined"==typeof document)return av.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){cv||(cv=new DOMParser);const t=cv.parseFromString(e,"text/html").querySelector("svg");return t&&av.set(e,t.outerHTML),Promise.resolve()}n=fetch(e).then((n=>{if(n.ok)return n.text().then((n=>{n&&!1!==t&&(n=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)"svg"!==t.childNodes[i].nodeName.toLowerCase()&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&"svg"===n.nodeName.toLowerCase()){const e=n.getAttribute("class")||"";if(n.setAttribute("class",(e+" s-ion-icon").trim()),sv(n))return t.innerHTML}return""})(n)),av.set(e,n||"")}));av.set(e,"")})),lv.set(e,n)}return n},uv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=hv(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,n){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(i.disconnect(),this.io=void 0,n())}),{rootMargin:t});i.observe(e)}else n()}loadIcon(){if(this.isVisible){const e=(e=>{let t=nv(e.src);if(t)return t;if(t=tv(e.name,e.icon,e.mode,e.ios,e.md),t)return ev(t,e);if(e.icon){if(t=nv(e.icon),t)return t;if(t=nv(e.icon[e.mode]),t)return t}return null})(this);e&&(av.has(e)?this.svgContent=av.get(e):dv(e,this.sanitize).then((()=>this.svgContent=av.get(e))),this.didLoadIcon=!0)}this.iconName=tv(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:n,el:i}=this,r=this.mode||"md",o=!!t&&((t.includes("arrow")||t.includes("chevron"))&&!1!==e),s=e||o;return pm(fm,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},pv(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=i,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},n),this.svgContent?pm("div",{class:"icon-inner",innerHTML:this.svgContent}):pm("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),hv=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",pv=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function mv(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((e=>{if("ion-icon"===e)customElements.get(e)||customElements.define(e,uv)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const fv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return pm(fm,{key:"998217066084f966bf5d356fed85bcbd451f675a",class:zf(this)},pm("slot",{key:"1a6f7c9d4dc6a875f86b5b3cda6d59cb39587f22"}))}static get style(){return{ios:":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",md:":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}"}}},[33,"ion-avatar"]);const gv=function(){if("undefined"==typeof customElements)return;["ion-avatar"].forEach((e=>{if("ion-avatar"===e)customElements.get(e)||customElements.define(e,fv)}))},bv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ym(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=zf(this);return pm(fm,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function vv(){if("undefined"==typeof customElements)return;["ion-backdrop"].forEach((e=>{if("ion-backdrop"===e)customElements.get(e)||customElements.define(e,bv)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const yv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=zf(this);return pm(fm,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},pm("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",md:".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"}}},[38,"ion-buttons",{collapse:[4]}]);function wv(){if("undefined"==typeof customElements)return;["ion-buttons"].forEach((e=>{if("ion-buttons"===e)customElements.get(e)||customElements.define(e,yv)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const _v=wv,xv=hf(class extends Vp{constructor(){super(),this.__registerHost()}render(){const e=zf(this);return pm(fm,{key:"d98e4d1fc6ad3237549f9bc17e4c67ec5059b1b3",class:{[e]:!0,[`card-content-${e}`]:!0}})}static get style(){return{ios:"ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",md:"ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}"}}},[32,"ion-card-content"]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const kv=function(){if("undefined"==typeof customElements)return;["ion-card-content"].forEach((e=>{if("ion-card-content"===e)customElements.get(e)||customElements.define(e,xv)}))},Tv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.translucent=!1}render(){const e=zf(this);return pm(fm,{key:"64246b81931203a64d553c788cd736f41e23f37b",class:tb(this.color,{"card-header-translucent":this.translucent,"ion-inherit-color":!0,[e]:!0})},pm("slot",{key:"af2da2dfe266889afeb57fac25c6a730558dbba4"}))}static get style(){return{ios:":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:16px;-ms-flex-direction:column-reverse;flex-direction:column-reverse}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.card-header-translucent){background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(30px);backdrop-filter:saturate(180%) blur(30px)}}",md:":host{--background:transparent;--color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;background:var(--background);color:var(--color)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:16px;padding-bottom:16px}::slotted(ion-card-title:not(:first-child)),::slotted(ion-card-subtitle:not(:first-child)){margin-top:8px}"}}},[33,"ion-card-header",{color:[513],translucent:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Sv=function(){if("undefined"==typeof customElements)return;["ion-card-header"].forEach((e=>{if("ion-card-header"===e)customElements.get(e)||customElements.define(e,Tv)}))},Ev=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=zf(this);return pm(fm,{key:"84d820a19d9074f9c8bc61ccba1ca40062a60b73",role:"heading","aria-level":"3",class:tb(this.color,{"ion-inherit-color":!0,[e]:!0})},pm("slot",{key:"e4d07d395a1f4469a90847636083101b32b776a1"}))}static get style(){return{ios:":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));margin-left:0;margin-right:0;margin-top:0;margin-bottom:4px;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.75rem;font-weight:700;letter-spacing:0.4px;text-transform:uppercase}",md:":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:0.875rem;font-weight:500}"}}},[33,"ion-card-subtitle",{color:[513]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Cv=function(){if("undefined"==typeof customElements)return;["ion-card-subtitle"].forEach((e=>{if("ion-card-subtitle"===e)customElements.get(e)||customElements.define(e,Ev)}))},Iv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=zf(this);return pm(fm,{key:"fca001a86396e83718d5211cd71912fdf40dea2f",role:"heading","aria-level":"2",class:tb(this.color,{"ion-inherit-color":!0,[e]:!0})},pm("slot",{key:"2ba416aed488b2ff462fa75fb3b70373a6dd7da6"}))}static get style(){return{ios:":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-text-color, #000);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.75rem;font-weight:700;line-height:1.2}",md:":host{display:block;position:relative;color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;line-height:1.2}"}}},[33,"ion-card-title",{color:[513]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Av=function(){if("undefined"==typeof customElements)return;["ion-card-title"].forEach((e=>{if("ion-card-title"===e)customElements.get(e)||customElements.define(e,Iv)}))},Pv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ym(this,"ionChange",7),this.ionFocus=ym(this,"ionFocus",7),this.ionBlur=ym(this,"ionBlur",7),this.inputId="ion-cb-"+Dv++,this.inheritedAttributes={},this.setChecked=e=>{const t=this.checked=e;this.ionChange.emit({checked:t,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onClick=e=>{this.disabled||this.toggleChecked(e)},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.value="on",this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}componentWillLoad(){this.inheritedAttributes=Object.assign({},Yf(this.el))}async setFocus(){this.focusEl&&this.focusEl.focus()}render(){const{color:e,checked:t,disabled:n,el:i,getSVGPath:r,indeterminate:o,inheritedAttributes:s,inputId:a,justify:l,labelPlacement:c,name:d,value:u,alignment:h}=this,p=zf(this),m=r(p,o);return eg(0,i,d,t?u:"",n),pm(fm,{key:"6dc787e1100521d08c4900104e1a3e2f594e919f","aria-checked":o?"mixed":`${t}`,class:tb(e,{[p]:!0,"in-item":eb("ion-item",i),"checkbox-checked":t,"checkbox-disabled":n,"checkbox-indeterminate":o,interactive:!0,[`checkbox-justify-${l}`]:void 0!==l,[`checkbox-alignment-${h}`]:void 0!==h,[`checkbox-label-placement-${c}`]:!0}),onClick:this.onClick},pm("label",{key:"68222fb736a5ec3f2e488649b0e2ce0417dcb224",class:"checkbox-wrapper"},pm("input",Object.assign({key:"f12962d7e9b19c744cfdbdeccc67ae7f5d080281",type:"checkbox",checked:!!t||void 0,disabled:n,id:a,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:e=>this.focusEl=e},s)),pm("div",{key:"c72df2699414b1e5a41a1bc267bc634f0c93dcff",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":""===i.textContent},part:"label"},pm("slot",{key:"a2a80285178a7e0e3b536fc9ca26b8b444aa4307"})),pm("div",{key:"c2b05e0d1fe8df5dcd72858220b5ff51ecaee4cc",class:"native-wrapper"},pm("svg",{key:"ee24913fded72258ebd9713654a6dba92a18fcf7",class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},m))))}getSVGPath(e,t){let n=pm("path",t?{d:"M6 12L18 12",part:"mark"}:{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return"md"===e&&(n=pm("path",t?{d:"M2 12H22",part:"mark"}:{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),n}get el(){return this}static get style(){return{ios:":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:0.125rem;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:min(1.375rem, 55.836px);--checkmark-width:1.5px}:host(.checkbox-disabled){opacity:0.3}",md:":host{--checkbox-background-checked:var(--ion-color-primary, #0054e9);--border-color-checked:var(--ion-color-primary, #0054e9);--checkmark-color:var(--ion-color-primary-contrast, #fff);--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper,:host(.in-item:not(.checkbox-label-placement-stacked):not([slot])) .native-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.checkbox-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.checkbox-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;width:var(--size);height:var(--size);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-alignment-start) .checkbox-wrapper{-ms-flex-align:start;align-items:start}:host(.checkbox-alignment-center) .checkbox-wrapper{-ms-flex-align:center;align-items:center}:host(.checkbox-justify-space-between),:host(.checkbox-justify-start),:host(.checkbox-justify-end),:host(.checkbox-alignment-start),:host(.checkbox-alignment-center){display:block}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-label-placement-stacked) .checkbox-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.checkbox-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.checkbox-label-placement-stacked.checkbox-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).checkbox-label-placement-stacked.checkbox-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.checkbox-label-placement-stacked.checkbox-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}"}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],setFocus:[64]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Dv=0;function Ov(){if("undefined"==typeof customElements)return;["ion-checkbox"].forEach((e=>{if("ion-checkbox"===e)customElements.get(e)||customElements.define(e,Pv)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Nv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise((n=>{em((()=>{const i=this.el.getBoundingClientRect(),r=i.width,o=i.height,s=Math.sqrt(r*r+o*o),a=Math.max(o,r),l=this.unbounded?a:s+Rv,c=Math.floor(a*jv),d=l/c;let u=e-i.left,h=t-i.top;this.unbounded&&(u=.5*r,h=.5*o);const p=u-.5*c,m=h-.5*c,f=.5*r-u,g=.5*o-h;tm((()=>{const e=document.createElement("div");e.classList.add("ripple-effect");const t=e.style;t.top=m+"px",t.left=p+"px",t.width=t.height=c+"px",t.setProperty("--final-scale",`${d}`),t.setProperty("--translate-end",`${f}px, ${g}px`);(this.el.shadowRoot||this.el).appendChild(e),setTimeout((()=>{n((()=>{Lv(e)}))}),325)}))}))}))}get unbounded(){return"unbounded"===this.type}render(){const e=zf(this);return pm(fm,{key:"7ae559bda5d2c1856a45bfa150c2cb4f83373f8e",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Lv=e=>{e.classList.add("fade-out"),setTimeout((()=>{e.remove()}),200)},Rv=10,jv=.5;function Mv(){if("undefined"==typeof customElements)return;["ion-ripple-effect"].forEach((e=>{if("ion-ripple-effect"===e)customElements.get(e)||customElements.define(e,Nv)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Uv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.outline=!1,this.disabled=!1}render(){const e=zf(this);return pm(fm,{key:"fa2e9a4837ef87a17ef10f388e8caa7f604d9145","aria-disabled":this.disabled?"true":null,class:tb(this.color,{[e]:!0,"chip-outline":this.outline,"chip-disabled":this.disabled,"ion-activatable":!0})},pm("slot",{key:"3793fbd9d915cef7241fb101e2bc64c08b9ba482"}),"md"===e&&pm("ion-ripple-effect",{key:"d3b95b53918611dec095a50f2aaaab65617947a4"}))}static get style(){return{ios:":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:clamp(13px, 0.875rem, 22px)}",md:":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:0.875rem}"}}},[33,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);const Bv=function(){if("undefined"==typeof customElements)return;["ion-chip","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-chip":customElements.get(e)||customElements.define(e,Uv);break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))},Fv="undefined"!=typeof window?window:void 0;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */Fv&&Fv.CSS&&Fv.CSS.supports&&Fv.CSS.supports("--a: 0");
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const zv=t("i",(e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),$v=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ym(this,"ionScrollStart",7),this.ionScroll=ym(this,"ionScroll",7),this.ionScrollEnd=ym(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=Yf(this.el)}connectedCallback(){if(this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal"),Hf(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");null!==e&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Hf(this.el)){const{tabsElement:e,tabsLoadCallback:t}=this;null!==e&&void 0!==t&&e.removeEventListener("ionTabBarLoaded",t),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout((()=>{null!==this.el.offsetParent&&this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=zf(this);return void 0===e?"ios"===t&&If("ios"):e}resize(){this.fullscreen?em((()=>this.readDimensions())):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,sf(this))}readDimensions(){const e=Vv(this.el),t=Math.max(this.el.offsetTop,0),n=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||n!==this.cBottom)&&(this.cTop=t,this.cBottom=n,sf(this))}onScroll(e){const t=Date.now(),n=!this.isScrolling;this.lastScroll=t,n&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,em((t=>{this.queued=!1,this.detail.event=e,qv(this.detail,this.scrollEl,t,n),this.ionScroll.emit(this.detail)})))}async getScrollElement(){return this.scrollEl||await new Promise((e=>qf(this.el,e))),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise((e=>qf(this.el,e))),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),n=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,n,e)}async scrollByPoint(e,t,n){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,t+i.scrollTop,n)}async scrollToPoint(e,t,n=0){const i=await this.getScrollElement();if(n<32)return null!=t&&(i.scrollTop=t),void(null!=e&&(i.scrollLeft=e));let r,o=0;const s=new Promise((e=>r=e)),a=i.scrollTop,l=i.scrollLeft,c=null!=t?t-a:0,d=null!=e?e-l:0,u=e=>{const t=Math.min(1,(e-o)/n)-1,s=Math.pow(t,3)+1;0!==c&&(i.scrollTop=Math.floor(s*c+a)),0!==d&&(i.scrollLeft=Math.floor(s*d+l)),s<1?requestAnimationFrame(u):r()};return requestAnimationFrame((e=>{o=e,u(e)})),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()}),100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:t,isMainContent:n,scrollX:i,scrollY:r,el:o}=this,s=zv(o)?"rtl":"ltr",a=zf(this),l=this.shouldForceOverscroll(),c="ios"===a;return this.resize(),pm(fm,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:n?"main":void 0,class:tb(this.color,{[a]:!0,"content-sizing":eb("ion-popover",this.el),overscroll:l,[`content-${s}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},t),pm("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:e=>this.backgroundContentEl=e,id:"background-content",part:"background"}),"before"===e?pm("slot",{name:"fixed"}):null,pm("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":r,overscroll:(i||r)&&l},ref:e=>this.scrollEl=e,onScroll:this.scrollEvents?e=>this.onScroll(e):void 0,part:"scroll"},pm("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),c?pm("div",{class:"transition-effect"},pm("div",{class:"transition-cover"}),pm("div",{class:"transition-shadow"})):null,"after"===e?pm("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),Vv=e=>{const t=e.closest("ion-tabs");if(t)return t;const n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||(e=>{var t;return e.parentElement?e.parentElement:(null===(t=e.parentNode)||void 0===t?void 0:t.host)?e.parentNode.host:null})(e)},qv=(e,t,n,i)=>{const r=e.currentX,o=e.currentY,s=e.currentTime,a=t.scrollLeft,l=t.scrollTop,c=n-s;if(i&&(e.startTime=n,e.startX=a,e.startY=l,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=a,e.currentY=e.scrollTop=l,e.deltaX=a-e.startX,e.deltaY=l-e.startY,c>0&&c<100){const t=(a-r)/c,n=(l-o)/c;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*n+.3*e.velocityY}};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function Hv(){if("undefined"==typeof customElements)return;["ion-content"].forEach((e=>{if("ion-content"===e)customElements.get(e)||customElements.define(e,$v)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Wv=Hv,Gv=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ym(this,"ionFocus",7),this.ionBlur=ym(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;"button"===this.type?rb(this.href,e,this.routerDirection,this.routerAnimation):(e=>!!e.shadowRoot&&!!e.attachShadow)(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(null!==t&&e.contains(t))return;const n=this.formButtonEl=document.createElement("button");n.type=this.type,n.style.display="none",n.disabled=this.disabled,e.appendChild(n)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Yf(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if("string"==typeof e){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(Vf(`Form with selector: "#${e}" could not be found. Verify that the id is attached to a <form> element.`,this.el),null):(Vf(`Form with selector: "#${e}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`,this.el),null)}return void 0!==e?(Vf('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=zf(this),{buttonType:t,type:n,disabled:i,rel:r,target:o,size:s,href:a,color:l,expand:c,hasIconOnly:d,shape:u,strong:h,inheritedAttributes:p}=this,m=void 0===s&&this.inItem?"small":s,f=void 0===a?"button":"a",g="button"===f?{type:n}:{download:this.download,href:a,rel:r,target:o};let b=this.fill;return null==b&&(b=this.inToolbar||this.inListHeader?"clear":"solid"),"button"!==n&&this.renderHiddenButton(),pm(fm,{key:"340a809d85698741bb36e796355cae89a970655f",onClick:this.handleClick,"aria-disabled":i?"true":null,class:tb(l,{[e]:!0,[t]:!0,[`${t}-${c}`]:void 0!==c,[`${t}-${m}`]:void 0!==m,[`${t}-${u}`]:void 0!==u,[`${t}-${b}`]:!0,[`${t}-strong`]:h,"in-toolbar":eb("ion-toolbar",this.el),"in-toolbar-color":eb("ion-toolbar[color]",this.el),"in-buttons":eb("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":i,"ion-activatable":!0,"ion-focusable":!0})},pm(f,Object.assign({key:"03ae1b94a0d606aa65aa6f82c2fc76abcf3f1300"},g,{class:"button-native",part:"native",disabled:i,onFocus:this.onFocus,onBlur:this.onBlur},p),pm("span",{key:"90bf53d4ffcab88ee596ece7113d5b6409e61143",class:"button-inner"},pm("slot",{key:"a7876695f0d8702e8bcb471ae4c0984f27d77458",name:"icon-only",onSlotchange:this.slotChanged}),pm("slot",{key:"2c8551586f8726884d7797a6d3fee2d4b3aab35f",name:"start"}),pm("slot",{key:"9ab07accdb22b08d0a463a7c821c9793507d1f7d"}),pm("slot",{key:"8984afe177e6ba021435875a3798e2a64f3bdf2c",name:"end"})),"md"===e&&pm("ion-ripple-effect",{key:"3e9f01e7a1198b6b7109502293a971da7072a4f3",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}'}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function Yv(){if("undefined"==typeof customElements)return;["ion-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-button":customElements.get(e)||customElements.define(e,Gv);break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Kv=()=>{if(void 0!==bf)return bf.Capacitor};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */var Xv,Qv;!function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(Xv||(Xv={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(Qv||(Qv={}));const Jv={getEngine(){const e=Kv();if(null==e?void 0:e.isPluginAvailable("Haptics"))return e.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=Kv();return"web"!==(null==e?void 0:e.getPlatform())||"undefined"!=typeof navigator&&void 0!==navigator.vibrate},impact(e){const t=this.getEngine();t&&t.impact({style:e.style})},notification(e){const t=this.getEngine();t&&t.notification({type:e.type})},selection(){this.impact({style:Xv.Light})},selectionStart(){const e=this.getEngine();e&&e.selectionStart()},selectionChanged(){const e=this.getEngine();e&&e.selectionChanged()},selectionEnd(){const e=this.getEngine();e&&e.selectionEnd()}},Zv=()=>Jv.available(),ey=()=>{Zv()&&Jv.selectionStart()},ty=()=>{Zv()&&Jv.selectionChanged()},ny=()=>{let e;return{lock:async()=>{const t=e;let n;return e=new Promise((e=>n=e)),void 0!==t&&await t,n}}},iy=(e,t,n)=>{const i=t.getBoundingClientRect(),r=i.height;let o=i.width;if("cover"===e&&n){o=n.getBoundingClientRect().width}return{contentWidth:o,contentHeight:r}},ry=(e,t)=>t&&"ION-ITEM"===t.tagName?e.findIndex((e=>e===t)):-1,oy=e=>{const t=Qf(e).querySelector("button");t&&Jf((()=>t.focus()))},sy=e=>{const t=async t=>{var n;const i=document.activeElement;let r=[];const o=null===(n=t.target)||void 0===n?void 0:n.tagName;if("ION-POPOVER"===o||"ION-ITEM"===o){try{r=Array.from(e.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(s){}switch(t.key){case"ArrowLeft":await e.getParentPopover()&&e.dismiss(void 0,void 0,!1);break;case"ArrowDown":t.preventDefault();const n=((e,t)=>e[ry(e,t)+1])(r,i);void 0!==n&&oy(n);break;case"ArrowUp":t.preventDefault();const o=((e,t)=>e[ry(e,t)-1])(r,i);void 0!==o&&oy(o);break;case"Home":t.preventDefault();const s=r[0];void 0!==s&&oy(s);break;case"End":t.preventDefault();const a=r[r.length-1];void 0!==a&&oy(a);break;case"ArrowRight":case" ":case"Enter":if(i&&i.hasAttribute("data-ion-popover-trigger")){const e=new CustomEvent("ionPopoverActivateTrigger");i.dispatchEvent(e)}}}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)},ay=(e,t,n,i,r,o,s,a,l,c,d)=>{var u;let h={top:0,left:0,width:0,height:0};if("event"===o){if(!d)return l;const e=d;h={top:e.clientY,left:e.clientX,width:1,height:1}}else{const e=d,t=c||(null===(u=null==e?void 0:e.detail)||void 0===u?void 0:u.ionShadowTarget)||(null==e?void 0:e.target);if(!t)return l;const n=t.getBoundingClientRect();h={top:n.top,left:n.left,width:n.width,height:n.height}}const p=hy(s,h,t,n,i,r,e),m=py(a,s,h,t,n),f=p.top+m.top,g=p.left+m.left,{arrowTop:b,arrowLeft:v}=uy(s,i,r,f,g,t,n,e),{originX:y,originY:w}=ly(s,a,e);return{top:f,left:g,referenceCoordinates:h,arrowTop:b,arrowLeft:v,originX:y,originY:w}},ly=(e,t,n)=>{switch(e){case"top":return{originX:cy(t),originY:"bottom"};case"bottom":return{originX:cy(t),originY:"top"};case"left":return{originX:"right",originY:dy(t)};case"right":return{originX:"left",originY:dy(t)};case"start":return{originX:n?"left":"right",originY:dy(t)};case"end":return{originX:n?"right":"left",originY:dy(t)}}},cy=e=>{switch(e){case"start":return"left";case"center":return"center";case"end":return"right"}},dy=e=>{switch(e){case"start":return"top";case"center":return"center";case"end":return"bottom"}},uy=(e,t,n,i,r,o,s,a)=>{const l={arrowTop:i+s/2-t/2,arrowLeft:r+o-t/2},c={arrowTop:i+s/2-t/2,arrowLeft:r-1.5*t};switch(e){case"top":return{arrowTop:i+s,arrowLeft:r+o/2-t/2};case"bottom":return{arrowTop:i-n,arrowLeft:r+o/2-t/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},hy=(e,t,n,i,r,o,s)=>{const a={top:t.top,left:t.left-n-r},l={top:t.top,left:t.left+t.width+r};switch(e){case"top":return{top:t.top-i-o,left:t.left};case"right":return l;case"bottom":return{top:t.top+t.height+o,left:t.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},py=(e,t,n,i,r)=>{switch(e){case"center":return fy(t,n,i,r);case"end":return my(t,n,i,r);default:return{top:0,left:0}}},my=(e,t,n,i)=>{switch(e){case"start":case"end":case"left":case"right":return{top:-(i-t.height),left:0};default:return{top:0,left:-(n-t.width)}}},fy=(e,t,n,i)=>{switch(e){case"start":case"end":case"left":case"right":return{top:-(i/2-t.height/2),left:0};default:return{top:0,left:-(n/2-t.width/2)}}},gy=(e,t,n,i,r,o,s,a,l,c,d,u,h=0,p=0,m=0)=>{let f=h;const g=p;let b,v=n,y=t,w=c,_=d,x=!1,k=!1;const T=u?u.top+u.height:o/2-a/2,S=u?u.height:0;let E=!1;return v<i+l?(v=i,x=!0,w="left"):s+i+v+l>r&&(k=!0,v=r-s-i,w="right"),T+S+a>o&&("top"===e||"bottom"===e)&&(T-a>0?(y=Math.max(12,T-a-S-(m-1)),f=y+a,_="bottom",E=!0):b=i),{top:y,left:v,bottom:b,originX:w,originY:_,checkSafeAreaLeft:x,checkSafeAreaRight:k,arrowTop:f,arrowLeft:g,addPopoverBottomClass:E}},by=(e,t)=>{var n;const{event:i,size:r,trigger:o,reference:s,side:a,align:l}=t,c=e.ownerDocument,d="rtl"===c.dir,u=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=Qf(e),m=p.querySelector(".popover-content"),f=p.querySelector(".popover-arrow"),g=o||(null===(n=null==i?void 0:i.detail)||void 0===n?void 0:n.ionShadowTarget)||(null==i?void 0:i.target),{contentWidth:b,contentHeight:v}=iy(r,m,g),{arrowWidth:y,arrowHeight:w}=(e=>{if(!e)return{arrowWidth:0,arrowHeight:0};const{width:t,height:n}=e.getBoundingClientRect();return{arrowWidth:t,arrowHeight:n}})(f),_=ay(d,b,v,y,w,s,a,l,{top:h/2-v/2,left:u/2-b/2,originX:d?"right":"left",originY:"top"},o,i),x="cover"===r?0:5,k="cover"===r?0:25,{originX:T,originY:S,top:E,left:C,bottom:I,checkSafeAreaLeft:A,checkSafeAreaRight:P,arrowTop:D,arrowLeft:O,addPopoverBottomClass:N}=gy(a,_.top,_.left,x,u,h,b,v,k,_.originX,_.originY,_.referenceCoordinates,_.arrowTop,_.arrowLeft,w),L=xf(),R=xf(),j=xf();return R.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),j.addElement(p.querySelector(".popover-arrow")).addElement(p.querySelector(".popover-content")).fromTo("opacity",.01,1),L.easing("ease").duration(100).beforeAddWrite((()=>{"cover"===r&&e.style.setProperty("--width",`${b}px`),N&&e.classList.add("popover-bottom"),void 0!==I&&m.style.setProperty("bottom",`${I}px`);let t=`${C}px`;if(A&&(t=`${C}px + var(--ion-safe-area-left, 0)`),P&&(t=`${C}px - var(--ion-safe-area-right, 0)`),m.style.setProperty("top",`calc(${E}px + var(--offset-y, 0))`),m.style.setProperty("left",`calc(${t} + var(--offset-x, 0))`),m.style.setProperty("transform-origin",`${S} ${T}`),null!==f){const e=_.top!==E||_.left!==C,t=((e,t=!1,n,i)=>!(!n&&!i||"top"!==e&&"bottom"!==e&&t))(a,e,i,o);t?(f.style.setProperty("top",`calc(${D}px + var(--offset-y, 0))`),f.style.setProperty("left",`calc(${O}px + var(--offset-x, 0))`)):f.style.setProperty("display","none")}})).addAnimation([R,j])},vy=e=>{const t=Qf(e),n=t.querySelector(".popover-content"),i=t.querySelector(".popover-arrow"),r=xf(),o=xf(),s=xf();return o.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(t.querySelector(".popover-arrow")).addElement(t.querySelector(".popover-content")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite((()=>{e.style.removeProperty("--width"),e.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),i&&(i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("display"))})).duration(300).addAnimation([o,s])},yy=(e,t)=>{var n;const{event:i,size:r,trigger:o,reference:s,side:a,align:l}=t,c=e.ownerDocument,d="rtl"===c.dir,u=c.defaultView.innerWidth,h=c.defaultView.innerHeight,p=Qf(e),m=p.querySelector(".popover-content"),f=o||(null===(n=null==i?void 0:i.detail)||void 0===n?void 0:n.ionShadowTarget)||(null==i?void 0:i.target),{contentWidth:g,contentHeight:b}=iy(r,m,f),v=ay(d,g,b,0,0,s,a,l,{top:h/2-b/2,left:u/2-g/2,originX:d?"right":"left",originY:"top"},o,i),y="cover"===r?0:12,{originX:w,originY:_,top:x,left:k,bottom:T}=gy(a,v.top,v.left,y,u,h,g,b,0,v.originX,v.originY,v.referenceCoordinates),S=xf(),E=xf(),C=xf(),I=xf(),A=xf();return E.addElement(p.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),C.addElement(p.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),I.addElement(m).beforeStyles({top:`calc(${x}px + var(--offset-y, 0px))`,left:`calc(${k}px + var(--offset-x, 0px))`,"transform-origin":`${_} ${w}`}).beforeAddWrite((()=>{void 0!==T&&m.style.setProperty("bottom",`${T}px`)})).fromTo("transform","scale(0.8)","scale(1)"),A.addElement(p.querySelector(".popover-viewport")).fromTo("opacity",.01,1),S.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite((()=>{"cover"===r&&e.style.setProperty("--width",`${g}px`),"bottom"===_&&e.classList.add("popover-bottom")})).addAnimation([E,C,I,A])},wy=e=>{const t=Qf(e),n=t.querySelector(".popover-content"),i=xf(),r=xf(),o=xf();return r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(t.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite((()=>{e.style.removeProperty("--width"),e.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")})).duration(150).addAnimation([r,o])},_y=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ym(this,"ionPopoverDidPresent",7),this.willPresent=ym(this,"ionPopoverWillPresent",7),this.willDismiss=ym(this,"ionPopoverWillDismiss",7),this.didDismiss=ym(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=ym(this,"didPresent",7),this.willPresentShorthand=ym(this,"willPresent",7),this.willDismissShorthand=ym(this,"willDismiss",7),this.didDismissShorthand=ym(this,"didDismiss",7),this.ionMount=ym(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=cb(),this.lockController=ny(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Vb)},this.onLifecycle=e=>{const t=this.usersElement,n=xy[e.type];if(t&&n){const i=new CustomEvent(n,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(i)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:t,el:n,destroyTriggerInteraction:i}=this;if(i&&i(),void 0===e)return;const r=this.triggerEl=void 0!==e?document.getElementById(e):null;r?this.destroyTriggerInteraction=((e,t,n)=>{let i=[];switch(t){case"hover":let e;i=[{eventName:"mouseenter",callback:async t=>{t.stopPropagation(),e&&clearTimeout(e),e=setTimeout((()=>{Jf((()=>{n.presentFromTrigger(t),e=void 0}))}),100)}},{eventName:"mouseleave",callback:t=>{e&&clearTimeout(e);const i=t.relatedTarget;i&&i.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:e=>e.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:e=>n.presentFromTrigger(e,!0)}];break;case"context-menu":i=[{eventName:"contextmenu",callback:e=>{e.preventDefault(),n.presentFromTrigger(e)}},{eventName:"click",callback:e=>e.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:e=>n.presentFromTrigger(e,!0)}];break;default:i=[{eventName:"click",callback:e=>n.presentFromTrigger(e)},{eventName:"ionPopoverActivateTrigger",callback:e=>n.presentFromTrigger(e,!0)}]}return i.forEach((({eventName:t,callback:n})=>e.addEventListener(t,n))),e.setAttribute("data-ion-popover-trigger","true"),()=>{i.forEach((({eventName:t,callback:n})=>e.removeEventListener(t,n))),e.removeAttribute("data-ion-popover-trigger")}})(r,t,n):Vf(`A trigger element with the ID "${e}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:t}=this;e&&e(),this.destroyKeyboardInteraction=sy(t)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:t,triggerAction:n,triggerEl:i,el:r}=this;t&&i&&(e&&e(),this.destroyDismissInteraction=((e,t,n,i)=>{let r=[];const o=Qf(i).querySelector(".popover-content");r="hover"===t?[{eventName:"mouseenter",callback:t=>{document.elementFromPoint(t.clientX,t.clientY)!==e&&n.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:t=>{t.target.closest("[data-ion-popover-trigger]")!==e?n.dismiss(void 0,void 0,!1):t.stopPropagation()}}];return r.forEach((({eventName:e,callback:t})=>o.addEventListener(e,t))),()=>{r.forEach((({eventName:e,callback:t})=>o.removeEventListener(e,t)))}})(i,n,r,t))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:t}=this;kb(t),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,t;const{el:n}=this,i=null!==(t=null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)&&void 0!==t?t:Tb(n);this.parentPopover=n.closest(`ion-popover:not(#${i})`),void 0===this.alignment&&(this.alignment="ios"===zf(this)?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:t}=this;!0===t&&Jf((()=>this.present())),e&&Kf(e,"ionPopoverWillDismiss",(()=>{this.dismiss(void 0,void 0,!1)})),this.configureTriggerInteraction()}async presentFromTrigger(e,t=!1){this.focusDescendantOnPresent=t,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,n=this.inline=null!==t&&!this.hasController;return{inline:n,delegate:this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate}}async present(e){const t=await this.lockController.lock();if(this.presented)return void t();const{el:n}=this,{inline:i,delegate:r}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await ab(r,n,this.component,["popover-viewport"],this.componentProps,i),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),Hf(n)?await Eg(this.usersElement):this.keepContentsMounted||await Sg(),await Nb(this,"popoverEnter",by,yy,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&ub(n),t()}async dismiss(e,t,n=!0){const i=await this.lockController.lock(),{destroyKeyboardInteraction:r,destroyDismissInteraction:o}=this;n&&this.parentPopover&&this.parentPopover.dismiss(e,t,n);const s=await Rb(this,e,t,"popoverLeave",vy,wy,this.event);if(s){r&&(r(),this.destroyKeyboardInteraction=void 0),o&&(o(),this.destroyDismissInteraction=void 0);const{delegate:e}=this.getDelegate();await lb(e,this.usersElement)}return i(),s}async getParentPopover(){return this.parentPopover}onDidDismiss(){return Ub(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return Ub(this.el,"ionPopoverWillDismiss")}render(){const e=zf(this),{onLifecycle:t,parentPopover:n,dismissOnSelect:i,side:r,arrow:o,htmlAttributes:s,focusTrap:a}=this,l=If("desktop"),c=o&&!n;return pm(fm,Object.assign({key:"ffe8b37c9ffb5cac210a7307e6cdfcf78712905b","aria-modal":"true","no-router":!0,tabindex:"-1"},s,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},nb(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":l,[`popover-side-${r}`]:!0,[Xb]:!1===a,"popover-nested":!!n}),onIonPopoverDidPresent:t,onIonPopoverWillPresent:t,onIonPopoverWillDismiss:t,onIonPopoverDidDismiss:t,onIonBackdropTap:this.onBackdropTap}),!n&&pm("ion-backdrop",{key:"12b3ffa3928b4d56a4f09c3d2f5d493d47b45255",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),pm("div",{key:"2c2862d5c7e75b637973c712b4982bf4978c0cdf",class:"popover-wrapper ion-overlay-wrapper",onClick:i?()=>this.dismiss():void 0},c&&pm("div",{key:"0cfacc52afaa7abc28c1b7742889d7a1c23a37ad",class:"popover-arrow",part:"arrow"}),pm("div",{key:"3ef570c44d4fe7f063dd419008c92c8c40d3cd22",class:"popover-content",part:"content"},pm("slot",{key:"6fc5dfdce20fee1642bc1f05d41b5bf7d1034457"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}"}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),xy={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const ky="ion-content",Ty=".ion-content-scroll-host",Sy=`${ky}, ${Ty}`,Ey=e=>"ION-CONTENT"===e.tagName,Cy=t("m",(async e=>Ey(e)?(await new Promise((t=>qf(e,t))),e.getScrollElement()):e)),Iy=e=>{const t=e.querySelector(Ty);return t||e.querySelector(Sy)},Ay=t("f",(e=>e.closest(Sy))),Py=(t("s",((e,t)=>{if(Ey(e)){return e.scrollToTop(t)}return Promise.resolve(e.scrollTo({top:0,left:0,behavior:"smooth"}))})),t("n",((e,t,n,i)=>{if(Ey(e)){return e.scrollByPoint(t,n,i)}return Promise.resolve(e.scrollBy({top:n,left:t,behavior:i>0?"smooth":"auto"}))})),e=>((e,...t)=>console.error(`<${e.tagName.toLowerCase()}> must be used inside ${t.join(" or ")}.`))(e,ky)),Dy=e=>{if(Ey(e)){const t=e,n=t.scrollY;return t.scrollY=!1,n}return e.style.setProperty("overflow","hidden"),!0};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var Oy,Ny;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(Oy||(Oy={})),t("j",Ny),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(Ny||t("j",Ny={}));const Ly=t("K",{getEngine(){const e=Kv();if(null==e?void 0:e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return(null==e?void 0:e.getResizeMode)?e.getResizeMode().catch((e=>{if(e.code!==Oy.Unimplemented)throw e})):Promise.resolve(void 0)}}),Ry=e=>{if(void 0===vf||e===Ny.None||void 0===e)return null;const t=vf.querySelector("ion-app");return null!=t?t:vf.body},jy=e=>{const t=Ry(e);return null===t?0:t.clientHeight},My=async e=>{let t,n,i,r;const o=async()=>{const e=await Ly.getResizeMode(),o=void 0===e?void 0:e.mode;t=()=>{void 0===r&&(r=jy(o)),i=!0,s(i,o)},n=()=>{i=!1,s(i,o)},null==bf||bf.addEventListener("keyboardWillShow",t),null==bf||bf.addEventListener("keyboardWillHide",n)},s=(t,n)=>{e&&e(t,a(n))},a=e=>{if(0===r||r===jy(e))return;const t=Ry(e);return null!==t?new Promise((e=>{const n=new ResizeObserver((()=>{t.clientHeight===r&&(n.disconnect(),e())}));n.observe(t)})):void 0};return await o(),{init:o,destroy:()=>{null==bf||bf.removeEventListener("keyboardWillShow",t),null==bf||bf.removeEventListener("keyboardWillHide",n),t=n=void 0},isKeyboardVisible:()=>i}},Uy=(e,t)=>{em((()=>{const n=e.scrollTop,i=e.scrollHeight-e.clientHeight,r=tg(0,1-(n-(i-10))/10,1);tm((()=>{t.style.setProperty("--opacity-scale",r.toString())}))}))},By=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if("ios"!==zf(this))return;const{collapse:e}=this,t="fade"===e;if(this.destroyCollapsibleFooter(),t){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Iy(e):null;if(!t)return void Py(this.el);this.setupFadeFooter(t)}},this.setupFadeFooter=async e=>{const t=this.scrollEl=await Cy(e);this.contentScrollCallback=()=>{Uy(t,this.el)},t.addEventListener("scroll",this.contentScrollCallback),Uy(t,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await My((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:t}=this,n=zf(this),i=this.el.closest("ion-tabs"),r=null==i?void 0:i.querySelector(":scope > ion-tab-bar");return pm(fm,{key:"ddc228f1a1e7fa4f707dccf74db2490ca3241137",role:"contentinfo",class:{[n]:!0,[`footer-${n}`]:!0,"footer-translucent":e,[`footer-translucent-${n}`]:e,"footer-toolbar-padding":!(this.keyboardVisible||r&&"bottom"===r.slot),[`footer-collapse-${t}`]:void 0!==t}},"ios"===n&&e&&pm("div",{key:"e16ed4963ff94e06de77eb8038201820af73937c",class:"footer-background"}),pm("slot",{key:"f186934febf85d37133d9351a96c1a64b0a4b203"}))}get el(){return this}static get style(){return{ios:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",md:"ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Fy=function(){if("undefined"==typeof customElements)return;["ion-footer"].forEach((e=>{if("ion-footer"===e)customElements.get(e)||customElements.define(e,By)}))},zy=e=>{const t=document.querySelector(`${e}.ion-cloned-element`);if(null!==t)return t;const n=document.createElement(e);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},$y=e=>{if(!e)return;const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map((e=>{const t=e.querySelector("ion-title");return{el:e,background:e.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:t,innerTitleEl:t?t.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(e.querySelectorAll("ion-buttons"))}}))}},Vy=(e,t)=>{"fade"!==e.collapse&&(void 0===t?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},qy=(e,t,n,i)=>{tm((()=>{const r=i.scrollTop;((e,t,n)=>{if(!e[0].isIntersecting)return;const i=e[0].intersectionRatio>.9||n<=0?0:100*(1-e[0].intersectionRatio)/75;Vy(t.el,1===i?void 0:i)})(e,t,r);const o=e[0],s=o.intersectionRect,a=s.width*s.height,l=o.rootBounds.width*o.rootBounds.height,c=0===a&&0===l,d=Math.abs(s.left-o.boundingClientRect.left),u=Math.abs(s.right-o.boundingClientRect.right);if(!c&&!(a>0&&(d>=5||u>=5)))if(o.isIntersecting)Hy(t,!1),Hy(n);else{(0===s.x&&0===s.y||0!==s.width&&0!==s.height)&&r>0&&(Hy(t),Hy(n,!1),Vy(t.el))}}))},Hy=(e,t=!0)=>{const n=e.el,i=e.toolbars.map((e=>e.ionTitleEl));t?(n.classList.remove("header-collapse-condense-inactive"),i.forEach((e=>{e&&e.removeAttribute("aria-hidden")}))):(n.classList.add("header-collapse-condense-inactive"),i.forEach((e=>{e&&e.setAttribute("aria-hidden","true")})))},Wy=(e=[],t=1,n=!1)=>{e.forEach((e=>{const i=e.ionTitleEl,r=e.innerTitleEl;i&&"large"===i.size&&(r.style.transition=n?"all 0.2s ease-in-out":"",r.style.transform=`scale3d(${t}, ${t}, 1)`)}))},Gy=(e,t,n)=>{em((()=>{const i=e.scrollTop,r=t.clientHeight,o=n?n.clientHeight:0;if(null!==n&&i<o)return t.style.setProperty("--opacity-scale","0"),void e.style.setProperty("clip-path",`inset(${r}px 0px 0px 0px)`);const s=tg(0,(i-o)/10,1);tm((()=>{e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",s.toString())}))}))},Yy=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const n=this.scrollEl=await Cy(e);this.contentScrollCallback=()=>{Gy(this.scrollEl,this.el,t)},n.addEventListener("scroll",this.contentScrollCallback),Gy(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Yf(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if("ios"!==zf(this))return;const{collapse:e}=this,t="condense"===e,n="fade"===e;if(this.destroyCollapsibleHeader(),t){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Iy(e):null;tm((()=>{zy("ion-title").size="large",zy("ion-back-button")})),await this.setupCondenseHeader(t,e)}else if(n){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Iy(e):null;if(!t)return void Py(this.el);const n=t.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(t,n)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t)return void Py(this.el);if("undefined"==typeof IntersectionObserver)return;this.scrollEl=await Cy(e);const n=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(n).find((e=>"condense"!==e.collapse)),!this.collapsibleMainHeader)return;const i=$y(this.collapsibleMainHeader),r=$y(this.el);if(!i||!r)return;Hy(i,!1),Vy(i.el,0);this.intersectionObserver=new IntersectionObserver((e=>{qy(e,i,r,this.scrollEl)}),{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(r.toolbars[r.toolbars.length-1].el),this.contentScrollCallback=()=>{((e,t,n)=>{em((()=>{const i=e.scrollTop,r=tg(1,1+-i/500,1.1);null===n.querySelector("ion-refresher.refresher-native")&&tm((()=>{Wy(t.toolbars,r)}))}))})(this.scrollEl,r,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),tm((()=>{void 0!==this.collapsibleMainHeader&&this.collapsibleMainHeader.classList.add("header-collapse-main")}))}render(){const{translucent:e,inheritedAttributes:t}=this,n=zf(this),i=this.collapse||"none",r=eb("ion-menu",this.el)?"none":"banner";return pm(fm,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:r,class:{[n]:!0,[`header-${n}`]:!0,"header-translucent":this.translucent,[`header-collapse-${i}`]:!0,[`header-translucent-${n}`]:this.translucent}},t),"ios"===n&&e&&pm("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),pm("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",md:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function Ky(){if("undefined"==typeof customElements)return;["ion-header"].forEach((e=>{if("ion-header"===e)customElements.get(e)||customElements.define(e,Yy)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Xy=Ky,Qy=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ym(this,"ionImgWillLoad",7),this.ionImgDidLoad=ym(this,"ionImgDidLoad",7),this.ionError=ym(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=Wf(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){void 0!==this.src&&("undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver((e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())})),this.io.observe(this.el)):setTimeout((()=>this.load()),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:t,onLoad:n,loadError:i,inheritedAttributes:r}=this,{draggable:o}=r;return pm(fm,{key:"da600442894427dee1974a28e545613afac69fca",class:zf(this)},pm("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:t,onLoad:n,onError:i,part:"image",draggable:Jy(o)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}"}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),Jy=e=>{switch(e){case"true":return!0;case"false":return!1;default:return}};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Zy=function(){if("undefined"==typeof customElements)return;["ion-img"].forEach((e=>{if("ion-img"===e)customElements.get(e)||customElements.define(e,Qy)}))},ew={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const i=e*t/n-e+"ms",r=2*Math.PI*t/n;return{r:5,style:{top:32*Math.sin(r)+"%",left:32*Math.cos(r)+"%","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const i=t/n,r=e*i-e+"ms",o=2*Math.PI*i;return{r:5,style:{top:32*Math.sin(o)+"%",left:32*Math.cos(o)+"%","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:32-32*t+"%","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:8,fn:(e,t,n)=>({y1:14,y2:26,style:{transform:`rotate(${360/n*t+(t<n/2?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${360/n*t+(t<n/2?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}},tw=ew,nw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||Tf.get("spinner"),t=zf(this);return e||("ios"===t?"lines":"circular")}render(){var e;const t=this,n=zf(t),i=t.getName(),r=null!==(e=tw[i])&&void 0!==e?e:tw.lines,o="number"==typeof t.duration&&t.duration>10?t.duration:r.dur,s=[];if(void 0!==r.circles)for(let a=0;a<r.circles;a++)s.push(iw(r,o,a,r.circles));else if(void 0!==r.lines)for(let a=0;a<r.lines;a++)s.push(rw(r,o,a,r.lines));return pm(fm,{key:"9d30ee9f5aa0dd0e220da07e75d05b8b2435224d",class:tb(t.color,{[n]:!0,[`spinner-${i}`]:!0,"spinner-paused":t.paused||Tf.getBoolean("_testing")}),role:"progressbar",style:r.elmDuration?{animationDuration:o+"ms"}:{}},s)}static get style(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),iw=(e,t,n,i)=>{const r=e.fn(t,n,i);return r.style["animation-duration"]=t+"ms",pm("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},pm("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:e.elmDuration?{animationDuration:t+"ms"}:{}}))},rw=(e,t,n,i)=>{const r=e.fn(t,n,i);return r.style["animation-duration"]=t+"ms",pm("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},pm("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const ow=(e,t,n)=>{let i;const r=()=>void 0!==t()&&void 0===e.label&&null!==n(),o=()=>{const s=t();if(void 0===s)return;if(!r())return void s.style.removeProperty("width");const a=n().scrollWidth;if(0===a&&null===s.offsetParent&&void 0!==bf&&"IntersectionObserver"in bf){if(void 0!==i)return;const t=i=new IntersectionObserver((e=>{1===e[0].intersectionRatio&&(o(),t.disconnect(),i=void 0)}),{threshold:.01,root:e});t.observe(s)}else s.style.setProperty("width",.75*a+"px")};return{calculateNotchWidth:()=>{r()&&Jf((()=>{o()}))},destroy:()=>{i&&(i.disconnect(),i=void 0)}}},sw=(e,t,n)=>{const i=null==e?0:e.toString().length,r=aw(i,t);if(void 0===n)return r;try{return n(i,t)}catch(HS){return((e,...t)=>{console.error(`[Ionic Error]: ${e}`,...t)})("Exception in provided `counterFormatter`.",HS),r}},aw=(e,t)=>`${e} / ${t}`,lw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.ionInput=ym(this,"ionInput",7),this.ionChange=ym(this,"ionChange",7),this.ionBlur=ym(this,"ionBlur",7),this.ionFocus=ym(this,"ionFocus",7),this.inputId="ion-input-"+cw++,this.helperTextId=`${this.inputId}-helper-text`,this.errorTextId=`${this.inputId}-error-text`,this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearInputIcon=void 0,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:n}=this;this.ionInput=void 0===t?null!=n?n:e:((e,t)=>{const n=e._original||e;return{_original:e,emit:ig(n.emit.bind(n),t)}})(e,t)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t)}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Yf(this.el)),Wf(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=((e,t,n)=>{let i,r;if(void 0!==bf&&"MutationObserver"in bf){const r=Array.isArray(t)?t:[t];i=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&r.includes(e.slot))return n(),void Jf((()=>o(e)))})),i.observe(e,{childList:!0,subtree:!0})}const o=e=>{var i;r&&(r.disconnect(),r=void 0),r=new MutationObserver((e=>{n();for(const n of e)for(const e of n.removedNodes)e.nodeType===Node.ELEMENT_NODE&&e.slot===t&&s()})),r.observe(null!==(i=e.parentElement)&&void 0!==i?i:e,{subtree:!0,childList:!0})},s=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:()=>{i&&(i.disconnect(),i=void 0),s()}}})(e,["label","start","end"],(()=>sf(this))),this.notchController=ow(e,(()=>this.notchSpacerEl),(()=>this.labelSlot)),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;null===(e=this.notchController)||void 0===e||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise((e=>qf(this.el,e))),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,n=null==t?t:t.toString();this.focusedValue=n,this.ionChange.emit({value:n,event:e})}emitInputChange(e){const{value:t}=this,n=null==t?t:t.toString();this.ionInput.emit({value:n,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return void 0===t?"password"===e:t}getValue(){return"number"==typeof this.value?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const t=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);this.didInputClearOnEdit||!this.hasValue()||t||(this.value="",this.emitInputChange(e)),t||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t,helperTextId:n,errorTextId:i}=this;return[pm("div",{id:n,class:"helper-text"},e),pm("div",{id:i,class:"error-text"},t)]}getHintTextID(){const{el:e,helperText:t,errorText:n,helperTextId:i,errorTextId:r}=this;return e.classList.contains("ion-touched")&&e.classList.contains("ion-invalid")&&n?r:t?i:void 0}renderCounter(){const{counter:e,maxlength:t,counterFormatter:n,value:i}=this;if(!0===e&&void 0!==t)return pm("div",{class:"counter"},sw(i,t,n))}renderBottomContent(){const{counter:e,helperText:t,errorText:n,maxlength:i}=this;if(!!t||!!n||!0===e&&void 0!==i)return pm("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return pm("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},void 0===e?pm("slot",{name:"label"}):pm("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return void 0!==this.label||null!==this.labelSlot}renderLabelContainer(){return"md"===zf(this)&&"outline"===this.fill?[pm("div",{class:"input-outline-container"},pm("div",{class:"input-outline-start"}),pm("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},pm("div",{class:"notch-spacer","aria-hidden":"true",ref:e=>this.notchSpacerEl=e},this.label)),pm("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:t,readonly:n,shape:i,inputId:r,labelPlacement:o,el:s,hasFocus:a,clearInputIcon:l}=this,c=zf(this),d=this.getValue(),u=eb("ion-item",this.el),h="md"===c&&"outline"!==t&&!u,p=null!=l?l:"ios"===c?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",m=this.hasValue(),f=null!==s.querySelector('[slot="start"], [slot="end"]'),g="stacked"===o||"floating"===o&&(m||a||f);return pm(fm,{key:"54b5662d9a7f011a85e4119650c92b9af275bf96",class:tb(this.color,{[c]:!0,"has-value":m,"has-focus":a,"label-floating":g,[`input-fill-${t}`]:void 0!==t,[`input-shape-${i}`]:void 0!==i,[`input-label-placement-${o}`]:!0,"in-item":u,"in-item-color":eb("ion-item.ion-color",this.el),"input-disabled":e})},pm("label",{key:"551cf8a932af3275689ecf32988b84355404e8f1",class:"input-wrapper",htmlFor:r},this.renderLabelContainer(),pm("div",{key:"b3601dca7e0f23517748f6e7feb899c953355bc4",class:"native-wrapper"},pm("slot",{key:"d687a9bb4c5778cfee35ce1b8d6d16ddc8eca768",name:"start"}),pm("input",Object.assign({key:"ab927e84e43bedf8b7827bb743888a1778292deb",class:"native-input",ref:e=>this.nativeInput=e,id:r,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:n,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:d,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.getHintTextID()===this.errorTextId},this.inheritedAttributes)),this.clearInput&&!n&&!e&&pm("button",{key:"0d2ee3f7e69cee75f071f37b2e9bc174572c5a01","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:e=>{e.preventDefault()},onFocusin:e=>{e.stopPropagation()},onClick:this.clearTextInput},pm("ion-icon",{key:"c7715111897f43839c10d38662616edb662cd49b","aria-hidden":"true",icon:p})),pm("slot",{key:"afc44cbe1ad50f17942d5297a12509abecbd6ecd",name:"end"})),h&&pm("div",{key:"ee3af32cd9003d497f33e352e56313d43295f3a9",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}}static get style(){return{ios:".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{display:none}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",md:".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{display:none}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}"}}},[38,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let cw=0;const dw=function(){if("undefined"==typeof customElements)return;["ion-input","ion-icon"].forEach((e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,lw);break;case"ion-icon":customElements.get(e)||mv()}}))},uw=(e,t)=>{let n;return e.forEach((e=>{for(let i=0;i<e.addedNodes.length;i++)n=hw(e.addedNodes[i],t)||n})),n},hw=(e,t)=>{if(1!==e.nodeType)return;const n=e;return(n.tagName===t.toUpperCase()?[n]:Array.from(n.querySelectorAll(t))).find((e=>e.value===n.value))},pw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.ionColor=ym(this,"ionColor",7),this.ionStyle=ym(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate="floating"===this.position,this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout((()=>{this.noAnimate=!1}),1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":void 0!==e,[`ion-color-${e}`]:void 0!==e})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,[`label-${t}`]:void 0!==t})}render(){const e=this.position,t=zf(this);return pm(fm,{key:"6353a70565ef6fbbbf4042b000e536c61bcf99a9",class:tb(this.color,{[t]:!0,"in-item-color":eb("ion-item.ion-color",this.el),[`label-${e}`]:void 0!==e,"label-no-animate":this.noAnimate,"label-rtl":"rtl"===document.dir})},pm("slot",{key:"6ef9c2758c0168442aa84941af0a6cec1ef1ec21"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",md:".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}"}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function mw(){if("undefined"==typeof customElements)return;["ion-label"].forEach((e=>{if("ion-label"===e)customElements.get(e)||customElements.define(e,pw)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const fw=mw,gw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return!!(null==e?void 0:e.closeOpened)&&e.closeOpened()}render(){const e=zf(this),{lines:t,inset:n}=this;return pm(fm,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":n,[`list-lines-${t}`]:void 0!==t,[`list-${e}-lines-${t}`]:void 0!==t}})}get el(){return this}static get style(){return{ios:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",md:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function bw(){if("undefined"==typeof customElements)return;["ion-list"].forEach((e=>{if("ion-list"===e)customElements.get(e)||customElements.define(e,gw)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const vw=bw,yw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,t=zf(this);return pm(fm,{key:"fb78bd8601cbd7b90ec84a96e0c8325be1132b1e",class:tb(this.color,{[t]:!0,[`list-header-lines-${e}`]:void 0!==e})},pm("div",{key:"2580ad49f3a54973e15f14d645a1e55a6fa066ac",class:"list-header-inner"},pm("slot",{key:"677b2e2ec8eeb3ae6ad329e86c76451cf3ae6c2f"})))}static get style(){return{ios:":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",md:":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}"}}},[33,"ion-list-header",{color:[513],lines:[1]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function ww(){if("undefined"==typeof customElements)return;["ion-list-header"].forEach((e=>{if("ion-list-header"===e)customElements.get(e)||customElements.define(e,yw)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const _w=ww;class xw{constructor(e,t){this.component=e,this.params=t,this.state=1}async init(e){if(this.state=2,!this.element){const t=this.component;this.element=await ab(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){ng(3!==this.state,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}const kw=(e,t,n)=>!!e&&(e.component===t&&rg(e.params,n)),Tw=(e,t)=>e?e instanceof xw?e:new xw(e,t):null,Sw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ym(this,"ionNavWillLoad",7),this.ionNavWillChange=ym(this,"ionNavWillChange",3),this.ionNavDidChange=ym(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&!1!==this.didLoad&&(this.useRouter||void 0!==this.root&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){const e=zf(this);this.swipeGesture=Tf.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Pp((()=>n.import("./swipe-back-legacy-B8rVfnN6.js")))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Tg(e.element,ag),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,n,i){return this.insert(-1,e,t,n,i)}insert(e,t,n,i,r){return this.insertPages(e,[{component:t,componentProps:n}],i,r)}insertPages(e,t,n,i){return this.queueTrns({insertStart:e,insertViews:t,opts:n},i)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,n){const i={removeStart:-1,removeCount:-1,opts:t};return"object"==typeof e&&e.component?(i.removeView=e,i.removeStart=1):"number"==typeof e&&(i.removeStart=e+1),this.queueTrns(i,n)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,n,i){return this.queueTrns({removeStart:e,removeCount:t,opts:n},i)}setRoot(e,t,n,i){return this.setPages([{component:e,componentProps:t}],n,i)}setPages(e,t,n){return null!=t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},n)}setRouteId(e,t,n,i){const r=this.getActiveSync();if(kw(r,e,t))return Promise.resolve({changed:!1,element:r.element});let o;const s=new Promise((e=>o=e));let a;const l={updateURL:!1,viewIsReady:e=>{let t;const n=new Promise((e=>t=e));return o({changed:!0,element:e,markVisible:async()=>{t(),await a}}),n}};if("root"===n)a=this.setRoot(e,t,l);else{const r=this.views.find((n=>kw(n,e,t)));r?a=this.popTo(r,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:i})):"forward"===n?a=this.push(e,t,Object.assign(Object.assign({},l),{animationBuilder:i})):"back"===n&&(a=this.setRoot(e,t,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:i})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!(!e||!this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,n=t.indexOf(e);return n>0?t[n-1]:void 0}async queueTrns(e,t){var n,i;if(this.isTransitioning&&(null===(n=e.opts)||void 0===n?void 0:n.skipIfBusy))return!1;const r=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));if(e.done=t,e.opts&&!1!==e.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const n=await t.canTransition();if(!1===n)return!1;if("string"==typeof n)return t.push(n,e.opts.direction||"back"),!1}}return 0===(null===(i=e.insertViews)||void 0===i?void 0:i.length)&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),r}success(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const n="back"===e.direction?"back":"forward";t.navChanged(n)}}}failed(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),n=this.getEnteringView(e,t);if(!t&&!n)throw new Error("no views in the stack to be removed");n&&1===n.state&&await n.init(this.el),this.postViewInit(n,t,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&n!==t;if(i&&e.opts&&t){"back"===e.opts.direction&&(e.opts.animationBuilder=e.opts.animationBuilder||(null==n?void 0:n.animationBuilder)),t.animationBuilder=e.opts.animationBuilder}let r;r=i?await this.transition(n,t,e):{hasCompleted:!0,requiresTransition:!1},this.success(r,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,n,i;const r=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(n=(i=e.opts).delegate)&&void 0!==n||(i.delegate=this.delegate),void 0!==e.removeView){ng(void 0!==e.removeStart,"removeView needs removeStart"),ng(void 0!==e.removeCount,"removeView needs removeCount");const t=this.views.indexOf(e.removeView);if(t<0)throw new Error("removeView was not found");e.removeStart+=t}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=r-1),e.removeCount<0&&(e.removeCount=r-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===r),e.insertViews&&((e.insertStart<0||e.insertStart>r)&&(e.insertStart=r),e.enteringRequiresTransition=e.insertStart===r);const o=e.insertViews;if(!o)return;ng(o.length>0,"length can not be zero");const s=o.map((e=>e instanceof xw?e:"component"in e?Tw(e.component,null===e.componentProps?void 0:e.componentProps):Tw(e,void 0))).filter((e=>null!==e));if(0===s.length)throw new Error("invalid views to insert");for(const a of s){a.delegate=e.opts.delegate;const t=a.nav;if(t&&t!==this)throw new Error("inserted view was already inserted");if(3===a.state)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const n=e.insertViews;if(void 0!==n)return n[n.length-1];const i=e.removeStart;if(void 0!==i){const n=this.views,r=i+e.removeCount;for(let e=n.length-1;e>=0;e--){const o=n[e];if((e<i||e>=r)&&o!==t)return o}}}postViewInit(e,t,n){var i,r,o;ng(t||e,"Both leavingView and enteringView are null"),ng(n.resolve,"resolve must be valid"),ng(n.reject,"reject must be valid");const s=n.opts,{insertViews:a,removeStart:l,removeCount:c}=n;let d;if(void 0!==l&&void 0!==c){ng(l>=0,"removeStart can not be negative"),ng(c>=0,"removeCount can not be negative"),d=[];for(let n=l;n<l+c;n++){const i=this.views[n];void 0!==i&&i!==e&&i!==t&&d.push(i)}null!==(i=s.direction)&&void 0!==i||(s.direction="back")}const u=this.views.length+(null!==(r=null==a?void 0:a.length)&&void 0!==r?r:0)-(null!=c?c:0);if(ng(u>=0,"final balance can not be negative"),0===u)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(a){let e=n.insertStart;for(const t of a)this.insertViewAt(t,e),e++;n.enteringRequiresTransition&&(null!==(o=s.direction)&&void 0!==o||(s.direction="forward"))}if(d&&d.length>0){for(const e of d)Tg(e.element,og),Tg(e.element,sg),Tg(e.element,ag);for(const e of d)this.destroyView(e)}}async transition(e,t,n){const i=n.opts,r=i.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.sbAni=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0,o=zf(this),s=e.element,a=t&&t.element,l=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:r,animated:this.animated&&Tf.getBoolean("animated",!0),enteringEl:s,leavingEl:a},i),{animationBuilder:i.animationBuilder||this.animation||Tf.get("navAnimation")}),{hasCompleted:c}=await hg(l);return this.transitionFinish(c,e,t,i)}transitionFinish(e,t,n,i){const r=e?t:n;return r&&this.unmountInactiveViews(r),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:n,direction:i.direction}}insertViewAt(e,t){const n=this.views,i=n.indexOf(e);i>-1?(ng(e.nav===this,"view is not part of the nav"),n.splice(i,1),n.splice(t,0,e)):(ng(!e.nav,"nav is used"),e.nav=this,n.splice(t,0,e))}removeView(e){ng(2===e.state||3===e.state,"view state should be loaded or destroyed");const t=this.views,n=t.indexOf(e);ng(n>-1,"view must be part of the stack"),n>=0&&t.splice(n,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,n=t.indexOf(e);for(let i=t.length-1;i>=0;i--){const e=t[i],r=e.element;r&&(i>n?(Tg(r,ag),this.destroyView(e)):i<n&&Cg(r,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,n){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=Ag([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Ag([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,i,n)}else this.gestureOrAnimationInProgress=!1}render(){return pm("slot",{key:"dfe98cb6604a2015a49f41beffebdd2da957dfff"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);const Ew=function(){if("undefined"==typeof customElements)return;["ion-nav"].forEach((e=>{if("ion-nav"===e)customElements.get(e)||customElements.define(e,Sw)}))},Cw=(e,t,n)=>"function"==typeof n?n(e,t):"string"==typeof n?e[n]===t[n]:Array.isArray(t)?t.includes(e):e===t,Iw=(e,t,n)=>void 0!==e&&(Array.isArray(e)?e.some((e=>Cw(e,t,n))):Cw(e,t,n)),Aw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ym(this,"ionFocus",7),this.ionBlur=ym(this,"ionBlur",7),this.inputId="ion-rb-"+Pw++,this.radioGroup=null,this.updateState=()=>{if(this.radioGroup){const{compareWith:e,value:t}=this.radioGroup;this.checked=Iw(t,this.value,e)}},this.onClick=()=>{const{radioGroup:e,checked:t,disabled:n}=this;n||(t&&(null==e?void 0:e.allowEmptySelection)?this.checked=!1:this.checked=!0)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.justify=void 0,this.alignment=void 0}valueChanged(){this.updateState()}componentDidLoad(){this.updateState()}async setFocus(e){void 0!==e&&(e.stopPropagation(),e.preventDefault()),this.el.focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){void 0===this.value&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),Kf(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(Xf(e,"ionValueChange",this.updateState),this.radioGroup=null)}get hasLabel(){return""!==this.el.textContent}renderRadioControl(){return pm("div",{class:"radio-icon",part:"container"},pm("div",{class:"radio-inner",part:"mark"}),pm("div",{class:"radio-ripple"}))}render(){const{checked:e,disabled:t,color:n,el:i,justify:r,labelPlacement:o,hasLabel:s,buttonTabindex:a,alignment:l}=this,c=zf(this),d=eb("ion-item",i);return pm(fm,{key:"5a0adab55ad009305de4856fa1b9f93f2279a734",onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:tb(n,{[c]:!0,"in-item":d,"radio-checked":e,"radio-disabled":t,[`radio-justify-${r}`]:void 0!==r,[`radio-alignment-${l}`]:void 0!==l,[`radio-label-placement-${o}`]:!0,"ion-activatable":!d,"ion-focusable":!d}),role:"radio","aria-checked":e?"true":"false","aria-disabled":t?"true":null,tabindex:a},pm("label",{key:"f5673a798e6d87868339f046445f707e1d93b7b6",class:"radio-wrapper"},pm("div",{key:"e9190c06f75a171cab63e3f74ccf771c3ed87005",class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!s},part:"label"},pm("slot",{key:"6cedf4e7b3bd03e4a635727dd7b6094bab64af64"})),pm("div",{key:"26dd48d9d2848b7f100b732abdc4a3171adde483",class:"native-wrapper"},this.renderRadioControl())))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color-checked:var(--ion-color-primary, #0054e9)}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}.native-wrapper .radio-icon{width:0.9375rem;height:1.5rem}',md:':host{--inner-border-radius:50%;display:inline-block;position:relative;max-width:100%;min-height:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0;width:100%;height:100%}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}:host(.in-item) .label-text-wrapper{margin-top:10px;margin-bottom:10px}:host(.in-item.radio-label-placement-stacked) .label-text-wrapper{margin-top:10px;margin-bottom:16px}:host(.in-item.radio-label-placement-stacked) .native-wrapper{margin-bottom:10px}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-alignment-start) .radio-wrapper{-ms-flex-align:start;align-items:start}:host(.radio-alignment-center) .radio-wrapper{-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between),:host(.radio-justify-start),:host(.radio-justify-end),:host(.radio-alignment-start),:host(.radio-alignment-center){display:block}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host(.radio-label-placement-stacked) .radio-wrapper{-ms-flex-direction:column;flex-direction:column}:host(.radio-label-placement-stacked) .label-text-wrapper{-webkit-transform:scale(0.75);transform:scale(0.75);margin-left:0;margin-right:0;margin-bottom:16px;max-width:calc(100% / 0.75)}:host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-start) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-start .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-start:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}}:host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper{-webkit-transform-origin:center top;transform-origin:center top}:host-context([dir=rtl]):host(.radio-label-placement-stacked.radio-alignment-center) .label-text-wrapper,:host-context([dir=rtl]).radio-label-placement-stacked.radio-alignment-center .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}@supports selector(:dir(rtl)){:host(.radio-label-placement-stacked.radio-alignment-center:dir(rtl)) .label-text-wrapper{-webkit-transform-origin:calc(100% - center) top;transform-origin:calc(100% - center) top}}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--border-width:0.125rem;--border-style:solid;--border-radius:50%}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #1a65eb);content:"";opacity:0.2}.native-wrapper .radio-icon{width:1.25rem;height:1.25rem}'}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],alignment:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]},void 0,{value:["valueChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Pw=0;function Dw(){if("undefined"==typeof customElements)return;["ion-radio"].forEach((e=>{if("ion-radio"===e)customElements.get(e)||customElements.define(e,Aw)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Ow=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.ionChange=ym(this,"ionChange",7),this.ionValueChange=ym(this,"ionValueChange",7),this.inputId="ion-rg-"+Nw++,this.labelId=`${this.inputId}-lbl`,this.setRadioTabindex=e=>{const t=this.getRadios(),n=t.find((e=>!e.disabled)),i=t.find((t=>t.value===e&&!t.disabled));if(!n&&!i)return;const r=i||n;for(const o of t){const e=o===r?0:-1;o.setButtonTabindex(e)}},this.onClick=e=>{e.preventDefault();const t=e.target&&e.target.closest("ion-radio");if(t&&!t.disabled){const n=this.value,i=t.value;i!==n?(this.value=i,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.compareWith=void 0,this.name=this.inputId,this.value=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.valueChanged(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const t=this.label=e.querySelector("ion-label");t&&(this.labelId=t.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:t}=this;this.ionChange.emit({value:t,event:e})}onKeydown(e){const t=!!this.el.closest("ion-select-popover")||!!this.el.closest("ion-select-modal");if(e.target&&!this.el.contains(e.target))return;const n=this.getRadios().filter((e=>!e.disabled));if(e.target&&n.includes(e.target)){const i=n.findIndex((t=>t===e.target)),r=n[i];let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=i===n.length-1?n[0]:n[i+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=0===i?n[n.length-1]:n[i-1]),o&&n.includes(o)&&(o.setFocus(e),t||(this.value=o.value,this.emitValueChange(e))),[" "].includes(e.key)){const t=this.value;this.value=this.allowEmptySelection&&void 0!==this.value?void 0:r.value,(t!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}async setFocus(){const e=this.getRadios().find((e=>-1!==e.tabIndex));null==e||e.setFocus()}render(){const{label:e,labelId:t,el:n,name:i,value:r}=this,o=zf(this);return eg(0,n,i,r,!1),pm(fm,{key:"a853e38901f0f4ba17bbf21ebb5da5b5c20b327e",role:"radiogroup","aria-labelledby":e?t:null,onClick:this.onClick,class:o})}get el(){return this}static get watchers(){return{value:["valueChanged"]}}},[0,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],compareWith:[1,"compare-with"],name:[1],value:[1032],setFocus:[64]},[[4,"keydown","onKeydown"]],{value:["valueChanged"]}]);let Nw=0;function Lw(){if("undefined"==typeof customElements)return;["ion-radio-group"].forEach((e=>{if("ion-radio-group"===e)customElements.get(e)||customElements.define(e,Ow)}))}const Rw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ym(this,"ionChange",7),this.ionSelect=ym(this,"ionSelect",7),this.ionStyle=ym(this,"ionStyle",7),this.segmentViewEl=null,this.onClick=e=>{const t=e.target,n=this.checked;"ION-SEGMENT"!==t.tagName&&(this.value=t.value,t!==n&&this.emitValueChange(),this.segmentViewEl?(this.updateSegmentView(),this.scrollable&&n&&this.checkButton(n,t)):!this.scrollable&&this.swipeGesture||(n?this.checkButton(n,t):this.setCheckedClasses()))},this.onSlottedItemsChange=()=>{this.valueChanged(this.value)},this.getSegmentButton=e=>{var t,n;const i=this.getButtons().filter((e=>!e.disabled)),r=i.findIndex((e=>e===document.activeElement));switch(e){case"first":return i[0];case"last":return i[i.length-1];case"next":return null!==(t=i[r+1])&&void 0!==t?t:i[0];case"previous":return null!==(n=i[r-1])&&void 0!==n?n:i[i.length-1];default:return null}},this.activated=!1,this.color=void 0,this.disabled=!1,this.scrollable=!1,this.swipeGesture=!0,this.value=void 0,this.selectOnFocus=!1}colorChanged(e,t){(void 0===t&&void 0!==e||void 0!==t&&void 0===e)&&this.emitStyle()}swipeGestureChanged(){this.gestureChanged()}valueChanged(e,t){if(this.segmentViewEl&&void 0===e)this.value=this.getButtons()[0].value;else{if(void 0!==t&&void 0!==e){const n=this.getButtons(),i=n.find((e=>e.value===t)),r=n.find((t=>t.value===e));i&&r&&(this.segmentViewEl?!1!==this.triggerScrollOnValueChange&&this.updateSegmentView():this.checkButton(i,r))}else void 0!==e&&void 0===t&&this.segmentViewEl&&this.updateSegmentView();this.ionSelect.emit({value:e}),this.segmentViewEl||this.scrollActiveButtonIntoView(),this.triggerScrollOnValueChange=void 0}}disabledChanged(){if(this.gestureChanged(),this.segmentViewEl)this.segmentViewEl.disabled=this.disabled;else{const e=this.getButtons();for(const t of e)t.disabled=this.disabled}}gestureChanged(){this.gesture&&this.gesture.enable(!this.scrollable&&!this.disabled&&this.swipeGesture)}connectedCallback(){this.emitStyle(),this.segmentViewEl=this.getSegmentView()}disconnectedCallback(){this.segmentViewEl=null}componentWillLoad(){this.emitStyle()}async componentDidLoad(){this.segmentViewEl=this.getSegmentView(),this.setCheckedClasses(),Jf((()=>{this.scrollActiveButtonIntoView(!1)})),this.gesture=(await Pp((()=>Promise.resolve().then((()=>Hg))))).createGesture({el:this.el,gestureName:"segment",gesturePriority:100,threshold:0,passive:!1,onStart:e=>this.onStart(e),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.gestureChanged(),this.disabled&&this.disabledChanged(),this.updateSegmentView(!1)}onStart(e){this.valueBeforeGesture=this.value,this.activate(e)}onMove(e){this.setNextIndex(e)}onEnd(e){this.setActivated(!1),this.setNextIndex(e,!0),e.event.stopImmediatePropagation();const t=this.value;void 0!==t&&this.valueBeforeGesture!==t&&(this.emitValueChange(),this.updateSegmentView()),this.valueBeforeGesture=void 0}emitValueChange(){const{value:e}=this;this.ionChange.emit({value:e})}getButtons(){return Array.from(this.el.querySelectorAll("ion-segment-button"))}get checked(){return this.getButtons().find((e=>e.value===this.value))}setActivated(e){this.getButtons().forEach((t=>{t.classList.toggle("segment-button-activated",e)})),this.activated=e}activate(e){const t=e.event.target,n=this.getButtons().find((e=>e.value===this.value));"ION-SEGMENT-BUTTON"===t.tagName&&(n||(this.value=t.value,this.setCheckedClasses()),this.value===t.value&&this.setActivated(!0))}getIndicator(e){return(e.shadowRoot||e).querySelector(".segment-button-indicator")}checkButton(e,t){const n=this.getIndicator(e),i=this.getIndicator(t);if(null===n||null===i)return;const r=n.getBoundingClientRect(),o=i.getBoundingClientRect(),s=r.width/o.width,a=`translate3d(${r.left-o.left}px, 0, 0) scaleX(${s})`;tm((()=>{i.classList.remove("segment-button-indicator-animated"),i.style.setProperty("transform",a),i.getBoundingClientRect(),i.classList.add("segment-button-indicator-animated"),i.style.setProperty("transform",""),this.scrollActiveButtonIntoView(!0)})),this.value=t.value,this.setCheckedClasses()}setCheckedClasses(){const e=this.getButtons(),t=e.findIndex((e=>e.value===this.value))+1;for(const n of e)n.classList.remove("segment-button-after-checked");t<e.length&&e[t].classList.add("segment-button-after-checked")}getSegmentView(){const e=this.getButtons().find((e=>e.contentId)),t=document.querySelector(`ion-segment-content[id="${null==e?void 0:e.contentId}"]`);return null==t?void 0:t.closest("ion-segment-view")}handleSegmentViewScroll(e){const{scrollRatio:t,isManualScroll:n}=e.detail;if(!n)return;const i=e.target,r=this.segmentViewEl,o=this.el;if(e.composedPath().includes(r)||(null==i?void 0:i.contains(o))){const e=this.getButtons();if(!e.length)return;const n=e.findIndex((e=>e.value===this.value)),i=e[n],r=Math.round(t*(e.length-1));void 0!==this.lastNextIndex&&this.lastNextIndex===r||(this.lastNextIndex=r,this.triggerScrollOnValueChange=!1,this.checkButton(i,e[r]),this.emitValueChange())}}updateSegmentView(e=!0){const t=this.getButtons().find((e=>e.value===this.value));if(!(null==t?void 0:t.contentId))return;const n=this.segmentViewEl;n&&n.setContent(t.contentId,e)}scrollActiveButtonIntoView(e=!0){const{scrollable:t,value:n,el:i}=this;if(t){const t=this.getButtons().find((e=>e.value===n));if(void 0!==t){const n=i.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.x-n.x-n.width/2+r.width/2,s=i.scrollLeft+o;i.scrollTo({top:0,left:s,behavior:e?"smooth":"instant"})}}}setNextIndex(e,t=!1){const n=zv(this.el),i=this.activated,r=this.getButtons(),o=r.findIndex((e=>e.value===this.value)),s=r[o];let a,l;if(-1===o)return;const c=s.getBoundingClientRect(),d=c.left,u=c.width,h=e.currentX,p=c.top+c.height/2,m=this.el.getRootNode().elementFromPoint(h,p);if(i&&!t){if(n?h>d+u:h<d){const e=o-1;e>=0&&(l=e)}else if((n?h<d:h>d+u)&&i&&!t){const e=o+1;e<r.length&&(l=e)}void 0===l||r[l].disabled||(a=r[l])}if(!i&&t&&(a=m),null!=a){if("ION-SEGMENT"===a.tagName)return!1;s!==a&&this.checkButton(s,a)}return!0}emitStyle(){this.ionStyle.emit({segment:!0})}onKeyDown(e){const t=zv(this.el);let n,i=this.selectOnFocus;switch(e.key){case"ArrowRight":e.preventDefault(),n=t?this.getSegmentButton("previous"):this.getSegmentButton("next");break;case"ArrowLeft":e.preventDefault(),n=t?this.getSegmentButton("next"):this.getSegmentButton("previous");break;case"Home":e.preventDefault(),n=this.getSegmentButton("first");break;case"End":e.preventDefault(),n=this.getSegmentButton("last");break;case" ":case"Enter":e.preventDefault(),n=document.activeElement,i=!0}if(n){if(i){const e=this.checked;this.checkButton(e||n,n),n!==e&&this.emitValueChange()}n.setFocus()}}render(){const e=zf(this);return pm(fm,{key:"b1eb4a6e4f953f6c4882395585799503735bbc6b",role:"tablist",onClick:this.onClick,class:tb(this.color,{[e]:!0,"in-toolbar":eb("ion-toolbar",this.el),"in-toolbar-color":eb("ion-toolbar[color]",this.el),"segment-activated":this.activated,"segment-disabled":this.disabled,"segment-scrollable":this.scrollable})},pm("slot",{key:"e7df6b017d154f30eb8021bc965f2e6c8e6480bf",onSlotchange:this.onSlottedItemsChange}))}get el(){return this}static get watchers(){return{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}}static get style(){return{ios:":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:grid;grid-auto-columns:1fr;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto;grid-auto-columns:minmax(-webkit-min-content, 1fr);grid-auto-columns:minmax(min-content, 1fr)}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.065);border-radius:8px;overflow:hidden;z-index:0}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.065)}:host(.in-toolbar){-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;width:auto}:host(.in-toolbar:not(.ion-color)){background:var(--ion-toolbar-segment-background, var(--background))}:host(.in-toolbar-color:not(.ion-color)){background:rgba(var(--ion-color-contrast-rgb), 0.11)}",md:":host{--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:grid;grid-auto-columns:1fr;position:relative;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:center;justify-content:center;width:100%;background:var(--background);font-family:var(--ion-font-family, inherit);text-align:center;contain:paint;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.segment-scrollable){-ms-flex-pack:start;justify-content:start;width:auto;overflow-x:auto;grid-auto-columns:minmax(-webkit-min-content, 1fr);grid-auto-columns:minmax(min-content, 1fr)}:host(.segment-scrollable::-webkit-scrollbar){display:none}:host{--background:transparent;grid-auto-columns:minmax(auto, 360px)}:host(.in-toolbar){min-height:var(--min-height)}:host(.segment-scrollable) ::slotted(ion-segment-button){min-width:auto}"}}},[33,"ion-segment",{color:[513],disabled:[4],scrollable:[4],swipeGesture:[4,"swipe-gesture"],value:[1032],selectOnFocus:[4,"select-on-focus"],activated:[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{color:["colorChanged"],swipeGesture:["swipeGestureChanged"],value:["valueChanged"],disabled:["disabledChanged"]}]);const jw=function(){if("undefined"==typeof customElements)return;["ion-segment"].forEach((e=>{if("ion-segment"===e)customElements.get(e)||customElements.define(e,Rw)}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Mw=0;const Uw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.segmentEl=null,this.inheritedAttributes={},this.updateStyle=()=>{sf(this)},this.updateState=()=>{const{segmentEl:e}=this;e&&(this.checked=e.value===this.value,e.disabled&&(this.disabled=!0))},this.checked=!1,this.contentId=void 0,this.disabled=!1,this.layout="icon-top",this.type="button",this.value="ion-sb-"+Mw++}valueChanged(){this.updateState()}connectedCallback(){const e=this.segmentEl=this.el.closest("ion-segment");if(e&&(this.updateState(),Kf(e,"ionSelect",this.updateState),Kf(e,"ionStyle",this.updateStyle)),!this.contentId)return;const t=document.getElementById(this.contentId);t?"ION-SEGMENT-CONTENT"===t.tagName?this.disabled&&(console.warn("Segment Button: Segment buttons cannot be disabled when associated with an <ion-segment-content>."),this.disabled=!1):console.error(`Segment Button: Element with id="${this.contentId}" is not an <ion-segment-content> element.`):console.error(`Segment Button: Unable to find Segment Content with id="${this.contentId}".`)}disconnectedCallback(){const e=this.segmentEl;e&&(Xf(e,"ionSelect",this.updateState),Xf(e,"ionStyle",this.updateStyle),this.segmentEl=null)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Wf(this.el,["aria-label"]))}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}async setFocus(){const{nativeEl:e}=this;void 0!==e&&e.focus()}render(){const{checked:e,type:t,disabled:n,hasIcon:i,hasLabel:r,layout:o,segmentEl:s}=this,a=zf(this);return pm(fm,{key:"d50a5d5e2f6206e8523598f258d8217d2903f69b",class:{[a]:!0,"in-toolbar":eb("ion-toolbar",this.el),"in-toolbar-color":eb("ion-toolbar[color]",this.el),"in-segment":eb("ion-segment",this.el),"in-segment-color":void 0!==(null==s?void 0:s.color),"segment-button-has-label":r,"segment-button-has-icon":i,"segment-button-has-label-only":r&&!i,"segment-button-has-icon-only":i&&!r,"segment-button-disabled":n,"segment-button-checked":e,[`segment-button-layout-${o}`]:!0,"ion-activatable":!0,"ion-activatable-instant":!0,"ion-focusable":!0}},pm("button",Object.assign({key:"b4f6f145286ba8ab79669e11035b906daa85ae7e","aria-selected":e?"true":"false",role:"tab",ref:e=>this.nativeEl=e,type:t,class:"button-native",part:"native",disabled:n},this.inheritedAttributes),pm("span",{key:"67965996c9ffe70553875e00d3da0ae5b2b1d814",class:"button-inner"},pm("slot",{key:"5087988fe45a8fdf388ec44c395d0b745b207806"})),"md"===a&&pm("ion-ripple-effect",{key:"b24858de0750bbc769b3183fac0077dfe817ba27"})),pm("div",{key:"97b4359432acd1c9da0816360cd1df9472e183f7",part:"indicator",class:"segment-button-indicator segment-button-indicator-animated"},pm("div",{key:"0561738ea15b0986f4ed3d8276d5e6f2d13f7e51",part:"indicator-background",class:"segment-button-indicator-background"})))}get el(){return this}static get watchers(){return{value:["valueChanged"]}}static get style(){return{ios:':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;grid-row:1;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;line-height:22px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:none;--background-hover-opacity:0;--background-focused:none;--background-focused-opacity:0;--border-radius:7px;--border-width:1px;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--border-style:solid;--indicator-box-shadow:0 0 5px rgba(0, 0, 0, 0.16);--indicator-color:var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff)));--indicator-height:100%;--indicator-transition:transform 260ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--transition:100ms all linear;--padding-top:0;--padding-end:13px;--padding-bottom:0;--padding-start:13px;margin-top:2px;margin-bottom:2px;position:relative;-ms-flex-direction:row;flex-direction:row;min-width:70px;min-height:28px;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);font-size:13px;font-weight:450;line-height:37px}:host::before{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;-webkit-transition:160ms opacity ease-in-out;transition:160ms opacity ease-in-out;-webkit-transition-delay:100ms;transition-delay:100ms;border-left:var(--border-width) var(--border-style) var(--border-color);content:"";opacity:1;will-change:opacity}:host(:first-of-type)::before{border-left-color:transparent}:host(.segment-button-disabled){opacity:0.3}::slotted(ion-icon){font-size:24px}:host(.segment-button-layout-icon-start) ::slotted(ion-label){-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:0;margin-inline-end:0}:host(.segment-button-layout-icon-end) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:2px;margin-inline-end:2px}.segment-button-indicator{-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;left:0;right:0;top:0;bottom:0}.segment-button-indicator-background{border-radius:var(--border-radius);background:var(--indicator-color)}.segment-button-indicator-background{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked)::before,:host(.segment-button-after-checked)::before{opacity:0}:host(.segment-button-checked){z-index:-1}:host(.segment-button-activated){--indicator-transform:scale(0.95)}:host(.ion-focused) .button-native{opacity:0.7}@media (any-hover: hover){:host(:hover) .button-native{opacity:0.5}:host(.segment-button-checked:hover) .button-native{opacity:1}}:host(.in-segment-color){background:none;color:var(--ion-text-color, #000)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff)))}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native,:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-text-color, #000)}}:host(.in-toolbar:not(.in-segment-color)){--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, var(--ion-toolbar-color), initial);--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-toolbar-color), initial);--indicator-color:var(--ion-toolbar-segment-indicator-color, var(--ion-color-step-350, var(--ion-background-color-step-350, var(--ion-background-color, #fff))))}:host(.in-toolbar-color) .segment-button-indicator-background{background:var(--ion-color-contrast)}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color):hover) .button-native{color:var(--ion-color-contrast)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color):hover) .button-native{color:var(--ion-color-base)}}',md:':host{--color:initial;--color-hover:var(--color);--color-checked:var(--color);--color-disabled:var(--color);--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:auto;background:var(--background);color:var(--color);text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;grid-row:1;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;min-width:inherit;max-width:inherit;height:auto;min-height:inherit;max-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:none;outline:none;background:transparent;contain:content;pointer-events:none;overflow:hidden;z-index:2}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}:host(.segment-button-checked){background:var(--background-checked);color:var(--color-checked)}:host(.segment-button-disabled){cursor:default;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(:focus){outline:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.segment-button-checked:hover) .button-native{color:var(--color-checked)}}::slotted(ion-icon){-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:-1;order:-1;pointer-events:none}::slotted(ion-label){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;line-height:22px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.segment-button-layout-icon-top) .button-native{-ms-flex-direction:column;flex-direction:column}:host(.segment-button-layout-icon-start) .button-native{-ms-flex-direction:row;flex-direction:row}:host(.segment-button-layout-icon-end) .button-native{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.segment-button-layout-icon-bottom) .button-native{-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.segment-button-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.segment-button-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color, var(--color-checked))}.segment-button-indicator{-webkit-transform-origin:left;transform-origin:left;position:absolute;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;will-change:transform, opacity;pointer-events:none}.segment-button-indicator-background{width:100%;height:var(--indicator-height);-webkit-transform:var(--indicator-transform);transform:var(--indicator-transform);-webkit-box-shadow:var(--indicator-box-shadow);box-shadow:var(--indicator-box-shadow);pointer-events:none}.segment-button-indicator-animated{-webkit-transition:var(--indicator-transition);transition:var(--indicator-transition)}:host(.segment-button-checked) .segment-button-indicator{opacity:1}@media (prefers-reduced-motion: reduce){.segment-button-indicator-background{-webkit-transform:none;transform:none}.segment-button-indicator-animated{-webkit-transition:none;transition:none}}:host{--background:none;--background-checked:none;--background-hover:var(--color-checked);--background-focused:var(--color-checked);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #0054e9);--indicator-box-shadow:none;--indicator-color:var(--color-checked);--indicator-height:2px;--indicator-transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1);--indicator-transform:none;--padding-top:0;--padding-end:16px;--padding-bottom:0;--padding-start:16px;--transition:color 0.15s linear 0s, opacity 0.15s linear 0s;min-width:90px;min-height:48px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);font-size:14px;font-weight:500;letter-spacing:0.06em;line-height:40px;text-transform:uppercase}:host(.segment-button-disabled){opacity:0.3}:host(.in-segment-color){background:none;color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color) ion-ripple-effect{color:var(--ion-color-base)}:host(.in-segment-color) .segment-button-indicator-background{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked) .button-native{color:var(--ion-color-base)}:host(.in-segment-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.in-segment-color:hover) .button-native{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6)}:host(.in-segment-color:hover) .button-native::after{background:var(--ion-color-base)}:host(.in-segment-color.segment-button-checked:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-segment-color)){--background:var(--ion-toolbar-segment-background, none);--background-checked:var(--ion-toolbar-segment-background-checked, none);--color:var(--ion-toolbar-segment-color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.6));--color-checked:var(--ion-toolbar-segment-color-checked, var(--ion-color-primary, #0054e9));--indicator-color:var(--ion-toolbar-segment-color-checked, var(--color-checked))}:host(.in-toolbar-color:not(.in-segment-color)) .button-native{color:rgba(var(--ion-color-contrast-rgb), 0.6)}:host(.in-toolbar-color.segment-button-checked:not(.in-segment-color)) .button-native{color:var(--ion-color-contrast)}@media (any-hover: hover){:host(.in-toolbar-color:not(.in-segment-color)) .button-native::after{background:var(--ion-color-contrast)}}::slotted(ion-icon){margin-top:12px;margin-bottom:12px;font-size:24px}::slotted(ion-label){margin-top:12px;margin-bottom:12px}:host(.segment-button-layout-icon-top) ::slotted(ion-label),:host(.segment-button-layout-icon-bottom) ::slotted(ion-icon){margin-top:0}:host(.segment-button-layout-icon-top) ::slotted(ion-icon),:host(.segment-button-layout-icon-bottom) ::slotted(ion-label){margin-bottom:0}:host(.segment-button-layout-icon-start) ::slotted(ion-label){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:0;margin-inline-end:0}:host(.segment-button-layout-icon-end) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}:host(.segment-button-has-icon-only) ::slotted(ion-icon){margin-top:12px;margin-bottom:12px}:host(.segment-button-has-label-only) ::slotted(ion-label){margin-top:12px;margin-bottom:12px}.segment-button-indicator{left:0;right:0;bottom:0}.segment-button-indicator-background{background:var(--indicator-color)}:host(.in-toolbar:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-toolbar-segment-indicator-color, var(--indicator-color))}:host(.in-toolbar-color:not(.in-segment-color)) .segment-button-indicator-background{background:var(--ion-color-contrast)}'}}},[33,"ion-segment-button",{contentId:[513,"content-id"],disabled:[1028],layout:[1],type:[1],value:[8],checked:[32],setFocus:[64]},void 0,{value:["valueChanged"]}]);const Bw=function(){if("undefined"==typeof customElements)return;["ion-segment-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-segment-button":customElements.get(e)||customElements.define(e,Uw);break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))},Fw=(e,t)=>{let n,i;const r=(e,i,r)=>{if("undefined"==typeof document)return;const a=document.elementFromPoint(e,i);a&&t(a)&&!a.disabled?a!==n&&(s(),o(a,r)):s()},o=(e,t)=>{n=e,i||(i=n);const r=n;tm((()=>r.classList.add("ion-activated"))),t()},s=(e=!1)=>{if(!n)return;const t=n;tm((()=>t.classList.remove("ion-activated"))),e&&i!==n&&n.click(),n=void 0};return zg({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>r(e.currentX,e.currentY,ey),onMove:e=>r(e.currentX,e.currentY,ty),onEnd:()=>{s(!0),Zv()&&Jv.selectionEnd(),i=void 0}})},zw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},$w=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},Vw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},qw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},Hw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.didPresent=ym(this,"ionActionSheetDidPresent",7),this.willPresent=ym(this,"ionActionSheetWillPresent",7),this.willDismiss=ym(this,"ionActionSheetWillDismiss",7),this.didDismiss=ym(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=ym(this,"didPresent",7),this.willPresentShorthand=ym(this,"willPresent",7),this.willDismissShorthand=ym(this,"willDismiss",7),this.didDismissShorthand=ym(this,"didDismiss",7),this.delegateController=Hb(this),this.lockController=ny(),this.triggerController=Wb(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Vb)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Fb(t)){const e=this.getButtons().find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:n}=this;e&&n.addClickListener(t,e)}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Nb(this,"actionSheetEnter",zw,Vw),e()}async dismiss(e,t){const n=await this.lockController.lock(),i=await Rb(this,e,t,"actionSheetLeave",$w,qw);return i&&this.delegateController.removeViewFromDom(),n(),i}onDidDismiss(){return Ub(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return Ub(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const t=e.role;if(Fb(t))return this.dismiss(e.data,t);return await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){if(e){if(!1===await $b(e.handler))return!1}return!0}getButtons(){return this.buttons.map((e=>"string"==typeof e?{text:e}:e))}connectedCallback(){kb(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){var e;(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||Tb(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:t}=this;!this.gesture&&"ios"===zf(this)&&t&&e&&em((()=>{e.scrollHeight>e.clientHeight||(this.gesture=Fw(t,(e=>e.classList.contains("action-sheet-button"))),this.gesture.enable(!0))})),!0===this.isOpen&&Jf((()=>this.present())),this.triggerChanged()}render(){const{header:e,htmlAttributes:t,overlayIndex:n}=this,i=zf(this),r=this.getButtons(),o=r.find((e=>"cancel"===e.role)),s=r.filter((e=>"cancel"!==e.role)),a=`action-sheet-${n}-header`;return pm(fm,Object.assign({key:"7bbd202ca9e19727e7514abbe073687d982f80c3",role:"dialog","aria-modal":"true","aria-labelledby":void 0!==e?a:null,tabindex:"-1"},t,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({[i]:!0},nb(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),pm("ion-backdrop",{key:"23344a9221a2e6720d7b9de5249dc37256cafa7b",tappable:this.backdropDismiss}),pm("div",{key:"fbc2ba15549c2ab04e759e82df6e177fd80cc0a6",tabindex:"0","aria-hidden":"true"}),pm("div",{key:"748ee5235d0b4cb26d6f1b7589f77af2e37ad28a",class:"action-sheet-wrapper ion-overlay-wrapper",ref:e=>this.wrapperEl=e},pm("div",{key:"7ce5fa236cf75e9b1e49c4725c9a811078706554",class:"action-sheet-container"},pm("div",{key:"dc2251f3bcee4a93e3449f09621cbd2b65d329e9",class:"action-sheet-group",ref:e=>this.groupEl=e},void 0!==e&&pm("div",{key:"48d325c8a852f56ed57a9ada1a6709d05ba32ee2",id:a,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":void 0!==this.subHeader}},e,this.subHeader&&pm("div",{key:"66093728052eb67f37a35f3232761ce4a08896f3",class:"action-sheet-sub-title"},this.subHeader)),s.map((e=>pm("button",Object.assign({},e.htmlAttributes,{type:"button",id:e.id,class:Ww(e),onClick:()=>this.buttonClick(e),disabled:e.disabled}),pm("span",{class:"action-sheet-button-inner"},e.icon&&pm("ion-icon",{icon:e.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),e.text),"md"===i&&pm("ion-ripple-effect",null))))),o&&pm("div",{key:"f4eb8e3e2885b85af5080df18d0de0bdd1d719de",class:"action-sheet-group action-sheet-group-cancel"},pm("button",Object.assign({key:"169f4eb09255aba85062baad49ceb151239fbfb7"},o.htmlAttributes,{type:"button",class:Ww(o),onClick:()=>this.buttonClick(o)}),pm("span",{key:"25fb8a466dd67ea94c79cfb4f9965527e1ce6d42",class:"action-sheet-button-inner"},o.icon&&pm("ion-icon",{key:"eb5b071e120a2c86afdf967af6a763a43044d1ca",icon:o.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),o.text),"md"===i&&pm("ion-ripple-effect",{key:"452ad7e1052b2c681e2d98de8193949755ad4d54"}))))),pm("div",{key:"e1cecf280c987c050d9445e2c458b903f153089b",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:'.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color-step-150, var(--ion-background-color, #fff)));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #0054e9);--button-color-disabled:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999));text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);padding-bottom:var(--ion-safe-area-bottom, 0);-webkit-box-sizing:content-box;box-sizing:content-box}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-size:max(13px, 0.8125rem);font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:max(13px, 0.8125rem);font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:14px;padding-bottom:14px;min-height:56px;font-size:max(20px, 1.25rem);contain:content}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:max(28px, 1.75rem);pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #c5000f)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #c5000f)}}',md:'.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:disabled{color:var(--button-color-disabled);opacity:0.4}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:calc(100vh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)));max-height:calc(100dvh - (var(--ion-safe-area-top, 0) + var(--ion-safe-area-bottom, 0)))}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}@media (any-pointer: coarse){.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:not(:disabled):hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--button-color-disabled:var(--button-color);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:1rem;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:0.875rem}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:12px;position:relative;min-height:52px;font-size:1rem;text-align:start;contain:content;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:1.5rem}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}'}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),Ww=e=>Object.assign({"action-sheet-button":!0,"ion-activatable":!e.disabled,"ion-focusable":!e.disabled,[`action-sheet-${e.role}`]:void 0!==e.role},nb(e.cssClass));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function Gw(){if("undefined"==typeof customElements)return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,Hw);break;case"ion-backdrop":customElements.get(e)||vv();break;case"ion-icon":customElements.get(e)||mv();break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Yw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,i])},Kw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,i])},Xw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([n,i])},Qw=e=>{const t=xf(),n=xf(),i=xf();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(e.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([n,i])},Jw=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.didPresent=ym(this,"ionAlertDidPresent",7),this.willPresent=ym(this,"ionAlertWillPresent",7),this.willDismiss=ym(this,"ionAlertWillDismiss",7),this.didDismiss=ym(this,"ionAlertDidDismiss",7),this.didPresentShorthand=ym(this,"didPresent",7),this.willPresentShorthand=ym(this,"willPresent",7),this.willDismissShorthand=ym(this,"willDismiss",7),this.didDismissShorthand=ym(this,"didDismiss",7),this.delegateController=Hb(this),this.lockController=ny(),this.triggerController=Wb(),this.customHTMLEnabled=Tf.get("innerHTMLTemplatesEnabled",Zg),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Vb)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Fb(t)){const e=this.processedButtons.find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:n}=this;e&&n.addClickListener(t,e)}onKeydown(e){const t=new Set(this.processedInputs.map((e=>e.type)));if(t.has("checkbox")&&"Enter"===e.key)return void e.preventDefault();if(!t.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const n=this.el.querySelectorAll(".alert-radio"),i=Array.from(n).filter((e=>!e.disabled)),r=i.findIndex((t=>t.id===e.target.id));let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=r===i.length-1?i[0]:i[r+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=0===r?i[i.length-1]:i[r-1]),o&&i.includes(o)){const e=this.processedInputs.find((e=>e.id===(null==o?void 0:o.id)));e&&(this.rbClick(e),o.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map((e=>"string"==typeof e?{text:e,role:"cancel"===e.toLowerCase()?"cancel":void 0}:e))}inputsChanged(){const e=this.inputs,t=e.find((e=>!e.disabled)),n=e.find((e=>e.checked&&!e.disabled))||t,i=new Set(e.map((e=>e.type)));i.has("checkbox")&&i.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(i.values()).join("/")}. Please see alert docs for more info.`),this.inputType=i.values().next().value,this.processedInputs=e.map(((e,t)=>{var i;return{type:e.type||"text",name:e.name||`${t}`,placeholder:e.placeholder||"",value:e.value,label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:e.id||`alert-input-${this.overlayIndex}-${t}`,handler:e.handler,min:e.min,max:e.max,cssClass:null!==(i=e.cssClass)&&void 0!==i?i:"",attributes:e.attributes||{},tabindex:"radio"===e.type&&e!==n?-1:0}}))}connectedCallback(){kb(this.el),this.triggerChanged()}componentWillLoad(){var e;(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||Tb(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&"ios"===zf(this)&&this.wrapperEl&&(this.gesture=Fw(this.wrapperEl,(e=>e.classList.contains("alert-button"))),this.gesture.enable(!0)),!0===this.isOpen&&Jf((()=>this.present())),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Nb(this,"alertEnter",Yw,Xw),e()}async dismiss(e,t){const n=await this.lockController.lock(),i=await Rb(this,e,t,"alertLeave",Kw,Qw);return i&&this.delegateController.removeViewFromDom(),n(),i}onDidDismiss(){return Ub(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Ub(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,$b(e.handler,e),sf(this)}cbClick(e){e.checked=!e.checked,$b(e.handler,e),sf(this)}async buttonClick(e){const t=e.role,n=this.getValues();if(Fb(t))return this.dismiss({values:n},t);const i=await this.callButtonHandler(e,n);return!1!==i&&this.dismiss(Object.assign({values:n},i),e.role)}async callButtonHandler(e,t){if(null==e?void 0:e.handler){const n=await $b(e.handler,t);if(!1===n)return!1;if("object"==typeof n)return n}return{}}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const e=this.processedInputs.find((e=>!!e.checked));return e?e.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter((e=>e.checked)).map((e=>e.value));const e={};return this.processedInputs.forEach((t=>{e[t.name]=t.value||""})),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=zf(this);return 0===e.length?null:pm("div",{class:"alert-checkbox-group"},e.map((e=>pm("button",{type:"button",onClick:()=>this.cbClick(e),"aria-checked":`${e.checked}`,id:e.id,disabled:e.disabled,tabIndex:e.tabindex,role:"checkbox",class:Object.assign(Object.assign({},nb(e.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":e.disabled||!1})},pm("div",{class:"alert-button-inner"},pm("div",{class:"alert-checkbox-icon"},pm("div",{class:"alert-checkbox-inner"})),pm("div",{class:"alert-checkbox-label"},e.label)),"md"===t&&pm("ion-ripple-effect",null)))))}renderRadio(){const e=this.processedInputs;return 0===e.length?null:pm("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map((e=>pm("button",{type:"button",onClick:()=>this.rbClick(e),"aria-checked":`${e.checked}`,disabled:e.disabled,id:e.id,tabIndex:e.tabindex,class:Object.assign(Object.assign({},nb(e.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":e.disabled||!1}),role:"radio"},pm("div",{class:"alert-button-inner"},pm("div",{class:"alert-radio-icon"},pm("div",{class:"alert-radio-inner"})),pm("div",{class:"alert-radio-label"},e.label))))))}renderInput(){const e=this.processedInputs;return 0===e.length?null:pm("div",{class:"alert-input-group"},e.map((e=>{var t,n,i,r;return"textarea"===e.type?pm("div",{class:"alert-input-wrapper"},pm("textarea",Object.assign({placeholder:e.placeholder,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:null!==(n=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==n?n:e.disabled,class:Zw(e),onInput:t=>{var n;e.value=t.target.value,(null===(n=e.attributes)||void 0===n?void 0:n.onInput)&&e.attributes.onInput(t)}}))):pm("div",{class:"alert-input-wrapper"},pm("input",Object.assign({placeholder:e.placeholder,type:e.type,min:e.min,max:e.max,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.disabled)&&void 0!==r?r:e.disabled,class:Zw(e),onInput:t=>{var n;e.value=t.target.value,(null===(n=e.attributes)||void 0===n?void 0:n.onInput)&&e.attributes.onInput(t)}})))})))}renderAlertButtons(){const e=this.processedButtons,t=zf(this),n={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return pm("div",{class:n},e.map((e=>pm("button",Object.assign({},e.htmlAttributes,{type:"button",id:e.id,class:e_(e),tabIndex:0,onClick:()=>this.buttonClick(e)}),pm("span",{class:"alert-button-inner"},e.text),"md"===t&&pm("ion-ripple-effect",null)))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:n}=this;return t?pm("div",{id:e,class:"alert-message",innerHTML:Wg(n)}):pm("div",{id:e,class:"alert-message"},n)}render(){const{overlayIndex:e,header:t,subHeader:n,message:i,htmlAttributes:r}=this,o=zf(this),s=`alert-${e}-hdr`,a=`alert-${e}-sub-hdr`,l=`alert-${e}-msg`,c=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=t&&n?`${s} ${a}`:t?s:n?a:null;return pm(fm,Object.assign({key:"ad7e14b4f92a09387aa80abfb718a755e4e889d6",role:c,"aria-modal":"true","aria-labelledby":d,"aria-describedby":void 0!==i?l:null,tabindex:"-1"},r,{style:{zIndex:`${2e4+e}`},class:Object.assign(Object.assign({},nb(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),pm("ion-backdrop",{key:"4b4693dca3c910aa9a61c4d90295d785ec6cbe3d",tappable:this.backdropDismiss}),pm("div",{key:"64fd19b8f1d8246dcc869053f858bc33506def4b",tabindex:"0","aria-hidden":"true"}),pm("div",{key:"e61ba6f339c3a02cecd37d8b641ee5043018eb29",class:"alert-wrapper ion-overlay-wrapper",ref:e=>this.wrapperEl=e},pm("div",{key:"044e00667ffcb74aa2c5e0d0b42669c4004dbb4f",class:"alert-head"},t&&pm("h2",{key:"1aaae8d58722c4cf5debb1f00415ab7ed0a52bbd",id:s,class:"alert-title"},t),n&&!t&&pm("h2",{key:"9c9854dc3b0ad40f1861a49b76d5636afcae9c74",id:a,class:"alert-sub-title"},n),n&&t&&pm("h3",{key:"19aaca9912f77cde4ae8079be210eda697ed8de1",id:a,class:"alert-sub-title"},n)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),pm("div",{key:"a85d27c516f7cdbc85b19f40d2f0bd865490b6a7",tabindex:"0","aria-hidden":"true"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-ios,.alert-radio-label.sc-ion-alert-ios{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, var(--ion-background-color-step-100, #f9f9f9)));--max-width:clamp(270px, 16.875rem, 324px);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:max(14px, 0.875rem)}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:max(17px, 1.0625rem);font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:max(14px, 0.875rem)}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:max(13px, 0.8125rem);text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:7px;margin-top:10px;-webkit-padding-start:7px;padding-inline-start:7px;-webkit-padding-end:7px;padding-inline-end:7px;padding-top:7px;padding-bottom:7px;border:0.55px solid var(--ion-color-step-250, var(--ion-background-color-step-250, #bfbfbf));background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-input.sc-ion-alert-ios::-webkit-date-and-time-value{height:18px}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #0054e9)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:min(1.375rem, 55.836px);height:min(1.375rem, 55.836px);border-width:0.125rem;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:calc(min(1.375rem, 55.836px) / 8);position:absolute;width:calc(min(1.375rem, 55.836px) / 6 + 1px);height:calc(min(1.375rem, 55.836px) * 0.5);-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:0.125rem;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:calc(min(1.375rem, 55.836px) / 3)}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios{border-right:none}[dir=rtl].sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}[dir=rtl].sc-ion-alert-ios .alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:none}@supports selector(:dir(rtl)){.alert-button-group-vertical.sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:none}}.alert-button.sc-ion-alert-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:max(44px, 2.75rem);border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #0054e9);font-size:max(17px, 1.0625rem);overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #c5000f)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-label.sc-ion-alert-md,.alert-radio-label.sc-ion-alert-md{overflow-wrap:anywhere}@media (any-pointer: coarse){.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:0.875rem;line-height:1.25rem;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:0.875rem}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1.25rem;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:1rem}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))}.alert-message.sc-ion-alert-md{font-size:1rem}@media screen and (max-width: 767px){.alert-message.sc-ion-alert-md{max-height:266px}}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, var(--ion-text-color-step-600, #999999)));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #0054e9)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;border-top:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));border-bottom:1px solid var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));overflow:auto}@media screen and (max-width: 767px){.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{max-height:266px}}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373))}.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #0054e9)}.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626))}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;width:calc(100% - 53px);color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));font-size:1rem}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, var(--ion-background-color-step-550, #737373));contain:strict}.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #0054e9);background-color:var(--ion-color-primary, #0054e9)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #0054e9);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width: 768px){.sc-ion-alert-md-h{--max-width:min(100vw - 96px, 560px);--max-height:min(100vh - 96px, 560px)}}"}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]],{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}]),Zw=e=>{var t,n,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(n=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==n?n:e.disabled)||!1},nb(e.cssClass)),nb(e.attributes?null===(i=e.attributes.class)||void 0===i?void 0:i.toString():""))},e_=e=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${e.role}`]:void 0!==e.role},nb(e.cssClass));function t_(){if("undefined"==typeof customElements)return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,Jw);break;case"ion-backdrop":customElements.get(e)||vv();break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const n_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=Jb,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:t}=this;void 0===t&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,n=e.detail,i={},r=this.itemStyles.get(t)||{};let o=!1;Object.keys(n).forEach((e=>{if(n[e]){const t=`item-${e}`;r[t]||(o=!0),i[t]=!0}})),o||Object.keys(i).length===Object.keys(r).length||(o=!0),o&&(this.itemStyles.set(t,i),sf(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Wf(this.el,["aria-label"])}componentDidLoad(){Jf((()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()}))}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),n=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+n.length>1||e.length>0&&this.isClickable()}hasCover(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}isClickable(){return void 0!==this.href||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==e}hasStartEl(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:t,download:n,labelColorStyles:i,lines:r,disabled:o,href:s,rel:a,target:l,routerAnimation:c,routerDirection:d,inheritedAriaAttributes:u,multipleInputs:h}=this,p={},m=zf(this),f=this.isClickable(),g=this.canActivate(),b=f?void 0===s?"button":"a":"div",v="button"===b?{type:this.type}:{download:n,href:s,rel:a,target:l};let y={};const w=this.getFirstInteractive();(f||void 0!==w&&!h)&&(y={onClick:e=>{if(f&&rb(s,e,d,c),void 0!==w&&!h){const t=e.composedPath()[0];if(e.isTrusted){this.el.shadowRoot.contains(t)&&("ION-INPUT"===w.tagName||"ION-TEXTAREA"===w.tagName?w.setFocus():w.click())}}}});const _=void 0!==e?e:"ios"===m&&f;this.itemStyles.forEach((e=>{Object.assign(p,e)}));const x=o||p["item-interactive-disabled"]?"true":null,k=eb("ion-list",this.el)&&!eb("ion-radio-group",this.el),T=void 0!==w&&!["ION-INPUT","ION-TEXTAREA"].includes(w.tagName);return pm(fm,{key:"02f540d8666146b5f2665ba6b39dfe774c65d5e6","aria-disabled":x,class:Object.assign(Object.assign(Object.assign({},p),i),tb(this.color,{item:!0,[m]:!0,"item-lines-default":void 0===r,[`item-lines-${r}`]:void 0!==r,"item-control-needs-pointer-cursor":T,"item-disabled":o,"in-list":k,"item-multiple-inputs":this.multipleInputs,"ion-activatable":g,"ion-focusable":this.focusable,"item-rtl":"rtl"===document.dir})),role:k?"listitem":null},pm(b,Object.assign({key:"91cf3eedc2d7eca40a45fc3b0aaae5a87d387eb7"},v,u,{class:"item-native",part:"native",disabled:o},y),pm("slot",{key:"ae4c679ca903a78a7c933c1d02f21f5d677b6388",name:"start"}),pm("div",{key:"a61de72dce135b6dce18e6fa19680524958924dd",class:"item-inner"},pm("div",{key:"d5b09966b6de8d6b4da8e139875edec4eeb1ae27",class:"input-wrapper"},pm("slot",{key:"79077e5708a1783b135fab6f8caff9fb2f6f387a"})),pm("slot",{key:"cdcc71689a87e985d32170ab98538ef25227f384",name:"end"}),_&&pm("ion-icon",{key:"1e82f2d0e2d2fc18bd3429a7c72e4e57447cad7a",icon:t,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":t===Jb})),g&&"md"===m&&pm("ion-ripple-effect",{key:"ab9842d0d9c64408573f07323e10f9ed29fbe6e2"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}'}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function i_(){if("undefined"==typeof customElements)return;["ion-item","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,n_);break;case"ion-icon":customElements.get(e)||mv();break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const r_="ionKeyboardDidShow",o_="ionKeyboardDidHide";let s_={},a_={},l_=!1;const c_=e=>{e.addEventListener("keyboardDidShow",(t=>d_(e,t))),e.addEventListener("keyboardDidHide",(()=>u_(e)))},d_=(e,t)=>{f_(e,t),l_=!0},u_=e=>{g_(e),l_=!1},h_=()=>{const e=(s_.height-a_.height)*a_.scale;return!l_&&s_.width===a_.width&&e>150},p_=e=>l_&&!m_(e),m_=e=>l_&&a_.height===e.innerHeight,f_=(e,t)=>{const n=t?t.keyboardHeight:e.innerHeight-a_.height,i=new CustomEvent(r_,{detail:{keyboardHeight:n}});e.dispatchEvent(i)},g_=e=>{const t=new CustomEvent(o_);e.dispatchEvent(t)},b_=e=>{s_=Object.assign({},a_),a_=v_(e.visualViewport)},v_=e=>({width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale}),y_=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:o_,KEYBOARD_DID_OPEN:r_,copyVisualViewport:v_,keyboardDidClose:m_,keyboardDidOpen:h_,keyboardDidResize:p_,resetKeyboardAssist:()=>{s_={},a_={},l_=!1},setKeyboardClose:u_,setKeyboardOpen:d_,startKeyboardAssist:e=>{if(Ly.getEngine())c_(e);else{if(!e.visualViewport)return;a_=v_(e.visualViewport),e.visualViewport.onresize=()=>{b_(e),h_()||p_(e)?d_(e):m_(e)&&u_(e)}}},trackViewportChanges:b_},Symbol.toStringTag,{value:"Module"}));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var w_;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(w_||(w_={}));const __={getEngine(){const e=Kv();if(null==e?void 0:e.isPluginAvailable("StatusBar"))return e.Plugins.StatusBar},setStyle(e){const t=this.getEngine();t&&t.setStyle(e)},getStyle:async function(){const e=this.getEngine();if(!e)return w_.Default;const{style:t}=await e.getInfo();return t}},x_=(e,t)=>{if(1===t)return 0;const n=1/(1-t);return e*n+-t*n},k_=()=>{!bf||bf.innerWidth>=768||__.setStyle({style:w_.Dark})},T_=(e=w_.Default)=>{!bf||bf.innerWidth>=768||__.setStyle({style:e})},S_=async(e,t)=>{if("function"!=typeof e.canDismiss)return;await e.canDismiss(void 0,qb)&&(t.isRunning()?t.onFinish((()=>{e.dismiss(void 0,"handler")}),{oneTimeCallback:!0}):e.dismiss(void 0,"handler"))},E_=e=>.00255275*2.71828**(-14.9619*e)-1.00255*2.71828**(-.0380968*e)+1,C_=.915,I_=(e,t,n,i)=>{const r=.5,o=e.offsetHeight;let s=!1,a=!1,l=null,c=null;let d=!0,u=0;const h=zg({el:e,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:e=>{const t=e.event.target;if(null===t||!t.closest)return!0;if(l=Ay(t),l){if(Ey(l)){const e=Qf(l);c=e.querySelector(".inner-scroll")}else c=l;return!!!l.querySelector("ion-refresher")&&0===c.scrollTop}return null===t.closest("ion-footer")},onStart:n=>{const{deltaY:i}=n;d=!l||!Ey(l)||l.scrollY,a=void 0!==e.canDismiss&&!0!==e.canDismiss,i>0&&l&&Dy(l),t.progressStart(!0,s?1:0)},onMove:e=>{const{deltaY:i}=e;i>0&&l&&Dy(l);const s=e.deltaY/o,c=s>=0&&a,d=c?.2:.9999,h=c?E_(s/d):s,p=tg(1e-4,h,d);t.progressStep(p),p>=r&&u<r?T_(n):p<r&&u>=r&&k_(),u=p},onEnd:n=>{const c=n.velocityY,u=n.deltaY/o,p=u>=0&&a,m=p?.2:.9999,f=p?E_(u/m):u,g=tg(1e-4,f,m),b=(n.deltaY+1e3*c)/o,v=!p&&b>=r;let y=v?-.001:.001;v?(t.easing("cubic-bezier(0.32, 0.72, 0, 1)"),y+=Ag([0,0],[.32,.72],[0,1],[1,1],g)[0]):(t.easing("cubic-bezier(1, 0, 0.68, 0.28)"),y+=Ag([0,0],[1,0],[.68,.28],[1,1],g)[0]);const w=A_(v?u*o:(1-g)*o,c);s=v,h.enable(!1),l&&((e,t)=>{Ey(e)?e.scrollY=t:e.style.removeProperty("overflow")})(l,d),t.onFinish((()=>{v||h.enable(!0)})).progressEnd(v?1:0,y,w),p&&g>m/4?S_(e,t):v&&i()}});return h},A_=(e,t)=>tg(400,e/Math.abs(1.1*t),500),P_=e=>{const{currentBreakpoint:t,backdropBreakpoint:n}=e,i=void 0===n||n<t,r=i?`calc(var(--backdrop-opacity) * ${t})`:"0",o=xf("backdropAnimation").fromTo("opacity",0,r);i&&o.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);return{wrapperAnimation:xf("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*t}%)`}]),backdropAnimation:o}},D_=e=>{const{currentBreakpoint:t,backdropBreakpoint:n}=e,i=`calc(var(--backdrop-opacity) * ${x_(t,n)})`,r=[{offset:0,opacity:i},{offset:1,opacity:0}],o=[{offset:0,opacity:i},{offset:n,opacity:0},{offset:1,opacity:0}],s=xf("backdropAnimation").keyframes(0!==n?o:r);return{wrapperAnimation:xf("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*t}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},O_=(e,t)=>{const{presentingEl:n,currentBreakpoint:i}=t,r=Qf(e),{wrapperAnimation:o,backdropAnimation:s}=void 0!==i?P_(t):{backdropAnimation:xf().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:xf().fromTo("transform","translateY(100vh)","translateY(0vh)")};s.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=xf("entering-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(o);if(n){const e=window.innerWidth<768,t="ION-MODAL"===n.tagName&&void 0!==n.presentingElement,i=Qf(n),r=xf().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),l=document.body;if(e){const e=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",i=`translateY(${t?"-10px":e}) scale(${C_})`;r.afterStyles({transform:i}).beforeAddWrite((()=>l.style.setProperty("background-color","black"))).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:i,borderRadius:"10px 10px 0 0"}]),a.addAnimation(r)}else if(a.addAnimation(s),t){const e=`translateY(-10px) scale(${t?C_:1})`;r.afterStyles({transform:e}).addElement(i.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:e}]);const n=xf().afterStyles({transform:e}).addElement(i.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:e}]);a.addAnimation([r,n])}else o.fromTo("opacity","0","1")}else a.addAnimation(s);return a},N_=(e,t,n=500)=>{const{presentingEl:i,currentBreakpoint:r}=t,o=Qf(e),{wrapperAnimation:s,backdropAnimation:a}=void 0!==r?D_(t):{backdropAnimation:xf().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:xf().fromTo("transform","translateY(0vh)","translateY(100vh)")};a.addElement(o.querySelector("ion-backdrop")),s.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=xf("leaving-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(s);if(i){const e=window.innerWidth<768,t="ION-MODAL"===i.tagName&&void 0!==i.presentingElement,n=Qf(i),r=xf().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((e=>{if(1!==e)return;i.style.setProperty("overflow","");const t=Array.from(o.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter((e=>void 0!==e.presentingElement)).length;t<=1&&o.style.setProperty("background-color","")})),o=document.body;if(e){const e=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",n=`translateY(${t?"-10px":e}) scale(${C_})`;r.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:n,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(r)}else if(l.addAnimation(a),t){const e=`translateY(-10px) scale(${t?C_:1})`;r.addElement(n.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:e},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const i=xf().addElement(n.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:e},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([r,i])}else s.fromTo("opacity","1","0")}else l.addAnimation(a);return l},L_=(e,t)=>{const{currentBreakpoint:n}=t,i=Qf(e),{wrapperAnimation:r,backdropAnimation:o}=void 0!==n?P_(t):{backdropAnimation:xf().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:xf().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return o.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),xf().addElement(e).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([o,r])},R_=(e,t)=>{const{currentBreakpoint:n}=t,i=Qf(e),{wrapperAnimation:r,backdropAnimation:o}=void 0!==n?D_(t):{backdropAnimation:xf().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:xf().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return o.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),xf().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([o,r])},j_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ym(this,"ionModalDidPresent",7),this.willPresent=ym(this,"ionModalWillPresent",7),this.willDismiss=ym(this,"ionModalWillDismiss",7),this.didDismiss=ym(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ym(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ym(this,"didPresent",7),this.willPresentShorthand=ym(this,"willPresent",7),this.willDismissShorthand=ym(this,"willDismiss",7),this.didDismissShorthand=ym(this,"didDismiss",7),this.ionMount=ym(this,"ionMount",7),this.lockController=ny(),this.triggerController=Wb(),this.coreDelegate=cb(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:t}=this;"cycle"===t&&void 0===e&&this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;void 0===e&&this.dismiss(void 0,Vb)},this.onLifecycle=e=>{const t=this.usersElement,n=M_[e.type];if(t&&n){const i=new CustomEvent(n,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(i)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:n}=this;e&&n.addClickListener(t,e)}breakpointsChanged(e){void 0!==e&&(this.sortedBreakpoints=e.sort(((e,t)=>e-t)))}connectedCallback(){const{el:e}=this;kb(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;const{breakpoints:t,initialBreakpoint:n,el:i,htmlAttributes:r}=this,o=this.isSheetModal=void 0!==t&&void 0!==n,s=["aria-label","role"];this.inheritedAttributes=Wf(i,s),void 0!==r&&s.forEach((e=>{r[e]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[e]:r[e]}),delete r[e])})),o&&(this.currentBreakpoint=this.initialBreakpoint),void 0===t||void 0===n||t.includes(n)||Vf("Your breakpoints array must include the initialBreakpoint value."),(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||Tb(this.el)}componentDidLoad(){!0===this.isOpen&&Jf((()=>this.present())),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,n=this.inline=null!==t&&!this.hasController;return{inline:n,delegate:this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate}}async checkCanDismiss(e,t){const{canDismiss:n}=this;return"function"==typeof n?n(e,t):n}async present(){const e=await this.lockController.lock();if(this.presented)return void e();const{presentingElement:t,el:n}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:i,delegate:r}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await ab(r,n,this.component,["ion-page"],this.componentProps,i),Hf(n)?await Eg(this.usersElement):this.keepContentsMounted||await Sg(),tm((()=>this.el.classList.add("show-modal")));const o=void 0!==t;o&&"ios"===zf(this)&&(this.statusBarStyle=await __.getStyle(),k_()),await Nb(this,"modalEnter",O_,L_,{presentingEl:t,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),"undefined"!=typeof window&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),Jf((()=>{this.gesture&&this.gesture.enable(!0)})))},window.addEventListener(r_,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():o&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if("ios"!==zf(this))return;const{el:t}=this,n=this.leaveAnimation||Tf.get("modalLeave",N_),i=this.animation=n(t,{presentingEl:this.presentingElement});if(!Iy(t))return void Py(t);const r=null!==(e=this.statusBarStyle)&&void 0!==e?e:w_.Default;this.gesture=I_(t,i,r,(()=>{this.gestureAnimationDismissing=!0,T_(this.statusBarStyle),this.animation.onFinish((async()=>{await this.dismiss(void 0,qb),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:n}=this;if(!e||void 0===t)return;const i=this.enterAnimation||Tf.get("modalEnter",O_),r=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:n});r.progressStart(!0,1);const{gesture:o,moveSheetToBreakpoint:s}=((e,t,n,i,r,o,s=[],a,l,c)=>{const d={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==r?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},u=e.querySelector("ion-content"),h=n.clientHeight;let p=i,m=0,f=!1;const g=o.childAnimations.find((e=>"wrapperAnimation"===e.id)),b=o.childAnimations.find((e=>"backdropAnimation"===e.id)),v=s[s.length-1],y=s[0],w=()=>{e.style.setProperty("pointer-events","auto"),t.style.setProperty("pointer-events","auto"),e.classList.remove(Xb)},_=()=>{e.style.setProperty("pointer-events","none"),t.style.setProperty("pointer-events","none"),e.classList.add(Xb)};g&&b&&(g.keyframes([...d.WRAPPER_KEYFRAMES]),b.keyframes([...d.BACKDROP_KEYFRAMES]),o.progressStart(!0,1-p),p>r?w():_());u&&p!==v&&(u.scrollY=!1);const x=t=>{const{breakpoint:n,canDismiss:i,breakpointOffset:a,animated:h}=t,m=i&&0===n,f=m?p:n,v=0!==f;return p=0,g&&b&&(g.keyframes([{offset:0,transform:`translateY(${100*a}%)`},{offset:1,transform:`translateY(${100*(1-f)}%)`}]),b.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${x_(1-a,r)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${x_(f,r)})`}]),o.progressStep(0)),k.enable(!1),m?S_(e,o):v||l(),u&&f===s[s.length-1]&&(u.scrollY=!0),new Promise((e=>{o.onFinish((()=>{v?g&&b?Jf((()=>{g.keyframes([...d.WRAPPER_KEYFRAMES]),b.keyframes([...d.BACKDROP_KEYFRAMES]),o.progressStart(!0,1-f),p=f,c(p),p>r?w():_(),k.enable(!0),e()})):(k.enable(!0),e()):e()}),{oneTimeCallback:!0}).progressEnd(1,0,h?500:0)}))},k=zg({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:e=>{const t=Ay(e.event.target);if(p=a(),1===p&&t){const e=Ey(t)?Qf(t).querySelector(".inner-scroll"):t;return!t.querySelector("ion-refresher")&&0===e.scrollTop}return!0},onStart:t=>{f=void 0!==e.canDismiss&&!0!==e.canDismiss&&0===y,t.deltaY>0&&u&&(u.scrollY=!1),Jf((()=>{e.focus()})),o.progressStart(!0,1-p)},onMove:e=>{e.deltaY>0&&u&&(u.scrollY=!1);const t=1-p,n=s.length>1?1-s[1]:void 0,i=t+e.deltaY/h,r=void 0!==n&&i>=n&&f,a=r?.95:.9999,l=r&&void 0!==n?n+E_((i-n)/(a-n)):i;m=tg(1e-4,l,a),o.progressStep(m)},onEnd:e=>{const t=e.velocityY,n=(e.deltaY+350*t)/h,i=p-n,r=s.reduce(((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e));x({breakpoint:r,breakpointOffset:m,canDismiss:f,animated:!0})}});return{gesture:k,moveSheetToBreakpoint:x}})(this.el,this.backdropEl,e,t,n,r,this.sortedBreakpoints,(()=>{var e;return null!==(e=this.currentBreakpoint)&&void 0!==e?e:0}),(()=>this.sheetOnDismiss()),(e=>{this.currentBreakpoint!==e&&(this.currentBreakpoint=e,this.ionBreakpointDidChange.emit({breakpoint:e}))}));this.gesture=o,this.moveSheetToBreakpoint=s,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,qb),this.gestureAnimationDismissing=!1}))}async dismiss(e,t){var n;if(this.gestureAnimationDismissing&&t!==qb)return!1;const i=await this.lockController.lock();if("handler"!==t&&!(await this.checkCanDismiss(e,t)))return i(),!1;const{presentingElement:r}=this;void 0!==r&&"ios"===zf(this)&&T_(this.statusBarStyle),"undefined"!=typeof window&&this.keyboardOpenCallback&&(window.removeEventListener(r_,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const o=await Rb(this,e,t,"modalLeave",N_,R_,{presentingEl:r,currentBreakpoint:null!==(n=this.currentBreakpoint)&&void 0!==n?n:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(o){const{delegate:e}=this.getDelegate();await lb(e,this.usersElement),tm((()=>this.el.classList.remove("show-modal"))),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,i(),o}onDidDismiss(){return Ub(this.el,"ionModalDidDismiss")}onWillDismiss(){return Ub(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal)return void Vf("setCurrentBreakpoint is only supported on sheet modals.");if(!this.breakpoints.includes(e))return void Vf(`Attempted to set invalid breakpoint value ${e}. Please double check that the breakpoint value is part of your defined breakpoints.`);const{currentBreakpoint:t,moveSheetToBreakpoint:n,canDismiss:i,breakpoints:r,animated:o}=this;t!==e&&n&&(this.sheetTransition=n({breakpoint:e,breakpointOffset:1-t,canDismiss:void 0!==i&&!0!==i&&0===r[0],animated:o}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:t}=this;if(!e||null==t)return!1;const n=e.filter((e=>0!==e)),i=n.indexOf(t),r=n[(i+1)%n.length];return await this.setCurrentBreakpoint(r),!0}render(){const{handle:e,isSheetModal:t,presentingElement:n,htmlAttributes:i,handleBehavior:r,inheritedAttributes:o,focusTrap:s}=this,a=!1!==e&&t,l=zf(this),c=void 0!==n&&"ios"===l,d="cycle"===r;return pm(fm,Object.assign({key:"b4da5111fe4719fa450c39b2d4bd884a302a7924","no-router":!0,tabindex:"-1"},i,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[l]:!0,"modal-default":!c&&!t,"modal-card":c,"modal-sheet":t,"overlay-hidden":!0,[Xb]:!1===s},nb(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),pm("ion-backdrop",{key:"c12dbf747e0eb914eaf1331798548ffc7e147763",ref:e=>this.backdropEl=e,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===l&&pm("div",{key:"da546ee80c6576b5acc66e959fd5009e0b9a8160",class:"modal-shadow"}),pm("div",Object.assign({key:"306ebe6427440ad5f7ed36d590e562d15a503b75",role:"dialog"},o,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:e=>this.wrapperEl=e}),a&&pm("button",{key:"c5d17e346fe255a7c0cacbbf15c0083f2d09c488",class:"modal-handle",tabIndex:d?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:d?this.onHandleClick:void 0,part:"handle"}),pm("slot",{key:"5cc714170a00b67f3eda0cd1d6f37c1489a99c83"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),M_={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const U_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ym(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return void 0!==this.size?this.size:"default"}render(){const e=zf(this),t=this.getSize();return pm(fm,{key:"7293d2ecd6262feb0d8d769effbb208230baed89",class:tb(this.color,{[e]:!0,[`title-${t}`]:!0,"title-rtl":"rtl"===document.dir})},pm("div",{key:"086ec3a361ebdf6506846a8704b457cda3a6f897",class:"toolbar-title"},pm("slot",{key:"59add7eb92b82d6832a8f0894f897c51fdf4f214"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",md:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}"}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function B_(){if("undefined"==typeof customElements)return;["ion-title"].forEach((e=>{if("ion-title"===e)customElements.get(e)||customElements.define(e,U_)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const F_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find((e=>"start"===e.slot));t&&t.classList.add("buttons-first-slot");const n=e.reverse(),i=n.find((e=>"end"===e.slot))||n.find((e=>"primary"===e.slot))||n.find((e=>"secondary"===e.slot));i&&i.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,n=e.detail,i={},r=this.childrenStyles.get(t)||{};let o=!1;Object.keys(n).forEach((e=>{const t=`toolbar-${e}`,s=n[e];s!==r[t]&&(o=!0),s&&(i[t]=!0)})),o&&(this.childrenStyles.set(t,i),sf(this))}render(){const e=zf(this),t={};return this.childrenStyles.forEach((e=>{Object.assign(t,e)})),pm(fm,{key:"462538a5ecd01baf3cde116c9f029aeda26c81be",class:Object.assign(Object.assign({},t),tb(this.color,{[e]:!0,"in-toolbar":eb("ion-toolbar",this.el)}))},pm("div",{key:"c0b4415d3b2472de643a9be7cb3b13b3b628621b",class:"toolbar-background"}),pm("div",{key:"0ccb8a2dbeaa28d8f9bed87629c0c097446690c2",class:"toolbar-container"},pm("slot",{key:"3e726dac359e923df21d80301651f16063a3de20",name:"start"}),pm("slot",{key:"cd799330b56a7f8833bc61bb2807aafb21846f71",name:"secondary"}),pm("div",{key:"395282e6ac8c53576922dcdb5f08c25d34638c86",class:"toolbar-content"},pm("slot",{key:"a437c60e4ba5aae65e55169ae82a6f379868ec1d"})),pm("slot",{key:"711af9b9d321a7b31ede924c9bdcad767aa9a1ca",name:"primary"}),pm("slot",{key:"ecc02edeaf80a837890bcb08d5096df1e22a0b9a",name:"end"})))}get el(){return this}static get style(){return{ios:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",md:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}"}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function z_(){if("undefined"==typeof customElements)return;["ion-toolbar"].forEach((e=>{if("ion-toolbar"===e)customElements.get(e)||customElements.define(e,F_)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const $_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.header=void 0,this.multiple=void 0,this.options=[]}closeModal(){const e=this.el.closest("ion-modal");e&&e.dismiss()}findOptionFromEvent(e){const{options:t}=this;return t.find((t=>t.value===e.target.value))}getValues(e){const{multiple:t,options:n}=this;if(t)return n.filter((e=>e.checked)).map((e=>e.value));const i=e?this.findOptionFromEvent(e):null;return i?i.value:void 0}callOptionHandler(e){const t=this.findOptionFromEvent(e),n=this.getValues(e);(null==t?void 0:t.handler)&&$b(t.handler,n)}setChecked(e){const{multiple:t}=this,n=this.findOptionFromEvent(e);t&&n&&(n.checked=e.detail.checked)}renderRadioOptions(){const e=this.options.filter((e=>e.checked)).map((e=>e.value))[0];return pm("ion-radio-group",{value:e,onIonChange:e=>this.callOptionHandler(e)},this.options.map((t=>pm("ion-item",{lines:"none",class:Object.assign({"item-radio-checked":t.value===e},nb(t.cssClass))},pm("ion-radio",{value:t.value,disabled:t.disabled,justify:"start",labelPlacement:"end",onClick:()=>this.closeModal(),onKeyUp:e=>{" "===e.key&&this.closeModal()}},t.text)))))}renderCheckboxOptions(){return this.options.map((e=>pm("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},nb(e.cssClass))},pm("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:e=>{this.setChecked(e),this.callOptionHandler(e),sf(this)}},e.text))))}render(){return pm(fm,{key:"4df42c447b4026d09d9231f09dc4bdae9a8cfe4a",class:zf(this)},pm("ion-header",{key:"211c4e869b858867f3d60637e570aeb01de41de7"},pm("ion-toolbar",{key:"dc4b151331aecbaaaafb460802ee9b689493601d"},void 0!==this.header&&pm("ion-title",{key:"ba1347a59ae0a5c6770c239b5ec02a536a445bd1"},this.header),pm("ion-buttons",{key:"43c98fd25d7e7f54b94b24e53535c6d5ba599892",slot:"end"},pm("ion-button",{key:"51b2b3f3eed42637b2cfc213c95d0bcf10e4b89d",onClick:()=>this.closeModal()},"Close")))),pm("ion-content",{key:"fe721b09f80555856211f7e40dbfc31a533acae1"},pm("ion-list",{key:"d0b932d137136958d896408fb2fa571023775b92"},!0===this.multiple?this.renderCheckboxOptions():this.renderRadioOptions())))}get el(){return this}static get style(){return{ionic:".sc-ion-select-modal-ionic-h{height:100%}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(container){display:none}ion-list.sc-ion-select-modal-ionic ion-radio.sc-ion-select-modal-ionic::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-ionic{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-ionic{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-ionic{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}",ios:'.sc-ion-select-modal-ios-h{height:100%}ion-item.sc-ion-select-modal-ios{--inner-padding-end:0}ion-radio.sc-ion-select-modal-ios::after{bottom:0;position:absolute;width:calc(100% - 0.9375rem - 16px);border-width:0px 0px 0.55px 0px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));content:""}ion-radio.sc-ion-select-modal-ios::after{inset-inline-start:calc(0.9375rem + 16px)}',md:".sc-ion-select-modal-md-h{height:100%}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(container){display:none}ion-list.sc-ion-select-modal-md ion-radio.sc-ion-select-modal-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-modal-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-modal-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-modal-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}"}}},[34,"ion-select-modal",{header:[1],multiple:[4],options:[16]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const V_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:t}=this;return t.find((t=>t.value===e.target.value))}callOptionHandler(e){const t=this.findOptionFromEvent(e),n=this.getValues(e);(null==t?void 0:t.handler)&&$b(t.handler,n)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:t}=this,n=this.findOptionFromEvent(e);t&&n&&(n.checked=e.detail.checked)}getValues(e){const{multiple:t,options:n}=this;if(t)return n.filter((e=>e.checked)).map((e=>e.value));const i=this.findOptionFromEvent(e);return i?i.value:void 0}renderOptions(e){const{multiple:t}=this;return!0===t?this.renderCheckboxOptions(e):this.renderRadioOptions(e)}renderCheckboxOptions(e){return e.map((e=>pm("ion-item",{class:Object.assign({"item-checkbox-checked":e.checked},nb(e.cssClass))},pm("ion-checkbox",{value:e.value,disabled:e.disabled,checked:e.checked,justify:"start",labelPlacement:"end",onIonChange:e=>{this.setChecked(e),this.callOptionHandler(e),sf(this)}},e.text))))}renderRadioOptions(e){const t=e.filter((e=>e.checked)).map((e=>e.value))[0];return pm("ion-radio-group",{value:t,onIonChange:e=>this.callOptionHandler(e)},e.map((e=>pm("ion-item",{class:Object.assign({"item-radio-checked":e.value===t},nb(e.cssClass))},pm("ion-radio",{value:e.value,disabled:e.disabled,onClick:()=>this.dismissParentPopover(),onKeyUp:e=>{" "===e.key&&this.dismissParentPopover()}},e.text)))))}render(){const{header:e,message:t,options:n,subHeader:i}=this,r=void 0!==i||void 0!==t;return pm(fm,{key:"dd0990db4de4f175b176b27f35501dd1604ca400",class:zf(this)},pm("ion-list",{key:"cea2bc3687b8b2490a2a9ff4a1e16cd34169558e"},void 0!==e&&pm("ion-list-header",{key:"194aebb53453c43f913daae45a1a3066a1708c4c"},e),r&&pm("ion-item",{key:"b706b07a3c63ad8104d2db413e210c735ec1bec9"},pm("ion-label",{key:"6e52b5b4cf6b04ff3dd5671d64264233de4190d5",class:"ion-text-wrap"},void 0!==i&&pm("h3",{key:"6ef4440d17f5db8c96c63b9aa5073f4fe4b8ad62"},i),void 0!==t&&pm("p",{key:"c7b3b76c30ecd606c0e985a0258c13d3a75756e7"},t))),this.renderOptions(n)))}get el(){return this}static get style(){return{ios:".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-ios-h{overflow-y:auto}",md:".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-select-popover-md-h{overflow-y:auto}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(container){display:none}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md::part(label){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08);--background-focused:var(--ion-color-primary, #0054e9);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #0054e9);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #0054e9)}"}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const q_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=ym(this,"ionChange",7),this.ionCancel=ym(this,"ionCancel",7),this.ionDismiss=ym(this,"ionDismiss",7),this.ionFocus=ym(this,"ionFocus",7),this.ionBlur=ym(this,"ionBlur",7),this.ionStyle=ym(this,"ionStyle",7),this.inputId="ion-sel-"+K_++,this.inheritedAttributes={},this.onClick=e=>{const t=e.target,n=t.closest('[slot="start"], [slot="end"]');t===this.el||null===n?(this.setFocus(),this.open(e)):e.preventDefault()},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.isExpanded=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.interface="alert",this.interfaceOptions={},this.justify=void 0,this.label=void 0,this.labelPlacement="start",this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}async connectedCallback(){const{el:e}=this;this.notchController=ow(e,(()=>this.notchSpacerEl),(()=>this.labelSlot)),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=((e,t,n)=>{if("undefined"==typeof MutationObserver)return;const i=new MutationObserver((e=>{n(uw(e,t))}));return i.observe(e,{childList:!0,subtree:!0}),i})(this.el,"ion-select-option",(async()=>{this.updateOverlayOptions(),sf(this)}))}componentWillLoad(){this.inheritedAttributes=Wf(this.el,["aria-label"])}componentDidLoad(){this.emitStyle()}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const t=this.overlay=await this.createOverlay(e);if(t.onDidDismiss().then((()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()})),await t.present(),"popover"===this.interface||"modal"===this.interface){const e=this.childOpts.findIndex((e=>e.value===this.value));if(e>-1){const n=t.querySelector(`.select-interface-option:nth-child(${e+1})`);if(n){const e=n.querySelector("ion-radio, ion-checkbox");e&&e.setFocus(),Zf(n)}}else{const e=t.querySelector("ion-radio:not(.radio-disabled), ion-checkbox:not(.checkbox-disabled)");e&&(e.setFocus(),Zf(e.closest("ion-item")))}}return t}createOverlay(e){let t=this.interface;return"action-sheet"===t&&this.multiple&&(console.warn(`Select interface cannot be "${t}" with a multi-value select. Using the "alert" interface instead.`),t="alert"),"popover"!==t||e||(console.warn(`Select interface cannot be a "${t}" without passing an event. Using the "alert" interface instead.`),t="alert"),"action-sheet"===t?this.openActionSheet():"popover"===t?this.openPopover(e):"modal"===t?this.openModal():this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const t=this.childOpts,n=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(t,n);break;case"popover":const i=e.querySelector("ion-select-popover");i&&(i.options=this.createOverlaySelectOptions(t,n));break;case"modal":const r=e.querySelector("ion-select-modal");r&&(r.options=this.createOverlaySelectOptions(t,n));break;case"alert":const o=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(t,o,n)}}createActionSheetButtons(e,t){const n=e.map((e=>{const n=H_(e),i=Array.from(e.classList).filter((e=>"hydrated"!==e)).join(" "),r=`${X_} ${i}`;return{role:Iw(t,n,this.compareWith)?"selected":"",text:e.textContent,cssClass:r,handler:()=>{this.setValue(n)}}}));return n.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),n}createAlertInputs(e,t,n){return e.map((e=>{const i=H_(e),r=Array.from(e.classList).filter((e=>"hydrated"!==e)).join(" ");return{type:t,cssClass:`${X_} ${r}`,label:e.textContent||"",value:i,checked:Iw(n,i,this.compareWith),disabled:e.disabled}}))}createOverlaySelectOptions(e,t){return e.map((e=>{const n=H_(e),i=Array.from(e.classList).filter((e=>"hydrated"!==e)).join(" "),r=`${X_} ${i}`;return{text:e.textContent||"",cssClass:r,value:n,checked:Iw(t,n,this.compareWith),disabled:e.disabled,handler:e=>{this.setValue(e),this.multiple||this.close()}}}))}async openPopover(e){const{fill:t,labelPlacement:n}=this,i=this.interfaceOptions,r=zf(this),o="md"!==r,s=this.multiple,a=this.value;let l=e,c="auto";"floating"===n||"stacked"===n||"md"===r&&void 0!==t?c="cover":l=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const d=Object.assign(Object.assign({mode:r,event:l,alignment:"center",size:c,showBackdrop:o},i),{component:"ion-select-popover",cssClass:["select-popover",i.cssClass],componentProps:{header:i.header,subHeader:i.subHeader,message:i.message,multiple:s,value:a,options:this.createOverlaySelectOptions(this.childOpts,a)}});return _b.create(d)}async openActionSheet(){const e=zf(this),t=this.interfaceOptions,n=Object.assign(Object.assign({mode:e},t),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",t.cssClass]});return yb.create(n)}async openAlert(){const e=this.interfaceOptions,t=this.multiple?"checkbox":"radio",n=zf(this),i=Object.assign(Object.assign({mode:n},e),{header:e.header?e.header:this.labelText,inputs:this.createAlertInputs(this.childOpts,t,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:e=>{this.setValue(e)}}],cssClass:["select-alert",e.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return vb.create(i)}openModal(){const{multiple:e,value:t,interfaceOptions:n}=this,i=zf(this),r=Object.assign(Object.assign({},n),{mode:i,cssClass:["select-modal",n.cssClass],component:"ion-select-modal",componentProps:{header:n.header,multiple:e,value:t,options:this.createOverlaySelectOptions(this.childOpts,t)}});return wb.create(r)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}hasValue(){return""!==this.getText()}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(void 0!==e)return e;const{labelSlot:t}=this;return null!==t?t.textContent:void 0}getText(){const e=this.selectedText;return null!=e&&""!==e?e:G_(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,t={"interactive-disabled":e};this.ionStyle.emit(t)}renderLabel(){const{label:e}=this;return pm("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},void 0===e?pm("slot",{name:"label"}):pm("div",{class:"label-text"},e))}componentDidRender(){var e;null===(e=this.notchController)||void 0===e||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return void 0!==this.label||null!==this.labelSlot}renderLabelContainer(){return"md"===zf(this)&&"outline"===this.fill?[pm("div",{class:"select-outline-container"},pm("div",{class:"select-outline-start"}),pm("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},pm("div",{class:"notch-spacer","aria-hidden":"true",ref:e=>this.notchSpacerEl=e},this.label)),pm("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelectText(){const{placeholder:e}=this;let t=!1,n=this.getText();""===n&&void 0!==e&&(n=e,t=!0);return pm("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":t},part:t?"placeholder":"text"},n)}renderSelectIcon(){const e=zf(this),{isExpanded:t,toggleIcon:n,expandedIcon:i}=this;let r;if(t&&void 0!==i)r=i;else{r=null!=n?n:"ios"===e?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>"}return pm("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:r})}get ariaLabel(){var e;const{placeholder:t,inheritedAttributes:n}=this,i=this.getText(),r=null!==(e=n["aria-label"])&&void 0!==e?e:this.labelText;let o=i;return""===o&&void 0!==t&&(o=t),void 0!==r&&(o=""===o?r:`${r}, ${o}`),o}renderListbox(){const{disabled:e,inputId:t,isExpanded:n}=this;return pm("button",{disabled:e,id:t,"aria-label":this.ariaLabel,"aria-haspopup":"dialog","aria-expanded":`${n}`,onFocus:this.onFocus,onBlur:this.onBlur,ref:e=>this.focusEl=e})}render(){const{disabled:e,el:t,isExpanded:n,expandedIcon:i,labelPlacement:r,justify:o,placeholder:s,fill:a,shape:l,name:c,value:d}=this,u=zf(this),h="floating"===r||"stacked"===r,p=!h&&void 0!==o,m=zv(t)?"rtl":"ltr",f=eb("ion-item",this.el),g="md"===u&&"outline"!==a&&!f,b=this.hasValue(),v=null!==t.querySelector('[slot="start"], [slot="end"]');eg(0,t,c,W_(d),e);const y="stacked"===r||"floating"===r&&(b||n||v);return pm(fm,{key:"144dfa5c49549a74fe516c65b9b8104a477ac789",onClick:this.onClick,class:tb(this.color,{[u]:!0,"in-item":f,"in-item-color":eb("ion-item.ion-color",t),"select-disabled":e,"select-expanded":n,"has-expanded-icon":void 0!==i,"has-value":b,"label-floating":y,"has-placeholder":void 0!==s,"ion-focusable":!0,[`select-${m}`]:!0,[`select-fill-${a}`]:void 0!==a,[`select-justify-${o}`]:p,[`select-shape-${l}`]:void 0!==l,[`select-label-placement-${r}`]:!0})},pm("label",{key:"0edcfcbac575a9dccc77991531b6980d1caebf42",class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),pm("div",{key:"348151d90cb093f5d21c7d4a834264ac4a312c40",class:"select-wrapper-inner"},pm("slot",{key:"8b7708c7f81217435c58276da0c08bba766d9500",name:"start"}),pm("div",{key:"10c520a335da0a0d1cf40f9365597beb244d3b48",class:"native-wrapper",ref:e=>this.nativeWrapperEl=e,part:"container"},this.renderSelectText(),this.renderListbox()),pm("slot",{key:"0f15c40a5495e98e29d2a21ba21e0bc6f1c0125a",name:"end"}),!h&&this.renderSelectIcon()),h&&this.renderSelectIcon(),g&&pm("div",{key:"c87faad2e5ebf7f9453397d7ede43abd64d21294",class:"select-highlight"})))}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.ion-focused.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host{--highlight-height:0px}.select-icon{width:1.125rem;height:1.125rem;color:var(--ion-color-step-650, var(--ion-text-color-step-350, #595959))}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 1.125rem - 4px)}:host(.select-disabled){opacity:0.3}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",md:":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.in-item){-ms-flex:1 1 0px;flex:1 1 0}:host(.select-disabled){pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}:host([slot=start]),:host([slot=end]){-ms-flex:initial;flex:initial;width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative;-ms-flex-negative:0;flex-shrink:0}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.select-wrapper-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{-ms-flex-positive:1;flex-grow:1}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating:not(.label-floating)) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.ion-focused.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.label-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]:last-of-type){-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}::slotted([slot=end]:first-of-type){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}:host(.select-fill-solid){--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.ion-focused){--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}:host(.select-fill-solid) .select-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}:host(.label-floating.select-fill-solid) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.ion-focused){--border-width:var(--highlight-height);--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.label-floating.select-fill-outline) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-fill-outline) .select-outline-start{-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-start{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius)}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-fill-outline) .select-outline-end{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color)}:host(.select-fill-outline) .select-outline-end{border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.label-floating.select-fill-outline) .select-outline-notch{border-top:none}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px}.select-icon{width:0.8125rem;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, var(--ion-text-color-step-500, gray))}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.ion-focused) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.ion-focused) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.select-highlight{inset-inline-start:0}:host(.select-expanded) .select-highlight,:host(.ion-focused) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}:host(.in-item) .select-highlight{inset-inline-start:0}:host(.select-expanded:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.ion-focused) .select-wrapper .select-icon{color:var(--highlight-color)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .select-wrapper-inner,:host(.select-label-placement-floating) .select-wrapper-inner{width:calc(100% - 0.8125rem - 4px)}:host(.select-disabled){opacity:0.38}::slotted(ion-button[slot=start].button-has-icon-only),::slotted(ion-button[slot=end].button-has-icon-only){--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}"}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],isExpanded:[32],open:[64]},void 0,{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}]),H_=e=>{const t=e.value;return void 0===t?e.textContent||"":t},W_=e=>{if(null!=e)return Array.isArray(e)?e.join(","):e.toString()},G_=(e,t,n)=>void 0===t?"":Array.isArray(t)?t.map((t=>Y_(e,t,n))).filter((e=>null!==e)).join(", "):Y_(e,t,n)||"",Y_=(e,t,n)=>{const i=e.find((e=>Cw(t,H_(e),n)));return i?i.textContent:null};let K_=0;const X_="select-interface-option";const Q_=function(){if("undefined"==typeof customElements)return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-modal","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-modal","ion-select-popover","ion-title","ion-toolbar"].forEach((e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,q_);break;case"ion-action-sheet":customElements.get(e)||Gw();break;case"ion-alert":customElements.get(e)||t_();break;case"ion-backdrop":customElements.get(e)||vv();break;case"ion-button":customElements.get(e)||Yv();break;case"ion-buttons":customElements.get(e)||wv();break;case"ion-checkbox":customElements.get(e)||Ov();break;case"ion-content":customElements.get(e)||Hv();break;case"ion-header":customElements.get(e)||Ky();break;case"ion-icon":customElements.get(e)||mv();break;case"ion-item":customElements.get(e)||i_();break;case"ion-label":customElements.get(e)||mw();break;case"ion-list":customElements.get(e)||bw();break;case"ion-list-header":customElements.get(e)||ww();break;case"ion-modal":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-modal","ion-backdrop"].forEach((e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,j_);break;case"ion-backdrop":customElements.get(e)||vv()}}))}();break;case"ion-popover":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-popover","ion-backdrop"].forEach((e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,_y);break;case"ion-backdrop":customElements.get(e)||vv()}}))}();break;case"ion-radio":customElements.get(e)||Dw();break;case"ion-radio-group":customElements.get(e)||Lw();break;case"ion-ripple-effect":customElements.get(e)||Mv();break;case"ion-select-modal":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-select-modal","ion-button","ion-buttons","ion-checkbox","ion-content","ion-header","ion-icon","ion-item","ion-list","ion-radio","ion-radio-group","ion-ripple-effect","ion-title","ion-toolbar"].forEach((e=>{switch(e){case"ion-select-modal":customElements.get(e)||customElements.define(e,$_);break;case"ion-button":customElements.get(e)||Yv();break;case"ion-buttons":customElements.get(e)||wv();break;case"ion-checkbox":customElements.get(e)||Ov();break;case"ion-content":customElements.get(e)||Hv();break;case"ion-header":customElements.get(e)||Ky();break;case"ion-icon":customElements.get(e)||mv();break;case"ion-item":customElements.get(e)||i_();break;case"ion-list":customElements.get(e)||bw();break;case"ion-radio":customElements.get(e)||Dw();break;case"ion-radio-group":customElements.get(e)||Lw();break;case"ion-ripple-effect":customElements.get(e)||Mv();break;case"ion-title":customElements.get(e)||B_();break;case"ion-toolbar":customElements.get(e)||z_()}}))}();break;case"ion-select-popover":customElements.get(e)||function(){if("undefined"==typeof customElements)return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-radio","ion-radio-group","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,V_);break;case"ion-checkbox":customElements.get(e)||Ov();break;case"ion-icon":customElements.get(e)||mv();break;case"ion-item":customElements.get(e)||i_();break;case"ion-label":customElements.get(e)||mw();break;case"ion-list":customElements.get(e)||bw();break;case"ion-list-header":customElements.get(e)||ww();break;case"ion-radio":customElements.get(e)||Dw();break;case"ion-radio-group":customElements.get(e)||Lw();break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))}();break;case"ion-title":customElements.get(e)||B_();break;case"ion-toolbar":customElements.get(e)||z_()}}))},J_=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId="ion-selopt-"+Z_++,this.disabled=!1,this.value=void 0}render(){return pm(fm,{key:"2e6fa159464f04f6d8720f960141f67918bc7534",role:"option",id:this.inputId,class:zf(this)})}get el(){return this}static get style(){return":host{display:none}"}},[1,"ion-select-option",{disabled:[4],value:[8]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let Z_=0;const ex=function(){if("undefined"==typeof customElements)return;["ion-select-option"].forEach((e=>{if("ion-select-option"===e)customElements.get(e)||customElements.define(e,J_)}))},tx=function(){if("undefined"==typeof customElements)return;["ion-spinner"].forEach((e=>{if("ion-spinner"===e)customElements.get(e)||customElements.define(e,nw)}))},nx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&null!=this.component){this.loaded=!0;try{return ab(this.delegate,this.el,this.component,["ion-page"])}catch(HS){console.error(HS)}}return Promise.resolve(void 0)}render(){const{tab:e,active:t,component:n}=this;return pm(fm,{key:"cb75d0877979b3b8df8f7e1952bfa9677da1eaa5",role:"tabpanel","aria-hidden":t?null:"true","aria-labelledby":`tab-button-${e}`,class:{"ion-page":void 0===n,"tab-hidden":!t}},pm("slot",{key:"37fbb7b7a6b03eb93b1dacd2dc1025b78eb2aa6b"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return":host(.tab-hidden){display:none !important}"}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const ix=function(){if("undefined"==typeof customElements)return;["ion-tab"].forEach((e=>{if("ion-tab"===e)customElements.get(e)||customElements.define(e,nx)}))},rx=B_,ox=z_,sx=Gv,ax=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=Wf(this.el,["aria-label"])}isClickable(){return void 0!==this.href||this.button}renderCard(e){const t=this.isClickable();if(!t)return[pm("slot",null)];const{href:n,routerAnimation:i,routerDirection:r,inheritedAriaAttributes:o}=this,s=t?void 0===n?"button":"a":"div",a="button"===s?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return pm(s,Object.assign({},a,o,{class:"card-native",part:"native",disabled:this.disabled,onClick:e=>rb(n,e,r,i)}),pm("slot",null),t&&"md"===e&&pm("ion-ripple-effect",null))}render(){const e=zf(this);return pm(fm,{key:"85e9b30bd81e79a0c7ac75cb3664bdcf9e4afc4d",class:tb(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",md:":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, var(--ion-text-color-step-450, #737373))));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}"}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),lx=n_,cx=t_;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
function dx(e,t,n,i){let r;if(r="md"===n?"top"===e?8:-8:"top"===e?10:-10,t&&bf){!function(e,t){null===e.offsetParent&&Vf("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",t)}(t,i);const n=t.getBoundingClientRect();return"top"===e?r+=n.bottom:"bottom"===e&&(r-=bf.innerHeight-n.top),{top:`${r}px`,bottom:`${r}px`}}return{top:`calc(${r}px + var(--ion-safe-area-top, 0px))`,bottom:`calc(${r}px - var(--ion-safe-area-bottom, 0px))`}}const ux=(e,t)=>Math.floor(e/2-t/2),hx=(e,t)=>{const n=xf(),i=xf(),{position:r,top:o,bottom:s}=t,a=Qf(e).querySelector(".toast-wrapper");switch(i.addElement(a),r){case"top":i.fromTo("transform","translateY(-100%)",`translateY(${o})`);break;case"middle":const t=ux(e.clientHeight,a.clientHeight);a.style.top=`${t}px`,i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)",`translateY(${s})`)}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},px=(e,t)=>{const n=xf(),i=xf(),{position:r,top:o,bottom:s}=t,a=Qf(e).querySelector(".toast-wrapper");switch(i.addElement(a),r){case"top":i.fromTo("transform",`translateY(${o})`,"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform",`translateY(${s})`,"translateY(100%)")}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},mx=(e,t)=>{const n=xf(),i=xf(),{position:r,top:o,bottom:s}=t,a=Qf(e).querySelector(".toast-wrapper");switch(i.addElement(a),r){case"top":a.style.setProperty("transform",`translateY(${o})`),i.fromTo("opacity",.01,1);break;case"middle":const t=ux(e.clientHeight,a.clientHeight);a.style.top=`${t}px`,i.fromTo("opacity",.01,1);break;default:a.style.setProperty("transform",`translateY(${s})`),i.fromTo("opacity",.01,1)}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},fx=e=>{const t=xf(),n=xf(),i=Qf(e).querySelector(".toast-wrapper");return n.addElement(i).fromTo("opacity",.99,0),t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},gx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ym(this,"ionToastDidPresent",7),this.willPresent=ym(this,"ionToastWillPresent",7),this.willDismiss=ym(this,"ionToastWillDismiss",7),this.didDismiss=ym(this,"ionToastDidDismiss",7),this.didPresentShorthand=ym(this,"didPresent",7),this.willPresentShorthand=ym(this,"willPresent",7),this.willDismissShorthand=ym(this,"willDismiss",7),this.didDismissShorthand=ym(this,"didDismiss",7),this.delegateController=Hb(this),this.lockController=ny(),this.triggerController=Wb(),this.customHTMLEnabled=Tf.get("innerHTMLTemplatesEnabled",Zg),this.presented=!1,this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Fb(t)){const e=this.getButtons().find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.createSwipeGesture=e=>{const t=this.gesture=((e,t,n)=>{const i=Qf(e).querySelector(".toast-wrapper"),r=e.clientHeight,o=i.getBoundingClientRect();let s=0;const a="middle"===e.position?.5:0,l="top"===e.position?-1:1,c=ux(r,o.height),d=[{offset:0,transform:`translateY(-${c+o.height}px)`},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:`translateY(${c+o.height}px)`}],u=xf("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(e.position){case"middle":s=r+o.height,u.keyframes(d),u.progressStart(!0,.5);break;case"top":s=o.bottom,u.keyframes([{offset:0,transform:`translateY(${t.top})`},{offset:1,transform:"translateY(-100%)"}]),u.progressStart(!0,0);break;default:s=r-o.top,u.keyframes([{offset:0,transform:`translateY(${t.bottom})`},{offset:1,transform:"translateY(100%)"}]),u.progressStart(!0,0)}const h=e=>e*l/s,p=zg({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:39,direction:"y",onMove:e=>{const t=a+h(e.deltaY);u.progressStep(t)},onEnd:t=>{const r=t.velocityY,o=(t.deltaY+1e3*r)/s*l;p.enable(!1);let a=!0,m=1,f=0,g=0;if("middle"===e.position){a=o>=.25||o<=-.25,m=1,f=0;const e=i.getBoundingClientRect(),n=e.top-c,r=`${n}px`,s=t.deltaY<=0?-1:1,l=(c+e.height)*s,d=[{offset:0,transform:`translateY(${r})`},{offset:1,transform:`translateY(${a?`${l}px`:"0px"})`}];u.keyframes(d),g=l-n}else a=o>=.5,m=a?1:0,f=h(t.deltaY),g=(a?1-f:f)*s;const b=Math.min(Math.abs(g)/Math.abs(r),200);u.onFinish((()=>{a?(n(),u.destroy()):("middle"===e.position?u.keyframes(d).progressStart(!0,.5):u.progressStart(!0,0),p.enable(!0))}),{oneTimeCallback:!0}).progressEnd(m,f,b)}});return p})(this.el,e,(()=>{this.dismiss(void 0,qb)}));t.enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;void 0!==e&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return"vertical"===e},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=Tf.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:n}=this;e&&n.addClickListener(t,e)}connectedCallback(){kb(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;(null===(e=this.htmlAttributes)||void 0===e?void 0:e.id)||Tb(this.el)}componentDidLoad(){!0===this.isOpen&&Jf((()=>this.present())),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:t,position:n}=this,i=dx(n,this.getAnchorElement(),zf(this),t);this.lastPresentedPosition=i,await Nb(this,"toastEnter",hx,mx,{position:n,top:i.top,bottom:i.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout((()=>this.dismiss(void 0,"timeout")),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(i),e()}async dismiss(e,t){var n,i;const r=await this.lockController.lock(),{durationTimeout:o,position:s,lastPresentedPosition:a}=this;o&&clearTimeout(o);const l=await Rb(this,e,t,"toastLeave",px,fx,{position:s,top:null!==(n=null==a?void 0:a.top)&&void 0!==n?n:"",bottom:null!==(i=null==a?void 0:a.bottom)&&void 0!==i?i:""});return l&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),r(),l}onDidDismiss(){return Ub(this.el,"ionToastDidDismiss")}onWillDismiss(){return Ub(this.el,"ionToastWillDismiss")}getButtons(){const e=this.buttons?this.buttons.map((e=>"string"==typeof e?{text:e}:e)):[];return e}getAnchorElement(){const{position:e,positionAnchor:t,el:n}=this;if(void 0!==t)if("middle"!==e||void 0===t){if("string"==typeof t){const e=document.getElementById(t);return null===e?void Vf(`An anchor element with an ID of "${t}" was not found in the DOM.`,n):e}if(t instanceof Vp)return t;Vf("Invalid positionAnchor value:",t,n)}else Vf('The positionAnchor property is ignored when using position="middle".',this.el)}async buttonClick(e){const t=e.role;if(Fb(t))return this.dismiss(void 0,t);return await this.callButtonHandler(e)?this.dismiss(void 0,t):Promise.resolve()}async callButtonHandler(e){if(null==e?void 0:e.handler)try{if(!1===await $b(e.handler))return!1}catch(HS){console.error(HS)}return!0}renderButtons(e,t){if(0===e.length)return;const n=zf(this);return pm("div",{class:{"toast-button-group":!0,[`toast-button-group-${t}`]:!0}},e.map((e=>pm("button",Object.assign({},e.htmlAttributes,{type:"button",class:bx(e),tabIndex:0,onClick:()=>this.buttonClick(e),part:vx(e)}),pm("div",{class:"toast-button-inner"},e.icon&&pm("ion-icon",{"aria-hidden":"true",icon:e.icon,slot:void 0===e.text?"icon-only":void 0,class:"toast-button-icon"}),e.text),"md"===n&&pm("ion-ripple-effect",{type:void 0!==e.icon&&void 0===e.text?"unbounded":"bounded"})))))}renderToastMessage(e,t=null){const{customHTMLEnabled:n,message:i}=this;return n?pm("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message",innerHTML:Wg(i)}):pm("div",{key:e,"aria-hidden":t,class:"toast-message",part:"message"},i)}renderHeader(e,t=null){return pm("div",{key:e,class:"toast-header","aria-hidden":t,part:"header"},this.header)}render(){const{layout:e,el:t,revealContentToScreenReader:n,header:i,message:r}=this,o=this.getButtons(),s=o.filter((e=>"start"===e.side)),a=o.filter((e=>"start"!==e.side)),l=zf(this),c={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${e}`]:!0};return"stacked"===e&&s.length>0&&a.length>0&&Vf("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",t),pm(fm,Object.assign({key:"c05655ff06af8d0e48c2a85396b07ad942fa81b4",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:tb(this.color,Object.assign(Object.assign({[l]:!0},nb(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),pm("div",{key:"9393ead4de1bf28529661d6f64049d34e18d725c",class:c},pm("div",{key:"3e9dd73c17c337849c3f26e8d0f395b3e5ee20a7",class:"toast-container",part:"container"},this.renderButtons(s,"start"),void 0!==this.icon&&pm("ion-icon",{key:"5d15b18364301ad55e44e9f601014ac33181590b",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),pm("div",{key:"f6dd164502637a882c5caf18445d8509b85ad6f9",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!n&&void 0!==i&&this.renderHeader("oldHeader","true"),!n&&void 0!==r&&this.renderToastMessage("oldMessage","true"),n&&void 0!==i&&this.renderHeader("header"),n&&void 0!==r&&this.renderToastMessage("header")),this.renderButtons(a,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-radius:14px;--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host{inset-inline-start:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);pointer-events:auto}.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, var(--ion-background-color-step-800, #333333));--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #0054e9);--color:var(--ion-color-step-50, var(--ion-text-color-step-950, #f2f2f2));--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, var(--ion-text-color-step-900, #e6e6e6))}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),bx=e=>({"toast-button":!0,"toast-button-icon-only":void 0!==e.icon&&void 0===e.text,[`toast-button-${e.role}`]:void 0!==e.role,"ion-focusable":!0,"ion-activatable":!0}),vx=e=>Fb(e.role)?"button cancel":"button";const yx=function(){if("undefined"==typeof customElements)return;["ion-toast","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,gx);break;case"ion-icon":customElements.get(e)||mv();break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))},wx=Gw,_x=hf(class extends Vp{constructor(){super(),this.__registerHost()}componentDidLoad(){kx((async()=>{const e=If(window,"hybrid");if(Tf.getBoolean("_testing")||Pp((()=>n.import("./index9-legacy-DCl7gpVx.js"))).then((e=>e.startTapClick(Tf))),Tf.getBoolean("statusTap",e)&&Pp((()=>n.import("./status-tap-legacy-BNVvFlN8.js"))).then((e=>e.startStatusTap())),Tf.getBoolean("inputShims",xx())){const e=If(window,"ios")?"ios":"android";Pp((()=>n.import("./input-shims-legacy-CKJxpNnp.js"))).then((t=>t.startInputShims(Tf,e)))}const t=await Pp((()=>Promise.resolve().then((()=>sb)))),i=e||ob();Tf.getBoolean("hardwareBackButton",i)?t.startHardwareBackButton():(ob()&&Vf("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),t.blockHardwareBackButton()),"undefined"!=typeof window&&Pp((()=>Promise.resolve().then((()=>y_)))).then((e=>e.startKeyboardAssist(window))),Pp((()=>n.import("./focus-visible-legacy-CdO5cX4I.js"))).then((e=>this.focusVisible=e.startFocusVisible()))}))}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=zf(this);return pm(fm,{key:"96715520fd05d6f0e6fa26a8ba78792cfccd4c0a",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Tf.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),xx=()=>{if(If(window,"ios")&&If(window,"mobile"))return!0;return!(!If(window,"android")||!If(window,"mobileweb"))},kx=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Tx=function(){if("undefined"==typeof customElements)return;["ion-app"].forEach((e=>{if("ion-app"===e)customElements.get(e)||customElements.define(e,_x)}))},Sx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):rb(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Yf(this.el),void 0===this.defaultHref&&(this.defaultHref=Tf.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return null!=e?e:"ios"===zf(this)?Tf.get("backButtonIcon","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>"):Tf.get("backButtonIcon","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>")}get backButtonText(){const e="ios"===zf(this)?"Back":null;return null!=this.text?this.text:Tf.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:n,type:i,hasIconOnly:r,backButtonIcon:o,backButtonText:s,icon:a,inheritedAttributes:l}=this,c=void 0!==t,d=zf(this),u=l["aria-label"]||s||"back";return pm(fm,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:tb(e,{[d]:!0,button:!0,"back-button-disabled":n,"back-button-has-icon-only":r,"in-toolbar":eb("ion-toolbar",this.el),"in-toolbar-color":eb("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":c})},pm("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:i,disabled:n,class:"button-native",part:"native","aria-label":u},pm("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},o&&pm("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":void 0===a}),s&&pm("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},s)),"md"===d&&pm("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',md:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}'}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Ex=function(){if("undefined"==typeof customElements)return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Sx);break;case"ion-icon":customElements.get(e)||mv();break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))},Cx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ym(this,"ionNavWillLoad",7),this.ionNavWillChange=ym(this,"ionNavWillChange",3),this.ionNavDidChange=ym(this,"ionNavDidChange",3),this.lockController=ny(),this.gestureOrAnimationInProgress=!1,this.mode=zf(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Pp((()=>n.import("./swipe-back-legacy-B8rVfnN6.js")))).createSwipeBackGesture(this.el,(()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart()),(()=>e()),(e=>{var t;return null===(t=this.ani)||void 0===t?void 0:t.progressStep(e)}),((e,t,n)=>{if(this.ani){this.ani.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=Ag([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Ag([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.ani.progressEnd(e?1:0,i,n)}else this.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,n){const i=await this.lockController.lock();let r=!1;try{r=await this.transition(e,t,n)}catch(HS){console.error(HS)}return i(),r}async setRouteId(e,t,n,i){return{changed:await this.setRoot(e,t,{duration:"root"===n?0:void 0,direction:"back"===n?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,n){if(this.activeComponent===e&&rg(t,this.activeParams))return!1;const i=this.activeEl,r=await ab(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=r,this.activeParams=t,await this.commit(r,i,n),await lb(this.delegate,i),!0}async transition(e,t,n={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:r}=this,o=this.animated&&Tf.getBoolean("animated",!0),s=n.animationBuilder||this.animation||Tf.get("navAnimation");return await hg(Object.assign(Object.assign({mode:r,animated:o,enteringEl:e,leavingEl:t,baseEl:i,deepWait:Hf(i),progressCallback:n.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.ani=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},n),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return pm("slot",{key:"a70341f58d19df55de1dad00e3464388e446aa2a"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);const Ix=function(){if("undefined"==typeof customElements)return;["ion-router-outlet"].forEach((e=>{if("ion-router-outlet"===e)customElements.get(e)||customElements.define(e,Cx)}))},Ax=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ym(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ym(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await My((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:t,keyboardVisible:n}=this,i=zf(this),r=n&&"top"!==this.el.getAttribute("slot");return pm(fm,{key:"a87fd2ea5df053705a37ea7ffec043e75c4a9907",role:"tablist","aria-hidden":r?"true":null,class:tb(e,{[i]:!0,"tab-bar-translucent":t,"tab-bar-hidden":r})},pm("slot",{key:"81a6223299b6cab29d7ddced590e9152e2b3ded0"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}"}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Px=function(){if("undefined"==typeof customElements)return;["ion-tab-bar"].forEach((e=>{if("ion-tab-bar"===e)customElements.get(e)||customElements.define(e,Ax)}))},Dx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ym(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{"Enter"!==e.key&&" "!==e.key||this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,n=this.el.parentElement;(e.composedPath().includes(n)||(null==t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Wf(this.el,["aria-label"])),void 0===this.layout&&(this.layout=Tf.get("tabButtonLayout","icon-top"))}selectTab(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:n,href:i,rel:r,target:o,layout:s,selected:a,tab:l,inheritedAttributes:c}=this,d=zf(this),u={download:this.download,href:i,rel:r,target:o};return pm(fm,{key:"5976c45943ea7ea8e7c1a85fc9996de421439f08",onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==l?`tab-button-${l}`:null,class:{[d]:!0,"tab-selected":a,"tab-disabled":e,"tab-has-label":n,"tab-has-icon":t,"tab-has-label-only":n&&!t,"tab-has-icon-only":t&&!n,[`tab-layout-${s}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},pm("a",Object.assign({key:"1db09d861b67ff292018fb4b0dc7b85bd4677eb8"},u,{class:"button-native",part:"native",role:"tab","aria-selected":a?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},c),pm("span",{key:"4381eafcb27e8c7bb0d86d4f115ceb0caf03b9b4",class:"button-inner"},pm("slot",{key:"1981135f6fbb88376c1bd923c55c70fe8b5c5159"})),"md"===d&&pm("ion-ripple-effect",{key:"0509bc7155d055d1ed710600e9cf4df135881491",type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Ox=function(){if("undefined"==typeof customElements)return;["ion-tab-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Dx);break;case"ion-ripple-effect":customElements.get(e)||Mv()}}))},Nx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ym(this,"ionNavWillLoad",7),this.ionTabsWillChange=ym(this,"ionTabsWillChange",3),this.ionTabsDidChange=ym(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:t,tab:n}=e.detail;if(this.useRouter&&void 0!==t){const e=document.querySelector("ion-router");e&&e.push(t)}else this.select(n)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=!(!this.el.querySelector("ion-router-outlet")&&!document.querySelector("ion-router")||this.el.closest("[no-router]"))),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const t=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=t}}async select(e){const t=Lx(this.tabs,e);return!!this.shouldSwitch(t)&&(await this.setActive(t),await this.notifyRouter(),this.tabSwitch(),!0)}async getTab(e){return Lx(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const t=Lx(this.tabs,e);return this.shouldSwitch(t)?(await this.setActive(t),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const t=null===(e=this.selectedTab)||void 0===e?void 0:e.tab;return void 0!==t?{id:t,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,t=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&t!==e&&(t&&(t.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const t=this.selectedTab;return void 0!==e&&e!==t&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return pm(fm,{key:"e01ccf6bfaccad094515be50e407399c733fc226",onIonTabButtonClick:this.onTabClicked},pm("slot",{key:"38d2d01dbfd8a08f01e6f0e27274b21d75424e37",name:"top"}),pm("div",{key:"7e894f0f423e2d43e1c68daff5f9f6c442fad237",class:"tabs-inner"},pm("slot",{key:"df16be529a0370a26d0adf850530b31607507c23"})),pm("slot",{key:"44642e1cb24c3281c43db75fd69a32fe0defe40a",name:"bottom"}))}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}"}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),Lx=(e,t)=>{const n="string"==typeof t?e.find((e=>e.tab===t)):t;return n||console.error(`tab with id: "${n}" does not exist`),n};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Rx=function(){if("undefined"==typeof customElements)return;["ion-tabs"].forEach((e=>{if("ion-tabs"===e)customElements.get(e)||customElements.define(e,Nx)}))};let jx;const Mx=(e,t)=>{const n=(()=>{if("undefined"==typeof window)return new Map;if(!jx){const e=window;e.Ionicons=e.Ionicons||{},jx=e.Ionicons.map=e.Ionicons.map||new Map}return jx})().get(e);if(n)return n;try{return nm(`svg/${e}.svg`)}catch(HS){console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},Ux=(e,t,n,i,r)=>{if(n="ios"===(n&&$x(n))?"ios":"md",i&&"ios"===n?e=$x(i):r&&"md"===n?e=$x(r):(e||!t||Fx(t)||(e=t),zx(e)&&(e=$x(e))),!zx(e)||""===e.trim())return null;return""!==e.replace(/[a-z]|-|\d/gi,"")?null:e},Bx=e=>zx(e)&&(e=e.trim(),Fx(e))?e:null,Fx=e=>e.length>0&&/(\/|\.)/.test(e),zx=e=>"string"==typeof e,$x=e=>e.toLowerCase(),Vx=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(zx(n)&&0===n.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!Vx(e.childNodes[t]))return!1}return!0},qx=new Map,Hx=new Map;let Wx;const Gx=(e,t)=>{let n=Hx.get(e);if(!n){if("undefined"==typeof fetch||"undefined"==typeof document)return qx.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){Wx||(Wx=new DOMParser);const t=Wx.parseFromString(e,"text/html").querySelector("svg");return t&&qx.set(e,t.outerHTML),Promise.resolve()}n=fetch(e).then((n=>{if(n.ok)return n.text().then((n=>{n&&!1!==t&&(n=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)"svg"!==t.childNodes[i].nodeName.toLowerCase()&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&"svg"===n.nodeName.toLowerCase()){const e=n.getAttribute("class")||"";if(n.setAttribute("class",(e+" s-ion-icon").trim()),Vx(n))return t.innerHTML}return""})(n)),qx.set(e,n||"")}));qx.set(e,"")})),Hx.set(e,n)}return n},Yx=hf(class extends Vp{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Kx(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,n){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(i.disconnect(),this.io=void 0,n())}),{rootMargin:t});i.observe(e)}else n()}loadIcon(){if(this.isVisible){const e=(e=>{let t=Bx(e.src);if(t)return t;if(t=Ux(e.name,e.icon,e.mode,e.ios,e.md),t)return Mx(t,e);if(e.icon){if(t=Bx(e.icon),t)return t;if(t=Bx(e.icon[e.mode]),t)return t}return null})(this);e&&(qx.has(e)?this.svgContent=qx.get(e):Gx(e,this.sanitize).then((()=>this.svgContent=qx.get(e))),this.didLoadIcon=!0)}this.iconName=Ux(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:n,el:i}=this,r=this.mode||"md",o=!!t&&((t.includes("arrow")||t.includes("chevron"))&&!1!==e),s=e||o;return pm(fm,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},Xx(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=i,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},n),this.svgContent?pm("div",{class:"icon-inner",innerHTML:this.svgContent}):pm("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),Kx=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",Xx=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;const Qx=function(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((e=>{if("ion-icon"===e)customElements.get(e)||customElements.define(e,Yx)}))},Jx=Y.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),Zx=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(e){if(e.id){const t=this.ionViewWillEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}teardownCallback(e,t){const n=t.filter((t=>t.id===e.id));0!==n.length&&(n.forEach((e=>{e&&"function"==typeof e.destructor&&e.destructor()})),t=t.filter((t=>t.id!==e.id)))}cleanupIonViewWillEnter(e){this.teardownCallback(e,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(e){this.teardownCallback(e,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(e){this.teardownCallback(e,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(e){this.teardownCallback(e,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewWillEnterDestructorCallbacks.push({id:e.id,destructor:t})}))}onIonViewDidEnter(e){if(e.id){const t=this.ionViewDidEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewDidEnterDestructorCallbacks.push({id:e.id,destructor:t})}))}onIonViewWillLeave(e){if(e.id){const t=this.ionViewWillLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:e.id,destructor:t})}))}onIonViewDidLeave(e){if(e.id){const t=this.ionViewDidLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:e.id,destructor:t})})),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(e){this.componentCanBeDestroyedCallback=e}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},ek=Y.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:e=>{"undefined"!=typeof window&&("string"==typeof e?window.location.pathname=e:window.history.back())},navigate:e=>{"undefined"!=typeof window&&(window.location.pathname=e)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)},resetTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)}}),tk=e=>e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),nk=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),ik=(e,t,n={})=>{if(e instanceof Element){const i=rk(e.classList,t,n);""!==i&&(e.className=i),Object.keys(t).forEach((n=>{if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);ok(r)||sk(e,r,t[n])}else{e[n]=t[n];"string"===typeof t[n]&&e.setAttribute(nk(n),t[n])}}))}},rk=(e,t,n)=>{const i=t.className||t.class,r=n.className||n.class,o=ak(e),s=ak(i?i.split(" "):[]),a=ak(r?r.split(" "):[]),l=[];return o.forEach((e=>{s.has(e)?(l.push(e),s.delete(e)):a.has(e)||l.push(e)})),s.forEach((e=>l.push(e))),l.join(" ")},ok=e=>{if("undefined"==typeof document)return!0;{const t="on"+(e=>"doubleclick"===e?"dblclick":e)(e);let n=t in document;if(!n){const e=document.createElement("div");e.setAttribute(t,"return;"),n="function"==typeof e[t]}return n}},sk=(e,t,n)=>{const i=e.__events||(e.__events={}),r=i[t];r&&e.removeEventListener(t,r),e.addEventListener(t,i[t]=function(e){n&&n.call(this,e)})},ak=e=>{const t=new Map;return e.forEach((e=>t.set(e,e))),t},lk=(...e)=>t=>{e.forEach((e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)}))},ck=(e,t,n,i)=>{void 0!==i&&i();const r=tk(e),o=class extends Y.Component{constructor(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){ik(this.componentEl,this.props,e)}render(){const t=this.props,{children:n,forwardedRef:i,style:r,className:o,ref:s}=t,a=Qb(t,["children","forwardedRef","style","className","ref"]);let l=Object.keys(a).reduce(((e,t)=>{const n=a[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const i=t.substring(2).toLowerCase();"undefined"!=typeof document&&ok(i)&&(e[t]=n)}else{const i=typeof n;"string"!==i&&"boolean"!==i&&"number"!==i||(e[nk(t)]=n)}return e}),{});const c=Object.assign(Object.assign({},l),{ref:lk(i,this.setComponentElRef),style:r});return G.createElement(e,c,n)}static get displayName(){return r}};return((e,t)=>{const n=(t,n)=>Y.createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,Y.forwardRef(n)})(o,r)},dk=ck("ion-avatar",0,0,gv),uk=ck("ion-buttons",0,0,_v),hk=ck("ion-card-content",0,0,kv),pk=ck("ion-card-header",0,0,Sv),mk=ck("ion-card-subtitle",0,0,Cv),fk=ck("ion-card-title",0,0,Av),gk=ck("ion-chip",0,0,Bv),bk=ck("ion-content",0,0,Wv),vk=ck("ion-footer",0,0,Fy),yk=ck("ion-header",0,0,Xy),wk=ck("ion-img",0,0,Zy),_k=ck("ion-input",0,0,dw),xk=ck("ion-label",0,0,fw),kk=ck("ion-list",0,0,vw),Tk=ck("ion-list-header",0,0,_w),Sk=ck("ion-segment",0,0,jw),Ek=ck("ion-segment-button",0,0,Bw),Ck=ck("ion-select",0,0,Q_),Ik=ck("ion-select-option",0,0,ex),Ak=ck("ion-spinner",0,0,tx),Pk=ck("ion-tab",0,0,ix),Dk=ck("ion-title",0,0,rx),Ok=ck("ion-toolbar",0,0,ox),Nk=(e,t)=>{const n=(t,n)=>Y.createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,Y.forwardRef(n)},Lk=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null},Rk=(e,t)=>{((e,t)=>{void 0===t||"undefined"==typeof customElements||customElements.get(e)||customElements.define(e,t)})(e,t);const n=tk(e),i=class extends Y.Component{constructor(e){super(e),this.handleClick=e=>{const{routerLink:t,routerDirection:n,routerOptions:i,routerAnimation:r}=this.props;void 0!==t&&(e.preventDefault(),this.context.navigate(t,n,void 0,r,i))},this.ref=Y.createRef(),this.stableMergedRefs=lk(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){const t=this.ref.current;ik(t,this.props,e)}render(){const t=this.props,{children:n,forwardedRef:i,style:r,className:o,ref:s}=t,a=Qb(t,["children","forwardedRef","style","className","ref"]),l=Object.keys(a).reduce(((e,t)=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const n=t.substring(2).toLowerCase();ok(n)&&(e[t]=a[t])}else["string","boolean","number"].includes(typeof a[t])&&(e[nk(t)]=a[t]);return e}),{}),c=Object.assign(Object.assign({},l),{ref:this.stableMergedRefs,style:r});if(this.props.routerLink&&!this.props.href&&(c.href=this.props.routerLink),c.onClick){const e=c.onClick;c.onClick=t=>{e(t),t.defaultPrevented||this.handleClick(t)}}else c.onClick=this.handleClick;return G.createElement(e,c,n)}static get displayName(){return n}static get contextType(){return ek}};return Nk(i,n)},jk=Rk("ion-button",sx),Mk=Rk("ion-card",ax),Uk=Rk("ion-item",lx),Bk=(e,t)=>{const n=e.__events||(e.__events={}),i=n[t];i&&(e.removeEventListener(t,i),n[t]=void 0)},Fk=(e,t,n)=>{t&&t();const i=tk(e),r=class extends Y.Component{constructor(e){super(e),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=e=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(e)},this.handleDidDismiss=e=>{const t=this.wrapperRef.current,n=this.ref.current;t&&n&&(n.append(t),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(e)},this.ref=Y.createRef(),this.stableMergedRefs=lk(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=Y.createRef()}componentDidMount(){var e,t,n;this.componentDidUpdate(this.props),null===(e=this.ref.current)||void 0===e||e.addEventListener("ionMount",this.handleIonMount),null===(t=this.ref.current)||void 0===t||t.addEventListener("willPresent",this.handleWillPresent),null===(n=this.ref.current)||void 0===n||n.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(e){const t=this.ref.current,n=Qb(this.props,["onDidDismiss","onWillPresent"]);ik(t,n,e)}componentWillUnmount(){const e=this.ref.current;e&&this.state.isOpen&&(e.removeEventListener("didDismiss",this.handleDidDismiss),e.remove(),((e,t)=>{e instanceof Element&&Object.keys(t).forEach((t=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const n=t.substring(2),i=n[0].toLowerCase()+n.substring(1);ok(i)||Bk(e,i)}}))})(e,this.props))}render(){const t=this.props,{children:i,forwardedRef:r,style:o,className:s,ref:a}=t,l=Qb(t,["children","forwardedRef","style","className","ref"]),c=Object.keys(l).reduce(((e,t)=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const n=t.substring(2).toLowerCase();ok(n)&&(e[t]=l[t])}else["string","boolean","number"].includes(typeof l[t])&&(e[nk(t)]=l[t]);return e}),{}),d=Object.assign(Object.assign({},c),{ref:this.stableMergedRefs,style:o});return G.createElement("template",{},G.createElement(e,d,this.state.isOpen||this.props.keepContentsMounted?G.createElement("div",{ref:this.wrapperRef,className:n?`${zk} ion-page`:zk},i):null))}static get displayName(){return i}};return Nk(r,i)},zk="ion-delegate-host",$k=Fk("ion-action-sheet",wx),Vk=Y.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),qk=({onAddOverlay:e,onRemoveOverlay:t})=>{const[n,i]=G.useState({}),r=G.useRef({});G.useEffect((()=>{e(o),t(s)}),[]);const o=(e,t,n)=>{const o=Object.assign({},r.current);o[e]={component:t,containerElement:n},r.current=o,i(o)},s=e=>{const t=Object.assign({},r.current);delete t[e],r.current=t,i(t)},a=Object.keys(n);return Y.createElement(Y.Fragment,null,a.map((e=>{const t=n[e];return de.createPortal(t.component,t.containerElement,`overlay-${e}`)})))},Hk=ck("ion-tab-button",0,0,Ox),Wk=ck("ion-tab-bar",0,0,Px),Gk=ck("ion-tabs",0,0,Rx),Yk=ck("ion-back-button",0,0,Ex),Kk=ck("ion-router-outlet",0,0,Ix),Xk=ck("ion-app",0,0,Tx),Qk=ck("ion-icon",0,0,Qx),Jk=(()=>class extends Y.Component{constructor(e){super(e),this.ionContext={addOverlay:(e,t,n)=>{this.addOverlayCallback&&this.addOverlayCallback(e,t,n)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return Y.createElement(Vk.Provider,{value:this.ionContext},Y.createElement(Xk,Object.assign({},this.props),this.props.children),Y.createElement(qk,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}}))}static get displayName(){return"IonApp"}})(),Zk=Y.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class eT extends Y.PureComponent{constructor(e){super(e),this.ionPageElementRef=Y.createRef(),this.stableMergedRefs=lk(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:n,routeInfo:i,forwardedRef:r}=e,o=Qb(e,["className","children","routeInfo","forwardedRef"]);return Y.createElement(Jx.Consumer,null,(e=>(this.ionLifeCycleContext=e,Y.createElement("div",Object.assign({className:t?`${t} ion-page`:"ion-page",ref:this.stableMergedRefs},o),n))))}static get contextType(){return Zk}}class tT extends Y.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:n,forwardedRef:i}=e,r=Qb(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?Y.createElement(eT,Object.assign({className:t?`${t}`:"",routeInfo:this.context.routeInfo,forwardedRef:i},r),n):Y.createElement("div",Object.assign({className:t?`ion-page ${t}`:"ion-page",ref:i},r),n)}static get displayName(){return"IonPage"}static get contextType(){return ek}}const nT=Nk(tT,"IonPage"),iT={main:0},rT=(e="main")=>{var t;const n=(null!==(t=iT[e])&&void 0!==t?t:0)+1;return iT[e]=n,n.toString()},oT=ck("ion-nav",0,0,Ew);Nk((e=>{var{children:t,forwardedRef:n}=e,i=Qb(e,["children","forwardedRef"]);const[r,o]=G.useState([]),s=e=>o((t=>[...t,e])),a=e=>o((t=>t.filter((t=>t!==e)))),l=G.useMemo((()=>((e,t)=>{const n=new WeakMap,i=`react-delegate-${rT()}`;let r=0;return{attachViewToDom:async(t,o,s,a)=>{const l=document.createElement("div");a&&l.classList.add(...a),t.appendChild(l);const c=o(s),d=`${i}-${r++}`,u=ce.createPortal(c,l,d);return n.set(l,u),e(u),Promise.resolve(l)},removeViewFromDom:(e,i)=>{const r=n.get(i);return r&&t(r),i.remove(),Promise.resolve()}}})(s,a)),[]);return Y.createElement(oT,Object.assign({delegate:l,ref:n},i),r)}),"IonNav");const sT=Y.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:Y.createRef()}}),aT="undefined"!=typeof HTMLElement?HTMLElement:class{};class lT extends Y.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||qf(this.ionRouterOutlet,(()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:n,routeInfo:i}=e,r=Qb(e,["StackManager","children","routeInfo"]);return Y.createElement(Jx.Consumer,null,(e=>(this.ionLifeCycleContext=e,Y.createElement(t,{routeInfo:i},Y.createElement(Kk,Object.assign({setRef:e=>this.ionRouterOutlet=e},r),n)))))}static get contextType(){return Zk}}class cT extends Y.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:n,forwardedRef:i}=t,r=Qb(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?r.ionPage?Y.createElement(lT,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},r),n):Y.createElement(e,{routeInfo:this.context.routeInfo},Y.createElement(Kk,Object.assign({},r,{forwardedRef:i}),n)):Y.createElement(Kk,Object.assign({ref:i},this.props),this.props.children)}static get contextType(){return ek}}const dT=Nk(cT,"IonRouterOutlet");class uT extends aT{constructor(){super()}}if("undefined"!=typeof window&&window.customElements){window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",uT)}const hT=(()=>class extends Y.Component{constructor(e){super(e),this.routerOutletRef=Y.createRef(),this.tabBarRef=Y.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,t){return Y.createElement(Gk,Object.assign({},this.props),Y.Children.map(e,(e=>{if(Y.isValidElement(e)){if(e.type===dT||e.type.isRouterOutlet||e.type===G.Fragment&&e.props.children[0].type===dT)return t}return e})))}render(){let e,t=!1;const n=this.props,{className:i,onIonTabsDidChange:r,onIonTabsWillChange:o}=n,s=Qb(n,["className","onIonTabsDidChange","onIonTabsWillChange"]),a="function"==typeof this.props.children?this.props.children(this.ionTabContextState):this.props.children;if(Y.Children.forEach(a,(n=>{if(null==n||"object"!=typeof n||!n.hasOwnProperty("type"))return;n.type===dT||n.type.isRouterOutlet?e=Y.cloneElement(n):n.type===G.Fragment&&n.props.children[0].type===dT?e=Y.cloneElement(n.props.children[0]):n.type===Pk&&(t=!0),this.ionTabContextState.hasRouterOutlet=!!e;let i=Object.assign({},this.ionTabContextState.tabBarProps);void 0!==r&&(i=Object.assign(Object.assign({},i),{onIonTabsDidChange:r})),void 0!==o&&(i=Object.assign(Object.assign({},i),{onIonTabsWillChange:o})),this.ionTabContextState.tabBarProps=i})),!e&&!t)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&t)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return t?Y.createElement(Gk,Object.assign({},this.props)):Y.createElement(sT.Provider,{value:this.ionTabContextState},this.context.hasIonicRouter()?Y.createElement(eT,Object.assign({className:i?`${i}`:"",routeInfo:this.context.routeInfo},s),this.renderTabsInner(a,e)):this.renderTabsInner(a,e))}static get contextType(){return ek}})(),pT=(()=>class extends Y.Component{constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const e=Qb(this.props,["onClick"]);return Y.createElement(Hk,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class mT extends Y.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=e=>{};const t={};Y.Children.forEach(e.children,(n=>{var i,r,o,s;null!=n&&"object"==typeof n&&n.props&&(n.type===pT||n.type.isTabButton)&&(t[n.props.tab]={originalHref:n.props.href,currentHref:n.props.href,originalRouteOptions:n.props.href===(null===(i=e.routeInfo)||void 0===i?void 0:i.pathname)?null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions:void 0,currentRouteOptions:n.props.href===(null===(o=e.routeInfo)||void 0===o?void 0:o.pathname)?null===(s=e.routeInfo)||void 0===s?void 0:s.routeOptions:void 0})})),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,t=Object.keys(e).find((t=>{const n=e[t].originalHref;return this.props.routeInfo.pathname.startsWith(n)}));t&&this.setState({activeTab:t})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}static getDerivedStateFromProps(e,t){var n,i,r;const o=Object.assign({},t.tabs),s=Object.keys(t.tabs).find((n=>{const i=t.tabs[n].originalHref;return e.routeInfo.pathname.startsWith(i)}));Y.Children.forEach(e.children,(e=>{if(null!=e&&"object"==typeof e&&e.props&&(e.type===pT||e.type.isTabButton)){const t=o[e.props.tab];t&&t.originalHref===e.props.href||(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));const{activeTab:a}=t;if(s&&a){const l=t.tabs[a].currentHref,c=t.tabs[a].currentRouteOptions;s===a&&l===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)&&c===(null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions)||(o[s]={originalHref:o[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[s].originalRouteOptions,currentRouteOptions:null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions},"pop"===e.routeInfo.routeAction&&s!==a&&(o[a]={originalHref:o[a].originalHref,currentHref:o[a].originalHref,originalRouteOptions:o[a].originalRouteOptions,currentRouteOptions:o[a].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:o}}onTabButtonClick(e,t){var n;const i=this.state.tabs[e.detail.tab],r=i.originalHref,o=null===(n=this.props.tabsContext)||void 0===n?void 0:n.hasRouterOutlet,s=o?e.detail.href:"",{activeTab:a}=this.state;t&&t(e),a===e.detail.tab?r!==s&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions)))}renderTabButton(e){return t=>{var n,i;if(null!=t&&t.props&&(t.type===pT||t.type.isTabButton)){const r=t.props.tab===e?null===(n=this.props.routeInfo)||void 0===n?void 0:n.pathname:this.state.tabs[t.props.tab].currentHref,o=t.props.tab===e?null===(i=this.props.routeInfo)||void 0===i?void 0:i.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return Y.cloneElement(t,{href:r,routeOptions:o,onClick:e=>this.onTabButtonClick(e,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return Y.createElement(Wk,Object.assign({},this.props,{selectedTab:e}),Y.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return ek}}const fT=Y.memo((e=>{var{forwardedRef:t}=e,n=Qb(e,["forwardedRef"]);const i=G.useContext(ek),r=G.useContext(sT),o=t||r.tabBarProps.ref,s=Object.assign(Object.assign({},r.tabBarProps),{ref:o});return Y.createElement(mT,Object.assign({ref:o},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab,tabsContext:Object.assign(Object.assign({},r),{tabBarProps:s})}),n.children)})),gT=Nk(fT,"IonTabBar"),bT=(()=>class extends Y.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&null!==e.target.closest("ion-nav"))return;const{defaultHref:t,routerAnimation:n}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(t,n)):void 0!==t&&(window.location.href=t)}}render(){return Y.createElement(Yk,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return ek}})();class vT extends Y.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const n=this.props,{icon:i,ios:r,md:o,mode:s}=n,a=Qb(n,["icon","ios","md","mode"]);let l;const c=Lk(),d=s||(null==c?void 0:c.get("mode"));return l=r||o?"ios"===d?null!==(e=null!=r?r:o)&&void 0!==e?e:i:null!==(t=null!=o?o:r)&&void 0!==t?t:i:i,Y.createElement(Qk,Object.assign({ref:this.props.forwardedRef,icon:l},a),this.props.children)}static get contextType(){return ek}}const yT=Nk(vT,"IonIcon");class wT extends Y.PureComponent{render(){const e=this.context.getIonRoute();return this.context.hasIonicRouter()&&wT?Y.createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}static get contextType(){return ek}}Y.PureComponent;const _T=Y.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function xT(){const e=G.useContext(_T);return G.useMemo((()=>({back:e.back,push:e.push,goBack:e.back,canGoBack:e.canGoBack,routeInfo:e.routeInfo})),[e.back,e.push,e.canGoBack,e.routeInfo])}Y.PureComponent;function kT(e,t,n){const i=G.useRef(),r=G.useMemo((()=>`on${e}DidDismiss`),[e]),o=G.useMemo((()=>`on${e}DidPresent`),[e]),s=G.useMemo((()=>`on${e}WillDismiss`),[e]),a=G.useMemo((()=>`on${e}WillPresent`),[e]);n();const l=G.useCallback((async e=>{if(i.current)return;const{onDidDismiss:n,onWillDismiss:l,onDidPresent:c,onWillPresent:d}=e,u=Qb(e,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]);i.current=await t.create(Object.assign({},u)),ik(i.current,{[r]:e=>{n&&n(e),i.current=void 0},[o]:e=>c&&c(e),[s]:e=>l&&l(e),[a]:e=>d&&d(e)}),i.current.present()}),[t]);return{present:l,dismiss:G.useCallback((async()=>{i.current&&await i.current.dismiss(),i.current=void 0}),[])}}function TT(){const e=kT("IonAlert",vb,cx);return[G.useCallback(((t,n)=>"string"==typeof t?e.present({message:t,buttons:null!=n?n:[{text:"Ok"}]}):e.present(t)),[e.present]),e.dismiss]}function ST(){const e=kT("IonToast",xb,yx),t=G.useCallback(((t,n)=>"string"==typeof t?e.present({message:t,duration:n}):e.present(t)),[e.present]);return[t,e.dismiss]}const ET=Y.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class CT extends Y.Component{constructor(e){super(e),this.ionLifeCycleContext=new Zx,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed((()=>{this.props.mount||this._isMounted&&this.setState({show:!1},(()=>this.props.removeView()))})),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return Y.createElement(Jx.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class IT{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){"push"===e.routeAction||null==e.routeAction?this._add(e):"pop"===e.routeAction?this._pop(e):"replace"===e.routeAction&&this._replace(e),"root"===e.routeDirection&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach((e=>{this.locationHistory=this.locationHistory.filter((t=>t.id!==e.id))})),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex((t=>t.id===e.id));t>-1&&this.locationHistory.splice(t,1,e);const n=this.tabHistory[e.tab||""];if(n){const t=n.findIndex((t=>t.id===e.id));t>-1?n.splice(t,1,e):n.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!(!e||!t)&&(e.pathname===t.pathname&&e.search===t.search)}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach((e=>this.tabHistory[e]=[])),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let n=t.length-2;n>=0;n--){const i=t[n];if(i&&i.pathname===e.pushedByRoute)return i}for(let n=this.locationHistory.length-2;n>=0;n--){const t=this.locationHistory[n];if(t&&t.pathname===e.pushedByRoute)return t}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class AT extends Y.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(e,t,n,i,r)=>{this.navigate(e,t,n,r,i)},back:e=>{this.goBack(void 0,e)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){"undefined"!=typeof document&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){"undefined"!=typeof document&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,(e=>{this.nativeGoBack(),e()}))}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",n="push",i,r,o){this.props.onNavigate(e,n,t,i,r,o)}getPageManager(){return eT}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return Y.createElement(ek.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},Y.createElement(_T.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class PT{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout((()=>{delete this.viewStacks[e]}),500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,n=this.viewStacks[t];if(n){const i=n.find((t=>t.id===e.id));i&&(i.mount=!1,this.viewStacks[t]=n.filter((e=>e.id!==i.id)))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach((e=>{t.push(...this.viewStacks[e])})),t}}function DT(e,t){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DT(e,t)}function OT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,DT(e,t)}var NT={exports:{}};function LT(){}function RT(){}RT.resetWarningCache=LT;NT.exports=function(){function e(e,t,n,i,r,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RT,resetWarningCache:LT};return n.PropTypes=n,n}();const jT=o(NT.exports);function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},MT.apply(null,arguments)}const UT=Object.freeze(Object.defineProperty({__proto__:null,get default(){return MT}},Symbol.toStringTag,{value:"Module"}));function BT(e){return"/"===e.charAt(0)}function FT(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}function zT(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function $T(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return $T(e,t[n])}));if("object"==typeof e||"object"==typeof t){var n=zT(e),i=zT(t);return n!==e||i!==t?$T(n,i):Object.keys(Object.assign({},e,t)).every((function(n){return $T(e[n],t[n])}))}return!1}function VT(e,t){throw new Error("Invariant failed")}function qT(e){return"/"===e.charAt(0)?e:"/"+e}function HT(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function WT(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function GT(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function YT(e,t,n,i){var r;"string"==typeof e?(r=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e),r.state=t):(void 0===(r=MT({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(HS){throw HS instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):HS}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&BT(e),s=t&&BT(t),a=o||s;if(e&&BT(e)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";if(r.length){var l=r[r.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,d=r.length;d>=0;d--){var u=r[d];"."===u?FT(r,d):".."===u?(FT(r,d),c++):c&&(FT(r,d),c--)}if(!a)for(;c--;c)r.unshift("..");!a||""===r[0]||r[0]&&BT(r[0])||r.unshift("");var h=r.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function KT(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&$T(e.state,t.state)}function XT(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var QT=!("undefined"==typeof window||!window.document||!window.document.createElement);function JT(e,t){t(window.confirm(e))}var ZT="popstate",eS="hashchange";function tS(){try{return window.history.state||{}}catch(HS){return{}}}function nS(e){void 0===e&&(e={}),QT||VT();var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,s=o.forceRefresh,a=void 0!==s&&s,l=o.getUserConfirmation,c=void 0===l?JT:l,d=o.keyLength,u=void 0===d?6:d,h=e.basename?WT(qT(e.basename)):"";function p(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return h&&(o=HT(o,h)),YT(o,i,n)}function m(){return Math.random().toString(36).substr(2,u)}var f=XT();function g(e){MT(I,e),I.length=n.length,f.notifyListeners(I.location,I.action)}function b(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(p(e.state))}function v(){w(p(tS()))}var y=!1;function w(e){if(y)y=!1,g();else{f.confirmTransitionTo(e,"POP",c,(function(t){t?g({action:"POP",location:e}):function(e){var t=I.location,n=x.indexOf(t.key);-1===n&&(n=0);var i=x.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(y=!0,T(r))}(e)}))}}var _=p(tS()),x=[_.key];function k(e){return h+GT(e)}function T(e){n.go(e)}var S=0;function E(e){1===(S+=e)&&1===e?(window.addEventListener(ZT,b),r&&window.addEventListener(eS,v)):0===S&&(window.removeEventListener(ZT,b),r&&window.removeEventListener(eS,v))}var C=!1;var I={length:n.length,action:"POP",location:_,createHref:k,push:function(e,t){var r="PUSH",o=YT(e,t,m(),I.location);f.confirmTransitionTo(o,r,c,(function(e){if(e){var t=k(o),s=o.key,l=o.state;if(i)if(n.pushState({key:s,state:l},null,t),a)window.location.href=t;else{var c=x.indexOf(I.location.key),d=x.slice(0,c+1);d.push(o.key),x=d,g({action:r,location:o})}else window.location.href=t}}))},replace:function(e,t){var r="REPLACE",o=YT(e,t,m(),I.location);f.confirmTransitionTo(o,r,c,(function(e){if(e){var t=k(o),s=o.key,l=o.state;if(i)if(n.replaceState({key:s,state:l},null,t),a)window.location.replace(t);else{var c=x.indexOf(I.location.key);-1!==c&&(x[c]=o.key),g({action:r,location:o})}else window.location.replace(t)}}))},go:T,goBack:function(){T(-1)},goForward:function(){T(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return C||(E(1),C=!0),function(){return C&&(C=!1,E(-1)),t()}},listen:function(e){var t=f.appendListener(e);return E(1),function(){E(-1),t()}}};return I}var iS={exports:{}},rS=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};iS.exports=fS,iS.exports.parse=sS,iS.exports.compile=function(e,t){return cS(sS(e,t),t)},iS.exports.tokensToFunction=cS,iS.exports.tokensToRegExp=mS;var oS=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function sS(e,t){for(var n,i=[],r=0,o=0,s="",a=t&&t.delimiter||"/";null!=(n=oS.exec(e));){var l=n[0],c=n[1],d=n.index;if(s+=e.slice(o,d),o=d+l.length,c)s+=c[1];else{var u=e[o],h=n[2],p=n[3],m=n[4],f=n[5],g=n[6],b=n[7];s&&(i.push(s),s="");var v=null!=h&&null!=u&&u!==h,y="+"===g||"*"===g,w="?"===g||"*"===g,_=h||a,x=m||f,k=h||("string"==typeof i[i.length-1]?i[i.length-1]:"");i.push({name:p||r++,prefix:h||"",delimiter:_,optional:w,repeat:y,partial:v,asterisk:!!b,pattern:x?uS(x):b?".*":aS(_,k)})}}return o<e.length&&(s+=e.substr(o)),s&&i.push(s),i}function aS(e,t){return!t||t.indexOf(e)>-1?"[^"+dS(e)+"]+?":dS(t)+"|(?:(?!"+dS(t)+")[^"+dS(e)+"])+?"}function lS(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function cS(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",pS(t)));return function(t,i){for(var r="",o=t||{},s=(i||{}).pretty?lS:encodeURIComponent,a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var c,d=o[l.name];if(null==d){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(rS(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=s(d[u]),!n[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===u?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(d),!n[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function dS(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function uS(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function hS(e,t){return e.keys=t,e}function pS(e){return e&&e.sensitive?"":"i"}function mS(e,t,n){rS(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"==typeof a)o+=dS(a);else{var l=dS(a.prefix),c="(?:"+a.pattern+")";t.push(a),a.repeat&&(c+="(?:"+l+c+")*"),o+=c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=dS(n.delimiter||"/"),u=o.slice(-d.length)===d;return i||(o=(u?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=r?"$":i&&u?"":"(?="+d+"|$)",hS(new RegExp("^"+o,pS(n)),t)}function fS(e,t,n){return rS(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return hS(e,t)}(e,t):rS(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(fS(e[r],t,n).source);return hS(new RegExp("(?:"+i.join("|")+")",pS(n)),t)}(e,t,n):function(e,t,n){return mS(sS(e,n),t,n)}(e,t,n)}const gS=o(iS.exports);var bS={},vS="function"==typeof Symbol&&Symbol.for,yS=vS?Symbol.for("react.element"):60103,wS=vS?Symbol.for("react.portal"):60106,_S=vS?Symbol.for("react.fragment"):60107,xS=vS?Symbol.for("react.strict_mode"):60108,kS=vS?Symbol.for("react.profiler"):60114,TS=vS?Symbol.for("react.provider"):60109,SS=vS?Symbol.for("react.context"):60110,ES=vS?Symbol.for("react.async_mode"):60111,CS=vS?Symbol.for("react.concurrent_mode"):60111,IS=vS?Symbol.for("react.forward_ref"):60112,AS=vS?Symbol.for("react.suspense"):60113,PS=vS?Symbol.for("react.suspense_list"):60120,DS=vS?Symbol.for("react.memo"):60115,OS=vS?Symbol.for("react.lazy"):60116,NS=vS?Symbol.for("react.block"):60121,LS=vS?Symbol.for("react.fundamental"):60117,RS=vS?Symbol.for("react.responder"):60118,jS=vS?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
             * react-is.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function MS(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case yS:switch(e=e.type){case ES:case CS:case _S:case kS:case xS:case AS:return e;default:switch(e=e&&e.$$typeof){case SS:case IS:case OS:case DS:case TS:return e;default:return t}}case wS:return t}}}function US(e){return MS(e)===CS}function BS(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}bS.AsyncMode=ES,bS.ConcurrentMode=CS,bS.ContextConsumer=SS,bS.ContextProvider=TS,bS.Element=yS,bS.ForwardRef=IS,bS.Fragment=_S,bS.Lazy=OS,bS.Memo=DS,bS.Portal=wS,bS.Profiler=kS,bS.StrictMode=xS,bS.Suspense=AS,bS.isAsyncMode=function(e){return US(e)||MS(e)===ES},bS.isConcurrentMode=US,bS.isContextConsumer=function(e){return MS(e)===SS},bS.isContextProvider=function(e){return MS(e)===TS},bS.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===yS},bS.isForwardRef=function(e){return MS(e)===IS},bS.isFragment=function(e){return MS(e)===_S},bS.isLazy=function(e){return MS(e)===OS},bS.isMemo=function(e){return MS(e)===DS},bS.isPortal=function(e){return MS(e)===wS},bS.isProfiler=function(e){return MS(e)===kS},bS.isStrictMode=function(e){return MS(e)===xS},bS.isSuspense=function(e){return MS(e)===AS},bS.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===_S||e===CS||e===kS||e===xS||e===AS||e===PS||"object"==typeof e&&null!==e&&(e.$$typeof===OS||e.$$typeof===DS||e.$$typeof===TS||e.$$typeof===SS||e.$$typeof===IS||e.$$typeof===LS||e.$$typeof===RS||e.$$typeof===jS||e.$$typeof===NS)},bS.typeOf=MS;var FS={exports:{}},zS={},$S="function"==typeof Symbol&&Symbol.for,VS=$S?Symbol.for("react.element"):60103,qS=$S?Symbol.for("react.portal"):60106,HS=$S?Symbol.for("react.fragment"):60107,WS=$S?Symbol.for("react.strict_mode"):60108,GS=$S?Symbol.for("react.profiler"):60114,YS=$S?Symbol.for("react.provider"):60109,KS=$S?Symbol.for("react.context"):60110,XS=$S?Symbol.for("react.async_mode"):60111,QS=$S?Symbol.for("react.concurrent_mode"):60111,JS=$S?Symbol.for("react.forward_ref"):60112,ZS=$S?Symbol.for("react.suspense"):60113,eE=$S?Symbol.for("react.suspense_list"):60120,tE=$S?Symbol.for("react.memo"):60115,nE=$S?Symbol.for("react.lazy"):60116,iE=$S?Symbol.for("react.block"):60121,rE=$S?Symbol.for("react.fundamental"):60117,oE=$S?Symbol.for("react.responder"):60118,sE=$S?Symbol.for("react.scope"):60119;function aE(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case VS:switch(e=e.type){case XS:case QS:case HS:case GS:case WS:case ZS:return e;default:switch(e=e&&e.$$typeof){case KS:case JS:case nE:case tE:case YS:return e;default:return t}}case qS:return t}}}function lE(e){return aE(e)===QS}zS.AsyncMode=XS,zS.ConcurrentMode=QS,zS.ContextConsumer=KS,zS.ContextProvider=YS,zS.Element=VS,zS.ForwardRef=JS,zS.Fragment=HS,zS.Lazy=nE,zS.Memo=tE,zS.Portal=qS,zS.Profiler=GS,zS.StrictMode=WS,zS.Suspense=ZS,zS.isAsyncMode=function(e){return lE(e)||aE(e)===XS},zS.isConcurrentMode=lE,zS.isContextConsumer=function(e){return aE(e)===KS},zS.isContextProvider=function(e){return aE(e)===YS},zS.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===VS},zS.isForwardRef=function(e){return aE(e)===JS},zS.isFragment=function(e){return aE(e)===HS},zS.isLazy=function(e){return aE(e)===nE},zS.isMemo=function(e){return aE(e)===tE},zS.isPortal=function(e){return aE(e)===qS},zS.isProfiler=function(e){return aE(e)===GS},zS.isStrictMode=function(e){return aE(e)===WS},zS.isSuspense=function(e){return aE(e)===ZS},zS.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===HS||e===QS||e===GS||e===WS||e===ZS||e===eE||"object"==typeof e&&null!==e&&(e.$$typeof===nE||e.$$typeof===tE||e.$$typeof===YS||e.$$typeof===KS||e.$$typeof===JS||e.$$typeof===rE||e.$$typeof===oE||e.$$typeof===sE||e.$$typeof===iE)},zS.typeOf=aE,FS.exports=zS;var cE=FS.exports,dE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pE={};function mE(e){return cE.isMemo(e)?hE:pE[e.$$typeof]||dE}pE[cE.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pE[cE.Memo]=hE;var fE=Object.defineProperty,gE=Object.getOwnPropertyNames,bE=Object.getOwnPropertySymbols,vE=Object.getOwnPropertyDescriptor,yE=Object.getPrototypeOf,wE=Object.prototype;var _E=function e(t,n,i){if("string"!=typeof n){if(wE){var r=yE(n);r&&r!==wE&&e(t,r,i)}var o=gE(n);bE&&(o=o.concat(bE(n)));for(var s=mE(t),a=mE(n),l=0;l<o.length;++l){var c=o[l];if(!(uE[c]||i&&i[c]||a&&a[c]||s&&s[c])){var d=vE(n,c);try{fE(t,c,d)}catch(HS){}}}}return t};const xE=o(_E);var kE=1073741823,TE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var SE=Y.createContext||function(e,t){var n,i,r,o="__create-react-context-"+((TE[r="__global_unique_id__"]=(TE[r]||0)+1)+"__"),s=function(e){function n(){for(var t,n,i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).emitter=(n=t.props.value,i=[],{on:function(e){i.push(e)},off:function(e){i=i.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,i.forEach((function(e){return e(n,t)}))}}),t}OT(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,r=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(i,r)?(n="function"==typeof t?t(i,r):kE,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},i.render=function(){return this.props.children},n}(Y.Component);s.childContextTypes=((n={})[o]=jT.object.isRequired,n);var a=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){(0|e.observedBits)&n&&e.setState({value:e.getValue()})},e}OT(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?kE:t},i.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?kE:e},i.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},i.getValue=function(){return this.context[o]?this.context[o].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(Y.Component);return a.contextTypes=((i={})[o]=jT.object,i),{Provider:s,Consumer:a}},EE=function(e){var t=SE();return t.displayName=e,t},CE=EE("Router-History"),IE=EE("Router"),AE=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}OT(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Y.createElement(IE.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Y.createElement(CE.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Y.Component);Y.Component;var PE=function(e){function t(){return e.apply(this,arguments)||this}OT(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Y.Component),DE={},OE=0;function NE(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(DE[e])return DE[e];var t=gS.compile(e);return OE<1e4&&(DE[e]=t,OE++),t}(e)(t,{pretty:!0})}function LE(e){var t=e.computedMatch,n=e.to,i=e.push,r=void 0!==i&&i;return Y.createElement(IE.Consumer,null,(function(e){e||VT();var i=e.history,o=e.staticContext,s=r?i.push:i.replace,a=YT(t?"string"==typeof n?NE(n,t.params):MT({},n,{pathname:NE(n.pathname,t.params)}):n);return o?(s(a),null):Y.createElement(PE,{onMount:function(){s(a)},onUpdate:function(e,t){var n=YT(t.to);KT(n,MT({},a,{key:n.key}))||s(a)},to:n})}))}var RE={},jE=0;function ME(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,r=n.exact,o=void 0!==r&&r,s=n.strict,a=void 0!==s&&s,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=RE[n]||(RE[n]={});if(i[e])return i[e];var r=[],o={regexp:gS(e,r,t),keys:r};return jE<1e4&&(i[e]=o,jE++),o}(n,{end:o,strict:a,sensitive:c}),r=i.regexp,s=i.keys,l=r.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),h=e===d;return o&&!h?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:h,params:s.reduce((function(e,t,n){return e[t.name]=u[n],e}),{})}}),null)}var UE=function(e){function t(){return e.apply(this,arguments)||this}return OT(t,e),t.prototype.render=function(){var e=this;return Y.createElement(IE.Consumer,null,(function(t){t||VT();var n=e.props.location||t.location,i=MT({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ME(n.pathname,e.props):t.match}),r=e.props,o=r.children,s=r.component,a=r.render;return Array.isArray(o)&&function(e){return 0===Y.Children.count(e)}(o)&&(o=null),Y.createElement(IE.Provider,{value:i},i.match?o?"function"==typeof o?o(i):o:s?Y.createElement(s,i):a?a(i):null:"function"==typeof o?o(i):null)}))},t}(Y.Component);Y.Component;var BE=function(e){function t(){return e.apply(this,arguments)||this}return OT(t,e),t.prototype.render=function(){var e=this;return Y.createElement(IE.Consumer,null,(function(t){t||VT();var n,i,r=e.props.location||t.location;return Y.Children.forEach(e.props.children,(function(e){if(null==i&&Y.isValidElement(e)){n=e;var o=e.props.path||e.props.from;i=o?ME(r.pathname,MT({},e.props,{path:o})):t.match}})),i?Y.cloneElement(n,{location:r,computedMatch:i}):null}))},t}(Y.Component);Y.useContext;const FE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",zE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z'/></svg>";class $E extends Y.PureComponent{render(){return Y.createElement(UE,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},void 0!==this.props.computedMatch?{computedMatch:this.props.computedMatch}:{}))}}const VE=({pathname:e,componentProps:t})=>{const{exact:n,component:i}=t,r=ME(e,{exact:n,path:t.path||t.from,component:i});return r||!1};class qE extends PT{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,n,i){const r={id:rT("viewItem"),outletId:e,ionPageElement:i,reactElement:t,mount:!0,ionRoute:!1};return t.type===wT&&(r.ionRoute=!0,r.disableIonPageManagement=t.props.disableIonPageManagement),r.routeData={match:VE({pathname:n.pathname,componentProps:t.props}),childProps:t.props},r}getChildrenToRender(e,t,n){const i=this.getViewItemsForOutlet(e);Y.Children.forEach(t.props.children,(e=>{const t=i.find((t=>HE(e,t.routeData.childProps.path||t.routeData.childProps.from)));t&&(t.reactElement=e)}));return i.map((e=>{let t;if(e.ionRoute&&!e.disableIonPageManagement)t=Y.createElement(CT,{key:`view-${e.id}`,mount:e.mount,removeView:()=>this.remove(e)},Y.cloneElement(e.reactElement,{computedMatch:e.routeData.match}));else{const i=HE(e.reactElement,n.pathname);t=Y.createElement(CT,{key:`view-${e.id}`,mount:e.mount,removeView:()=>this.remove(e)},Y.cloneElement(e.reactElement,{computedMatch:e.routeData.match})),!i&&e.routeData.match&&(e.routeData.match=void 0,e.mount=!1)}return t}))}findViewItemByRouteInfo(e,t,n){const{viewItem:i,match:r}=this.findViewItemByPath(e.pathname,t);return(void 0===n||!0===n)&&i&&r&&(i.routeData.match=r),i}findLeavingViewItemByRouteInfo(e,t,n=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,t,n);return i}findViewItemByPathname(e,t){const{viewItem:n}=this.findViewItemByPath(e,t);return n}findViewItemByPath(e,t,n){let i,r,o;if(t)o=this.getViewItemsForOutlet(t),o.some(s),i||o.some(a);else{const e=this.getAllViewItems();e.some(s),i||e.some(a)}return{viewItem:i,match:r};function s(t){var o,s;if(n&&!t.ionRoute)return!1;if(r=VE({pathname:e,componentProps:t.routeData.childProps}),r){const e=r.path.includes(":");if(!e||e&&r.url===(null===(s=null===(o=t.routeData)||void 0===o?void 0:o.match)||void 0===s?void 0:s.url))return i=t,!0}return!1}function a(t){return!t.routeData.childProps.path&&!t.routeData.childProps.from&&(r={path:e,url:e,isExact:!0,params:{}},i=t,!0)}}}function HE(e,t){return VE({pathname:t,componentProps:e.props})}const WE=e=>!e.classList.contains("ion-page-invisible")&&!e.classList.contains("ion-page-hidden");class GE extends Y.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=rT("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:n}=e.routeInfo;t!==n?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,n;if(this.routerOutletElement&&this.routerOutletElement.commit){let i=this.context.findViewItemByRouteInfo(e,this.id),r=this.context.findLeavingViewItemByRouteInfo(e,this.id);!r&&e.prevRouteLastPathname&&(r=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),r&&("replace"===e.routeAction?r.mount=!1:"push"!==e.routeAction||"forward"!==e.routeDirection?"none"!==e.routeDirection&&i!==r&&(r.mount=!1):(null===(t=e.routeOptions)||void 0===t?void 0:t.unmount)&&(r.mount=!1));const o=function(e,t){let n;if(Y.Children.forEach(e,(e=>{VE({pathname:t.pathname,componentProps:e.props})&&(n=e)})),n)return n;return Y.Children.forEach(e,(e=>{e.props.path||e.props.from||(n=e)})),n}(null===(n=this.ionRouterOutlet)||void 0===n?void 0:n.props.children,e);if(i?i.reactElement=o:o&&(i=this.context.createViewItem(this.id,o,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===r&&i.routeData.match.url!==e.pathname)return;if(!r&&this.props.routeInfo.prevRouteLastPathname&&(r=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),WE(i.ionPageElement)&&void 0!==r&&!WE(r.ionPageElement))return;this.transitionPage(e,i,r)}else!r||o||i||r.ionPageElement&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}else this.pendingPageTransition=!0}registerIonPage(e,t){const n=this.context.findViewItemByRouteInfo(t,this.id);if(n){const t=n.ionPageElement;if(n.ionPageElement=e,n.ionRoute=!0,t===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){e.swipeHandler={canStart:()=>{const t=Lk();if(!(t&&t.get("swipeBackEnabled","ios"===e.mode)))return!1;const{routeInfo:n}=this.props,i=this.prevProps&&this.prevProps.routeInfo.pathname===n.pushedByRoute?this.prevProps.routeInfo:{pathname:n.pushedByRoute||""},r=this.context.findViewItemByRouteInfo(i,this.id,!1);return!!r&&r.mount&&r.routeData.match.path!==n.pathname},onStart:async()=>{const{routeInfo:e}=this.props,t=this.prevProps&&this.prevProps.routeInfo.pathname===e.pushedByRoute?this.prevProps.routeInfo:{pathname:e.pushedByRoute||""},n=this.context.findViewItemByRouteInfo(t,this.id,!1),i=this.context.findViewItemByRouteInfo(e,this.id,!1);return n&&i&&await this.transitionPage(e,n,i,"back",!0),Promise.resolve()},onEnd:e=>{if(e)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:e}=this.props,t=this.prevProps&&this.prevProps.routeInfo.pathname===e.pushedByRoute?this.prevProps.routeInfo:{pathname:e.pushedByRoute||""},n=this.context.findViewItemByRouteInfo(t,this.id,!1);if(n!==this.context.findViewItemByRouteInfo(e,this.id,!1)&&void 0!==(null==n?void 0:n.ionPageElement)){const{ionPageElement:e}=n;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")}}}}}async transitionPage(e,t,n,i,r=!1){const o=async(t,n)=>{const i=this.skipTransition;i?this.skipTransition=!1:(t.classList.add("ion-page"),t.classList.add("ion-page-invisible")),await s.commit(t,n,{duration:i||void 0===l?0:void 0,direction:l,showGoBack:!!e.pushedByRoute,progressAnimation:r,animationBuilder:e.routeAnimation})},s=this.routerOutletElement,a="none"===e.routeDirection||"root"===e.routeDirection?void 0:e.routeDirection,l=null!=i?i:a;if(t&&t.ionPageElement&&this.routerOutletElement)if(n&&n.ionPageElement&&t===n){if(c=n.reactElement,d=e.pathname,u=!0,VE({pathname:d,componentProps:Object.assign(Object.assign({},c.props),{exact:u})})){const e=function(e){let t;if(t="string"==typeof e?e:e.outerHTML,document){const e=document.createElement("div");e.innerHTML=t,e.style.zIndex="";const n=e.getElementsByTagName("ion-back-button");return n[0]&&n[0].remove(),e.firstChild}}(n.ionPageElement.outerHTML);e&&(this.routerOutletElement.appendChild(e),await o(t.ionPageElement,e),this.routerOutletElement.removeChild(e))}else await o(t.ionPageElement,void 0)}else await o(t.ionPageElement,null==n?void 0:n.ionPageElement),n&&n.ionPageElement&&!r&&(n.ionPageElement.classList.add("ion-page-hidden"),n.ionPageElement.setAttribute("aria-hidden","true"));var c,d,u}render(){const{children:e}=this.props,t=Y.Children.only(e);this.ionRouterOutlet=t;const n=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,(()=>{this.forceUpdate()}));return Y.createElement(Zk.Provider,{value:this.stackContextValue},Y.cloneElement(t,{ref:e=>{t.props.setRef&&t.props.setRef(e),t.props.forwardedRef&&(t.props.forwardedRef.current=e),this.routerOutletElement=e;const{ref:n}=t;"function"==typeof n&&n(e)}},n))}static get contextType(){return ET}}class YE extends Y.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new IT,this.viewStack=new qE,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:rT("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,n){if(!t)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[r,o]=t.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===r?(this.incomingRouteParams.routeOptions=n,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=r,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=n,this.props.history.push(r+(o?"?"+o:"")))):this.handleNavigate(r,"push","none",void 0,n,e)}handleHistoryChange(e,t){var n,i,r;let o;o=this.incomingRouteParams&&"replace"===this.incomingRouteParams.routeAction?this.locationHistory.previous():this.locationHistory.current();if(o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if("REPLACE"===t&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),"POP"===t){const e=this.locationHistory.current();if(e&&e.pushedByRoute){const t=this.locationHistory.findLastLocation(e);this.incomingRouteParams=Object.assign(Object.assign({},t),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:(null===(n=e.state)||void 0===n?void 0:n.direction)||"forward",routeOptions:null===(i=e.state)||void 0===i?void 0:i.routerOptions,tab:this.currentTab})}let s;if(null===(r=this.incomingRouteParams)||void 0===r?void 0:r.id)s=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(s);else{const t="push"===this.incomingRouteParams.routeAction&&"forward"===this.incomingRouteParams.routeDirection;if(s=Object.assign(Object.assign({id:rT("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),t)s.tab=o.tab,s.pushedByRoute=o.pathname;else if("pop"===s.routeAction){const e=this.locationHistory.findLastLocation(s);s.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("push"===s.routeAction&&s.tab!==o.tab){const e=this.locationHistory.getCurrentRouteInfoForTab(s.tab);s.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("replace"===s.routeAction){const e=this.locationHistory.current(),t=null==e?void 0:e.pushedByRoute,n=void 0!==t&&t!==s.pathname?t:s.pushedByRoute;s.lastPathname=(null==e?void 0:e.pathname)||s.lastPathname,s.prevRouteLastPathname=null==e?void 0:e.lastPathname,s.pushedByRoute=n,s.routeDirection=s.routeDirection||(null==e?void 0:e.routeDirection),s.routeAnimation=s.routeAnimation||(null==e?void 0:e.routeAnimation)}this.locationHistory.add(s)}this.setState({routeInfo:s})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,n,i,r,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:n,routeOptions:r,routeAnimation:i,tab:o}),"push"===t?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const n=Lk();e=e||n&&n.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const n=this.locationHistory.findLastLocation(i);if(n){const e=t||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},n),{routeAction:"pop",routeDirection:"back",routeAnimation:e}),i.lastPathname===i.pushedByRoute||n.pathname===i.pushedByRoute&&""===i.tab&&""===n.tab){const e=this.props.history;(e.goBack||e.back)()}else this.handleNavigate(n.pathname+(n.search||""),"pop","back",e)}else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,n){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const e=Object.assign({},i);e.pathname=t,e.routeOptions=n,this.incomingRouteParams=Object.assign(Object.assign({},e),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(e.pathname+(e.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return Y.createElement(ET.Provider,{value:this.routeMangerContextState},Y.createElement(AT,{ionRoute:$E,ionRedirect:{},stackManager:GE,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const KE=function(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,i=BS(t,["wrappedComponentRef"]);return Y.createElement(IE.Consumer,null,(function(t){return t||VT(),Y.createElement(e,MT({},i,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,xE(n,e)}(YE);KE.displayName="IonRouter";class XE extends Y.Component{constructor(e){super(e);const{history:t}=e,n=Qb(e,["history"]);this.history=t||nS(n),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const n=e.location||e,i=e.action||t;this.historyListenHandler&&this.historyListenHandler(n,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,n=Qb(e,["children"]);return Y.createElement(AE,Object.assign({history:this.history},n),Y.createElement(KE,{registerHistoryListener:this.registerHistoryListener},t))}}Y.Component;Y.Component;const QE=["ad","adfree"],JE=["gogo","nineanime","animepahe","zoro","animefox","animedrive","anify","crunchyroll","bilibili","marin","animesaturn","animeunity","monoschinos"],ZE=["dramacool","flixhq","fmovies","goku","kissasian","moviehdwatch","smashystream","turkish","viewasian","tmdb"];let eC=["http://localhost:3000","http://65.1.92.65","http://192.168.101.62:3000","http://192.168.220.210:3000",""];var tC={};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const nC=!1,iC="${JSCORE_VERSION}",rC=function(e,t){if(!e)throw oC(t)},oC=function(e){return new Error("Firebase Database ("+iC+") INTERNAL ASSERT FAILED: "+e)},sC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},aC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,d=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(u=64)),i.push(n[c],n[d],n[u],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const s=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==o||null==s||null==a)throw new lC;const l=t<<2|o>>4;if(i.push(l),64!==s){const e=o<<4&240|s>>2;if(i.push(e),64!==a){const e=s<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class lC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(e){const t=sC(e);return aC.encodeByteArray(t,!0)},dC=function(e){return cC(e).replace(/\./g,"")},uC=function(e){try{return aC.decodeString(e,!0)}catch(HS){console.error("base64Decode failed: ",HS)}return null};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function hC(e){return pC(void 0,e)}function pC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=pC(e[n],t[n]));return e}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function mC(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const fC=()=>{try{return mC().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e=tC.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(HS){return}const t=e&&uC(e[1]);return t&&JSON.parse(t)})()}catch(HS){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${HS}`)}},gC=e=>{var t,n;return null===(n=null===(t=fC())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},bC=e=>{const t=gC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},vC=()=>{var e;return null===(e=fC())||void 0===e?void 0:e.config},yC=e=>{var t;return null===(t=fC())||void 0===t?void 0:t[`_${e}`]};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class wC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
             * @license
             * Copyright 2025 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function _C(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function xC(e){return(await fetch(e,{credentials:"include"})).ok}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function kC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dC(JSON.stringify({alg:"none",type:"JWT"})),dC(JSON.stringify(o)),""].join(".")}const TC={};let SC=!1;function EC(e,t){if("undefined"==typeof window||"undefined"==typeof document||!_C(window.location.host)||TC[e]===t||TC[e]||SC)return;function n(e){return`__firebase__banner__${e}`}TC[e]=t;const i="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(TC))TC[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{SC=!0,function(){const e=document.getElementById(i);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(i),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,s,l,n),document.body.appendChild(t)}r?(s.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function CC(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function IC(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(CC())}function AC(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function PC(){return!0===nC}function DC(){return!function(){var e;const t=null===(e=fC())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(HS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OC(){try{return"object"==typeof indexedDB}catch(HS){return!1}}class NC extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,NC.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LC.prototype.create)}}class LC{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(RC,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new NC(i,s,n)}}const RC=/\{\$([^}]+)}/g;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function jC(e){return JSON.parse(e)}function MC(e){return JSON.stringify(e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const UC=function(e){let t={},n={},i={},r="";try{const o=e.split(".");t=jC(uC(o[0])||""),n=jC(uC(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(HS){}return{header:t,claims:n,data:i,signature:r}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function BC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function FC(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function zC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $C(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function VC(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(qC(n)&&qC(o)){if(!VC(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function qC(e){return null!==e&&"object"==typeof e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function HC(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function WC(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function GC(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class YC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)n[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)n[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=4294967295&(e<<1|e>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(i=l^s&(a^l),r=1518500249):(i=s^a^l,r=1859775393):d<60?(i=s&a|l&(s|a),r=2400959708):(i=s^a^l,r=3395469782);const e=(o<<5|o>>>27)+i+c+r+n[d]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}class KC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=XC),void 0===i.error&&(i.error=XC),void 0===i.complete&&(i.complete=XC);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(HS){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(HS){"undefined"!=typeof console&&console.error&&console.error(HS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function XC(){}function QC(e,t){return`${e} failed: ${t} argument `}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const JC=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function ZC(e){return e&&e._delegate?e._delegate:e}let eI=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const tI="[DEFAULT]";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class nI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new wC;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(HS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(HS){if(i)return null;throw HS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e))try{this.getOrInitializeService({instanceIdentifier:tI})}catch(HS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(HS){}}}}clearInstance(e=tI){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=tI){return this.instances.has(e)}getOptions(e=tI){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===tI?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}var i;return n||null}normalizeInstanceIdentifier(e=tI){return this.component?this.component.multipleInstances?e:tI:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var rI;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rI||(rI={}));const oI={debug:rI.DEBUG,verbose:rI.VERBOSE,info:rI.INFO,warn:rI.WARN,error:rI.ERROR,silent:rI.SILENT},sI=rI.INFO,aI={[rI.DEBUG]:"log",[rI.VERBOSE]:"log",[rI.INFO]:"info",[rI.WARN]:"warn",[rI.ERROR]:"error"},lI=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=aI[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class cI{constructor(e){this.name=e,this._logLevel=sI,this._logHandler=lI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rI))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?oI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rI.DEBUG,...e),this._logHandler(this,rI.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rI.VERBOSE,...e),this._logHandler(this,rI.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rI.INFO,...e),this._logHandler(this,rI.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rI.WARN,...e),this._logHandler(this,rI.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rI.ERROR,...e),this._logHandler(this,rI.ERROR,...e)}}let dI,uI;const hI=new WeakMap,pI=new WeakMap,mI=new WeakMap,fI=new WeakMap,gI=new WeakMap;let bI={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pI.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mI.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wI(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function vI(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(uI||(uI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(_I(this),t),wI(hI.get(this))}:function(...t){return wI(e.apply(_I(this),t))}:function(t,...n){const i=e.call(_I(this),t,...n);return mI.set(i,t.sort?t.sort():[t]),wI(i)}}function yI(e){return"function"==typeof e?vI(e):(e instanceof IDBTransaction&&function(e){if(pI.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));pI.set(e,t)}(e),t=e,(dI||(dI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,bI):e);var t}function wI(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(wI(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&hI.set(t,e)})).catch((()=>{})),gI.set(t,e),t}(e);if(fI.has(e))return fI.get(e);const t=yI(e);return t!==e&&(fI.set(e,t),gI.set(t,e)),t}const _I=e=>gI.get(e);const xI=["get","getKey","getAll","getAllKeys","count"],kI=["put","add","delete","clear"],TI=new Map;function SI(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(TI.get(t))return TI.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=kI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!xI.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),r&&o.done]))[0]};return TI.set(t,o),o}bI=(e=>({...e,get:(t,n,i)=>SI(t,n)||e.get(t,n,i),has:(t,n)=>!!SI(t,n)||e.has(t,n)}))(bI);
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class EI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const CI="@firebase/app",II="0.13.2",AI=new cI("@firebase/app"),PI="@firebase/app-compat",DI="@firebase/analytics-compat",OI="@firebase/analytics",NI="@firebase/app-check-compat",LI="@firebase/app-check",RI="@firebase/auth",jI="@firebase/auth-compat",MI="@firebase/database",UI="@firebase/data-connect",BI="@firebase/database-compat",FI="@firebase/functions",zI="@firebase/functions-compat",$I="@firebase/installations",VI="@firebase/installations-compat",qI="@firebase/messaging",HI="@firebase/messaging-compat",WI="@firebase/performance",GI="@firebase/performance-compat",YI="@firebase/remote-config",KI="@firebase/remote-config-compat",XI="@firebase/storage",QI="@firebase/storage-compat",JI="@firebase/firestore",ZI="@firebase/ai",eA="@firebase/firestore-compat",tA="firebase",nA="[DEFAULT]",iA={[CI]:"fire-core",[PI]:"fire-core-compat",[OI]:"fire-analytics",[DI]:"fire-analytics-compat",[LI]:"fire-app-check",[NI]:"fire-app-check-compat",[RI]:"fire-auth",[jI]:"fire-auth-compat",[MI]:"fire-rtdb",[UI]:"fire-data-connect",[BI]:"fire-rtdb-compat",[FI]:"fire-fn",[zI]:"fire-fn-compat",[$I]:"fire-iid",[VI]:"fire-iid-compat",[qI]:"fire-fcm",[HI]:"fire-fcm-compat",[WI]:"fire-perf",[GI]:"fire-perf-compat",[YI]:"fire-rc",[KI]:"fire-rc-compat",[XI]:"fire-gcs",[QI]:"fire-gcs-compat",[JI]:"fire-fst",[eA]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[tA]:"fire-js-all"},rA=new Map,oA=new Map,sA=new Map;function aA(e,t){try{e.container.addComponent(t)}catch(HS){AI.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,HS)}}function lA(e){const t=e.name;if(sA.has(t))return AI.debug(`There were multiple attempts to register component ${t}.`),!1;sA.set(t,e);for(const n of rA.values())aA(n,e);for(const n of oA.values())aA(n,e);return!0}function cA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dA(e){return null!=e&&void 0!==e.settings}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const uA=new LC("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class hA{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eI("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uA.create("app-deleted",{appName:this._name})}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const pA="11.10.0";function mA(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const i=Object.assign({name:nA,automaticDataCollectionEnabled:!0},t),r=i.name;if("string"!=typeof r||!r)throw uA.create("bad-app-name",{appName:String(r)});if(n||(n=vC()),!n)throw uA.create("no-options");const o=rA.get(r);if(o){if(VC(n,o.options)&&VC(i,o.config))return o;throw uA.create("duplicate-app",{appName:r})}const s=new iI(r);for(const l of sA.values())s.addComponent(l);const a=new hA(n,i,s);return rA.set(r,a),a}function fA(e=nA){const t=rA.get(e);if(!t&&e===nA&&vC())return mA();if(!t)throw uA.create("no-app",{appName:e});return t}function gA(e,t,n){var i;let r=null!==(i=iA[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void AI.warn(e.join(" "))}lA(new eI(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const bA="firebase-heartbeat-store";let vA=null;function yA(){return vA||(vA=function(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=wI(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(wI(s.result),e.oldVersion,e.newVersion,wI(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(bA)}catch(HS){console.warn(HS)}}}).catch((e=>{throw uA.create("idb-open",{originalErrorMessage:e.message})}))),vA}async function wA(e,t){try{const n=(await yA()).transaction(bA,"readwrite"),i=n.objectStore(bA);await i.put(t,_A(e)),await n.done}catch(HS){if(HS instanceof NC)AI.warn(HS.message);else{const t=uA.create("idb-set",{originalErrorMessage:null==HS?void 0:HS.message});AI.warn(t.message)}}}function _A(e){return`${e.name}!${e.options.appId}`}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TA(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kA();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(HS){AI.warn(HS)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=kA(),{heartbeatsToSend:n,unsentEntries:i}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),SA(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),SA(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=dC(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(HS){return AI.warn(HS),""}}}function kA(){return(new Date).toISOString().substring(0,10)}class TA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!OC()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(zH){t(zH)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await yA()).transaction(bA),n=await t.objectStore(bA).get(_A(e));return await t.done,n}catch(HS){if(HS instanceof NC)AI.warn(HS.message);else{const t=uA.create("idb-get",{originalErrorMessage:null==HS?void 0:HS.message});AI.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wA(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wA(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function SA(e){return dC(JSON.stringify({version:2,heartbeats:e})).length}var EA;EA="",lA(new eI("platform-logger",(e=>new EI(e)),"PRIVATE")),lA(new eI("heartbeat",(e=>new xA(e)),"PRIVATE")),gA(CI,II,EA),gA(CI,II,"esm2017"),gA("fire-js","");function CA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
gA("firebase","11.10.0","app");const IA=CA,AA=new LC("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),PA=new cI("@firebase/auth");function DA(e,...t){PA.logLevel<=rI.ERROR&&PA.error(`Auth (${pA}): ${e}`,...t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function OA(e,...t){throw MA(e,...t)}function NA(e,...t){return MA(e,...t)}function LA(e,t,n){const i=Object.assign(Object.assign({},IA()),{[t]:n});return new LC("auth","Firebase",i).create(t,{appName:e.name})}function RA(e){return LA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jA(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&OA(e,"argument-error"),LA(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MA(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return AA.create(e,...t)}function UA(e,t,...n){if(!e)throw MA(t,...n)}function BA(e){const t="INTERNAL ASSERTION FAILED: "+e;throw DA(t),new Error(t)}function FA(e,t){e||BA(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function zA(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $A(){return"http:"===VA()||"https:"===VA()}function VA(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function qA(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($A()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class HA{constructor(e,t){this.shortDelay=e,this.longDelay=t,FA(t>e,"Short delay should be less than long delay!"),this.isMobile=IC()||AC()}get(){return qA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function WA(e,t){FA(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class GA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void BA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void BA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void BA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const YA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},KA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XA=new HA(3e4,6e4);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function QA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function JA(e,t,n,i,r={}){return ZA(e,r,(async()=>{let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const s=HC(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},r);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&_C(e.emulatorConfig.host)&&(l.credentials="include"),GA.fetch()(await tP(e,e.config.apiHost,n,s),l)}))}async function ZA(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},YA),t);try{const t=new iP(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw rP(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw rP(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw rP(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw rP(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw LA(e,a,s);OA(e,a)}}catch(HS){if(HS instanceof NC)throw HS;OA(e,"network-request-failed",{message:String(HS)})}}async function eP(e,t,n,i,r={}){const o=await JA(e,t,n,i,r);return"mfaPendingCredential"in o&&OA(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function tP(e,t,n,i){const r=`${t}${n}?${i}`,o=e,s=o.config.emulator?WA(e.config,r):`${e.config.apiScheme}://${r}`;if(KA.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function nP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(NA(this.auth,"network-request-failed"))),XA.get())}))}}function rP(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=NA(e,t,i);return r.customData._tokenResponse=n,r}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function oP(e){return void 0!==e&&void 0!==e.getResponse}function sP(e){return void 0!==e&&void 0!==e.enterprise}class aP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nP(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function lP(e,t){return JA(e,"GET","/v2/recaptchaConfig",QA(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function cP(e,t){return JA(e,"POST","/v1/accounts:lookup",t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function dP(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(HS){}}function uP(e){return 1e3*Number(e)}function hP(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return DA("JWT malformed, contained fewer than 3 sections"),null;try{const e=uC(n);return e?JSON.parse(e):(DA("Failed to decode base64 JWT payload"),null)}catch(HS){return DA("Caught error parsing JWT payload as JSON",null==HS?void 0:HS.toString()),null}}function pP(e){const t=hP(e);return UA(t,"internal-error"),UA(void 0!==t.exp,"internal-error"),UA(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function mP(e,t,n=!1){if(n)return t;try{return await t}catch(HS){throw HS instanceof NC&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(HS)&&e.auth.currentUser===e&&await e.auth.signOut(),HS}}class fP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(HS){return void("auth/network-request-failed"===(null==HS?void 0:HS.code)&&this.schedule(!0))}this.schedule()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class gP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dP(this.lastLoginAt),this.creationTime=dP(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function bP(e){var t;const n=e.auth,i=await e.getIdToken(),r=await mP(e,cP(n,{idToken:i}));UA(null==r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?yP(o.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),d=!!l&&c,u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gP(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,u)}async function vP(e){const t=ZC(e);await bP(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yP(e){return e.map((e=>{var{providerId:t}=e,n=Qb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class wP{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){UA(e.idToken,"internal-error"),UA(void 0!==e.idToken,"internal-error"),UA(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):pP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){UA(0!==e.length,"internal-error");const t=pP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(UA(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await ZA(e,{},(async()=>{const n=HC({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=await tP(e,i,"/v1/token",`key=${r}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&_C(e.emulatorConfig.host)&&(a.credentials="include"),GA.fetch()(o,a)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new wP;return n&&(UA("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(UA("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(UA("number"==typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wP,this.toJSON())}_performRefresh(){return BA("not implemented")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function _P(e,t){UA("string"==typeof e||void 0===e,"internal-error",{appName:t})}class xP{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Qb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new gP(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await mP(this,this.stsTokenManager.getToken(this.auth,e));return UA(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ZC(e),i=await n.getIdToken(t),r=hP(i);UA(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:dP(uP(r.auth_time)),issuedAtTime:dP(uP(r.iat)),expirationTime:dP(uP(r.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return vP(this)}_assign(e){this!==e&&(UA(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xP(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){UA(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await bP(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dA(this.auth.app))return Promise.reject(RA(this.auth));const e=await this.getIdToken();return await mP(this,async function(e,t){return JA(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:y,isAnonymous:w,providerData:_,stsTokenManager:x}=t;UA(v&&x,e,"internal-error");const k=wP.fromJSON(this.name,x);UA("string"==typeof v,e,"internal-error"),_P(d,e.name),_P(u,e.name),UA("boolean"==typeof y,e,"internal-error"),UA("boolean"==typeof w,e,"internal-error"),_P(h,e.name),_P(p,e.name),_P(m,e.name),_P(f,e.name),_P(g,e.name),_P(b,e.name);const T=new xP({uid:v,auth:e,email:u,emailVerified:y,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:b});return _&&Array.isArray(_)&&(T.providerData=_.map((e=>Object.assign({},e)))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,t,n=!1){const i=new wP;i.updateFromServerResponse(t);const r=new xP({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await bP(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];UA(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?yP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash||(null==r?void 0:r.length)),s=new wP;s.updateFromIdToken(n);const a=new xP({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new gP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||(null==r?void 0:r.length))};return Object.assign(a,l),a}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const kP=new Map;function TP(e){FA(e instanceof Function,"Expected a class definition");let t=kP.get(e);return t?(FA(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kP.set(e,t),t)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class SP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SP.type="NONE";const EP=t("a0",SP);
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function CP(e,t,n){return`firebase:${e}:${t}:${n}`}class IP{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=CP(this.userKey,i.apiKey,r),this.fullPersistenceKey=CP("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await cP(this.auth,{idToken:e}).catch((()=>{}));return t?xP._fromGetAccountInfoResponse(this.auth,t,e):null}return xP._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new IP(TP(EP),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||TP(EP);const o=CP(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"==typeof t){const i=await cP(e,{idToken:t}).catch((()=>{}));if(!i)break;n=await xP._fromGetAccountInfoResponse(e,i,t)}else n=xP._fromJSON(e,t);c!==r&&(s=n),r=c;break}}catch(l){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(o)}catch(l){}}))),new IP(r,e,n)):new IP(r,e,n)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function AP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RP(t))return"Blackberry";if(jP(t))return"Webos";if(DP(t))return"Safari";if((t.includes("chrome/")||OP(t))&&!t.includes("edge/"))return"Chrome";if(LP(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function PP(e=CC()){return/firefox\//i.test(e)}function DP(e=CC()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OP(e=CC()){return/crios\//i.test(e)}function NP(e=CC()){return/iemobile/i.test(e)}function LP(e=CC()){return/android/i.test(e)}function RP(e=CC()){return/blackberry/i.test(e)}function jP(e=CC()){return/webos/i.test(e)}function MP(e=CC()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function UP(){return function(){const e=CC();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function BP(e=CC()){return MP(e)||LP(e)||jP(e)||RP(e)||/windows phone/i.test(e)||NP(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function FP(e,t=[]){let n;switch(e){case"Browser":n=AP(CC());break;case"Worker":n=`${AP(CC())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${pA}/${i}`}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class zP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(HS){i(HS)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(HS){t.reverse();for(const i of t)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==HS?void 0:HS.message})}}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $P{constructor(e){var t,n,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class VP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HP(this),this.idTokenSubscription=new HP(this),this.beforeStateQueue=new zP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=TP(t)),this._initializationPromise=this.queue((async()=>{var n,i,r;if(!this._deleted&&(this.persistenceManager=await IP.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(HS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await cP(this,{idToken:e}),n=await xP._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(sm){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",sm),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dA(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(HS){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(HS)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return UA(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(HS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bP(e)}catch(HS){if("auth/network-request-failed"!==(null==HS?void 0:HS.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dA(this.app))return Promise.reject(RA(this));const t=e?ZC(e):null;return t&&UA(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&UA(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return dA(this.app)?Promise.reject(RA(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dA(this.app)?Promise.reject(RA(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(TP(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return JA(e,"GET","/v2/passwordPolicy",QA(e,t))}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this),t=new $P(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new LC("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return JA(e,"POST","/v2/accounts:revokeToken",QA(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&TP(e)||this._popupRedirectResolver;UA(t,this,"argument-error"),this.redirectPersistenceManager=await IP.create(this,[TP(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(UA(s,this,"internal-error"),s.then((()=>{o||r(this.currentUser)})),"function"==typeof t){const r=e.addObserver(t,n,i);return()=>{o=!0,r()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return UA(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(dA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){PA.logLevel<=rI.WARN&&PA.warn(`Auth (${pA}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function qP(e){return ZC(e)}class HP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new KC(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return UA(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let WP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GP(e){return WP.loadJS(e)}function YP(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const KP=1e12;class XP{constructor(e){this.auth=e,this.counter=KP,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ZP(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||KP;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||KP;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||KP;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class QP{constructor(){this.enterprise=new JP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZP{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;UA(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(HS){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(HS){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const eD="NO_RECAPTCHA";class tD{constructor(e){this.type="recaptcha-enterprise",this.auth=qP(e)}async verify(e="verify",t=!1){function n(t,n,i){const r=window.grecaptcha;sP(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(eD)}))})):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new QP).execute("siteKey",{action:"verify"})}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{lP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new aP(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&sP(window.grecaptcha))n(r,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=WP.recaptchaEnterpriseScript;0!==t.length&&(t+=r),GP(t).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function nD(e,t,n,i=!1,r=!1){const o=new tD(e);let s;if(r)s=eD;else try{s=await o.verify(n)}catch(zH){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function iD(e,t,n,i,r){var o,s;if("EMAIL_PASSWORD_PROVIDER"===r){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await nD(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if("auth/missing-recaptcha-token"===r.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const r=await nD(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}if("PHONE_PROVIDER"===r){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const r=await nD(e,t,n);return i(e,r).catch((async r=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===r.code||"auth/invalid-app-credential"===r.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const r=await nD(e,t,n,!1,!0);return i(e,r)}return Promise.reject(r)}))}{const r=await nD(e,t,n,!1,!0);return i(e,r)}}return Promise.reject(r+" provider is not supported.")}function rD(e,t,n){const i=qP(e);UA(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=oD(t),{host:o,port:s}=function(e){const t=oD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:sD(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:sD(t)}}}(t),a=null===s?"":`:${s}`,l={url:`${r}//${o}${a}/`},c=Object.freeze({host:o,port:s,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!i._canInitEmulator)return UA(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),void UA(VC(l,i.config.emulator)&&VC(c,i.emulatorConfig),i,"emulator-config-failed");i.config.emulator=l,i.emulatorConfig=c,i.settings.appVerificationDisabledForTesting=!0,_C(o)?(xC(`${r}//${o}${a}`),EC("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */()}function oD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sD(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class aD{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return BA("not implemented")}_getIdTokenResponse(e){return BA("not implemented")}_linkToIdToken(e,t){return BA("not implemented")}_getReauthenticationResolver(e){return BA("not implemented")}}async function lD(e,t){return JA(e,"POST","/v1/accounts:signUp",t)}async function cD(e,t){return eP(e,"POST","/v1/accounts:signInWithPassword",QA(e,t))}async function dD(e,t){return JA(e,"POST","/v1/accounts:sendOobCode",QA(e,t))}async function uD(e,t){return dD(e,t)}async function hD(e,t){return dD(e,t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class pD extends aD{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new pD(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new pD(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return iD(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return eP(e,"POST","/v1/accounts:signInWithEmailLink",QA(e,t))}(e,{email:this._email,oobCode:this._password});default:OA(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return iD(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return eP(e,"POST","/v1/accounts:signInWithEmailLink",QA(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:OA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function mD(e,t){return eP(e,"POST","/v1/accounts:signInWithIdp",QA(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class fD extends aD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fD(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):OA("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Qb(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new fD(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){return mD(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,mD(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mD(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=HC(t)}return e}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function gD(e,t){return JA(e,"POST","/v1/accounts:sendVerificationCode",QA(e,t))}t("ak",fD);const bD={USER_NOT_FOUND:"user-not-found"};
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class vD extends aD{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vD({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vD({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return eP(e,"POST","/v1/accounts:signInWithPhoneNumber",QA(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await eP(e,"POST","/v1/accounts:signInWithPhoneNumber",QA(e,t));if(n.temporaryProof)throw rP(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return eP(e,"POST","/v1/accounts:signInWithPhoneNumber",QA(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),bD)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new vD({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class yD{constructor(e){var t,n,i,r,o,s;const a=WC(GC(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);UA(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=WC(GC(e)).link,n=t?WC(GC(t)).deep_link_id:null,i=WC(GC(e)).deep_link_id;return(i?WC(GC(i)).link:null)||i||n||t||e}(e);try{return new yD(t)}catch(n){return null}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class wD{constructor(){this.providerId=wD.PROVIDER_ID}static credential(e,t){return pD._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=yD.parseLink(t);return UA(n,"argument-error"),pD._fromEmailAndCode(e,n.code,n.tenantId)}}t("L",wD),wD.PROVIDER_ID="password",wD.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wD.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class _D{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xD extends _D{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kD extends xD{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return UA("providerId"in t&&"signInMethod"in t,"argument-error"),fD._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return UA(e.idToken||e.accessToken,"argument-error"),fD._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return kD.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return kD.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:o,providerId:s}=e;if(!(n||i||t||r))return null;if(!s)return null;try{return new kD(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:r})}catch(HS){return null}}}t("O",kD);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class TD extends xD{constructor(){super("facebook.com")}static credential(e){return fD._fromParams({providerId:TD.PROVIDER_ID,signInMethod:TD.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return TD.credentialFromTaggedObject(e)}static credentialFromError(e){return TD.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return TD.credential(e.oauthAccessToken)}catch(t){return null}}}t("M",TD),TD.FACEBOOK_SIGN_IN_METHOD="facebook.com",TD.PROVIDER_ID="facebook.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class SD extends xD{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fD._fromParams({providerId:SD.PROVIDER_ID,signInMethod:SD.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return SD.credentialFromTaggedObject(e)}static credentialFromError(e){return SD.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return SD.credential(t,n)}catch(i){return null}}}t("Q",SD),SD.GOOGLE_SIGN_IN_METHOD="google.com",SD.PROVIDER_ID="google.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class ED extends xD{constructor(){super("github.com")}static credential(e){return fD._fromParams({providerId:ED.PROVIDER_ID,signInMethod:ED.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ED.credentialFromTaggedObject(e)}static credentialFromError(e){return ED.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ED.credential(e.oauthAccessToken)}catch(t){return null}}}t("N",ED),ED.GITHUB_SIGN_IN_METHOD="github.com",ED.PROVIDER_ID="github.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class CD extends xD{constructor(){super("twitter.com")}static credential(e,t){return fD._fromParams({providerId:CD.PROVIDER_ID,signInMethod:CD.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return CD.credentialFromTaggedObject(e)}static credentialFromError(e){return CD.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return CD.credential(t,n)}catch(i){return null}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function ID(e,t){return eP(e,"POST","/v1/accounts:signUp",QA(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */t("T",CD),CD.TWITTER_SIGN_IN_METHOD="twitter.com",CD.PROVIDER_ID="twitter.com";class AD{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await xP._fromIdTokenResponse(e,n,i),o=PD(n);return new AD({user:r,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=PD(n);return new AD({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function PD(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class DD extends NC{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,DD.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new DD(e,t,n,i)}}function OD(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw DD._fromErrorAndOperation(e,n,t,i);throw n}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ND(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function LD(e,t,n=!1){const i=await mP(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return AD._forOperation(e,"link",i)}async function RD(e,t,n){await bP(t);const i=!1===e?"provider-already-linked":"no-such-provider";UA(ND(t.providerData).has(n)===e,t.auth,i)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function jD(e,t,n=!1){if(dA(e.app))return Promise.reject(RA(e));const i="signIn",r=await OD(e,i,t),o=await AD._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function MD(e,t){return jD(qP(e),t)}async function UD(e,t){const n=ZC(e);return await RD(!1,n,t.providerId),LD(n,t)}function BD(e,t,n){var i;UA((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),UA(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),UA(void 0===n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(UA(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(UA(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function FD(e){const t=qP(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zD(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const o=await mP(e,async function(e,t){return JA(e,"POST","/v1/accounts:update",t)}(i,r));await e._updateTokensIfNecessary(o,!0)}class $D{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class VD extends $D{constructor(e,t,n,i){super(e,t,n),this.username=i}}class qD extends $D{constructor(e,t){super(e,"facebook.com",t)}}class HD extends VD{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class WD extends $D{constructor(e,t){super(e,"google.com",t)}}class GD extends VD{constructor(e,t,n){super(e,"twitter.com",t,n)}}function YD(e,t,n,i){return ZC(e).onAuthStateChanged(t,n,i)}function KD(e,t){return JA(e,"POST","/v2/accounts/mfaEnrollment:start",QA(e,t))}const XD="__sak";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class QD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(XD,"1"),this.storage.removeItem(XD),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class JD extends QD{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);UP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JD.type="LOCAL";const ZD=t("a3",JD);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class eO extends QD{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eO.type="SESSION";const tO=t("a2",eO);
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class nO{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new nO(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function iO(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */nO.receivers=[];class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const l=iO("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function oO(){return window}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function sO(){return void 0!==oO().WorkerGlobalScope&&"function"==typeof oO().importScripts}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const aO="firebaseLocalStorageDb",lO="firebaseLocalStorage",cO="fbase_key";class dO{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function uO(e,t){return e.transaction([lO],t?"readwrite":"readonly").objectStore(lO)}function hO(){const e=indexedDB.open(aO,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(lO,{keyPath:cO})}catch(HS){n(HS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(lO)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(aO);return new dO(e).toPromise()}(),t(await hO()))}))}))}async function pO(e,t,n){const i=uO(e,!0).put({[cO]:t,value:n});return new dO(i).toPromise()}function mO(e,t){const n=uO(e,!0).delete(t);return new dO(n).toPromise()}class fO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await hO()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(HS){if(t++>3)throw HS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nO._getInstance(sO()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hO();return await pO(e,XD,"1"),await mO(e,XD),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pO(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=uO(e,!1).get(t),i=await new dO(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mO(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=uO(e,!1).getAll();return new dO(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}fO.type="LOCAL";const gO=t("a1",fO);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function bO(e,t){return JA(e,"POST","/v2/accounts/mfaSignIn:start",QA(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const vO=YP("rcb"),yO=new HA(3e4,6e4);class wO{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=oO().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return UA(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&oP(oO().grecaptcha)?Promise.resolve(oO().grecaptcha):new Promise(((n,i)=>{const r=oO().setTimeout((()=>{i(NA(e,"network-request-failed"))}),yO.get());oO()[vO]=()=>{oO().clearTimeout(r),delete oO()[vO];const o=oO().grecaptcha;if(!o||!oP(o))return void i(NA(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};GP(`${WP.recaptchaV2Script}?${HC({onload:vO,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(r),i(NA(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=oO().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _O{async load(e){return new XP(e)}clearedOneInstance(){}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const xO="recaptcha",kO={theme:"light",type:"image"};t("R",class{constructor(e,t,n=Object.assign({},kO)){this.parameters=n,this.type=xO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qP(e),this.isInvisible="invisible"===this.parameters.size,UA("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;UA(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _O:new wO,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(HS){return Promise.reject(HS)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){UA(!this.parameters.sitekey,this.auth,"argument-error"),UA(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),UA("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=oO()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){UA(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){UA($A()&&!sO(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await JA(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);UA(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return UA(this.recaptcha,this.auth,"internal-error"),this.recaptcha}});class TO{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=vD._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function SO(e,t,n){var i;if(!e._getRecaptchaConfig())try{await async function(e){const t=qP(e),n=await lP(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new aP(n);null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isAnyProviderEnabled()&&new tD(t).verify()}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)}catch(zH){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){UA("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=iD(e,i,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===eD){UA((null==n?void 0:n.type)===xO,e,"argument-error");return KD(e,await EO(e,t,n))}return KD(e,t)}),"PHONE_PROVIDER"),s=await o.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{UA("signin"===t.type,e,"internal-error");const o=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;UA(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=iD(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===eD){UA((null==n?void 0:n.type)===xO,e,"argument-error");return bO(e,await EO(e,t,n))}return bO(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=iD(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===eD){UA((null==n?void 0:n.type)===xO,e,"argument-error");return gD(e,await EO(e,t,n))}return gD(e,t)}),"PHONE_PROVIDER"),o=await i.catch((e=>Promise.reject(e)));return o.sessionInfo}}finally{null==n||n._reset()}}async function EO(e,t,n){UA(n.type===xO,e,"argument-error");const i=await n.verify();UA("string"==typeof i,e,"argument-error");const r=Object.assign({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,o=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:i,captchaResponse:t,clientType:n,recaptchaVersion:o}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:e,clientType:t,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:i}),r}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function CO(e,t){return t?TP(t):(UA(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class IO extends aD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mD(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mD(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mD(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AO(e){return jD(e.auth,new IO(e),e.bypassAuthState)}function PO(e){const{auth:t,user:n}=e;return UA(n,t,"internal-error"),async function(e,t,n=!1){const{auth:i}=e;if(dA(i.app))return Promise.reject(RA(i));const r="reauthenticate";try{const o=await mP(e,OD(i,r,t,e),n);UA(o.idToken,i,"internal-error");const s=hP(o.idToken);UA(s,i,"internal-error");const{sub:a}=s;return UA(e.uid===a,i,"user-mismatch"),AD._forOperation(e,r,o)}catch(HS){throw"auth/user-not-found"===(null==HS?void 0:HS.code)&&OA(i,"user-mismatch"),HS}}(n,new IO(e),e.bypassAuthState)}async function DO(e){const{auth:t,user:n}=e;return UA(n,t,"internal-error"),LD(n,new IO(e),e.bypassAuthState)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class OO{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(HS){this.reject(HS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(HS){this.reject(HS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AO;case"linkViaPopup":case"linkViaRedirect":return DO;case"reauthViaPopup":case"reauthViaRedirect":return PO;default:OA(this.auth,"internal-error")}}resolve(e){FA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){FA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const NO=new HA(2e3,1e4);class LO extends OO{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,LO.currentPopupAction&&LO.currentPopupAction.cancel(),LO.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return UA(e,this.auth,"internal-error"),e}async onExecution(){FA(1===this.filter.length,"Popup operations only handle one event");const e=iO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(NA(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(NA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,LO.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(NA(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,NO.get())};e()}}LO.currentPopupAction=null;
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const RO="pendingRedirect",jO=new Map;class MO extends OO{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=jO.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=zO(t),i=FO(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(HS){e=()=>Promise.reject(HS)}jO.set(this.auth._key(),e)}return this.bypassAuthState||jO.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function UO(e,t){return FO(e)._set(zO(t),"true")}function BO(e,t){jO.set(e._key(),t)}function FO(e){return TP(e._redirectPersistence)}function zO(e){return CP(RO,e.config.apiKey,e.name)}async function $O(e,t,n=!1){if(dA(e.app))return Promise.reject(RA(e));const i=qP(e),r=CO(i,t),o=new MO(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}class VO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HO(e);default:return!1}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!HO(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(NA(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qO(e))}saveEventToCache(e){this.cachedEventUids.add(qO(e)),this.lastProcessedEventTime=Date.now()}}function qO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function HO({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const WO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GO=/^https?/;async function YO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return JA(e,"GET","/v1/projects",t)}(e);for(const i of t)try{if(KO(i))return}catch(n){}OA(e,"unauthorized-domain")}function KO(e){const t=zA(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!GO.test(n))return!1;if(WO.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const XO=new HA(3e4,6e4);function QO(){const e=oO().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function JO(e){return new Promise(((t,n)=>{var i,r,o;function s(){QO(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{QO(),n(NA(e,"network-request-failed"))},timeout:XO.get()})}if(null===(r=null===(i=oO().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=oO().gapi)||void 0===o?void 0:o.load)){const t=YP("iframefcb");return oO()[t]=()=>{gapi.load?s():n(NA(e,"network-request-failed"))},GP(`${WP.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw ZO=null,e}))}let ZO=null;
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const eN=new HA(5e3,15e3),tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iN(e){const t=e.config;UA(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?WA(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:pA},r=nN.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${HC(i).slice(1)}`}async function rN(e){const t=await function(e){return ZO=ZO||JO(e),ZO}(e),n=oO().gapi;return UA(n,e,"internal-error"),t.open({where:document.body,url:iN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=NA(e,"network-request-failed"),o=oO().setTimeout((()=>{i(r)}),eN.get());function s(){oO().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{i(r)}))}))))}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const oN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(HS){}}}function aN(e,t,n,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oN),{width:i.toString(),height:r.toString(),top:o,left:s}),c=CC().toLowerCase();n&&(a=OP(c)?"_blank":n),PP(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=CC()){var t;return MP(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(t||"",a),new sN(null);const u=window.open(t||"",a,d);UA(u,e,"popup-blocked");try{u.focus()}catch(HS){}return new sN(u)}const lN="__/auth/handler",cN="emulator/auth/handler",dN=encodeURIComponent("fac");async function uN(e,t,n,i,r,o){UA(e.config.authDomain,e,"auth-domain-config-required"),UA(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:pA,eventId:r};if(t instanceof _D){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",zC(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))s[e]=t}if(t instanceof xD){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const l=await e._getAppCheckToken(),c=l?`#${dN}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${lN}`;return WA(e,cN)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)}?${HC(a).slice(1)}${c}`}const hN="webStorageSupport";const pN=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tO,this._completeRedirectFn=$O,this._overrideRedirectResult=BO}async _openPopup(e,t,n,i){var r;FA(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return aN(e,await uN(e,t,n,zA(),i),iO())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){oO().location.href=e}(await uN(e,t,n,zA(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(FA(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await rN(e),n=new VO(e);return t.register("authEvent",(t=>{UA(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hN,{type:hN},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[hN];void 0!==r&&t(!!r),OA(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BP()||DP()||MP()}};var mN="@firebase/auth",fN="1.10.8";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class gN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){UA(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const bN=yC("authIdTokenMaxAge")||300;let vN=null;const yN=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>bN)return;const r=null==n?void 0:n.token;vN!==r&&(vN=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function wN(e=fA()){const t=cA(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=cA(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(VC(n.getOptions(),null!=t?t:{}))return e;OA(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:pN,persistence:[gO,ZD,tO]}),i=yC("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=yN(e.toString());!function(e,t,n){ZC(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,i){ZC(e).onIdTokenChanged(t,n,i)}(n,(e=>t(e)))}}const r=gC("auth");return r&&rD(n,`http://${r}`),n}var _N,xN;!function(e){WP=e}({loadJS:e=>new Promise(((t,n)=>{const i=document.createElement("script");var r,o;i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=NA("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(o=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==o?o:document).appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),_N="Browser",lA(new eI("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;UA(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:_N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FP(_N)},l=new VP(n,i,r,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(TP);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),lA(new eI("auth-internal",(e=>(e=>new gN(e))(qP(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),gA(mN,fN,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_N)),gA(mN,fN,"esm2017"),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(xN||(xN={}));class kN extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const TN=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},r=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),o=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))},s=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=r,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==r(),n.isPluginAvailable=e=>{const t=s.get(e);return!!(null==t?void 0:t.platforms.has(r()))||!!o(e)},n.registerPlugin=(e,a={})=>{const l=s.get(e);if(l)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),l.proxy;const c=r(),d=o(e);let u;const h=i=>{let r;const o=(...o)=>{const s=(async()=>(!u&&c in a?u=u="function"==typeof a[c]?await a[c]():a[c]:null!==t&&!u&&"web"in a&&(u=u="function"==typeof a.web?await a.web():a.web),u))().then((t=>{const s=((t,i)=>{var r,o;if(!d){if(t)return null===(o=t[i])||void 0===o?void 0:o.bind(t);throw new kN(`"${e}" plugin is not implemented on ${c}`,xN.Unimplemented)}{const o=null==d?void 0:d.methods.find((e=>i===e.name));if(o)return"promise"===o.rtype?t=>n.nativePromise(e,i.toString(),t):(t,r)=>n.nativeCallback(e,i.toString(),t,r);if(t)return null===(r=t[i])||void 0===r?void 0:r.bind(t)}})(t,i);if(s){const e=s(...o);return r=null==e?void 0:e.remove,e}throw new kN(`"${e}.${i}()" is not implemented on ${c}`,xN.Unimplemented)}));return"addListener"===i&&(s.remove=async()=>r()),s};return o.toString=()=>`${i.toString()}() { [capacitor code] }`,Object.defineProperty(o,"name",{value:i,writable:!1,configurable:!1}),o},p=h("addListener"),m=h("removeListener"),f=(e,t)=>{const n=p({eventName:e},t),i=async()=>{const i=await n;m({eventName:e,callbackId:i},t)},r=new Promise((e=>n.then((()=>e({remove:i})))));return r.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()},r},g=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return d?f:p;case"removeListener":return m;default:return h(t)}}});return i[e]=g,s.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(a),...d?[c]:[]])}),g},n.Exception=kN,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},SN=e=>e.Capacitor=TN(e),EN=SN("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),CN=EN.registerPlugin;class IN{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const i=this.listeners[e];if(i)i.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new EN.Exception(e,xN.Unimplemented)}unavailable(e="not available"){return new EN.Exception(e,xN.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const i=n.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}t("W",IN);const AN=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),PN=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class DN extends IN{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,i]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=PN(n).trim(),i=PN(i).trim(),t[n]=i})),t}async setCookie(e){try{const t=AN(e.key),n=AN(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${i}; path=${r}; ${o};`}catch(zH){return Promise.reject(zH)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(zH){return Promise.reject(zH)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(zH){return Promise.reject(zH)}}async clearAllCookies(){try{await this.clearCookies()}catch(zH){return Promise.reject(zH)}}}CN("CapacitorCookies",{web:()=>new DN});const ON=t("b",((e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=((e={})=>{const t=Object.keys(e),n=Object.keys(e).map((e=>e.toLocaleLowerCase())),i=n.reduce(((n,i,r)=>(n[i]=e[t[r]],n)),{});return i})(e.headers),r=i["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,i]of Object.entries(e.data||{}))t.set(n,i);n.body=t.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const i=new Headers(n.headers);i.delete("content-type"),n.headers=i}else(r.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n}));class NN extends IN{async request(e){const t=ON(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[i,r]=n;let o,s;return Array.isArray(r)?(s="",r.forEach((e=>{o=t?encodeURIComponent(e):e,s+=`${i}=${o}&`})),s.slice(0,-1)):(o=t?encodeURIComponent(r):r,s=`${i}=${o}`),`${e}&${s}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,r=await fetch(i,t),o=r.headers.get("content-type")||"";let s,a,{responseType:l="text"}=r.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await r.blob(),s=await(async e=>new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{const e=i.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},i.onerror=e=>n(e),i.readAsDataURL(e)})))(a);break;case"json":s=await r.json();break;default:s=await r.text()}const c={};return r.headers.forEach(((e,t)=>{c[t]=e})),{data:s,headers:c,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}var LN,RN;CN("CapacitorHttp",{web:()=>new NN}),t("_",LN),function(e){e.IndexedDbLocal="INDEXED_DB_LOCAL",e.InMemory="IN_MEMORY",e.BrowserLocal="BROWSER_LOCAL",e.BrowserSession="BROWSER_SESSION"}(LN||t("_",LN={})),t("P",RN),function(e){e.APPLE="apple.com",e.FACEBOOK="facebook.com",e.GAME_CENTER="gc.apple.com",e.GITHUB="github.com",e.GOOGLE="google.com",e.MICROSOFT="microsoft.com",e.PLAY_GAMES="playgames.google.com",e.TWITTER="twitter.com",e.YAHOO="yahoo.com",e.PASSWORD="password",e.PHONE="phone"}(RN||t("P",RN={}));const jN=CN("FirebaseAuthentication",{web:()=>Pp((()=>n.import("./web-legacy-DfkhgmmS.js"))).then((e=>new e.FirebaseAuthenticationWeb))});CN("FirebaseFirestore",{web:()=>Pp((()=>n.import("./web-legacy-D2ltMwK2.js"))).then((e=>new e.FirebaseFirestoreWeb))}),CN("FirebaseFunctions",{web:()=>Pp((()=>n.import("./web-legacy-DVD8TP9H.js"))).then((e=>new e.FirebaseFunctionsWeb))});const MN=CN("FirebaseStorage",{web:()=>Pp((()=>n.import("./web-legacy-DDdUY9WK.js"))).then((e=>new e.FirebaseStorageWeb))});var UN,BN,FN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */(function(){var e;
/** @license

             Copyright The Closure Library Authors.
             SPDX-License-Identifier: Apache-2.0
            */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var o=e.g[3],s=t+(o^n&(r^o))+i[0]+3614090360&4294967295;s=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=(n=(r=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^n&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^n)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(r^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+o&4294967295}function i(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var o=0|e[r];i&&o==t||(n[r]=o,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var i=t-this.blockSize,r=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=i;)n(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,r),o=0;break}}else for(;s<t;)if(r[o++]=e[s++],o==this.blockSize){n(this,r),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var r={};function o(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var a=o(0),l=o(1),c=o(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(d(t))throw Error("division by zero");if(d(e))return new f(a,a);if(u(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(u(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=t;0>=i.l(e);)n=b(n),i=b(i);var r=v(n,1),o=v(i,1);for(i=v(i,2),n=v(n,2);!d(i);){var c=o.add(i);0>=c.l(e)&&(r=r.add(n),o=c),i=v(i,1),n=v(n,1)}return t=p(e,r.j(t)),new f(r,t)}for(r=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(o=s(n)).j(t);u(c)||0<c.l(e);)c=(o=s(n-=i)).j(t);d(o)&&(o=l),r=r.add(o),e=p(e,c)}return new f(r,e)}function b(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],s=0;s<r;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new i(o,e.h)}(e=i.prototype).m=function(){if(u(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.i(n);e+=(0<=i?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,i="";;){var r=g(n,t).g,o=((0<(n=p(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=p(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var s=r+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);r=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return a;if(u(this))return u(e)?h(this).j(h(e)):h(h(this).j(e));if(u(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var l=this.i(r)>>>16,p=65535&this.i(r),f=e.i(o)>>>16,g=65535&e.i(o);n[2*r+2*o]+=p*g,m(n,2*r+2*o),n[2*r+2*o+1]+=l*g,m(n,2*r+2*o+1),n[2*r+2*o+1]+=p*f,m(n,2*r+2*o+1),n[2*r+2*o+2]+=l*f,m(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,BN=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=s,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=s(Math.pow(n,8)),r=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),r=r.j(l).add(s(c))):r=(r=r.j(i)).add(s(c))}return r},UN=i}).apply(void 0!==FN?FN:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var zN,$N,VN,qN,HN,WN,GN,YN,KN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof KN&&KN];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,i){if(i)e:{var r=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in r))break e;r=r[s]}(i=i(o=r[e=e[e.length-1]]))!=o&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));
/** @license

             Copyright The Closure Library Authors.
             SPDX-License-Identifier: Apache-2.0
            */
var i=i||{},r=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var b=!(-1==f().indexOf("Gecko")||-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge")||-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE")||-1!=f().indexOf("Edge"));function v(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function y(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){r.setTimeout((()=>{throw e}),0)}function T(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=r.Promise.resolve(void 0);C=()=>{e.then(D)}};var D=()=>{for(var e;e=T();){try{e.h.call(e.g)}catch(VS){k(VS)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(VS){}return e}();function R(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(b){e:{try{g(t.nodeName);var r=!0;break e}catch(WS){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}u(R,N);var j={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function B(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++U,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],o=Array.prototype.indexOf.call(r,t,void 0);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==i)return r}return-1}z.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=V(e,t,i,r);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new B(t,this.src,o,!!i,r)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)W(e,t[o],n,i,r);return null}return n=Z(n),e&&e[M]?e.K(t,n,s(i)?!!i.capture:!!i,r):function(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=s(r)?!!r.capture:!!r,l=Q(e);if(l||(e[q]=l=new z(e)),n=l.add(t,n,i,a,o),n.proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)L||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(K(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}(e,t,n,!1,i,r)}function G(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)G(e,t[o],n,i,r);else i=s(i)?!!i.capture:!!i,n=Z(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,i,r))&&(F(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,i,r)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])$(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(K(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Q(t))?($(n,e),0==n.h&&(n.src=null,t[q]=null)):F(e)}}}function K(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,i=e.ha||e.src;e.fa&&Y(e),e=n.call(i,t)}return e}function Q(e){return(e=e[q])instanceof z?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function te(e,t){var n,i=e.F;if(i)for(n=[];i;i=i.F)n.push(i);if(e=e.M,i=t.type||t,"string"==typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var r=t;_(t=new N(i,e),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];r=ne(s,i,!0,t)&&r}if(r=ne(s=t.g=e,i,!0,t)&&r,r=ne(s,i,!1,t)&&r,n)for(o=0;o<n.length;o++)r=ne(s=t.g=n[o],i,!1,t)&&r}function ne(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&$(e.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function ie(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function re(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,re(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ee,O),ee.prototype[M]=!0,ee.prototype.removeEventListener=function(e,t,n,i){G(this,e,t,n,i)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)F(n[i]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ee.prototype.L=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class oe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(e){O.call(this),this.h=e,this.g={}}u(se,O);var ae=[];function le(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}se.prototype.N=function(){se.aa.N.call(this),le(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=r.JSON.stringify,de=r.JSON.parse,ue=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function he(){}function pe(e){return e.h||(e.h=e.i())}function me(){}he.prototype.h=null;var fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){N.call(this,"d")}function be(){N.call(this,"c")}u(ge,N),u(be,N);var ve={},ye=null;function we(){return ye=ye||new ee}function _e(e){N.call(this,ve.La,e)}function xe(e){const t=we();te(t,new _e(t))}function ke(e,t){N.call(this,ve.STAT_EVENT,e),this.stat=t}function Te(e){const t=we();te(t,new ke(t,e))}function Se(e,t){N.call(this,ve.Ma,e),this.size=t}function Ee(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function Ce(){this.g=!0}function Ie(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return ce(n)}catch(QS){return t}}(e,n)+(i?" "+i:"")}))}ve.La="serverreachability",u(_e,N),ve.STAT_EVENT="statevent",u(ke,N),ve.Ma="timingevent",u(Se,N),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Ne(e,t,n,i){this.j=e,this.i=t,this.l=n,this.R=i||1,this.U=new se(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}u(Oe,he),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Re={},je={};function Me(e,t,n){e.L=1,e.v=ct(rt(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),ze(e),e.A=rt(e.v);var n=e.A,i=e.R;Array.isArray(i)||(i=[String(i)]),kt(n.i,"t",i),e.C=0,n=e.j.J,e.h=new Le,e.g=un(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,i=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ae[0]=r.toString()),r=ae);for(var o=0;o<r.length;o++){var s=W(n,r[o],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?y(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,i,r,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+c+"&":s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Fe(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?je:(n=Number(t.substring(n,i)),isNaN(n)?Re:(i+=1)+n>t.length?je:(t=t.slice(i,i+n),e.C=i+n,t))}function ze(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function Ve(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||sn(e.j,e)}function He(e){Ve(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Qe(n.h,e)))if(!e.K&&Qe(n.h,e)&&3==n.G){try{var i=n.Da.g.parse(t)}catch(XS){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}tn(n),Te(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(XS){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const d=c[5];null!=d&&"number"==typeof d&&0<d&&(i=1.5*d,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=i.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Je(o,o.h),o.h=null))}if(i.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.ya=e,lt(i.I,i.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),s.K){Ze(i.h,s);var a=s,l=i.L;l&&(a.I=l),a.B&&(Ve(a),ze(a)),i.g=s}else en(i);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||ln(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ln(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xe()}catch(XS){}}Ne.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Vt(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const h=Vt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||xe(),Ve(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var i=qt(this.g);e="";var o=i.length,s=4==Vt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){He(this),qe(this);var a="";break t}this.h.i=new r.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:!(s&&t==o-1)});i.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,i,r,o,s){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var d=l;break t}}d=null}if(!(n=d)){this.o=!1,this.s=3,Te(12),He(this),qe(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Fe(this,a),e==je){4==h&&(this.s=4,Te(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Re){this.s=4,Te(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),We(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),nn(u),u.M=!0,Te(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),He(this),qe(this)}else Ie(this.i,this.l,a,null),We(this,a);4==h&&He(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Vt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(m(e[i]))continue;var n=x(e[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[r]||[];t[r]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),He(this),qe(this)}}}catch(rE){}},Ne.prototype.cancel=function(){this.J=!0,He(this)},Ne.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(),Te(17)),He(this),this.s=2,qe(this)):$e(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,st(this,e.s),this.l=e.l;var t=e.i,n=new yt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),at(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),st(this,t[4]),this.l=dt(t[5]||"",!0),at(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new yt(null,this.h))}function rt(e){return new it(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function st(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function at(e,t,n){t instanceof yt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ut(t,bt)),e.i=new yt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ut(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ut(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ut(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ut(n,"/"==n.charAt(0)?gt:ft,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ut(n,vt)),e.join("")};var pt,mt=/[#\/\?@]/g,ft=/[#\?:]/g,gt=/[#\?]/g,bt=/[#\?@]/g,vt=/#/g;function yt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){wt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return wt(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(WS){}}function Et(){this.g=new ue}function Ct(e,t,n){const i=n||"";try{tt(e,(function(e,n){let r=e;s(e)&&(r=ce(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(HS){throw t.push(i+"type="+encodeURIComponent("_badmap")),HS}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Nt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Rt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=yt.prototype).add=function(e,t){wt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},e.V=function(e){wt(this);let t=[];if("string"==typeof e)xt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,xt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),s=this.V(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),e.push(r)}}return this.i=e.join("&")},u(It,he),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(pt={},function(){return pt}),u(At,ee),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Ot(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Rt,ee);var jt=/^https?$/i,Mt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),zt(e)}function Bt(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ft(e){if(e.h&&void 0!==i&&(!e.v[1]||4!=Vt(e)||2!=e.Z()))if(e.u&&4==Vt(e))ie(e.Ea,0,e);else if(te(e,"readystatechange"),4==Vt(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===i){var s=String(e.D).match(nt)[1]||null;!s&&r.self&&r.self.location&&(s=r.self.location.protocol.slice(0,-1)),o=!jt.test(s?s.toLowerCase():"")}n=o}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var a=2<Vt(e)?e.g.statusText:""}catch(QS){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){$t(e);const n=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=i}catch(HS){}}}function $t(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function Vt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch($S){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Et,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Kt(e),3==e.G){var t=e.U++,n=rt(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Jt(e,n),(t=new Ne(e,e.j,t)).L=2,t.v=ct(rt(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(qS){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=un(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}cn(e)}function Yt(e){e.g&&(nn(e),e.g.cancel(),e.g=null)}function Kt(e){Yt(e),e.u&&(r.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"==typeof e.s&&r.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ke(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||P(),I||(C(),I=!0),A.add(t,e),e.B=0}}function Qt(e,t){var n;n=t?t.l:e.U++;const i=rt(e.I);lt(i,"SID",e.K),lt(i,"RID",n),lt(i,"AID",e.T),Jt(e,i),e.m&&e.o&&Lt(i,e.m,e.o),n=new Ne(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),Me(n,i,t)}function Jt(e,t){e.H&&v(e.H,(function(e,n){lt(t,n,e)})),e.l&&tt({},(function(e,n){lt(t,n,e)}))}function Zt(e,t,n){n=Math.min(e.i.length,n);var i=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=r[s].g;const a=r[s].map;if(n-=t,0>n)t=Math.max(0,r[s].g-100),o=!1;else try{Ct(a,e,"req"+n+"_")}catch(rE){i&&i(a)}}if(o){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function en(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||P(),I||(C(),I=!0),A.add(t,e),e.v=0}}function tn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function nn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function rn(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=rt(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(rt(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),nn(e),e.g=null;var i=2}else{if(!Qe(e.h,t))return;n=t.D,Ze(e.h,t),i=1}if(0!=e.G)if(t.o)if(1==i){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;te(i=we(),new Se(i,n)),Xt(e)}else en(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==i&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ee(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==i&&tn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),i=e.Xa;const t=!i;i=new it(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ot(i,"https"),ct(i),t?function(e,t){const n=new Ce;if(r.Image){const i=new Image;i.onload=d(St,n,"TestLoadImage: loaded",!0,t,i),i.onerror=d(St,n,"TestLoadImage: error",!1,t,i),i.onabort=d(St,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=d(St,n,"TestLoadImage: timeout",!1,t,i),r.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new Ce;const n=new AbortController,i=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(i),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(i),St(0,0,!1,t)}))}(i.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),cn(e),Kt(e)}function cn(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var i=n instanceof it?rt(n):new it(n);if(""!=i.g)t&&(i.g=t+"."+i.g),st(i,i.s);else{var o=r.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new it(null);i&&ot(s,i),t&&(s.g=t),o&&st(s,o),n&&(s.l=n),i=s}return n=e.D,t=e.ya,n&&t&&lt(i,n,t),lt(i,"VER",e.la),Jt(e,i),i}function un(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new It({eb:n})):new Rt(e.pa)).Ha(e.J),t}function hn(){}function pn(){}function mn(e,t){ee.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function fn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(WS){return void Ut(this,WS)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Mt,t,void 0))||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,s]of n)this.g.setRequestHeader(r,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(WS){Ut(this,WS)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ft(this):this.bb())},e.bb=function(){Ft(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Vt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,i){Te(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Ne(this,this.j,e);let o=this.o;if(this.S&&(o?(o=y(o),_(o,this.S)):o=this.S),null!==this.m||this.O||(r.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,r,t),lt(n=rt(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Jt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Nt(o)))+"&"+t:this.m&&Lt(n,this.m,o)),Je(this.h,r),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),r.T=!0,Me(r,n,null)):Me(r,n,t),this.G=2}}else 3==this.G&&(e?Qt(this,e):0==this.i.length||Ke(this.h)||Qt(this))},e.Fa=function(){if(this.u=null,rn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),rn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),tn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=hn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},u(mn,ee),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},u(fn,ge),u(gn,be),u(bn,hn),bn.prototype.ua=function(){te(this.g,"a")},bn.prototype.ta=function(e){te(this.g,new fn(e))},bn.prototype.sa=function(e){te(this.g,new gn)},bn.prototype.ra=function(){te(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,YN=function(){return new pn},GN=function(){return we()},WN=ve,HN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,qN=Pe,De.COMPLETE="complete",VN=De,me.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",ee.prototype.listen=ee.prototype.K,$N=me,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,zN=Rt}).apply(void 0!==KN?KN:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const XN="@firebase/firestore",QN="4.8.0";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class JN{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}JN.UNAUTHENTICATED=new JN(null),JN.GOOGLE_CREDENTIALS=new JN("google-credentials-uid"),JN.FIRST_PARTY=new JN("first-party-uid"),JN.MOCK_USER=new JN("mock-user");
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let ZN="11.10.0";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const eL=new cI("@firebase/firestore");function tL(){return eL.logLevel}function nL(e,...t){if(eL.logLevel<=rI.DEBUG){const n=t.map(oL);eL.debug(`Firestore (${ZN}): ${e}`,...n)}}function iL(e,...t){if(eL.logLevel<=rI.ERROR){const n=t.map(oL);eL.error(`Firestore (${ZN}): ${e}`,...n)}}function rL(e,...t){if(eL.logLevel<=rI.WARN){const n=t.map(oL);eL.warn(`Firestore (${ZN}): ${e}`,...n)}}function oL(e){if("string"==typeof e)return e;try{
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */return function(e){return JSON.stringify(e)}(e)}catch(nE){return e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function sL(e,t,n){let i="Unexpected state";"string"==typeof t?i=t:n=t,aL(e,i,n)}function aL(e,t,n){let i=`FIRESTORE (${ZN}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(e){i+=" CONTEXT: "+n}throw iL(i),new Error(i)}function lL(e,t,n,i){let r="Unexpected state";"string"==typeof n?r=n:i=n,e||aL(t,r,i)}function cL(e,t){return e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const dL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class uL extends NC{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class hL{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class pL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(JN.UNAUTHENTICATED)))}shutdown(){}}class fL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gL{constructor(e){this.t=e,this.currentUser=JN.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lL(void 0===this.o,42304);let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new hL;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new hL,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},s=e=>{nL("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(nL("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new hL)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(nL("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(lL("string"==typeof t.accessToken,31837,{l:t}),new pL(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lL(null===e||"string"==typeof e,2055,{h:e}),new JN(e)}}class bL{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=JN.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vL{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new bL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(JN.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){lL(void 0===this.o,3512);const n=e=>{null!=e.error&&nL("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,nL("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{nL("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?i(e):nL("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(lL("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new yL(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function _L(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function xL(){return new TextEncoder}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class kL{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=_L(40);for(let i=0;i<n.length;++i)t.length<20&&n[i]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return t}}function TL(e,t){return e<t?-1:e>t?1:0}function SL(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return TL(i,r);{const o=xL(),s=CL(o.encode(EL(e,n)),o.encode(EL(t,n)));return 0!==s?s:TL(i,r)}}n+=i>65535?2:1}return TL(e.length,t.length)}function EL(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function CL(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return TL(e[n],t[n]);return TL(e.length,t.length)}function IL(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const AL="__name__";class PL{constructor(e,t,n){void 0===t?t=0:t>e.length&&sL(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&sL(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===PL.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof PL?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=PL.compareSegments(e.get(i),t.get(i));if(0!==n)return n}return TL(e.length,t.length)}static compareSegments(e,t){const n=PL.isNumericId(e),i=PL.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?PL.extractNumericId(e).compare(PL.extractNumericId(t)):SL(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return UN.fromString(e.substring(4,e.length-2))}}class DL extends PL{construct(e,t,n){return new DL(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new uL(dL.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new DL(t)}static emptyPath(){return new DL([])}}const OL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class NL extends PL{construct(e,t,n){return new NL(e,t,n)}static isValidIdentifier(e){return OL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),NL.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===AL}static keyField(){return new NL([AL])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new uL(dL.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new uL(dL.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new uL(dL.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(o=!o,i++):"."!==t||o?(n+=t,i++):(r(),i++)}if(r(),o)throw new uL(dL.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new NL(t)}static emptyPath(){return new NL([])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class LL{constructor(e){this.path=e}static fromPath(e){return new LL(DL.fromString(e))}static fromName(e){return new LL(DL.fromString(e).popFirst(5))}static empty(){return new LL(DL.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===DL.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return DL.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new LL(new DL(e.slice()))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function RL(e,t,n){if(!n)throw new uL(dL.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jL(e){if(!LL.isDocumentKey(e))throw new uL(dL.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ML(e){if(LL.isDocumentKey(e))throw new uL(dL.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function UL(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function BL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":sL(12329,{type:typeof e})}function FL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new uL(dL.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BL(e);throw new uL(dL.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function zL(e,t){if(t<=0)throw new uL(dL.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
             * @license
             * Copyright 2025 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function $L(e,t){const n={typeString:e};return t&&(n.value=t),n}function VL(e,t){if(!UL(e))throw new uL(dL.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const s=e[i];if(r&&typeof s!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(void 0!==o&&s!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new uL(dL.INVALID_ARGUMENT,n);return!0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const qL=-62135596800,HL=1e6;class WL{static now(){return WL.fromMillis(Date.now())}static fromDate(e){return WL.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*HL);return new WL(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new uL(dL.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new uL(dL.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qL)throw new uL(dL.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new uL(dL.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HL}_compareTo(e){return this.seconds===e.seconds?TL(this.nanoseconds,e.nanoseconds):TL(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:WL._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(VL(e,WL._jsonSchema))return new WL(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}WL._jsonSchemaVersion="firestore/timestamp/1.0",WL._jsonSchema={type:$L("string",WL._jsonSchemaVersion),seconds:$L("number"),nanoseconds:$L("number")};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class GL{static fromTimestamp(e){return new GL(e)}static min(){return new GL(new WL(0,0))}static max(){return new GL(new WL(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function YL(e){return new KL(e.readTime,e.key,-1)}class KL{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new KL(GL.min(),LL.empty(),-1)}static max(){return new KL(GL.max(),LL.empty(),-1)}}function XL(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=LL.comparator(e.documentKey,t.documentKey),0!==n?n:TL(e.largestBatchId,t.largestBatchId)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */)}const QL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function ZL(e){if(e.code!==dL.FAILED_PRECONDITION||e.message!==QL)throw e;nL("LocalStore","Unexpectedly lost primary lease")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class eR{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sL(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new eR(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof eR?t:eR.resolve(t)}catch(e){return eR.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):eR.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):eR.reject(t)}static resolve(e){return new eR(((t,n)=>{t(e)}))}static reject(e){return new eR(((t,n)=>{n(e)}))}static waitFor(e){return new eR(((t,n)=>{let i=0,r=0,o=!1;e.forEach((e=>{++i,e.next((()=>{++r,o&&r===i&&t()}),(e=>n(e)))})),o=!0,r===i&&t()}))}static or(e){let t=eR.resolve(!1);for(const n of e)t=t.next((e=>e?eR.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new eR(((n,i)=>{const r=e.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===r&&n(o)}),(e=>i(e)))}}))}static doWhile(e,t){return new eR(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const tR="SimpleDb";class nR{static open(e,t,n,i){try{return new nR(t,e.transaction(i,n))}catch(e){throw new sR(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new hL,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new sR(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=uR(t.target.error);this.S.reject(new sR(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(nL(tR,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lR(t)}}class iR{static delete(e){return nL(tR,"Removing database:",e),cR(mC().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!OC())return!1;if(iR.F())return!0;const e=CC(),t=iR.M(e),n=0<t&&t<10,i=rR(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.O)}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,12.2===iR.M(CC())&&iL("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(nL(tR,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new sR(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new uL(dL.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new uL(dL.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new sR(e,i))},i.onupgradeneeded=e=>{nL(tR,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;if(null!==this.L&&this.L!==e.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${e.oldVersion}, event.newVersion=${e.newVersion}, db.version=${t.version}`);this.B.q(t,i.transaction,e.oldVersion,this.version).next((()=>{nL(tR,"Database upgrade to version "+this.version+" complete")}))}})),this.db.addEventListener("close",(e=>{const t=e.target;this.L=t.version}),{passive:!0})),this.db.addEventListener("versionchange",(e=>{var t;null===e.newVersion&&(rL('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),null===(t=this.databaseDeletedListener)||void 0===t||t.call(this))}),{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,t,n,i){const r="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.k(e);const t=nR.open(this.db,e,r?"readonly":"readwrite",n),o=i(t).next((e=>(t.v(),e))).catch((e=>(t.abort(e),eR.reject(e)))).toPromise();return o.catch((()=>{})),await t.D,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(nL(tR,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function rR(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class oR{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return cR(this.$.delete())}}class sR extends uL{constructor(e,t){super(dL.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aR(e){return"IndexedDbTransactionError"===e.name}class lR{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(nL(tR,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(nL(tR,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cR(n)}add(e){return nL(tR,"ADD",this.store.name,e,e),cR(this.store.add(e))}get(e){return cR(this.store.get(e)).next((t=>(void 0===t&&(t=null),nL(tR,"GET",this.store.name,e,t),t)))}delete(e){return nL(tR,"DELETE",this.store.name,e),cR(this.store.delete(e))}count(){return nL(tR,"COUNT",this.store.name),cR(this.store.count())}j(e,t){const n=this.options(e,t),i=n.index?this.store.index(n.index):this.store;if("function"==typeof i.getAll){const e=i.getAll(n.range);return new eR(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.J(e,((e,n)=>{t.push(n)})).next((()=>t))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new eR(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Y(e,t){nL(tR,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Z=!1;const i=this.cursor(n);return this.J(i,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.J(i,t)}ee(e){const t=this.cursor({});return new eR(((n,i)=>{t.onerror=e=>{const t=uR(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}J(e,t){const n=[];return new eR(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const o=new oR(r),s=t(r.primaryKey,r.value,o);if(s instanceof eR){const e=s.catch((e=>(o.done(),eR.reject(e))));n.push(e)}o.isDone?i():null===o.W?r.continue():r.continue(o.W)}})).next((()=>eR.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cR(e){return new eR(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=uR(e.target.error);n(t)}}))}let dR=!1;function uR(e){const t=iR.M(CC());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new uL("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dR||(dR=!0,setTimeout((()=>{throw e}),0)),e}}return e}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class hR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}hR.ue=-1;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const pR=-1;function mR(e){return null==e}function fR(e){return 0===e&&1/e==-1/0}function gR(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function bR(e){return e+""}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function vR(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yR(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let _R=class e{constructor(e,t){this.comparator=e,this.root=t||kR.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kR.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kR.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xR(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xR(this.root,e,this.comparator,!1)}getReverseIterator(){return new xR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xR(this.root,e,this.comparator,!0)}},xR=class{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kR=class e{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(t,r.key)){if(r.right.isEmpty())return e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sL(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sL(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sL(27949);return e+(this.isRed()?0:1)}};kR.EMPTY=null,kR.RED=!0,kR.BLACK=!1,kR.EMPTY=new class{constructor(){this.size=0}get key(){throw sL(57766)}get value(){throw sL(16141)}get color(){throw sL(16727)}get left(){throw sL(29726)}get right(){throw sL(36894)}copy(e,t,n,i,r){return this}insert(e,t,n){return new kR(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class TR{constructor(e){this.comparator=e,this.data=new _R(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SR(this.data.getIterator())}getIteratorFrom(e){return new SR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof TR))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new TR(this.comparator);return t.data=e,t}}class SR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ER{constructor(e){this.fields=e,e.sort(NL.comparator)}static empty(){return new ER([])}unionWith(e){let t=new TR(NL.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ER(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return IL(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class CR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class IR{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new CR("Invalid base64 string: "+e):e}}(e);return new IR(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new IR(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return TL(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}IR.EMPTY_BYTE_STRING=new IR("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function PR(e){if(lL(!!e,39018),"string"==typeof e){let t=0;const n=AR.exec(e);if(lL(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:DR(e.seconds),nanos:DR(e.nanos)}}function DR(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function OR(e){return"string"==typeof e?IR.fromBase64String(e):IR.fromUint8Array(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const NR="server_timestamp",LR="__type__",RR="__previous_value__",jR="__local_write_time__";function MR(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[LR])||void 0===n?void 0:n.stringValue)===NR}function UR(e){const t=e.mapValue.fields[RR];return MR(t)?UR(t):t}function BR(e){const t=PR(e.mapValue.fields[jR].timestampValue);return new WL(t.seconds,t.nanos)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class FR{constructor(e,t,n,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const zR="(default)";class $R{constructor(e,t){this.projectId=e,this.database=t||zR}static empty(){return new $R("","")}get isDefaultDatabase(){return this.database===zR}isEqual(e){return e instanceof $R&&e.projectId===this.projectId&&e.database===this.database}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const VR="__type__",qR="__max__",HR={fields:{__type__:{stringValue:qR}}},WR="__vector__",GR="value";function YR(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?MR(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===qR}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[VR])||void 0===n?void 0:n.stringValue)===WR}(e)?10:11:sL(28295,{value:e})}function KR(e,t){if(e===t)return!0;const n=YR(e);if(n!==YR(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return BR(e).isEqual(BR(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=PR(e.timestampValue),i=PR(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return OR(e.bytesValue).isEqual(OR(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return DR(e.geoPointValue.latitude)===DR(t.geoPointValue.latitude)&&DR(e.geoPointValue.longitude)===DR(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return DR(e.integerValue)===DR(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=DR(e.doubleValue),i=DR(t.doubleValue);return n===i?fR(n)===fR(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return IL(e.arrayValue.values||[],t.arrayValue.values||[],KR);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(vR(n)!==vR(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!KR(n[r],i[r])))return!1;return!0}(e,t);default:return sL(52216,{left:e})}}function XR(e,t){return void 0!==(e.values||[]).find((e=>KR(e,t)))}function QR(e,t){if(e===t)return 0;const n=YR(e),i=YR(t);if(n!==i)return TL(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return TL(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=DR(e.integerValue||e.doubleValue),i=DR(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return JR(e.timestampValue,t.timestampValue);case 4:return JR(BR(e),BR(t));case 5:return SL(e.stringValue,t.stringValue);case 6:return function(e,t){const n=OR(e),i=OR(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=TL(n[r],i[r]);if(0!==e)return e}return TL(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=TL(DR(e.latitude),DR(t.latitude));return 0!==n?n:TL(DR(e.longitude),DR(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ZR(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,i,r,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[GR])||void 0===n?void 0:n.arrayValue,c=null===(i=a[GR])||void 0===i?void 0:i.arrayValue,d=TL((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==d?d:ZR(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===HR&&t===HR)return 0;if(e===HR)return 1;if(t===HR)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const e=SL(i[s],o[s]);if(0!==e)return e;const t=QR(n[i[s]],r[o[s]]);if(0!==t)return t}return TL(i.length,o.length)}(e.mapValue,t.mapValue);default:throw sL(23264,{le:n})}}function JR(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return TL(e,t);const n=PR(e),i=PR(t),r=TL(n.seconds,i.seconds);return 0!==r?r:TL(n.nanos,i.nanos)}function ZR(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=QR(n[r],i[r]);if(e)return e}return TL(n.length,i.length)}function ej(e){return tj(e)}function tj(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=PR(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return OR(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return LL.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=tj(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${tj(e.fields[r])}`;return n+"}"}(e.mapValue):sL(61005,{value:e})}function nj(e){switch(YR(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=UR(e);return t?16+nj(t):16;case 5:return 2*e.stringValue.length;case 6:return OR(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+nj(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return yR(e.fields,((e,n)=>{t+=e.length+nj(n)})),t}(e.mapValue);default:throw sL(13486,{value:e})}}function ij(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rj(e){return!!e&&"integerValue"in e}function oj(e){return!!e&&"arrayValue"in e}function sj(e){return!!e&&"nullValue"in e}function aj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lj(e){return!!e&&"mapValue"in e}function cj(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yR(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=cj(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cj(e.arrayValue.values[n]);return t}return Object.assign({},e)}class dj{constructor(e){this.value=e}static empty(){return new dj({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lj(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cj(t)}setAll(e){let t=NL.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=cj(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());lj(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return KR(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];lj(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){yR(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new dj(cj(this.value))}}function uj(e){const t=[];return yR(e.fields,((e,n)=>{const i=new NL([e]);if(lj(n)){const e=uj(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new ER(t)
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class hj{constructor(e,t,n,i,r,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(e){return new hj(e,0,GL.min(),GL.min(),GL.min(),dj.empty(),0)}static newFoundDocument(e,t,n,i){return new hj(e,1,t,GL.min(),n,i,0)}static newNoDocument(e,t){return new hj(e,2,t,GL.min(),GL.min(),dj.empty(),0)}static newUnknownDocument(e,t){return new hj(e,3,t,GL.min(),GL.min(),dj.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(GL.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dj.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dj.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=GL.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hj&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hj(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class pj{constructor(e,t){this.position=e,this.inclusive=t}}function mj(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],s=e.position[r];if(i=o.field.isKeyField()?LL.comparator(LL.fromName(s.referenceValue),n.key):QR(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function fj(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!KR(e.position[n],t.position[n]))return!1;return!0}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class gj{constructor(e,t="asc"){this.field=e,this.dir=t}}function bj(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class vj{}class yj extends vj{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ej(e,t,n):"array-contains"===t?new Pj(e,n):"in"===t?new Dj(e,n):"not-in"===t?new Oj(e,n):"array-contains-any"===t?new Nj(e,n):new yj(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Cj(e,n):new Ij(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(QR(t,this.value)):null!==t&&YR(this.value)===YR(t)&&this.matchesComparison(QR(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sL(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wj extends vj{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new wj(e,t)}matches(e){return _j(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _j(e){return"and"===e.op}function xj(e){return function(e){for(const t of e.filters)if(t instanceof wj)return!1;return!0}(e)&&_j(e)}function kj(e){if(e instanceof yj)return e.field.canonicalString()+e.op.toString()+ej(e.value);if(xj(e))return e.filters.map((e=>kj(e))).join(",");{const t=e.filters.map((e=>kj(e))).join(",");return`${e.op}(${t})`}}function Tj(e,t){return e instanceof yj?function(e,t){return t instanceof yj&&e.op===t.op&&e.field.isEqual(t.field)&&KR(e.value,t.value)}(e,t):e instanceof wj?function(e,t){return t instanceof wj&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&Tj(n,t.filters[i])),!0)}(e,t):void sL(19439)}function Sj(e){return e instanceof yj?function(e){return`${e.field.canonicalString()} ${e.op} ${ej(e.value)}`}(e):e instanceof wj?function(e){return e.op.toString()+" {"+e.getFilters().map(Sj).join(" ,")+"}"}(e):"Filter"}class Ej extends yj{constructor(e,t,n){super(e,t,n),this.key=LL.fromName(n.referenceValue)}matches(e){const t=LL.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cj extends yj{constructor(e,t){super(e,"in",t),this.keys=Aj("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ij extends yj{constructor(e,t){super(e,"not-in",t),this.keys=Aj("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Aj(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>LL.fromName(e.referenceValue)))}class Pj extends yj{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oj(t)&&XR(t.arrayValue,this.value)}}class Dj extends yj{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&XR(this.value.arrayValue,t)}}class Oj extends yj{constructor(e,t){super(e,"not-in",t)}matches(e){if(XR(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!XR(this.value.arrayValue,t)}}class Nj extends yj{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oj(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>XR(this.value.arrayValue,e)))}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Lj{constructor(e,t=null,n=[],i=[],r=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.Pe=null}}function Rj(e,t=null,n=[],i=[],r=null,o=null,s=null){return new Lj(e,t,n,i,r,o,s)}function jj(e){const t=cL(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>kj(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),mR(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ej(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ej(e))).join(",")),t.Pe=e}return t.Pe}function Mj(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bj(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fj(e.startAt,t.startAt)&&fj(e.endAt,t.endAt)}function Uj(e){return LL.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Bj{constructor(e,t=null,n=[],i=[],r=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Fj(e){return new Bj(e)}function zj(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $j(e){return null!==e.collectionGroup}function Vj(e){const t=cL(e);if(null===t.Te){t.Te=[];const e=new Set;for(const r of t.explicitOrderBy)t.Te.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new TR(NL.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);i.forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.Te.push(new gj(i,n))})),e.has(NL.keyField().canonicalString())||t.Te.push(new gj(NL.keyField(),n))}return t.Te}function qj(e){const t=cL(e);return t.Ie||(t.Ie=Hj(t,Vj(e))),t.Ie}function Hj(e,t){if("F"===e.limitType)return Rj(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new gj(e.field,t)}));const n=e.endAt?new pj(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pj(e.startAt.position,e.startAt.inclusive):null;return Rj(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Wj(e,t){const n=e.filters.concat([t]);return new Bj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gj(e,t,n){return new Bj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yj(e,t){return Mj(qj(e),qj(t))&&e.limitType===t.limitType}function Kj(e){return`${jj(qj(e))}|lt:${e.limitType}`}function Xj(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Sj(e))).join(", ")}]`),mR(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ej(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ej(e))).join(",")),`Target(${t})`}(qj(e))}; limitType=${e.limitType})`}function Qj(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):LL.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Vj(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=mj(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,Vj(e),t))&&!(e.endAt&&!function(e,t,n){const i=mj(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,Vj(e),t))}(e,t)}function Jj(e){return(t,n)=>{let i=!1;for(const r of Vj(e)){const e=Zj(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Zj(e,t,n){const i=e.field.isKeyField()?LL.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?QR(i,r):sL(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return sL(19790,{direction:e.dir})}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class eM{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yR(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const tM=new _R(LL.comparator);function nM(){return tM}const iM=new _R(LL.comparator);function rM(...e){let t=iM;for(const n of e)t=t.insert(n.key,n);return t}function oM(e){let t=iM;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function sM(){return lM()}function aM(){return lM()}function lM(){return new eM((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cM=new _R(LL.comparator),dM=new TR(LL.comparator);function uM(...e){let t=dM;for(const n of e)t=t.add(n);return t}const hM=new TR(TL);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function pM(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fR(t)?"-0":t}}function mM(e){return{integerValue:""+e}}function fM(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!fR(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(t)?mM(t):pM(e,t)}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class gM{constructor(){this._=void 0}}function bM(e,t,n){return e instanceof wM?function(e,t){const n={fields:{[LR]:{stringValue:NR},[jR]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&MR(t)&&(t=UR(t)),t&&(n.fields[RR]=t),{mapValue:n}}(n,t):e instanceof _M?xM(e,t):e instanceof kM?TM(e,t):function(e,t){const n=yM(e,t),i=EM(n)+EM(e.Ee);return rj(n)&&rj(e.Ee)?mM(i):pM(e.serializer,i)}(e,t)}function vM(e,t,n){return e instanceof _M?xM(e,t):e instanceof kM?TM(e,t):n}function yM(e,t){return e instanceof SM?function(e){return rj(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wM extends gM{}class _M extends gM{constructor(e){super(),this.elements=e}}function xM(e,t){const n=CM(t);for(const i of e.elements)n.some((e=>KR(e,i)))||n.push(i);return{arrayValue:{values:n}}}class kM extends gM{constructor(e){super(),this.elements=e}}function TM(e,t){let n=CM(t);for(const i of e.elements)n=n.filter((e=>!KR(e,i)));return{arrayValue:{values:n}}}class SM extends gM{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function EM(e){return DR(e.integerValue||e.doubleValue)}function CM(e){return oj(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class IM{constructor(e,t){this.field=e,this.transform=t}}class AM{constructor(e,t){this.version=e,this.transformResults=t}}class PM{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new PM}static exists(e){return new PM(void 0,e)}static updateTime(e){return new PM(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DM(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class OM{}function NM(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new VM(e.key,PM.none()):new UM(e.key,e.data,PM.none());{const n=e.data,i=dj.empty();let r=new TR(NL.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new BM(e.key,i,new ER(r.toArray()),PM.none())}}function LM(e,t,n){e instanceof UM?function(e,t,n){const i=e.value.clone(),r=zM(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof BM?function(e,t,n){if(!DM(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=zM(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(FM(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function RM(e,t,n,i){return e instanceof UM?function(e,t,n,i){if(!DM(e.precondition,t))return n;const r=e.value.clone(),o=$M(e.fieldTransforms,i,t);return r.setAll(o),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof BM?function(e,t,n,i){if(!DM(e.precondition,t))return n;const r=$M(e.fieldTransforms,i,t),o=t.data;return o.setAll(FM(e)),o.setAll(r),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return DM(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jM(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=yM(i.transform,e||null);null!=r&&(null===n&&(n=dj.empty()),n.set(i.field,r))}return n||null}function MM(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&IL(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _M&&t instanceof _M||e instanceof kM&&t instanceof kM?IL(e.elements,t.elements,KR):e instanceof SM&&t instanceof SM?KR(e.Ee,t.Ee):e instanceof wM&&t instanceof wM}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class UM extends OM{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class BM extends OM{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function FM(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function zM(e,t,n){const i=new Map;lL(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let r=0;r<n.length;r++){const o=e[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,vM(s,a,n[r]))}return i}function $M(e,t,n){const i=new Map;for(const r of e){const e=r.transform,o=n.data.field(r.field);i.set(r.field,bM(e,o,t))}return i}class VM extends OM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qM extends OM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class HM{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&LM(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=RM(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=RM(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=aM();return this.mutations.forEach((i=>{const r=e.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=t.has(i.key)?null:s;const a=NM(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(GL.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),uM())}isEqual(e){return this.batchId===e.batchId&&IL(this.mutations,e.mutations,((e,t)=>MM(e,t)))&&IL(this.baseMutations,e.baseMutations,((e,t)=>MM(e,t)))}}class WM{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){lL(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=cM;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new WM(e,t,n,i)}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class GM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class YM{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class KM{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var XM,QM;function JM(e){if(void 0===e)return iL("GRPC error has no .code"),dL.UNKNOWN;switch(e){case XM.OK:return dL.OK;case XM.CANCELLED:return dL.CANCELLED;case XM.UNKNOWN:return dL.UNKNOWN;case XM.DEADLINE_EXCEEDED:return dL.DEADLINE_EXCEEDED;case XM.RESOURCE_EXHAUSTED:return dL.RESOURCE_EXHAUSTED;case XM.INTERNAL:return dL.INTERNAL;case XM.UNAVAILABLE:return dL.UNAVAILABLE;case XM.UNAUTHENTICATED:return dL.UNAUTHENTICATED;case XM.INVALID_ARGUMENT:return dL.INVALID_ARGUMENT;case XM.NOT_FOUND:return dL.NOT_FOUND;case XM.ALREADY_EXISTS:return dL.ALREADY_EXISTS;case XM.PERMISSION_DENIED:return dL.PERMISSION_DENIED;case XM.FAILED_PRECONDITION:return dL.FAILED_PRECONDITION;case XM.ABORTED:return dL.ABORTED;case XM.OUT_OF_RANGE:return dL.OUT_OF_RANGE;case XM.UNIMPLEMENTED:return dL.UNIMPLEMENTED;case XM.DATA_LOSS:return dL.DATA_LOSS;default:return sL(39323,{code:e})}}(QM=XM||(XM={}))[QM.OK=0]="OK",QM[QM.CANCELLED=1]="CANCELLED",QM[QM.UNKNOWN=2]="UNKNOWN",QM[QM.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",QM[QM.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",QM[QM.NOT_FOUND=5]="NOT_FOUND",QM[QM.ALREADY_EXISTS=6]="ALREADY_EXISTS",QM[QM.PERMISSION_DENIED=7]="PERMISSION_DENIED",QM[QM.UNAUTHENTICATED=16]="UNAUTHENTICATED",QM[QM.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",QM[QM.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",QM[QM.ABORTED=10]="ABORTED",QM[QM.OUT_OF_RANGE=11]="OUT_OF_RANGE",QM[QM.UNIMPLEMENTED=12]="UNIMPLEMENTED",QM[QM.INTERNAL=13]="INTERNAL",QM[QM.UNAVAILABLE=14]="UNAVAILABLE",QM[QM.DATA_LOSS=15]="DATA_LOSS";
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const ZM=new UN([4294967295,4294967295],0);function eU(e){const t=xL().encode(e),n=new BN;return n.update(t),new Uint8Array(n.digest())}function tU(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new UN([n,i],0),new UN([r,o],0)]}class nU{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new iU(`Invalid padding: ${t}`);if(n<0)throw new iU(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new iU(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new iU(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=UN.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(UN.fromNumber(n)));return 1===i.compare(ZM)&&(i=new UN([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=eU(e),[n,i]=tU(t);for(let r=0;r<this.hashCount;r++){const e=this.pe(n,i,r);if(!this.ye(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new nU(r,i,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.fe)return;const t=eU(e),[n,i]=tU(t);for(let r=0;r<this.hashCount;r++){const e=this.pe(n,i,r);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class iU extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class rU{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,oU.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rU(GL.min(),i,new _R(TL),nM(),uM())}}class oU{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new oU(n,t,uM(),uM(),uM())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class sU{constructor(e,t,n,i){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=i}}class aU{constructor(e,t){this.targetId=e,this.De=t}}class lU{constructor(e,t,n=IR.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class cU{constructor(){this.ve=0,this.Ce=hU(),this.Fe=IR.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=uM(),t=uM(),n=uM();return this.Ce.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:sL(38017,{changeType:r})}})),new oU(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=hU()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,lL(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class dU{constructor(e){this.We=e,this.Ge=new Map,this.ze=nM(),this.je=uU(),this.Je=uU(),this.He=new _R(TL)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:sL(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((e,n)=>{this.nt(n)&&t(n)}))}it(e){const t=e.targetId,n=e.De.count,i=this.st(t);if(i){const r=i.target;if(Uj(r))if(0===n){const e=new LL(r.path);this.Xe(t,e,hj.newNoDocument(e,GL.min()))}else lL(1===n,20013,{expectedCount:n});else{const i=this.ot(t);if(i!==n){const n=this._t(e),r=n?this.ut(n,e,i):1;if(0!==r){this.rt(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let o,s;try{o=OR(n).toUint8Array()}catch(e){if(e instanceof CR)return rL("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new nU(o,i,r)}catch(e){return rL(e instanceof iU?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.fe?null:s}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.We.lt(),o=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),i++)})),i}Pt(e){const t=new Map;this.Ge.forEach(((n,i)=>{const r=this.st(i);if(r){if(n.current&&Uj(r.target)){const t=new LL(r.target.path);this.Tt(t).has(i)||this.It(i,t)||this.Xe(i,t,hj.newNoDocument(t,e))}n.Ne&&(t.set(i,n.Le()),n.ke())}}));let n=uM();this.Je.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.ze.forEach(((t,n)=>n.setReadTime(e)));const i=new rU(e,t,this.He,this.ze,n);return this.ze=nM(),this.je=uU(),this.Je=uU(),this.He=new _R(TL),i}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new cU,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new TR(TL),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new TR(TL),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||nL("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new cU),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uU(){return new _R(LL.comparator)}function hU(){return new _R(LL.comparator)}const pU={asc:"ASCENDING",desc:"DESCENDING"},mU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fU={and:"AND",or:"OR"};class gU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bU(e,t){return e.useProto3Json||mR(t)?t:{value:t}}function vU(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yU(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wU(e,t){return vU(e,t.toTimestamp())}function _U(e){return lL(!!e,49232),GL.fromTimestamp(function(e){const t=PR(e);return new WL(t.seconds,t.nanos)}(e))}function xU(e,t){return kU(e,t).canonicalString()}function kU(e,t){const n=function(e){return new DL(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function TU(e){const t=DL.fromString(e);return lL($U(t),10190,{key:t.toString()}),t}function SU(e,t){return xU(e.databaseId,t.path)}function EU(e,t){const n=TU(t);if(n.get(1)!==e.databaseId.projectId)throw new uL(dL.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new uL(dL.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new LL(AU(n))}function CU(e,t){return xU(e.databaseId,t)}function IU(e){return new DL(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AU(e){return lL(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function PU(e,t,n){return{name:SU(e,t),fields:n.value.mapValue.fields}}function DU(e,t){return{documents:[CU(e,t.path)]}}function OU(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=CU(e,r);const o=function(e){if(0!==e.length)return FU(wj.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:UU(e.field),direction:RU(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=bU(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:r}}function NU(e){let t=function(e){const t=TU(e);return 4===t.length?DL.emptyPath():AU(t)}(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){lL(1===i,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=LU(e);return t instanceof wj&&xj(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new gj(BU(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,mR(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pj(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pj(n,t)}(n.endAt)),function(e,t,n,i,r,o,s,a){return new Bj(e,t,n,i,r,o,s,a)}(t,r,s,o,a,"F",l,c)}function LU(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=BU(e.unaryFilter.field);return yj.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=BU(e.unaryFilter.field);return yj.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=BU(e.unaryFilter.field);return yj.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=BU(e.unaryFilter.field);return yj.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sL(61313);default:return sL(60726)}}(e):void 0!==e.fieldFilter?function(e){return yj.create(BU(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sL(58110);default:return sL(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wj.create(e.compositeFilter.filters.map((e=>LU(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sL(1026)}}(e.compositeFilter.op))}(e):sL(30097,{filter:e})}function RU(e){return pU[e]}function jU(e){return mU[e]}function MU(e){return fU[e]}function UU(e){return{fieldPath:e.canonicalString()}}function BU(e){return NL.fromServerFormat(e.fieldPath)}function FU(e){return e instanceof yj?function(e){if("=="===e.op){if(aj(e.value))return{unaryFilter:{field:UU(e.field),op:"IS_NAN"}};if(sj(e.value))return{unaryFilter:{field:UU(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aj(e.value))return{unaryFilter:{field:UU(e.field),op:"IS_NOT_NAN"}};if(sj(e.value))return{unaryFilter:{field:UU(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:UU(e.field),op:jU(e.op),value:e.value}}}(e):e instanceof wj?function(e){const t=e.getFilters().map((e=>FU(e)));return 1===t.length?t[0]:{compositeFilter:{op:MU(e.op),filters:t}}}(e):sL(54877,{filter:e})}function zU(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function $U(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class VU{constructor(e,t,n,i,r=GL.min(),o=GL.min(),s=IR.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new VU(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new VU(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new VU(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new VU(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class qU{constructor(e){this.gt=e}}function HU(e){const t=NU({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gj(t,t.limit,"L"):t}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class WU{constructor(){this.Dn=new GU}addToCollectionParentIndex(e,t){return this.Dn.add(t),eR.resolve()}getCollectionParents(e,t){return eR.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return eR.resolve()}deleteFieldIndex(e,t){return eR.resolve()}deleteAllFieldIndexes(e){return eR.resolve()}createTargetIndexes(e,t){return eR.resolve()}getDocumentsMatchingTarget(e,t){return eR.resolve(null)}getIndexType(e,t){return eR.resolve(0)}getFieldIndexes(e,t){return eR.resolve([])}getNextCollectionGroupToUpdate(e){return eR.resolve(null)}getMinOffset(e,t){return eR.resolve(KL.min())}getMinOffsetFromCollectionGroup(e,t){return eR.resolve(KL.min())}updateCollectionGroup(e,t,n){return eR.resolve()}updateIndexEntries(e,t){return eR.resolve()}}class GU{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new TR(DL.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new TR(DL.comparator)).toArray()}}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const YU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KU=41943040;class XU{static withCacheSize(e){return new XU(e,XU.DEFAULT_COLLECTION_PERCENTILE,XU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */XU.DEFAULT_COLLECTION_PERCENTILE=10,XU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,XU.DEFAULT=new XU(KU,XU.DEFAULT_COLLECTION_PERCENTILE,XU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),XU.DISABLED=new XU(-1,0,0);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class QU{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new QU(0)}static ur(){return new QU(-1)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const JU="LruGarbageCollector";function ZU([e,t],[n,i]){const r=TL(e,n);return 0===r?TL(t,i):r}class eB{constructor(e){this.Tr=e,this.buffer=new TR(ZU),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ZU(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tB{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){nL(JU,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){aR(e)?nL(JU,"Ignoring IndexedDB error during garbage collection: ",e):await ZL(e)}await this.Rr(3e5)}))}}class nB{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return eR.resolve(hR.ue);const n=new eB(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.gr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nL("LruGarbageCollector","Garbage collection skipped; disabled"),eR.resolve(YU)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(nL("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YU):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,i,r,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(nL("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,o=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),tL()<=rI.DEBUG&&nL("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${i} in `+(s-o)+"ms\n"+`\tRemoved ${r} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),eR.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class iB{constructor(){this.changes=new eM((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hj.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?eR.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class rB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class oB{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&RM(n.mutation,e,ER.empty(),WL.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,uM()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=uM()){const i=sM();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=rM();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=sM();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,uM())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=nM();const o=lM(),s=lM();return t.forEach(((e,t)=>{const s=n.get(t.key);i.has(t.key)&&(void 0===s||s.mutation instanceof BM)?r=r.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),RM(s.mutation,t,s.mutation.getFieldMask(),WL.now())):o.set(t.key,ER.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new rB(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=lM();let i=new _R(((e,t)=>e-t)),r=uM();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ER.empty();s=r.applyToLocalView(o,s),n.set(e,s);const a=(i.get(r.batchId)||uM()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,l=i.value,c=aM();l.forEach((e=>{if(!r.has(e)){const i=NM(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return eR.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return LL.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$j(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):eR.resolve(sM());let s=-1,a=r;return o.next((t=>eR.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(t)?eR.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,uM()))).next((e=>({batchId:s,changes:oM(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new LL(t)).next((e=>{let t=rM();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let o=rM();return this.indexManager.getCollectionParents(e,r).next((s=>eR.forEach(s,(s=>{const a=function(e,t){return new Bj(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n,i).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i)))).next((e=>{r.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,hj.newInvalidDocument(i)))}));let n=rM();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&RM(o.mutation,i,ER.empty(),WL.now()),Qj(t,i)&&(n=n.insert(e,i))})),n}))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class sB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return eR.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_U(e.createTime)}}(t)),eR.resolve()}getNamedQuery(e,t){return eR.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:HU(e.bundledQuery),readTime:_U(e.readTime)}}(t)),eR.resolve()}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class aB{constructor(){this.overlays=new _R(LL.comparator),this.kr=new Map}getOverlay(e,t){return eR.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sM();return eR.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.wt(e,t,i)})),eR.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.kr.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.kr.delete(n)),eR.resolve()}getOverlaysForCollection(e,t,n){const i=sM(),r=t.length+1,o=new LL(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return eR.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new _R(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=sM(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=sM(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=i)););return eR.resolve(s)}wt(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new GM(t,n));let r=this.kr.get(t);void 0===r&&(r=uM(),this.kr.set(t,r)),this.kr.set(t,r.add(n.key))}}
/**
             * @license
             * Copyright 2024 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class lB{constructor(){this.sessionToken=IR.EMPTY_BYTE_STRING}getSessionToken(e){return eR.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,eR.resolve()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class cB{constructor(){this.qr=new TR(dB.Qr),this.$r=new TR(dB.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new dB(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new dB(e,t))}Gr(e,t){e.forEach((e=>this.removeReference(e,t)))}zr(e){const t=new LL(new DL([])),n=new dB(t,e),i=new dB(t,e+1),r=[];return this.$r.forEachInRange([n,i],(e=>{this.Wr(e),r.push(e.key)})),r}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new LL(new DL([])),n=new dB(t,e),i=new dB(t,e+1);let r=uM();return this.$r.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new dB(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dB{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return LL.comparator(e.key,t.key)||TL(e.Hr,t.Hr)}static Ur(e,t){return TL(e.Hr,t.Hr)||LL.comparator(e.key,t.key)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class uB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new TR(dB.Qr)}checkEmpty(e){return eR.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HM(r,t,n,i);this.mutationQueue.push(o);for(const s of i)this.Yr=this.Yr.add(new dB(s.key,r)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return eR.resolve(o)}lookupMutationBatch(e,t){return eR.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Xr(n),r=i<0?0:i;return eR.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return eR.resolve(0===this.mutationQueue.length?pR:this.er-1)}getAllMutationBatches(e){return eR.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dB(t,0),i=new dB(t,Number.POSITIVE_INFINITY),r=[];return this.Yr.forEachInRange([n,i],(e=>{const t=this.Zr(e.Hr);r.push(t)})),eR.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new TR(TL);return t.forEach((e=>{const t=new dB(e,0),i=new dB(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,i],(e=>{n=n.add(e.Hr)}))})),eR.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;LL.isDocumentKey(r)||(r=r.child(""));const o=new dB(new LL(r),0);let s=new TR(TL);return this.Yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(s=s.add(e.Hr)),!0)}),o),eR.resolve(this.ei(s))}ei(e){const t=[];return e.forEach((e=>{const n=this.Zr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){lL(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return eR.forEach(t.mutations,(i=>{const r=new dB(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,t){const n=new dB(t,0),i=this.Yr.firstAfterOrEqual(n);return eR.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,eR.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class hB{constructor(e){this.ni=e,this.docs=new _R(LL.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return eR.resolve(n?n.document.mutableCopy():hj.newInvalidDocument(t))}getEntries(e,t){let n=nM();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hj.newInvalidDocument(e))})),eR.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=nM();const o=t.path,s=new LL(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||XL(YL(s),n)<=0||(i.has(s.key)||Qj(t,s))&&(r=r.insert(s.key,s.mutableCopy()))}return eR.resolve(r)}getAllFromCollectionGroup(e,t,n,i){sL(9500)}ri(e,t){return eR.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new pB(this)}getSize(e){return eR.resolve(this.size)}}class pB extends iB{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),eR.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class mB{constructor(e){this.persistence=e,this.ii=new eM((e=>jj(e)),Mj),this.lastRemoteSnapshotVersion=GL.min(),this.highestTargetId=0,this.si=0,this.oi=new cB,this.targetCount=0,this._i=QU.ar()}forEachTarget(e,t){return this.ii.forEach(((e,n)=>t(n))),eR.resolve()}getLastRemoteSnapshotVersion(e){return eR.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return eR.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),eR.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),eR.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new QU(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,eR.resolve()}updateTargetData(e,t){return this.hr(t),eR.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,eR.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.ii.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ii.delete(o),r.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),eR.waitFor(r).next((()=>i))}getTargetCount(e){return eR.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return eR.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),eR.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),eR.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),eR.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return eR.resolve(n)}containsKey(e,t){return eR.resolve(this.oi.containsKey(t))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class fB{constructor(e,t){this.ai={},this.overlays={},this.ui=new hR(0),this.ci=!1,this.ci=!0,this.li=new lB,this.referenceDelegate=e(this),this.hi=new mB(this),this.indexManager=new WU,this.remoteDocumentCache=function(e){return new hB(e)}((e=>this.referenceDelegate.Pi(e))),this.serializer=new qU(t),this.Ti=new sB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new uB(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){nL("MemoryPersistence","Starting transaction:",e);const i=new gB(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((e=>this.referenceDelegate.di(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Ei(e,t){return eR.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,t))))}}class gB extends JL{constructor(e){super(),this.currentSequenceNumber=e}}class bB{constructor(e){this.persistence=e,this.Ai=new cB,this.Ri=null}static Vi(e){return new bB(e)}get mi(){if(this.Ri)return this.Ri;throw sL(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),eR.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),eR.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),eR.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((e=>this.mi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.mi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eR.forEach(this.mi,(n=>{const i=LL.fromPath(n);return this.fi(e,i).next((e=>{e||t.removeEntry(i,GL.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return eR.or([()=>eR.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class vB{constructor(e,t){this.persistence=e,this.gi=new eM((e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=bR(t)),t=gR(e.get(n),t);return bR(t)}(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=function(e,t){return new nB(e,t)}(this,t)}static Vi(e,t){return new vB(e,t)}Ii(){}di(e){return eR.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}yr(e){let t=0;return this.gr(e,(e=>{t++})).next((()=>t))}gr(e,t){return eR.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((e=>e?eR.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ri(e,(i=>this.Sr(e,i,t).next((e=>{e||(n++,r.removeEntry(i,GL.min()))})))).next((()=>r.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),eR.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),eR.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),eR.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),eR.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nj(e.data.value)),t}Sr(e,t,n){return eR.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return eR.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}const yB="main";class wB{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=i}static Es(e,t){let n=uM(),i=uM();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new wB(e,t.fromCache,n,i)}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class _B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=DC()?8:rR(CC())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.ps(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.ys(e,t,i,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new _B;return this.ws(e,t,n).next((i=>{if(r.result=i,this.Rs)return this.Ss(e,t,n,i.size)}))})).next((()=>r.result))}Ss(e,t,n,i){return n.documentReadCount<this.Vs?(tL()<=rI.DEBUG&&nL("QueryEngine","SDK will not create cache indexes for query:",Xj(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),eR.resolve()):(tL()<=rI.DEBUG&&nL("QueryEngine","Query:",Xj(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(tL()<=rI.DEBUG&&nL("QueryEngine","The SDK decides to create cache indexes for query:",Xj(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qj(t))):eR.resolve())}ps(e,t){if(zj(t))return eR.resolve(null);let n=qj(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Gj(t,null,"F"),n=qj(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=uM(...i);return this.gs.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.bs(t,i);return this.Ds(t,o,r,n.readTime)?this.ps(e,Gj(t,null,"F")):this.vs(e,o,t,n)}))))})))))}ys(e,t,n,i){return zj(t)||i.isEqual(GL.min())?eR.resolve(null):this.gs.getDocuments(e,n).next((r=>{const o=this.bs(t,r);return this.Ds(t,o,n,i)?eR.resolve(null):(tL()<=rI.DEBUG&&nL("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xj(t)),this.vs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=GL.fromTimestamp(1e9===i?new WL(n+1,0):new WL(n,i));return new KL(r,LL.empty(),t)}(i,-1)).next((e=>e)))}))}bs(e,t){let n=new TR(Jj(e));return t.forEach(((t,i)=>{Qj(e,i)&&(n=n.add(i))})),n}Ds(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ws(e,t,n){return tL()<=rI.DEBUG&&nL("QueryEngine","Using full collection scan to execute query:",Xj(t)),this.gs.getDocumentsMatchingQuery(e,t,KL.min(),n)}vs(e,t,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const kB="LocalStore",TB=3e8;class SB{constructor(e,t,n,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new _R(TL),this.Ms=new eM((e=>jj(e)),Mj),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}async function EB(e,t){const n=cL(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.Ns(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],o=[];let s=uM();for(const e of i){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Bs:e,removedBatchIds:r,addedBatchIds:o})))}))}))}function CB(e){const t=cL(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.hi.getLastRemoteSnapshotVersion(e)))}function IB(e,t){const n=cL(e),i=t.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const s=[];t.targetChanges.forEach(((o,a)=>{const l=r.get(a);if(!l)return;s.push(n.hi.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.hi.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(IR.EMPTY_BYTE_STRING,GL.min()).withLastLimboFreeSnapshotVersion(GL.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,i)),r=r.insert(a,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=TB)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.hi.updateTargetData(e,c))}));let a=nM(),l=uM();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),s.push(function(e,t,n){let i=uM(),r=uM();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=nM();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(GL.min())?(t.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),i=i.insert(n,o)):nL(kB,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Ls:i,ks:r}}))}(e,o,t.documentUpdates).next((e=>{a=e.Ls,l=e.ks}))),!i.isEqual(GL.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next((t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,i)));s.push(t)}return eR.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Fs=r,e)))}function AB(e,t){const n=cL(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=pR),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function PB(e,t,n){const i=cL(e),r=i.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!aR(e))throw e;nL(kB,`Failed to update sequence numbers for target ${t}: ${e}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function DB(e,t,n){const i=cL(e);let r=GL.min(),o=uM();return i.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const i=cL(e),r=i.Ms.get(n);return void 0!==r?eR.resolve(i.Fs.get(r)):i.hi.getTargetData(t,n)}(i,e,qj(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>i.Cs.getDocumentsMatchingQuery(e,t,n?r:GL.min(),n?o:uM()))).next((e=>(function(e,t,n){let i=e.xs.get(t)||GL.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.xs.set(t,i)}(i,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,qs:o})))))}class OB{constructor(){this.activeTargetIds=hM}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NB{constructor(){this.Fo=new OB,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new OB,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class LB{xo(e){}shutdown(){}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const RB="ConnectivityMonitor";class jB{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){nL(RB,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){nL(RB,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let MB=null;function UB(){return null===MB?MB=268435456+Math.round(2147483648*Math.random()):MB++,"0x"+MB.toString(16)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}const BB="RestConnection",FB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zB{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===zR?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,t,n,i,r){const o=UB(),s=this.Go(e,t.toUriEncodedString());nL(BB,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(a,i,r);const{host:l}=new URL(s),c=_C(l);return this.jo(e,s,a,n,c).then((t=>(nL(BB,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw rL(BB,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Jo(e,t,n,i,r,o){return this.Wo(e,t,n,i,r)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ZN,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Go(e,t){const n=FB[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $B{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const VB="WebChannelConnection";class qB extends zB{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,i,r){const o=UB();return new Promise(((r,s)=>{const a=new zN;a.setWithCredentials(!0),a.listenOnce(VN.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case qN.NO_ERROR:const t=a.getResponseJson();nL(VB,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),r(t);break;case qN.TIMEOUT:nL(VB,`RPC '${e}' ${o} timed out`),s(new uL(dL.DEADLINE_EXCEEDED,"Request time out"));break;case qN.HTTP_ERROR:const n=a.getStatus();if(nL(VB,`RPC '${e}' ${o} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(dL).indexOf(t)>=0?t:dL.UNKNOWN}(t.status);s(new uL(e,t.message))}else s(new uL(dL.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new uL(dL.UNAVAILABLE,"Connection failed."));break;default:sL(9055,{c_:e,streamId:o,l_:a.getLastErrorCode(),h_:a.getLastError()})}}finally{nL(VB,`RPC '${e}' ${o} completed.`)}}));const l=JSON.stringify(i);nL(VB,`RPC '${e}' ${o} sending request:`,i),a.send(t,"POST",l,n,15)}))}P_(e,t,n){const i=UB(),r=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YN(),s=GN(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.zo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");nL(VB,`Creating RPC '${e}' stream ${i}: ${c}`,a);const d=o.createWebChannel(c,a);this.T_(d);let u=!1,h=!1;const p=new $B({Ho:t=>{h?nL(VB,`Not sending because RPC '${e}' stream ${i} is closed:`,t):(u||(nL(VB,`Opening RPC '${e}' stream ${i} transport.`),d.open(),u=!0),nL(VB,`RPC '${e}' stream ${i} sending:`,t),d.send(t))},Yo:()=>d.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(d,$N.EventType.OPEN,(()=>{h||(nL(VB,`RPC '${e}' stream ${i} transport opened.`),p.s_())})),m(d,$N.EventType.CLOSE,(()=>{h||(h=!0,nL(VB,`RPC '${e}' stream ${i} transport closed`),p.__(),this.I_(d))})),m(d,$N.EventType.ERROR,(t=>{h||(h=!0,rL(VB,`RPC '${e}' stream ${i} transport errored. Name:`,t.name,"Message:",t.message),p.__(new uL(dL.UNAVAILABLE,"The operation could not be completed")))})),m(d,$N.EventType.MESSAGE,(t=>{var n;if(!h){const r=t.data[0];lL(!!r,16349);const o=r,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){nL(VB,`RPC '${e}' stream ${i} received error:`,s);const t=s.status;let n=function(e){const t=XM[e];if(void 0!==t)return JM(t)}(t),r=s.message;void 0===n&&(n=dL.INTERNAL,r="Unknown error status: "+t+" with message "+s.message),h=!0,p.__(new uL(n,r)),d.close()}else nL(VB,`RPC '${e}' stream ${i} received:`,r),p.a_(r)}})),m(s,WN.STAT_EVENT,(t=>{t.stat===HN.PROXY?nL(VB,`RPC '${e}' stream ${i} detected buffering proxy`):t.stat===HN.NOPROXY&&nL(VB,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{p.o_()}),0),p}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function HB(){return"undefined"!=typeof document?document:null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function WB(e){return new gU(e,!0)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class GB{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=i,this.A_=r,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-n);i>0&&nL("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const YB="PersistentStream";class KB{constructor(e,t,n,i,r,o,s,a){this.Fi=e,this.w_=n,this.S_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new GB(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===dL.RESOURCE_EXHAUSTED?(iL(t.toString()),iL("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===dL.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.b_===t&&this.W_(e,n)}),(t=>{e((()=>{const e=new uL(dL.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)}))}))}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((e=>{n((()=>this.G_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.C_?this.j_(e):this.onNext(e)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return nL(YB,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(nL(YB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XB extends KB{constructor(e,t,n,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.serializer=r}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sL(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(lL(void 0===t||"string"==typeof t,58123),IR.fromBase64String(t||"")):(lL(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),IR.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?dL.UNKNOWN:JM(e.code);return new uL(t,e.message||"")}(s);n=new lU(i,r,o,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=EU(e,i.document.name),o=_U(i.document.updateTime),s=i.document.createTime?_U(i.document.createTime):GL.min(),a=new dj({mapValue:{fields:i.document.fields}}),l=hj.newFoundDocument(r,o,s,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new sU(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=EU(e,i.document),o=i.readTime?_U(i.readTime):GL.min(),s=hj.newNoDocument(r,o),a=i.removedTargetIds||[];n=new sU([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=EU(e,i.document),o=i.removedTargetIds||[];n=new sU([],o,r,null)}else{if(!("filter"in t))return sL(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,o=new KM(i,r),s=e.targetId;n=new aU(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return GL.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?GL.min():t.readTime?_U(t.readTime):GL.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=IU(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=Uj(i)?{documents:DU(e,i)}:{query:OU(e,i).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yU(e,t.resumeToken);const i=bU(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(GL.min())>0){n.readTime=vU(e,t.snapshotVersion.toTimestamp());const i=bU(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sL(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=IU(this.serializer),t.removeTarget=e,this.k_(t)}}class QB extends KB{constructor(e,t,n,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.serializer=r}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return lL(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lL(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){lL(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(lL(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?_U(e.updateTime):_U(t);return n.isEqual(GL.min())&&(n=_U(t)),new AM(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=_U(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=IU(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof UM)n={update:PU(e,t.key,t.value)};else if(t instanceof VM)n={delete:SU(e,t.key)};else if(t instanceof BM)n={update:PU(e,t.key,t.data),updateMask:zU(t.fieldMask)};else{if(!(t instanceof qM))return sL(16599,{Rt:t.type});n={verify:SU(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof wM)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _M)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kM)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof SM)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw sL(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wU(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sL(27497)}(e,t.precondition)),n}(this.serializer,e)))};this.k_(t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class JB{}class ZB extends JB{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new uL(dL.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,o])=>this.connection.Wo(e,kU(t,n),i,r,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===dL.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new uL(dL.UNKNOWN,e.toString())}))}Jo(e,t,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Jo(e,kU(t,n),i,o,s,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===dL.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new uL(dL.UNKNOWN,e.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class eF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(iL(t),this._a=!1):nL("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const tF="RemoteStore";class nF{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=r,this.Ea.xo((e=>{n.enqueueAndForget((async()=>{uF(this)&&(nL(tF,"Restarting streams for network reachability change."),await async function(e){const t=cL(e);t.Ia.add(4),await rF(t),t.Aa.set("Unknown"),t.Ia.delete(4),await iF(t)}(this))}))})),this.Aa=new eF(n,i)}}async function iF(e){if(uF(e))for(const t of e.da)await t(!0)}async function rF(e){for(const t of e.da)await t(!1)}function oF(e,t){const n=cL(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),dF(n)?cF(n):AF(n).x_()&&aF(n,t))}function sF(e,t){const n=cL(e),i=AF(n);n.Ta.delete(t),i.x_()&&lF(n,t),0===n.Ta.size&&(i.x_()?i.B_():uF(n)&&n.Aa.set("Unknown"))}function aF(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(GL.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}AF(e).H_(t)}function lF(e,t){e.Ra.$e(t),AF(e).Y_(t)}function cF(e){e.Ra=new dU({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),AF(e).start(),e.Aa.aa()}function dF(e){return uF(e)&&!AF(e).M_()&&e.Ta.size>0}function uF(e){return 0===cL(e).Ia.size}function hF(e){e.Ra=void 0}async function pF(e){e.Aa.set("Online")}async function mF(e){e.Ta.forEach(((t,n)=>{aF(e,t)}))}async function fF(e,t){hF(e),dF(e)?(e.Aa.la(t),cF(e)):e.Aa.set("Unknown")}async function gF(e,t,n){if(e.Aa.set("Online"),t instanceof lU&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Ta.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Ta.delete(i),e.Ra.removeTarget(i))}(e,t)}catch(n){nL(tF,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await bF(e,n)}else if(t instanceof sU?e.Ra.Ye(t):t instanceof aU?e.Ra.it(t):e.Ra.et(t),!n.isEqual(GL.min()))try{const t=await CB(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Ta.get(i);r&&e.Ta.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.Ta.get(t);if(!i)return;e.Ta.set(t,i.withResumeToken(IR.EMPTY_BYTE_STRING,i.snapshotVersion)),lF(e,t);const r=new VU(i.target,t,n,i.sequenceNumber);aF(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){nL(tF,"Failed to raise snapshot:",t),await bF(e,t)}}async function bF(e,t,n){if(!aR(t))throw t;e.Ia.add(1),await rF(e),e.Aa.set("Offline"),n||(n=()=>CB(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{nL(tF,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await iF(e)}))}function vF(e,t){return t().catch((n=>bF(e,n,t)))}async function yF(e){const t=cL(e),n=PF(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:pR;for(;wF(t);)try{const e=await AB(t.localStore,i);if(null===e){0===t.Pa.length&&n.B_();break}i=e.batchId,_F(t,e)}catch(e){await bF(t,e)}xF(t)&&kF(t)}function wF(e){return uF(e)&&e.Pa.length<10}function _F(e,t){e.Pa.push(t);const n=PF(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function xF(e){return uF(e)&&!PF(e).M_()&&e.Pa.length>0}function kF(e){PF(e).start()}async function TF(e){PF(e).na()}async function SF(e){const t=PF(e);for(const n of e.Pa)t.X_(n.mutations)}async function EF(e,t,n){const i=e.Pa.shift(),r=WM.from(i,t,n);await vF(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await yF(e)}async function CF(e,t){t&&PF(e).Z_&&await async function(e,t){if(function(e){return function(e){switch(e){case dL.OK:return sL(64938);case dL.CANCELLED:case dL.UNKNOWN:case dL.DEADLINE_EXCEEDED:case dL.RESOURCE_EXHAUSTED:case dL.INTERNAL:case dL.UNAVAILABLE:case dL.UNAUTHENTICATED:return!1;case dL.INVALID_ARGUMENT:case dL.NOT_FOUND:case dL.ALREADY_EXISTS:case dL.PERMISSION_DENIED:case dL.FAILED_PRECONDITION:case dL.ABORTED:case dL.OUT_OF_RANGE:case dL.UNIMPLEMENTED:case dL.DATA_LOSS:return!0;default:return sL(15467,{code:e})}}(e)&&e!==dL.ABORTED}(t.code)){const n=e.Pa.shift();PF(e).N_(),await vF(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await yF(e)}}(e,t),xF(e)&&kF(e)}async function IF(e,t){const n=cL(e);n.asyncQueue.verifyOperationInProgress(),nL(tF,"RemoteStore received new credentials");const i=uF(n);n.Ia.add(3),await rF(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await iF(n)}function AF(e){return e.Va||(e.Va=function(e,t,n){const i=cL(e);return i.ia(),new XB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}(e.datastore,e.asyncQueue,{Zo:pF.bind(null,e),e_:mF.bind(null,e),n_:fF.bind(null,e),J_:gF.bind(null,e)}),e.da.push((async t=>{t?(e.Va.N_(),dF(e)?cF(e):e.Aa.set("Unknown")):(await e.Va.stop(),hF(e))}))),e.Va}function PF(e){return e.ma||(e.ma=function(e,t,n){const i=cL(e);return i.ia(),new QB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:TF.bind(null,e),n_:CF.bind(null,e),ea:SF.bind(null,e),ta:EF.bind(null,e)}),e.da.push((async t=>{t?(e.ma.N_(),await yF(e)):(await e.ma.stop(),e.Pa.length>0&&(nL(tF,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))}))),e.ma
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class DF{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new hL,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const o=Date.now()+n,s=new DF(e,t,o,i,r);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uL(dL.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OF(e,t){if(iL("AsyncQueue",`${t}: ${e}`),aR(e))return new uL(dL.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class NF{static emptySet(e){return new NF(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||LL.comparator(t.key,n.key):(e,t)=>LL.comparator(e.key,t.key),this.keyedMap=rM(),this.sortedSet=new _R(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof NF))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new NF;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class LF{constructor(){this.fa=new _R(LL.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):sL(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class RF{constructor(e,t,n,i,r,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new RF(e,t,NF.emptySet(t),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yj(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class jF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class MF{constructor(){this.queries=UF(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=cL(e),i=n.queries;n.queries=UF(),i.forEach(((e,n)=>{for(const i of n.wa)i.onError(t)}))}(this,new uL(dL.ABORTED,"Firestore shutting down"))}}function UF(){return new eM((e=>Kj(e)),Yj)}async function BF(e,t){const n=cL(e);let i=3;const r=t.query;let o=n.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new jF,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await n.onListen(r,!0);break;case 1:o.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=OF(e,`Initialization of query '${Xj(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&VF(n)}async function FF(e,t){const n=cL(e),i=t.query;let r=3;const o=n.queries.get(i);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function zF(e,t){const n=cL(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(r)&&(i=!0);t.ya=r}}i&&VF(n)}function $F(e,t,n){const i=cL(e),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(n);i.queries.delete(t)}function VF(e){e.Da.forEach((e=>{e.next()}))}var qF,HF;(HF=qF||(qF={})).Fa="default",HF.Cache="cache";class WF{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new RF(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=RF.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==qF.Cache}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class GF{constructor(e){this.key=e}}class YF{constructor(e){this.key=e}}class KF{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=uM(),this.mutatedKeys=uM(),this.Xa=Jj(e),this.eu=new NF(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new LF,i=t?t.eu:this.eu;let r=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),d=Qj(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),p=!0):this.iu(c,d)||(n.track({type:2,doc:d}),p=!0,(a&&this.Xa(d,a)>0||l&&this.Xa(d,l)<0)&&(s=!0)):!c&&d?(n.track({type:0,doc:d}),p=!0):c&&!d&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(d?(o=o.add(d),r=h?r.add(e):r.delete(e)):(o=o.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:s,mutatedKeys:r}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sL(20277,{At:e})}};return n(e)-n(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e.type,t.type)||this.Xa(e.doc,t.doc))),this.su(n),i=null!=i&&i;const s=t&&!i?this.ou():[],a=0===this.Za.size&&this.current&&!i?1:0,l=a!==this.Ya;return this.Ya=a,0!==o.length||l?{snapshot:new RF(this.query,e.eu,r,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:s}:{_u:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new LF,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=uM(),this.eu.forEach((e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))}));const t=[];return e.forEach((e=>{this.Za.has(e)||t.push(new YF(e))})),this.Za.forEach((n=>{e.has(n)||t.push(new GF(n))})),t}uu(e){this.Ha=e.qs,this.Za=uM();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return RF.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const XF="SyncEngine";class QF{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class JF{constructor(e){this.key=e,this.lu=!1}}class ZF{constructor(e,t,n,i,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new eM((e=>Kj(e)),Yj),this.Tu=new Map,this.Iu=new Set,this.du=new _R(LL.comparator),this.Eu=new Map,this.Au=new cB,this.Ru={},this.Vu=new Map,this.mu=QU.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function ez(e,t,n=!0){const i=_z(e);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await nz(i,t,n,!0),r}async function tz(e,t){const n=_z(e);await nz(n,t,!0,!1)}async function nz(e,t,n,i){const r=await function(e,t){const n=cL(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.hi.getTargetData(e,t).next((r=>r?(i=r,eR.resolve(i)):n.hi.allocateTargetId(e).next((r=>(i=new VU(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.Fs.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e}))}(e.localStore,qj(t)),o=r.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return i&&(a=await async function(e,t,n,i,r){e.gu=(t,n,i)=>async function(e,t,n,i){let r=t.view.nu(n);r.Ds&&(r=await DB(e.localStore,t.query,!1).then((({documents:e})=>t.view.nu(e,r))));const o=i&&i.targetChanges.get(t.targetId),s=i&&null!=i.targetMismatches.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,o,s);return fz(e,t.targetId,a._u),a.snapshot}(e,t,n,i);const o=await DB(e.localStore,t,!0),s=new KF(t,o.qs),a=s.nu(o.documents),l=oU.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=s.applyChanges(a,e.isPrimaryClient,l);fz(e,n,c._u);const d=new QF(t,n,s);return e.Pu.set(t,d),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}(e,t,o,"current"===s,r.resumeToken)),e.isPrimaryClient&&n&&oF(e.remoteStore,r),a}async function iz(e,t,n){const i=cL(e),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter((e=>!Yj(e,t)))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await PB(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&sF(i.remoteStore,r.targetId),pz(i,r.targetId)})).catch(ZL)):(pz(i,r.targetId),await PB(i.localStore,r.targetId,!0))}async function rz(e,t){const n=cL(e),i=n.Pu.get(t),r=n.Tu.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sF(n.remoteStore,i.targetId))}async function oz(e,t,n){const i=function(e){const t=cL(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dz.bind(null,t),t}(e);try{const e=await function(e,t){const n=cL(e),i=WL.now(),r=t.reduce(((e,t)=>e.add(t.key)),uM());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=nM(),l=uM();return n.Os.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{o=r;const s=[];for(const e of t){const t=jM(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new BM(e.key,t,uj(t.value.mapValue),PM.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,s,t)})).next((t=>{s=t;const i=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:s.batchId,changes:oM(o)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Ru[e.currentUser.toKey()];i||(i=new _R(TL)),i=i.insert(t,n),e.Ru[e.currentUser.toKey()]=i}(i,e.batchId,n),await vz(i,e.changes),await yF(i.remoteStore)}catch(e){const t=OF(e,"Failed to persist write");n.reject(t)}}async function sz(e,t){const n=cL(e);try{const e=await IB(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.Eu.get(t);i&&(lL(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?i.lu=!0:e.modifiedDocuments.size>0?lL(i.lu,14607):e.removedDocuments.size>0&&(lL(i.lu,42227),i.lu=!1))})),await vz(n,e,t)}catch(e){await ZL(e)}}function az(e,t,n){const i=cL(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.Pu.forEach(((n,i)=>{const r=i.view.va(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=cL(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.wa)r.va(t)&&(i=!0)})),i&&VF(n)}(i.eventManager,t),e.length&&i.hu.J_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function lz(e,t,n){const i=cL(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),o=r&&r.key;if(o){let e=new _R(LL.comparator);e=e.insert(o,hj.newNoDocument(o,GL.min()));const n=uM().add(o),r=new rU(GL.min(),new Map,new _R(TL),e,n);await sz(i,r),i.du=i.du.remove(o),i.Eu.delete(t),bz(i)}else await PB(i.localStore,t,!1).then((()=>pz(i,t,n))).catch(ZL)}async function cz(e,t){const n=cL(e),i=t.batch.batchId;try{const e=await function(e,t){const n=cL(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,o=r.keys();let s=eR.resolve();return o.forEach((e=>{s=s.next((()=>i.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);lL(null!==o,48541),t.version.compareTo(o)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=uM();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);hz(n,i,null),uz(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vz(n,e)}catch(e){await ZL(e)}}async function dz(e,t,n){const i=cL(e);try{const e=await function(e,t){const n=cL(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(lL(null!==t,37113),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);hz(i,t,n),uz(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await vz(i,e)}catch(n){await ZL(n)}}function uz(e,t){(e.Vu.get(t)||[]).forEach((e=>{e.resolve()})),e.Vu.delete(t)}function hz(e,t,n){const i=cL(e);let r=i.Ru[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function pz(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Tu.get(t))e.Pu.delete(i),n&&e.hu.pu(i,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach((t=>{e.Au.containsKey(t)||mz(e,t)}))}function mz(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(sF(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),bz(e))}function fz(e,t,n){for(const i of n)i instanceof GF?(e.Au.addReference(i.key,t),gz(e,i)):i instanceof YF?(nL(XF,"Document no longer in limbo: "+i.key),e.Au.removeReference(i.key,t),e.Au.containsKey(i.key)||mz(e,i.key)):sL(19791,{yu:i})}function gz(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Iu.has(i)||(nL(XF,"New document in limbo: "+n),e.Iu.add(i),bz(e))}function bz(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new LL(DL.fromString(t)),i=e.mu.next();e.Eu.set(i,new JF(n)),e.du=e.du.insert(n,i),oF(e.remoteStore,new VU(qj(Fj(n.path)),i,"TargetPurposeLimboResolution",hR.ue))}}async function vz(e,t,n){const i=cL(e),r=[],o=[],s=[];i.Pu.isEmpty()||(i.Pu.forEach(((e,a)=>{s.push(i.gu(a,t,n).then((e=>{var t;if((e||n)&&i.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(e){r.push(e);const t=wB.Es(a.targetId,e);o.push(t)}})))})),await Promise.all(s),i.hu.J_(r),await async function(e,t){const n=cL(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>eR.forEach(t,(t=>eR.forEach(t.Is,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>eR.forEach(t.ds,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!aR(e))throw e;nL(kB,"Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Fs.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.Fs=n.Fs.insert(e,r)}}}(i.localStore,o))}async function yz(e,t){const n=cL(e);if(!n.currentUser.isEqual(t)){nL(XF,"User change. New user:",t.toKey());const e=await EB(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach((e=>{e.forEach((e=>{e.reject(new uL(dL.CANCELLED,t))}))})),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vz(n,e.Bs)}}function wz(e,t){const n=cL(e),i=n.Eu.get(t);if(i&&i.lu)return uM().add(i.key);{let e=uM();const i=n.Tu.get(t);if(!i)return e;for(const t of i){const i=n.Pu.get(t);e=e.unionWith(i.view.tu)}return e}}function _z(e){const t=cL(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lz.bind(null,t),t.hu.J_=zF.bind(null,t.eventManager),t.hu.pu=$F.bind(null,t.eventManager),t}class xz{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=WB(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return function(e,t,n,i){return new SB(e,t,n,i)}(this.persistence,new xB,e.initialUser,this.serializer)}Du(e){return new fB(bB.Vi,this.serializer)}bu(e){return new NB}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xz.provider={build:()=>new xz};class kz extends xz{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){lL(this.persistence.referenceDelegate instanceof vB,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new tB(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?XU.withCacheSize(this.cacheSizeBytes):XU.DEFAULT;return new fB((e=>vB.Vi(e,t)),this.serializer)}}class Tz{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>az(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=yz.bind(null,this.syncEngine),await async function(e,t){const n=cL(e);t?(n.Ia.delete(2),await iF(n)):t||(n.Ia.add(2),await rF(n),n.Aa.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new MF}createDatastore(e){const t=WB(e.databaseInfo.databaseId),n=function(e){return new qB(e)}(e.databaseInfo);return function(e,t,n,i){return new ZB(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,r){return new nF(e,t,n,i,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>az(this.syncEngine,e,0)),jB.C()?new jB:new LB)}createSyncEngine(e,t){return function(e,t,n,i,r,o,s){const a=new ZF(e,t,n,i,r,o);return s&&(a.fu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=cL(e);nL(tF,"RemoteStore shutting down."),t.Ia.add(5),await rF(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Tz.provider={build:()=>new Tz};
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Sz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):iL("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ez="FirestoreClient";class Cz{constructor(e,t,n,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=JN.UNAUTHENTICATED,this.clientId=kL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,(async e=>{nL(Ez,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(nL(Ez,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hL;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(nE){const n=OF(nE,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Iz(e,t){e.asyncQueue.verifyOperationInProgress(),nL(Ez,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await EB(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>{rL("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then((()=>{nL("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((e=>{rL("Terminating Firestore due to IndexedDb database deletion failed",e)}))})),e._offlineComponents=t}async function Az(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Pz(e);nL(Ez,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>IF(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>IF(t.remoteStore,n))),e._onlineComponents=t}async function Pz(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){nL(Ez,"Using user provided OfflineComponentProvider");try{await Iz(e,e._uninitializedComponentsProvider._offline)}catch(nE){const n=nE;if(!function(e){return"FirebaseError"===e.name?e.code===dL.FAILED_PRECONDITION||e.code===dL.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;rL("Error using user provided cache. Falling back to memory cache: "+n),await Iz(e,new xz)}}else nL(Ez,"Using default OfflineComponentProvider"),await Iz(e,new kz(void 0));return e._offlineComponents}async function Dz(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(nL(Ez,"Using user provided OnlineComponentProvider"),await Az(e,e._uninitializedComponentsProvider._online)):(nL(Ez,"Using default OnlineComponentProvider"),await Az(e,new Tz))),e._onlineComponents}function Oz(e){return Pz(e).then((e=>e.persistence))}function Nz(e){return Dz(e).then((e=>e.remoteStore))}async function Lz(e){const t=await Dz(e),n=t.eventManager;return n.onListen=ez.bind(null,t.syncEngine),n.onUnlisten=iz.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tz.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rz.bind(null,t.syncEngine),n}function Rz(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}const jz=new Map,Mz="firestore.googleapis.com",Uz=!0;
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Bz{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new uL(dL.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mz,this.ssl=Uz}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Uz;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=KU;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new uL(dL.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new uL(dL.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rz(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new uL(dL.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new uL(dL.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new uL(dL.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fz{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new uL(dL.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new uL(dL.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bz(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mL;switch(e.type){case"firstParty":return new vL(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new uL(dL.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jz.get(e);t&&(nL("ComponentProvider","Removing Datastore"),jz.delete(e),t.terminate())}(this),Promise.resolve()}}function zz(e,t,n,i={}){var r;e=FL(e,Fz);const o=_C(t),s=e._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o&&(xC(`https://${l}`),EC("Firestore",!0)),s.host!==Mz&&s.host!==l&&rL("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:i});if(!VC(c,a)&&(e._setSettings(c),i.mockUserToken)){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=JN.MOCK_USER;else{t=kC(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new uL(dL.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new JN(o)}e._authCredentials=new fL(new pL(t,n))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $z{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $z(this.firestore,e,this._query)}}class Vz{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qz(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vz(this.firestore,e,this._key)}toJSON(){return{type:Vz._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(VL(t,Vz._jsonSchema))return new Vz(e,n||null,new LL(DL.fromString(t.referencePath)))}}Vz._jsonSchemaVersion="firestore/documentReference/1.0",Vz._jsonSchema={type:$L("string",Vz._jsonSchemaVersion),referencePath:$L("string")};class qz extends $z{constructor(e,t,n){super(e,t,Fj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vz(this.firestore,null,new LL(e))}withConverter(e){return new qz(this.firestore,e,this._path)}}function Hz(e,t,...n){if(e=ZC(e),RL("collection","path",t),e instanceof Fz){const i=DL.fromString(t,...n);return ML(i),new qz(e,null,i)}{if(!(e instanceof Vz||e instanceof qz))throw new uL(dL.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(DL.fromString(t,...n));return ML(i),new qz(e.firestore,null,i)}}function Wz(e,t,...n){if(e=ZC(e),1===arguments.length&&(t=kL.newId()),RL("doc","path",t),e instanceof Fz){const i=DL.fromString(t,...n);return jL(i),new Vz(e,null,new LL(i))}{if(!(e instanceof Vz||e instanceof qz))throw new uL(dL.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(DL.fromString(t,...n));return jL(i),new Vz(e.firestore,e instanceof qz?e.converter:null,new LL(i))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Gz="AsyncQueue";class Yz{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new GB(this,"async_queue_retry"),this.oc=()=>{const e=HB();e&&nL(Gz,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=HB();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=HB();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new hL;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(HS){if(!aR(HS))throw HS;nL(Gz,"Operation failed with retryable error: "+HS)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((e=>{throw this.tc=e,this.nc=!1,iL("INTERNAL UNHANDLED ERROR: ",Kz(e)),e})).then((e=>(this.nc=!1,e))))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=DF.createAndSchedule(this,e,t,n,(e=>this.lc(e)));return this.ec.push(i),i}ac(){this.tc&&sL(47125,{hc:Kz(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Kz(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}function Xz(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"==typeof n[i])return!0;return!1}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,["next","error","complete"])}class Qz extends Fz{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Yz,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yz(e),this._firestoreClient=void 0,await e}}}function Jz(e,t){const n="object"==typeof e?e:fA(),i="string"==typeof e?e:zR,r=cA(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const e=bC("firestore");e&&zz(r,...e)}return r}function Zz(e){if(e._terminated)throw new uL(dL.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,i;const r=e._freezeSettings(),o=function(e,t,n,i){return new FR(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Rz(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Cz(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class e${constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class t${constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class n${constructor(e){this._byteString=e}static fromBase64String(e){try{return new n$(IR.fromBase64String(e))}catch(e){throw new uL(dL.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new n$(IR.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n$._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(VL(e,n$._jsonSchema))return n$.fromBase64String(e.bytes)}}n$._jsonSchemaVersion="firestore/bytes/1.0",n$._jsonSchema={type:$L("string",n$._jsonSchemaVersion),bytes:$L("string")};
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class i${constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new uL(dL.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new NL(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class r${constructor(e){this._methodName=e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class o${constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new uL(dL.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new uL(dL.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return TL(this._lat,e._lat)||TL(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:o$._jsonSchemaVersion}}static fromJSON(e){if(VL(e,o$._jsonSchema))return new o$(e.latitude,e.longitude)}}o$._jsonSchemaVersion="firestore/geoPoint/1.0",o$._jsonSchema={type:$L("string",o$._jsonSchemaVersion),latitude:$L("number"),longitude:$L("number")};
/**
             * @license
             * Copyright 2024 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class s${constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:s$._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(VL(e,s$._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((e=>"number"==typeof e)))return new s$(e.vectorValues);throw new uL(dL.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}s$._jsonSchemaVersion="firestore/vectorValue/1.0",s$._jsonSchema={type:$L("string",s$._jsonSchemaVersion),vectorValues:$L("object")};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const a$=/^__.*__$/;class l${constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new BM(e,this.data,this.fieldMask,t,this.fieldTransforms):new UM(e,this.data,t,this.fieldTransforms)}}class c${constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new BM(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sL(40011,{Ec:e})}}class u${constructor(e,t,n,i,r,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Ac(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new u$(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return C$(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(d$(this.Ec)&&a$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class h${constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||WB(e)}Dc(e,t,n,i=!1){return new u$({Ec:e,methodName:t,bc:n,path:NL.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p$(e){const t=e._freezeSettings(),n=WB(e._databaseId);return new h$(e._databaseId,!!t.ignoreUndefinedProperties,n)}function m$(e,t,n,i,r,o={}){const s=e.Dc(o.merge||o.mergeFields?2:0,t,n,r);k$("Data must be an object, but it was:",s,i);const a=_$(i,s);let l,c;if(o.merge)l=new ER(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const i of o.mergeFields){const r=T$(t,i,n);if(!s.contains(r))throw new uL(dL.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);I$(e,r)||e.push(r)}l=new ER(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new l$(new dj(a),l,c)}class f$ extends r${_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f$}}class g$ extends r${_toFieldTransform(e){return new IM(e.path,new wM)}isEqual(e){return e instanceof g$}}function b$(e,t,n,i){const r=e.Dc(1,t,n);k$("Data must be an object, but it was:",r,i);const o=[],s=dj.empty();yR(i,((e,i)=>{const a=E$(t,e,n);i=ZC(i);const l=r.gc(a);if(i instanceof f$)o.push(a);else{const e=w$(i,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new ER(o);return new c$(s,a,r.fieldTransforms)}function v$(e,t,n,i,r,o){const s=e.Dc(1,t,n),a=[T$(t,i,n)],l=[r];if(o.length%2!=0)throw new uL(dL.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(T$(t,o[h])),l.push(o[h+1]);const c=[],d=dj.empty();for(let h=a.length-1;h>=0;--h)if(!I$(c,a[h])){const e=a[h];let t=l[h];t=ZC(t);const n=s.gc(e);if(t instanceof f$)c.push(e);else{const i=w$(t,n);null!=i&&(c.push(e),d.set(e,i))}}const u=new ER(c);return new c$(d,u,s.fieldTransforms)}function y$(e,t,n,i=!1){return w$(n,e.Dc(i?4:3,t))}function w$(e,t){if(x$(e=ZC(e)))return k$("Unsupported field value:",t,e),_$(e,t);if(e instanceof r$)return function(e,t){if(!d$(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=w$(r,t.yc(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ZC(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fM(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=WL.fromDate(e);return{timestampValue:vU(t.serializer,n)}}if(e instanceof WL){const n=new WL(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vU(t.serializer,n)}}if(e instanceof o$)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof n$)return{bytesValue:yU(t.serializer,e._byteString)};if(e instanceof Vz){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.wc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:xU(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof s$)return function(e,t){return{mapValue:{fields:{[VR]:{stringValue:WR},[GR]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return pM(t.serializer,e)}))}}}}}}(e,t);throw t.wc(`Unsupported field value: ${BL(e)}`)}(e,t)}function _$(e,t){const n={};return wR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yR(e,((e,i)=>{const r=w$(i,t.Vc(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function x$(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof WL||e instanceof o$||e instanceof n$||e instanceof Vz||e instanceof r$||e instanceof s$)}function k$(e,t,n){if(!x$(n)||!UL(n)){const i=BL(n);throw"an object"===i?t.wc(e+" a custom object"):t.wc(e+" "+i)}}function T$(e,t,n){if((t=ZC(t))instanceof i$)return t._internalPath;if("string"==typeof t)return E$(e,t);throw C$("Field path arguments must be of type string or ",e,!1,void 0,n)}const S$=new RegExp("[~\\*/\\[\\]]");function E$(e,t,n){if(t.search(S$)>=0)throw C$(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new i$(...t.split("."))._internalPath}catch(tE){throw C$(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function C$(e,t,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new uL(dL.INVALID_ARGUMENT,a+e+l)}function I$(e,t){return e.some((e=>e.isEqual(t)))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class A${constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Vz(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new P$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(D$("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class P$ extends A${data(){return super.data()}}function D$(e,t){return"string"==typeof t?E$(e,t):t instanceof i$?t._internalPath:t._delegate._internalPath}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function O$(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new uL(dL.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N${}class L$ extends N${}function R$(e,t,...n){let i=[];t instanceof N$&&i.push(t),i=i.concat(n),function(e){const t=e.filter((e=>e instanceof U$)).length,n=e.filter((e=>e instanceof j$)).length;if(t>1||t>0&&n>0)throw new uL(dL.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(i);for(const r of i)e=r._apply(e);return e}class j$ extends L${constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new j$(e,t,n)}_apply(e){const t=this._parse(e);return G$(e._query,t),new $z(e.firestore,e.converter,Wj(e._query,t))}_parse(e){const t=p$(e.firestore),n=function(e,t,n,i,r,o,s){let a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new uL(dL.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){W$(s,o);const t=[];for(const n of s)t.push(H$(i,e,n));a={arrayValue:{values:t}}}else a=H$(i,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||W$(s,o),a=y$(n,t,s,"in"===o||"not-in"===o);return yj.create(r,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function M$(e,t,n){const i=t,r=D$("where",e);return j$._create(r,i,n)}class U$ extends N${constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new U$(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:wj.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)G$(n,r),n=Wj(n,r)}(e._query,t),new $z(e.firestore,e.converter,Wj(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class B$ extends L${constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new B$(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new uL(dL.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new uL(dL.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gj(t,n)}(e._query,this._field,this._direction);return new $z(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bj(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function F$(e,t="asc"){const n=t,i=D$("orderBy",e);return B$._create(i,n)}class z$ extends L${constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new z$(e,t,n)}_apply(e){return new $z(e.firestore,e.converter,Gj(e._query,this._limit,this._limitType))}}class $$ extends L${constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new $$(e,t,n)}_apply(e){const t=q$(e,this.type,this._docOrFields,this._inclusive);return new $z(e.firestore,e.converter,function(e,t){return new Bj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class V$ extends L${constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new V$(e,t,n)}_apply(e){const t=q$(e,this.type,this._docOrFields,this._inclusive);return new $z(e.firestore,e.converter,function(e,t){return new Bj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function q$(e,t,n,i){if(n[0]=ZC(n[0]),n[0]instanceof A$)return function(e,t,n,i,r){if(!i)throw new uL(dL.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of Vj(e))if(s.field.isKeyField())o.push(ij(t,i.key));else{const e=i.data.field(s.field);if(MR(e))throw new uL(dL.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new uL(dL.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new pj(o,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=p$(e.firestore);return function(e,t,n,i,r,o){const s=e.explicitOrderBy;if(r.length>s.length)throw new uL(dL.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const o=r[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new uL(dL.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof o}`);if(!$j(e)&&-1!==o.indexOf("/"))throw new uL(dL.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(DL.fromString(o));if(!LL.isDocumentKey(n))throw new uL(dL.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new LL(n);a.push(ij(t,r))}else{const e=y$(n,i,o);a.push(e)}}return new pj(a,o)}(e._query,e.firestore._databaseId,r,t,n,i)}}function H$(e,t,n){if("string"==typeof(n=ZC(n))){if(""===n)throw new uL(dL.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$j(t)&&-1!==n.indexOf("/"))throw new uL(dL.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(DL.fromString(n));if(!LL.isDocumentKey(i))throw new uL(dL.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ij(e,new LL(i))}if(n instanceof Vz)return ij(e,n._key);throw new uL(dL.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BL(n)}.`)}function W$(e,t){if(!Array.isArray(e)||0===e.length)throw new uL(dL.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function G$(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new uL(dL.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new uL(dL.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Y$(e,t){if(!(t instanceof j$||t instanceof U$))throw new uL(dL.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class K${convertValue(e,t="none"){switch(YR(e)){case 0:return null;case 1:return e.booleanValue;case 2:return DR(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(OR(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sL(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return yR(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertVectorValue(e){var t,n,i;const r=null===(i=null===(n=null===(t=e.fields)||void 0===t?void 0:t[GR].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map((e=>DR(e.doubleValue)));return new s$(r)}convertGeoPoint(e){return new o$(DR(e.latitude),DR(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=UR(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(BR(e));default:return null}}convertTimestamp(e){const t=PR(e);return new WL(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=DL.fromString(e);lL($U(n),9688,{name:e});const i=new $R(n.get(1),n.get(3)),r=new LL(n.popFirst(5));return i.isEqual(t)||iL(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function X$(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class Q${constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J$ extends A${constructor(e,t,n,i,r,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z$(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(D$("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new uL(dL.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=J$._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}J$._jsonSchemaVersion="firestore/documentSnapshot/1.0",J$._jsonSchema={type:$L("string",J$._jsonSchemaVersion),bundleSource:$L("string","DocumentSnapshot"),bundleName:$L("string"),bundle:$L("string")};class Z$ extends J${data(e={}){return super.data(e)}}class eV{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Q$(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Z$(this._firestore,this._userDataWriter,n.key,n,new Q$(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new uL(dL.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new Z$(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Q$(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new Z$(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Q$(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,o=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:tV(t.type),doc:i,oldIndex:r,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new uL(dL.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eV._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kL.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),i.push(e.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sL(61501,{type:e})}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function nV(e){e=FL(e,Vz);const t=FL(e.firestore,Qz);return function(e,t,n={}){const i=new hL;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const o=new Sz({next:a=>{o.Ou(),t.enqueueAndForget((()=>FF(e,s)));const l=a.docs.has(n);!l&&a.fromCache?r.reject(new uL(dL.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&i&&"server"===i.source?r.reject(new uL(dL.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(a)},error:e=>r.reject(e)}),s=new WF(Fj(n.path),o,{includeMetadataChanges:!0,ka:!0});return BF(e,s)}(await Lz(e),e.asyncQueue,t,n,i))),i.promise}(Zz(t),e._key).then((n=>uV(t,e,n)))}eV._jsonSchemaVersion="firestore/querySnapshot/1.0",eV._jsonSchema={type:$L("string",eV._jsonSchemaVersion),bundleSource:$L("string","QuerySnapshot"),bundleName:$L("string"),bundle:$L("string")};class iV extends K${constructor(e){super(),this.firestore=e}convertBytes(e){return new n$(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vz(this.firestore,null,t)}}function rV(e){e=FL(e,$z);const t=FL(e.firestore,Qz),n=Zz(t),i=new iV(t);return O$(e._query),function(e,t,n={}){const i=new hL;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const o=new Sz({next:n=>{o.Ou(),t.enqueueAndForget((()=>FF(e,s))),n.fromCache&&"server"===i.source?r.reject(new uL(dL.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),s=new WF(n,o,{includeMetadataChanges:!0,ka:!0});return BF(e,s)}(await Lz(e),e.asyncQueue,t,n,i))),i.promise}(n,e._query).then((n=>new eV(t,i,e,n)))}function oV(e,t,n){e=FL(e,Vz);const i=FL(e.firestore,Qz),r=X$(e.converter,t,n);return dV(i,[m$(p$(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,PM.none())])}function sV(e,t,n,...i){e=FL(e,Vz);const r=FL(e.firestore,Qz),o=p$(r);let s;return s="string"==typeof(t=ZC(t))||t instanceof i$?v$(o,"updateDoc",e._key,t,n,i):b$(o,"updateDoc",e._key,t),dV(r,[s.toMutation(e._key,PM.exists(!0))])}function aV(e){return dV(FL(e.firestore,Qz),[new VM(e._key,PM.none())])}function lV(e,t){const n=FL(e.firestore,Qz),i=Wz(e),r=X$(e.converter,t);return dV(n,[m$(p$(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,PM.exists(!1))]).then((()=>i))}function cV(e,...t){var n,i,r;e=ZC(e);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||Xz(t[s])||(o=t[s++]);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Xz(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[s+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let l,c,d;if(e instanceof Vz)c=FL(e.firestore,Qz),d=Fj(e._key.path),l={next:n=>{t[s]&&t[s](uV(c,e,n))},error:t[s+1],complete:t[s+2]};else{const n=FL(e,$z);c=FL(n.firestore,Qz),d=n._query;const i=new iV(c);l={next:e=>{t[s]&&t[s](new eV(c,i,n,e))},error:t[s+1],complete:t[s+2]},O$(e._query)}return function(e,t,n,i){const r=new Sz(i),o=new WF(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>BF(await Lz(e),o))),()=>{r.Ou(),e.asyncQueue.enqueueAndForget((async()=>FF(await Lz(e),o)))}}(Zz(c),d,a,l)}function dV(e,t){return function(e,t){const n=new hL;return e.asyncQueue.enqueueAndForget((async()=>oz(await function(e){return Dz(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Zz(e),t)}function uV(e,t,n){const i=n.docs.get(t._key),r=new iV(e);return new J$(e,r,t._key,i,new Q$(n.hasPendingWrites,n.fromCache),t.converter)}class hV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=p$(e)}set(e,t,n){this._verifyNotCommitted();const i=pV(e,this._firestore),r=X$(i.converter,t,n),o=m$(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,PM.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const r=pV(e,this._firestore);let o;return o="string"==typeof(t=ZC(t))||t instanceof i$?v$(this._dataReader,"WriteBatch.update",r._key,t,n,i):b$(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(o.toMutation(r._key,PM.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pV(e,this._firestore);return this._mutations=this._mutations.concat(new VM(t._key,PM.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new uL(dL.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pV(e,t){if((e=ZC(e)).firestore!==t)throw new uL(dL.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function mV(){return new g$("serverTimestamp")}!function(e,t=!0){!function(e){ZN=e}(pA),lA(new eI("firestore",((e,{instanceIdentifier:n,options:i})=>{const r=e.getProvider("app").getImmediate(),o=new Qz(new gL(e.getProvider("auth-internal")),new wL(r,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new uL(dL.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $R(e.options.projectId,t)}(r,n),r);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),gA(XN,QN,e),gA(XN,QN,"esm2017")}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const fV="type.googleapis.com/google.protobuf.Int64Value",gV="type.googleapis.com/google.protobuf.UInt64Value";function bV(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function vV(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>vV(e)));if("function"==typeof e||"object"==typeof e)return bV(e,(e=>vV(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function yV(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case fV:case gV:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>yV(e))):"function"==typeof e||"object"==typeof e?bV(e,(e=>yV(e))):e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const wV="functions",_V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xV extends NC{constructor(e,t,n){super(`${wV}/${e}`,t||""),this.details=n,Object.setPrototypeOf(this,xV.prototype)}}function kV(e,t){let n,i=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=i;try{const e=t&&t.error;if(e){const t=e.status;if("string"==typeof t){if(!_V[t])return new xV("internal","internal");i=_V[t],r=t}const o=e.message;"string"==typeof o&&(r=o),n=e.details,void 0!==n&&(n=yV(n))}}catch(HS){}return"ok"===i?null:new xV(i,r,n)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class TV{constructor(e,t,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,dA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((e=>this.auth=e),(()=>{})),this.messaging||n.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||null==i||i.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(HS){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(HS){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const SV="us-central1",EV=/^data: (.*?)(?:\n|$)/;class CV{constructor(e,t,n,i,r=SV,o=(...e)=>fetch(...e)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new TV(e,t,n,i),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(r);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=SV}catch(HS){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}async function IV(e,t,n,i){let r;n["Content-Type"]="application/json";try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(HS){return{status:0,json:null}}let o=null;try{o=await r.json()}catch(HS){}return{status:r.status,json:o}}async function AV(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),null!==i.appCheckToken&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}async function PV(e,t,n,i){const r={data:n=vV(n)},o=await AV(e,i),s=function(e){let t=null;return{promise:new Promise(((n,i)=>{t=setTimeout((()=>{i(new xV("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(i.timeout||7e4),a=await Promise.race([IV(t,r,o,e.fetchImpl),s.promise,e.cancelAllRequests]);if(s.cancel(),!a)throw new xV("cancelled","Firebase Functions instance was deleted.");const l=kV(a.status,a.json);if(l)throw l;if(!a.json)throw new xV("internal","Response is not valid JSON object.");let c=a.json.data;if(void 0===c&&(c=a.json.result),void 0===c)throw new xV("internal","Response is missing data field.");return{data:yV(c)}}async function DV(e,t,n,i){var r;const o={data:n=vV(n)},s=await AV(e,i);let a,l,c;s["Content-Type"]="application/json",s.Accept="text/event-stream";try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:s,signal:null==i?void 0:i.signal})}catch(HS){if(HS instanceof Error&&"AbortError"===HS.name){const e=new xV("cancelled","Request was cancelled.");return{data:Promise.reject(e),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(e)})}}}const t=kV(0,null);return{data:Promise.reject(t),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(t)})}}}const d=new Promise(((e,t)=>{l=e,c=t}));null===(r=null==i?void 0:i.signal)||void 0===r||r.addEventListener("abort",(()=>{const e=new xV("cancelled","Request was cancelled.");c(e)}));const u=function(e,t,n,i){const r=(e,i)=>{const r=e.match(EV);if(!r)return;const o=r[1];try{const e=JSON.parse(o);if("result"in e)return void t(yV(e.result));if("message"in e)return void i.enqueue(yV(e.message));if("error"in e){const t=kV(0,e);return i.error(t),void n(t)}}catch(zH){if(zH instanceof xV)return i.error(zH),void n(zH)}},o=new TextDecoder;return new ReadableStream({start(t){let s="";return a();async function a(){if(null==i?void 0:i.aborted){const e=new xV("cancelled","Request was cancelled");return t.error(e),n(e),Promise.resolve()}try{const{value:l,done:c}=await e.read();if(c)return s.trim()&&r(s.trim(),t),void t.close();if(null==i?void 0:i.aborted){const i=new xV("cancelled","Request was cancelled");return t.error(i),n(i),void(await e.cancel())}s+=o.decode(l,{stream:!0});const d=s.split("\n");s=d.pop()||"";for(const e of d)e.trim()&&r(e.trim(),t);return a()}catch(zH){const i=zH instanceof xV?zH:kV(0,null);t.error(i),n(i)}}},cancel:()=>e.cancel()})}(a.body.getReader(),l,c,null==i?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const e=u.getReader();return{async next(){const{value:t,done:n}=await e.read();return{value:t,done:n}},return:async()=>(await e.cancel(),{done:!0,value:void 0})}}},data:d}}const OV="@firebase/functions",NV="0.12.9";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function LV(e=fA(),t=SV){const n=cA(ZC(e),wV).getImmediate({identifier:t}),i=bC("functions");return i&&RV(n,...i),n}function RV(e,t,n){!function(e,t,n){const i=_C(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(xC(e.emulatorOrigin),EC("Functions",!0))}(ZC(e),t,n)}!function(e){lA(new eI(wV,((e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new CV(n,i,r,o,t)}),"PUBLIC").setMultipleInstances(!0)),gA(OV,NV,e),gA(OV,NV,"esm2017")}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const jV="firebasestorage.googleapis.com",MV="storageBucket";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class UV extends NC{constructor(e,t,n=0){super(zV(e),`Firebase Storage: ${t} (${zV(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,UV.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zV(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var BV,FV;function zV(e){return"storage/"+e}function $V(){return new UV(BV.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function VV(){return new UV(BV.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qV(){return new UV(BV.CANCELED,"User canceled the upload/download.")}function HV(){return new UV(BV.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WV(e){return new UV(BV.INVALID_ARGUMENT,e)}function GV(){return new UV(BV.APP_DELETED,"The Firebase app was deleted.")}function YV(e,t){return new UV(BV.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function KV(e){throw new UV(BV.INTERNAL_ERROR,"Internal error: "+e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(BV||(BV={}));class XV{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=XV.makeFromUrl(e,t)}catch(HS){return new XV(e,"")}if(""===n.path)return n;throw i=e,new UV(BV.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===jV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new XV(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new UV(BV.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class QV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function JV(e){return"string"==typeof e||e instanceof String}function ZV(e){return eq()&&e instanceof Blob}function eq(){return"undefined"!=typeof Blob}function tq(e,t,n,i){if(i<t)throw WV(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw WV(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function nq(e,t,n){let i=t;return null==n&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function iq(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){n=n+(t(i)+"="+t(e[i]))+"&"}return n=n.slice(0,-1),n}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function rq(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||i||r}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(FV||(FV={}));class oq{constructor(e,t,n,i,r,o,s,a,l,c,d,u=!0,h=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new sq(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===FV.NO_ERROR,r=n.getStatus();if(!t||rq(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===FV.ABORT;return void e(!1,new sq(!1,null,t))}const o=-1!==this.successCodes_.indexOf(r);e(!0,new sq(o,n))}))},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){return void 0!==e}(e)?n():n(e)}catch(HS){i(HS)}else if(null!==r){const e=$V();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){i(this.appDelete_?GV():qV())}else{i(VV())}};this.canceled_?t(0,new sq(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function d(...e){c||(c=!0,t.apply(null,e))}function u(t){r=setTimeout((()=>{r=null,e(p,l())}),t)}function h(){o&&clearTimeout(o)}function p(e,...t){if(c)return void h();if(e)return h(),void d.call(null,e,...t);if(l()||s)return h(),void d.call(null,e,...t);let n;i<64&&(i*=2),1===a?(a=2,n=0):n=1e3*(i+Math.random()),u(n)}let m=!1;function f(e){m||(m=!0,h(),c||(null!==r?(e||(a=2),clearTimeout(r),u(0)):e||(a=1)))}return u(0),o=setTimeout((()=>{s=!0,f(!0)}),n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sq{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function aq(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function lq(...e){const t=aq();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(eq())return new Blob(e);throw new UV(BV.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function cq(e){if("undefined"==typeof atob)throw t="base-64",new UV(BV.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const dq="raw",uq="base64",hq="base64url",pq="data_url";class mq{constructor(e,t){this.data=e,this.contentType=t||null}}function fq(e,t){switch(e){case dq:return new mq(gq(t));case uq:case hq:return new mq(bq(e,t));case pq:return new mq(function(e){const t=new vq(e);return t.base64?bq(uq,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(HS){throw YV(pq,"Malformed data URL.")}return gq(t)}(t.rest)}(t),new vq(t).contentType)}throw $V()}function gq(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296==(64512&i)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function bq(e,t){switch(e){case uq:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){throw YV(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case hq:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){throw YV(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cq(t)}catch(HS){if(HS.message.includes("polyfill"))throw HS;throw YV(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class vq{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw YV(pq,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class yq{constructor(e,t){let n=0,i="";ZV(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(ZV(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new yq(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new yq(n,!0)}}static getBlob(...e){if(eq()){const t=e.map((e=>e instanceof yq?e.data_:e));return new yq(lq.apply(null,t))}{const t=e.map((e=>JV(e)?fq(dq,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const i=new Uint8Array(n);let r=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]})),new yq(i,!0)}}uploadData(){return this.data_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function wq(e){let t;try{t=JSON.parse(e)}catch(HS){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function _q(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function xq(e,t){return t}class kq{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||xq}}let Tq=null;function Sq(){if(Tq)return Tq;const e=[];e.push(new kq("bucket")),e.push(new kq("generation")),e.push(new kq("metageneration")),e.push(new kq("name","fullPath",!0));const t=new kq("name");t.xform=function(e,t){return function(e){return!JV(e)||e.length<2?e:_q(e)}(t)},e.push(t);const n=new kq("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new kq("timeCreated")),e.push(new kq("updated")),e.push(new kq("md5Hash",null,!0)),e.push(new kq("cacheControl",null,!0)),e.push(new kq("contentDisposition",null,!0)),e.push(new kq("contentEncoding",null,!0)),e.push(new kq("contentLanguage",null,!0)),e.push(new kq("contentType",null,!0)),e.push(new kq("metadata","customMetadata",!0)),Tq=e,Tq}function Eq(e,t,n){const i={type:"file"},r=n.length;for(let o=0;o<r;o++){const e=n[o];i[e.local]=e.xform(i,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,i=e.fullPath,r=new XV(n,i);return t._makeStorageReference(r)}})}(i,e),i}function Cq(e,t,n){const i=wq(t);if(null===i)return null;return Eq(e,i,n)}function Iq(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Aq="prefixes",Pq="items";function Dq(e,t,n){const i=wq(n);if(null===i)return null;return function(e,t,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Aq])for(const r of n[Aq]){const n=r.replace(/\/$/,""),o=e._makeStorageReference(new XV(t,n));i.prefixes.push(o)}if(n[Pq])for(const r of n[Pq]){const n=e._makeStorageReference(new XV(t,r.name));i.items.push(n)}return i}(e,t,i)}class Oq{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Nq(e){if(!e)throw $V()}function Lq(e,t){return function(n,i){const r=Cq(e,i,t);return Nq(null!==r),r}}function Rq(e,t){return function(n,i){const r=Cq(e,i,t);return Nq(null!==r),function(e,t,n,i){const r=wq(t);if(null===r)return null;if(!JV(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const r=e.bucket,o=e.fullPath;return nq("/b/"+s(r)+"/o/"+s(o),n,i)+iq({alt:"media",token:t})}))[0]}(r,i,e.host,e._protocol)}}function jq(e){return function(t,n){let i;var r,o;return 401===t.getStatus()?i=t.getErrorText().includes("Firebase App Check token is invalid")?new UV(BV.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new UV(BV.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,i=new UV(BV.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,i=new UV(BV.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function Mq(e){const t=jq(e);return function(n,i){let r=t(n,i);var o;return 404===n.getStatus()&&(o=e.path,r=new UV(BV.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function Uq(e,t,n){const i=nq(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,o=new Oq(i,"GET",Lq(e,n),r);return o.errorHandler=Mq(t),o}function Bq(e,t,n,i,r){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);const s=nq(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new Oq(s,"GET",function(e,t){return function(n,i){const r=Dq(e,t,i);return Nq(null!==r),r}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=jq(t),l}function Fq(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}function zq(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Fq(t,i,r),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Iq(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+a+"--",u=yq.getBlob(c,i,d);if(null===u)throw HV();const h={name:l.fullPath},p=nq(o,e.host,e._protocol),m=e.maxUploadRetryTime,f=new Oq(p,"POST",Lq(e,n),m);return f.urlParams=h,f.headers=s,f.body=u.uploadData(),f.errorHandler=jq(t),f}class $q{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function Vq(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(HS){Nq(!1)}return Nq(!!n&&-1!==(t||["active"]).indexOf(n)),n}const qq=262144;function Hq(e,t,n,i,r,o,s,a){const l=new $q(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new UV(BV.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let d=c;r>0&&(d=Math.min(d,r));const u=l.current,h=u+d;let p="";p=0===d?"finalize":c===d?"upload, finalize":"upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},f=i.slice(u,h);if(null===f)throw HV();const g=t.maxUploadRetryTime,b=new Oq(n,"POST",(function(e,n){const r=Vq(e,["active","final"]),s=l.current+d,a=i.size();let c;return c="final"===r?Lq(t,o)(e,n):null,new $q(s,a,"final"===r,c)}),g);return b.headers=m,b.body=f.uploadData(),b.progressCallback=a||null,b.errorHandler=jq(e),b}const Wq="running",Gq="paused",Yq="success",Kq="canceled",Xq="error";function Qq(e){switch(e){case"running":case"pausing":case"canceling":return Wq;case"paused":return Gq;case"success":return Yq;case"canceled":return Kq;default:return Xq}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let Jq=class{constructor(e,t,n){const i=function(e){return"function"==typeof e}(e)||null!=t||null!=n;if(i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Zq(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}class eH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=FV.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=FV.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=FV.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,i,r){if(this.sent_)throw KV("cannot .send() more than once");if(_C(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw KV("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw KV("cannot .getStatus() before sending");try{return this.xhr_.status}catch(HS){return-1}}getResponse(){if(!this.sent_)throw KV("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw KV("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class tH extends eH{initXhr(){this.xhr_.responseType="text"}}function nH(){return new tH}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class iH{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Sq(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(BV.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(rq(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=VV()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(BV.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),s=Fq(t,i,r),a={name:s.fullPath},l=nq(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=Iq(s,n),u=e.maxUploadRetryTime,h=new Oq(l,"POST",(function(e){let t;Vq(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(HS){Nq(!1)}return Nq(JV(t)),t}),u);return h.urlParams=a,h.headers=c,h.body=d,h.errorHandler=jq(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,nH,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const i=function(e,t,n,i){const r=e.maxUploadRetryTime,o=new Oq(n,"POST",(function(e){const t=Vq(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(HS){Nq(!1)}n||Nq(!1);const r=Number(n);return Nq(!isNaN(r)),new $q(r,i.size(),"final"===t)}),r);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=jq(t),o}(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(i,nH,t,n);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=qq*this._chunkMultiplier,t=new $q(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((i,r)=>{let o;try{o=Hq(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(HS){return this._error=HS,void this._transition("error")}const s=this._ref.storage._makeRequest(o,nH,i,r,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(qq*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Uq(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,nH,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=zq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,nH,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=qV(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Qq(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const r=new Jq(t||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Qq(this._state)){case Yq:Zq(this._resolve.bind(null,this.snapshot))();break;case Kq:case Xq:Zq(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qq(this._state)){case Wq:case Gq:e.next&&Zq(e.next.bind(e,this.snapshot))();break;case Yq:e.complete&&Zq(e.complete.bind(e))();break;default:e.error&&Zq(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class rH{constructor(e,t){this._service=e,this._location=t instanceof XV?t:XV.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rH(e,t)}get root(){const e=new XV(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _q(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new XV(this._location.bucket,e);return new rH(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new UV(BV.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function oH(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new iH(e,new yq(t),n)}function sH(e,t){null!=t&&"number"==typeof t.maxResults&&tq("options.maxResults",1,1e3,t.maxResults);const n=t||{},i=Bq(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(i,nH)}function aH(e){e._throwIfRoot("getMetadata");const t=Uq(e.storage,e._location,Sq());return e.storage.makeRequestWithTokens(t,nH)}function lH(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,i){const r=nq(t.fullServerUrl(),e.host,e._protocol),o=Iq(n,i),s=e.maxOperationRetryTime,a=new Oq(r,"PATCH",Lq(e,i),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Mq(t),a}(e.storage,e._location,t,Sq());return e.storage.makeRequestWithTokens(n,nH)}function cH(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const i=nq(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,o=new Oq(i,"GET",Rq(e,n),r);return o.errorHandler=Mq(t),o}(e.storage,e._location,Sq());return e.storage.makeRequestWithTokens(t,nH).then((e=>{if(null===e)throw new UV(BV.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function dH(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=nq(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,r=new Oq(n,"DELETE",(function(e,t){}),i);return r.successCodes=[200,204],r.errorHandler=Mq(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,nH)}function uH(e,t){if(e instanceof mH){const n=e;if(null==n._bucket)throw new UV(BV.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MV+"' property when initializing the app?");const i=new rH(n,n._bucket);return null!=t?uH(i,t):i}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new XV(e._location.bucket,n);return new rH(e.storage,i)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t):e}function hH(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof mH)return new rH(e,t);throw WV("To use ref(service, url), the first argument must be a Storage instance.")}return uH(e,t)}function pH(e,t){const n=null==t?void 0:t[MV];return null==n?null:XV.makeFromBucketSpec(n,e)}class mH{constructor(e,t,n,i,r,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._isUsingEmulator=o,this._bucket=null,this._host=jV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?XV.makeFromBucketSpec(i,this._host):pH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=XV.makeFromBucketSpec(this._url,e):this._bucket=pH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tq("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tq("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(dA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rH(this,e)}_makeRequest(e,t,n,i,r=!0){if(this._deleted)return new QV(GV());{const o=function(e,t,n,i,r,o,s=!0,a=!1){const l=iq(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(d,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(d,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(d,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(d,i),new oq(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s,a)}(e,this._appId,n,i,t,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const fH="@firebase/storage",gH="0.13.14",bH="storage";function vH(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const i=zq(e.storage,e._location,Sq(),new yq(t,!0),n);return e.storage.makeRequestWithTokens(i,nH).then((t=>({metadata:t,ref:e})))}(e=ZC(e),t,n)}function yH(e){return cH(e=ZC(e))}function wH(e,t){return hH(e=ZC(e),t)}function _H(e=fA(),t){const n=cA(e=ZC(e),bH).getImmediate({identifier:t}),i=bC("storage");return i&&xH(n,...i),n}function xH(e,t,n,i={}){!function(e,t,n,i={}){e.host=`${t}:${n}`;const r=_C(t);r&&(xC(`https://${e.host}/b`),EC("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(e._overrideAuthToken="string"==typeof o?o:kC(o,e.app.options.projectId))}(e,t,n,i)}function kH(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new mH(n,i,r,t,pA)}lA(new eI(bH,kH,"PUBLIC").setMultipleInstances(!0)),gA(fH,gH,""),gA(fH,gH,"esm2017");var TH={};const SH="@firebase/database",EH="1.0.20";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let CH="";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class IH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),MC(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:jC(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class AH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return BC(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const PH=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new IH(t)}}catch(HS){}return new AH},DH=PH("localStorage"),OH=PH("sessionStorage"),NH=new cI("@firebase/database"),LH=function(){let e=1;return function(){return e++}}(),RH=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,rC(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new YC;n.update(t);const i=n.digest();return aC.encodeByteArray(i)},jH=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=jH.apply(null,i):t+="object"==typeof i?MC(i):i,t+=" "}return t};let MH=null,UH=!0;const BH=function(...e){var t;if(!0===UH&&(UH=!1,null===MH&&!0===OH.get("logging_enabled")&&(rC(!t,"Can't turn on custom loggers persistently."),NH.logLevel=rI.VERBOSE,MH=NH.log.bind(NH))),MH){const t=jH.apply(null,e);MH(t)}},FH=function(e){return function(...t){BH(e,...t)}},zH=function(...e){const t="FIREBASE INTERNAL ERROR: "+jH(...e);NH.error(t)},$H=function(...e){const t=`FIREBASE FATAL ERROR: ${jH(...e)}`;throw NH.error(t),new Error(t)},VH=function(...e){const t="FIREBASE WARNING: "+jH(...e);NH.warn(t)},qH=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},HH="[MIN_NAME]",WH="[MAX_NAME]",GH=function(e,t){if(e===t)return 0;if(e===HH||t===WH)return-1;if(t===HH||e===WH)return 1;{const n=tW(e),i=tW(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},YH=function(e,t){return e===t?0:e<t?-1:1},KH=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+MC(t))},XH=function(e){if("object"!=typeof e||null===e)return MC(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=MC(t[i]),n+=":",n+=XH(e[t[i]]);return n+="}",n},QH=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function JH(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ZH=function(e){rC(!qH(e),"Invalid JSON number");const t=1023;let n,i,r,o,s;0===e?(i=0,r=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=o+t,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const eW=new RegExp("^-?(0*)\\d{1,10}$"),tW=function(e){if(eW.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},nW=function(e){try{e()}catch(HS){setTimeout((()=>{const t=HS.stack||"";throw VH("Exception was thrown by user callback.",t),HS}),Math.floor(0))}},iW=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class rW{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,dA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){VH(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class oW{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(BH("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',VH(e)}}class sW{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sW.OWNER="owner";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const aW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lW="ac",cW="websocket",dW="long_polling";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class uW{constructor(e,t,n,i,r=!1,o="",s=!1,a=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=DH.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&DH.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function hW(e,t,n){let i;if(rC("string"==typeof t,"typeof type must == string"),rC("object"==typeof n,"typeof params must == object"),t===cW)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==dW)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return JH(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class pW{constructor(){this.counters_={}}incrementCounter(e,t=1){BC(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return hC(this.counters_)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const mW={},fW={};function gW(e){const t=e.toString();return mW[t]||(mW[t]=new pW),mW[t]}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class bW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&nW((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const vW="start";class yW{constructor(e,t,n,i,r,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=FH(e),this.stats_=gW(t),this.urlFn=e=>(this.appCheckToken&&(e[lW]=this.appCheckToken),hW(t,dW,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new wW(((...e)=>{const[t,n,i,r,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===vW)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[vW]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[lW]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&aW.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yW.forceAllow_=!0}static forceDisallow(){yW.forceDisallow_=!0}static isAvailable(){return!!yW.forceAllow_||!(yW.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=MC(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=cC(t),i=QH(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=MC(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class wW{constructor(e,t,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=wW.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(HS){BH("frame writing exception"),HS.stack&&BH(HS.stack),BH(HS)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||BH("No IE domain setting required")}catch(HS){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{BH("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(HS){}}),Math.floor(1))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let _W=null;"undefined"!=typeof MozWebSocket?_W=MozWebSocket:"undefined"!=typeof WebSocket&&(_W=WebSocket);class xW{constructor(e,t,n,i,r,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=FH(this.connId),this.stats_=gW(t),this.connURL=xW.connectionURL_(t,o,s,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&aW.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),i&&(o[lW]=i),r&&(o.p=r),hW(e,cW,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,DH.set("previous_websocket_failure",!0);try{let e;PC(),this.mySock=new _W(this.connURL,[],e)}catch(HS){this.log_("Error instantiating WebSocket.");const t=HS.message||HS.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){xW.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==_W&&!xW.forceDisallow_}static previouslyFailed(){return DH.isInMemoryStorage||!0===DH.get("previous_websocket_failure")}markConnectionHealthy(){DH.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=jC(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(rC(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=MC(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=QH(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(HS){this.log_("Exception thrown from WebSocket.send():",HS.message||HS.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xW.responsesRequiredToBeHealthy=2,xW.healthyTimeout=3e4;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class kW{static get ALL_TRANSPORTS(){return[yW,xW]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=xW&&xW.isAvailable();let n=t&&!xW.previouslyFailed();if(e.webSocketOnly&&(t||VH("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[xW];else{const e=this.transports_=[];for(const t of kW.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);kW.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kW.globalTransportInitialized_=!1;class TW{constructor(e,t,n,i,r,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=FH("c:"+this.id+":"),this.transportManager_=new kW(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=iW((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=KH("t",e),n=KH("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=KH("t",e),n=KH("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=KH("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?zH("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zH("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&VH("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),iW((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iW((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(DH.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class SW{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class EW{constructor(e){this.allowedEvents_=e,this.listeners_={},rC(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){rC(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class CW extends EW{static getInstance(){return new CW}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||IC()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return rC("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class IW{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function AW(){return new IW("")}function PW(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function DW(e){return e.pieces_.length-e.pieceNum_}function OW(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new IW(e.pieces_,t)}function NW(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function LW(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function RW(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new IW(t,0)}function jW(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof IW)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new IW(n,0)}function MW(e){return e.pieceNum_>=e.pieces_.length}function UW(e,t){const n=PW(e),i=PW(t);if(null===n)return t;if(n===i)return UW(OW(e),OW(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function BW(e,t){const n=LW(e,0),i=LW(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=GH(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function FW(e,t){if(DW(e)!==DW(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function zW(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(DW(e)>DW(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class $W{constructor(e,t){this.errorPrefix_=t,this.parts_=LW(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=JC(this.parts_[n]);VW(this)}}function VW(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qW(e))}function qW(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class HW extends EW{static getInstance(){return new HW}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return rC("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const WW=1e3;class GW extends SW{constructor(e,t,n,i,r,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=GW.nextPersistentConnectionId_++,this.log_=FH("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=WW,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!PC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HW.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&CW.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(MC(r)),rC(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new wC,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),rC(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),rC(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,(r=>{const o=r.d,s=r.s;GW.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&BC(e,"w")){const n=FC(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();VH(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=UC(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=UC(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),rC(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+MC(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):zH("Unrecognized action received from server: "+MC(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){rC(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=WW,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=WW,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=WW),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+GW.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,i())},c=function(e){rC(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[e,l]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?BH("getToken() completed but was canceled"):(BH("getToken() completed. Creating connection."),this.authToken_=e&&e.accessToken,this.appCheckToken_=l&&l.token,a=new TW(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,(e=>{VH(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&VH(e),l())}}}interrupt(e){BH("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){BH("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zC(this.interruptReasons_)&&(this.reconnectDelay_=WW,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>XH(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new IW(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){BH("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){BH("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+CH.replace(/\./g,"-")]=1,IC()?e["framework.cordova"]=1:AC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=CW.getInstance().currentlyOnline();return zC(this.interruptReasons_)&&e}}GW.nextPersistentConnectionId_=0,GW.nextConnectionId_=0;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class YW{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new YW(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class KW{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new YW(HH,e),i=new YW(HH,t);return 0!==this.compare(n,i)}minPost(){return YW.MIN}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let XW;class QW extends KW{static get __EMPTY_NODE(){return XW}static set __EMPTY_NODE(e){XW=e}compare(e,t){return GH(e.name,t.name)}isDefinedOn(e){throw oC("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return YW.MIN}maxPost(){return new YW(WH,XW)}makePost(e,t){return rC("string"==typeof e,"KeyIndex indexValue must always be a string."),new YW(e,XW)}toString(){return".key"}}const JW=new QW;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ZW{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class eG{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:eG.RED,this.left=null!=i?i:tG.EMPTY_NODE,this.right=null!=r?r:tG.EMPTY_NODE}copy(e,t,n,i,r){return new eG(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return tG.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return tG.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,eG.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,eG.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}eG.RED=!0,eG.BLACK=!1;class tG{constructor(e,t=tG.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new tG(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,eG.BLACK,null,null))}remove(e){return new tG(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,eG.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ZW(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ZW(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ZW(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ZW(this.root_,null,this.comparator_,!0,e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function nG(e,t){return GH(e.name,t.name)}function iG(e,t){return GH(e,t)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let rG;tG.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new eG(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const oG=function(e){return"number"==typeof e?"number:"+ZH(e):"string:"+e},sG=function(e){if(e.isLeafNode()){const t=e.val();rC("string"==typeof t||"number"==typeof t||"object"==typeof t&&BC(t,".sv"),"Priority must be a string or number.")}else rC(e===rG||e.isEmpty(),"priority of unexpected type.");rC(e===rG||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let aG,lG,cG;class dG{static set __childrenNodeConstructor(e){aG=e}static get __childrenNodeConstructor(){return aG}constructor(e,t=dG.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,rC(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),sG(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new dG(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:dG.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return MW(e)?this:".priority"===PW(e)?this.priorityNode_:dG.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:dG.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=PW(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(rC(".priority"!==n||1===DW(e),".priority must be the last token in a path"),this.updateImmediateChild(n,dG.__childrenNodeConstructor.EMPTY_NODE.updateChild(OW(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oG(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ZH(this.value_):this.value_,this.lazyHash_=RH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===dG.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof dG.__childrenNodeConstructor?-1:(rC(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=dG.VALUE_TYPE_ORDER.indexOf(t),r=dG.VALUE_TYPE_ORDER.indexOf(n);return rC(i>=0,"Unknown leaf type: "+t),rC(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}dG.VALUE_TYPE_ORDER=["object","boolean","number","string"];const uG=new class extends KW{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?GH(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return YW.MIN}maxPost(){return new YW(WH,new dG("[PRIORITY-POST]",cG))}makePost(e,t){const n=lG(e);return new YW(t,new dG("[PRIORITY-POST]",n))}toString(){return".priority"}},hG=Math.log(2);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class pG{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/hG,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mG=function(e,t,n,i){e.sort(t);const r=function(t,i){const o=i-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new eG(a,s.node,eG.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=r(t,l),d=r(l+1,i);return s=e[l],a=n?n(s):s,new eG(a,s.node,eG.BLACK,c,d)}},o=function(t){let i=null,o=null,s=e.length;const a=function(t,i){const o=s-t,a=s;s-=t;const c=r(o+1,a),d=e[o],u=n?n(d):d;l(new eG(u,d.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,eG.BLACK):(a(i,eG.BLACK),a(i,eG.RED))}return o}(new pG(e.length));return new tG(i||t,o)};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let fG;const gG={};class bG{static get Default(){return rC(gG&&uG,"ChildrenNode.ts has not been loaded"),fG=fG||new bG({".priority":gG},{".priority":uG}),fG}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=FC(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof tG?t:null}hasIndex(e){return BC(this.indexSet_,e.toString())}addIndex(e,t){rC(e!==JW,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(YW.Wrap);let o,s=r.getNext();for(;s;)i=i||e.isDefinedOn(s.node),n.push(s),s=r.getNext();o=i?mG(n,e.getCompare()):gG;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new bG(c,l)}addToIndexes(e,t){const n=$C(this.indexes_,((n,i)=>{const r=FC(this.indexSet_,i);if(rC(r,"Missing index implementation for "+i),n===gG){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(YW.Wrap);let o=i.getNext();for(;o;)o.name!==e.name&&n.push(o),o=i.getNext();return n.push(e),mG(n,r.getCompare())}return gG}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new YW(e.name,i))),r.insert(e,e.node)}}));return new bG(n,this.indexSet_)}removeFromIndexes(e,t){const n=$C(this.indexes_,(n=>{if(n===gG)return n;{const i=t.get(e.name);return i?n.remove(new YW(e.name,i)):n}}));return new bG(n,this.indexSet_)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let vG;class yG{static get EMPTY_NODE(){return vG||(vG=new yG(new tG(iG),null,bG.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&sG(this.priorityNode_),this.children_.isEmpty()&&rC(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vG}updatePriority(e){return this.children_.isEmpty()?this:new yG(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?vG:t}}getChild(e){const t=PW(e);return null===t?this:this.getImmediateChild(t).getChild(OW(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(rC(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new YW(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?vG:this.priorityNode_;return new yG(i,o,r)}}updateChild(e,t){const n=PW(e);if(null===n)return t;{rC(".priority"!==PW(e)||1===DW(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(OW(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(uG,((o,s)=>{t[o]=s.val(e),n++,r&&yG.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+oG(this.getPriority().val())+":"),this.forEachChild(uG,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":RH(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new YW(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new YW(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new YW(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,YW.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,YW.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wG?-1:0}withIndex(e){if(e===JW||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new yG(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===JW||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(uG),n=t.getIterator(uG);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===JW?null:this.indexMap_.get(e.toString())}}yG.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const wG=new class extends yG{constructor(){super(new tG(iG),yG.EMPTY_NODE,bG.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yG.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(YW,{MIN:{value:new YW(HH,yG.EMPTY_NODE)},MAX:{value:new YW(WH,wG)}}),QW.__EMPTY_NODE=yG.EMPTY_NODE,dG.__childrenNodeConstructor=yG,rG=wG,function(e){cG=e}(wG);function _G(e,t=null){if(null===e)return yG.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),rC(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new dG(e,_G(t))}if(e instanceof Array){let n=yG.EMPTY_NODE;return JH(e,((t,i)=>{if(BC(e,t)&&"."!==t.substring(0,1)){const e=_G(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(_G(t))}{const n=[];let i=!1;if(JH(e,((e,t)=>{if("."!==e.substring(0,1)){const r=_G(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new YW(e,r)))}})),0===n.length)return yG.EMPTY_NODE;const r=mG(n,nG,(e=>e.name),iG);if(i){const e=mG(n,uG.getCompare());return new yG(r,_G(t),new bG({".priority":e},{".priority":uG}))}return new yG(r,_G(t),bG.Default)}}!function(e){lG=e}(_G);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class xG extends KW{constructor(e){super(),this.indexPath_=e,rC(!MW(e)&&".priority"!==PW(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?GH(e.name,t.name):r}makePost(e,t){const n=_G(e),i=yG.EMPTY_NODE.updateChild(this.indexPath_,n);return new YW(t,i)}maxPost(){const e=yG.EMPTY_NODE.updateChild(this.indexPath_,wG);return new YW(WH,e)}toString(){return LW(this.indexPath_,0).join("/")}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const kG=new class extends KW{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?GH(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return YW.MIN}maxPost(){return YW.MAX}makePost(e,t){const n=_G(e);return new YW(t,n)}toString(){return".value"}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function TG(e){return{type:"value",snapshotNode:e}}function SG(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function EG(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function CG(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class IG{constructor(e){this.index_=e}updateChild(e,t,n,i,r,o){rC(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(EG(t,s)):rC(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(SG(t,n)):o.trackChildChange(CG(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(uG,((e,i)=>{t.hasChild(e)||n.trackChildChange(EG(e,i))})),t.isLeafNode()||t.forEachChild(uG,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(CG(t,i,r))}else n.trackChildChange(SG(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?yG.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class AG{constructor(e){this.indexedFilter_=new IG(e.getIndex()),this.index_=e.getIndex(),this.startPost_=AG.getStartPost_(e),this.endPost_=AG.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,o){return this.matches(new YW(t,n))||(n=yG.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=yG.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(yG.EMPTY_NODE);const r=this;return t.forEachChild(uG,((e,t)=>{r.matches(new YW(e,t))||(i=i.updateImmediateChild(e,yG.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class PG{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new AG(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,o){return this.rangedFilter_.matches(new YW(t,n))||(n=yG.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=yG.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=yG.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(yG.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,yG.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;rC(s.numChildren()===this.limit_,"");const a=new YW(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let d=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=d&&(d.name===t||s.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const u=null==d?1:o(d,a);if(c&&!n.isEmpty()&&u>=0)return null!=r&&r.trackChildChange(CG(t,n,e)),s.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(EG(t,e));const n=s.updateImmediateChild(t,yG.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=r&&r.trackChildChange(SG(d.name,d.node)),n.updateImmediateChild(d.name,d.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=r&&(r.trackChildChange(EG(l.name,l.node)),r.trackChildChange(SG(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,yG.EMPTY_NODE)):e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class DG{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=uG}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return rC(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return rC(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:HH}hasEnd(){return this.endSet_}getIndexEndValue(){return rC(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return rC(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:WH}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return rC(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===uG}copy(){const e=new DG;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OG(e){const t={};if(e.isDefault())return t;let n;if(e.index_===uG?n="$priority":e.index_===kG?n="$value":e.index_===JW?n="$key":(rC(e.index_ instanceof xG,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=MC(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=MC(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+MC(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=MC(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+MC(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function NG(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==uG&&(t.i=e.index_.toString()),t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class LG extends SW{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(rC(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=FH("p:rest:"),this.listens_={}}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=LG.getListenId_(e,n),s={};this.listens_[o]=s;const a=OG(e._queryParams);this.restRequest_(r+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),FC(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=LG.getListenId_(e,t);delete this.listens_[n]}get(e){const t=OG(e._queryParams),n=e._path.toString(),i=new wC;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+HC(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=jC(s.responseText)}catch(HS){VH("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&VH("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class RG{constructor(){this.rootNode_=yG.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function jG(){return{value:null,children:new Map}}function MG(e,t,n){if(MW(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=PW(t);e.children.has(i)||e.children.set(i,jG());MG(e.children.get(i),t=OW(t),n)}}function UG(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,((e,i)=>{UG(i,new IW(t.toString()+"/"+e),n)}))}class BG{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&JH(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class FG{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new BG(e);const n=1e4+2e4*Math.random();iW(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;JH(e,((e,i)=>{i>0&&BC(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),iW(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var zG,$G;function VG(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */($G=zG||(zG={}))[$G.OVERWRITE=0]="OVERWRITE",$G[$G.MERGE=1]="MERGE",$G[$G.ACK_USER_WRITE=2]="ACK_USER_WRITE",$G[$G.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class qG{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=zG.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(MW(this.path)){if(null!=this.affectedTree.value)return rC(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new IW(e));return new qG(AW(),t,this.revert)}}return rC(PW(this.path)===e,"operationForChild called for unrelated child."),new qG(OW(this.path),this.affectedTree,this.revert)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class HG{constructor(e,t){this.source=e,this.path=t,this.type=zG.LISTEN_COMPLETE}operationForChild(e){return MW(this.path)?new HG(this.source,AW()):new HG(this.source,OW(this.path))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class WG{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=zG.OVERWRITE}operationForChild(e){return MW(this.path)?new WG(this.source,AW(),this.snap.getImmediateChild(e)):new WG(this.source,OW(this.path),this.snap)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class GG{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=zG.MERGE}operationForChild(e){if(MW(this.path)){const t=this.children.subtree(new IW(e));return t.isEmpty()?null:t.value?new WG(this.source,AW(),t.value):new GG(this.source,AW(),t)}return rC(PW(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new GG(this.source,OW(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class YG{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(MW(e))return this.isFullyInitialized()&&!this.filtered_;const t=PW(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class KG{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function XG(e,t,n,i,r,o){const s=i.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw oC("Should only compare child_ events.");const i=new YW(t.childName,t.snapshotNode),r=new YW(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t,n))),s.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function QG(e,t){return{eventCache:e,serverCache:t}}function JG(e,t,n,i){return QG(new YG(t,n,i),e.serverCache)}function ZG(e,t,n,i){return QG(e.eventCache,new YG(t,n,i))}function eY(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tY(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let nY;class iY{static fromObject(e){let t=new iY(null);return JH(e,((e,n)=>{t=t.set(new IW(e),n)})),t}constructor(e,t=(()=>(nY||(nY=new tG(YH)),nY))()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:AW(),value:this.value};if(MW(e))return null;{const n=PW(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(OW(e),t);if(null!=r){return{path:jW(new IW(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(MW(e))return this;{const t=PW(e),n=this.children.get(t);return null!==n?n.subtree(OW(e)):new iY(null)}}set(e,t){if(MW(e))return new iY(t,this.children);{const n=PW(e),i=(this.children.get(n)||new iY(null)).set(OW(e),t),r=this.children.insert(n,i);return new iY(this.value,r)}}remove(e){if(MW(e))return this.children.isEmpty()?new iY(null):new iY(null,this.children);{const t=PW(e),n=this.children.get(t);if(n){const i=n.remove(OW(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new iY(null):new iY(this.value,r)}return this}}get(e){if(MW(e))return this.value;{const t=PW(e),n=this.children.get(t);return n?n.get(OW(e)):null}}setTree(e,t){if(MW(e))return t;{const n=PW(e),i=(this.children.get(n)||new iY(null)).setTree(OW(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new iY(this.value,r)}}fold(e){return this.fold_(AW(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(jW(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,AW(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(MW(e))return null;{const i=PW(e),r=this.children.get(i);return r?r.findOnPath_(OW(e),jW(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,AW(),t)}foreachOnPath_(e,t,n){if(MW(e))return this;{this.value&&n(t,this.value);const i=PW(e),r=this.children.get(i);return r?r.foreachOnPath_(OW(e),jW(t,i),n):new iY(null)}}foreach(e){this.foreach_(AW(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(jW(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class rY{constructor(e){this.writeTree_=e}static empty(){return new rY(new iY(null))}}function oY(e,t,n){if(MW(t))return new rY(new iY(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=UW(r,t);return o=o.updateChild(s,n),new rY(e.writeTree_.set(r,o))}{const i=new iY(n),r=e.writeTree_.setTree(t,i);return new rY(r)}}}function sY(e,t,n){let i=e;return JH(n,((e,n)=>{i=oY(i,jW(t,e),n)})),i}function aY(e,t){if(MW(t))return rY.empty();{const n=e.writeTree_.setTree(t,new iY(null));return new rY(n)}}function lY(e,t){return null!=cY(e,t)}function cY(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(UW(n.path,t)):null}function dY(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(uG,((e,n)=>{t.push(new YW(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new YW(e,n.value))})),t}function uY(e,t){if(MW(t))return e;{const n=cY(e,t);return new rY(null!=n?new iY(n):e.writeTree_.subtree(t))}}function hY(e){return e.writeTree_.isEmpty()}function pY(e,t){return mY(AW(),e.writeTree_,t)}function mY(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?(rC(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=mY(jW(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(jW(e,".priority"),i)),n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function fY(e,t){return IY(t,e)}function gY(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));rC(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&bY(t,i.path)?r=!1:zW(i.path,t.path)&&(o=!0)),s--}if(r){if(o)return function(e){e.visibleWrites=yY(e.allWrites,vY,AW()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=aY(e.visibleWrites,i.path);else{JH(i.children,(t=>{e.visibleWrites=aY(e.visibleWrites,jW(i.path,t))}))}return!0}return!1}function bY(e,t){if(e.snap)return zW(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&zW(jW(e.path,n),t))return!0;return!1}function vY(e){return e.visible}function yY(e,t,n){let i=rY.empty();for(let r=0;r<e.length;++r){const o=e[r];if(t(o)){const e=o.path;let t;if(o.snap)zW(n,e)?(t=UW(n,e),i=oY(i,t,o.snap)):zW(e,n)&&(t=UW(e,n),i=oY(i,AW(),o.snap.getChild(t)));else{if(!o.children)throw oC("WriteRecord should have .snap or .children");if(zW(n,e))t=UW(n,e),i=sY(i,t,o.children);else if(zW(e,n))if(t=UW(e,n),MW(t))i=sY(i,AW(),o.children);else{const e=FC(o.children,PW(t));if(e){const n=e.getChild(OW(t));i=oY(i,AW(),n)}}}}}return i}function wY(e,t,n,i,r){if(i||r){const o=uY(e.visibleWrites,t);if(!r&&hY(o))return n;if(r||null!=n||lY(o,AW())){const o=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(zW(e.path,t)||zW(t,e.path))};return pY(yY(e.allWrites,o,t),n||yG.EMPTY_NODE)}return null}{const i=cY(e.visibleWrites,t);if(null!=i)return i;{const i=uY(e.visibleWrites,t);if(hY(i))return n;if(null!=n||lY(i,AW())){return pY(i,n||yG.EMPTY_NODE)}return null}}}function _Y(e,t,n,i){return wY(e.writeTree,e.treePath,t,n,i)}function xY(e,t){return function(e,t,n){let i=yG.EMPTY_NODE;const r=cY(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(uG,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=uY(e.visibleWrites,t);return n.forEachChild(uG,((e,t)=>{const n=pY(uY(r,new IW(e)),t);i=i.updateImmediateChild(e,n)})),dY(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return dY(uY(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function kY(e,t,n,i){return function(e,t,n,i,r){rC(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=jW(t,n);if(lY(e.visibleWrites,o))return null;{const t=uY(e.visibleWrites,o);return hY(t)?r.getChild(n):pY(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function TY(e,t){return function(e,t){return cY(e.visibleWrites,t)}(e.writeTree,jW(e.treePath,t))}function SY(e,t,n,i,r,o){return function(e,t,n,i,r,o,s){let a;const l=uY(e.visibleWrites,t),c=cY(l,AW());if(null!=c)a=c;else{if(null==n)return[];a=pY(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,o)}function EY(e,t,n){return function(e,t,n,i){const r=jW(t,n),o=cY(e.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n))return pY(uY(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function CY(e,t){return IY(jW(e.treePath,t),e.writeTree)}function IY(e,t){return{treePath:e,writeTree:t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class AY{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;rC("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),rC(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,CG(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,EG(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,SG(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw oC("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,CG(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const PY=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class DY{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new YG(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EY(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tY(this.viewCache_),r=SY(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function OY(e,t,n,i,r){const o=new AY;let s,a;if(n.type===zG.OVERWRITE){const l=n;l.source.fromUser?s=RY(e,t,l.path,l.snap,i,r,o):(rC(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!MW(l.path),s=LY(e,t,l.path,l.snap,i,r,a,o))}else if(n.type===zG.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,i,r,o,s){let a=t;return i.foreach(((i,l)=>{const c=jW(n,i);jY(t,PW(c))&&(a=RY(e,a,c,l,r,o,s))})),i.foreach(((i,l)=>{const c=jW(n,i);jY(t,PW(c))||(a=RY(e,a,c,l,r,o,s))})),a}(e,t,l.path,l.children,i,r,o):(rC(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=UY(e,t,l.path,l.children,i,r,a,o))}else if(n.type===zG.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,i,r,o){let s;if(null!=TY(i,n))return t;{const a=new DY(i,t,r),l=t.eventCache.getNode();let c;if(MW(n)||".priority"===PW(n)){let n;if(t.serverCache.isFullyInitialized())n=_Y(i,tY(t));else{const e=t.serverCache.getNode();rC(e instanceof yG,"serverChildren would be complete if leaf node"),n=xY(i,e)}c=e.filter.updateFullNode(l,n,o)}else{const r=PW(n);let d=EY(i,r,t.serverCache);null==d&&t.serverCache.isCompleteForChild(r)&&(d=l.getImmediateChild(r)),c=null!=d?e.filter.updateChild(l,r,d,OW(n),a,o):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,yG.EMPTY_NODE,OW(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=_Y(i,tY(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=TY(i,AW()),JG(t,c,s,e.filter.filtersNodes())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t,a.path,i,r,o):function(e,t,n,i,r,o,s){if(null!=TY(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(MW(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return LY(e,t,n,l.getNode().getChild(n),r,o,a,s);if(MW(n)){let i=new iY(null);return l.getNode().forEachChild(JW,((e,t)=>{i=i.set(new IW(e),t)})),UY(e,t,n,i,r,o,a,s)}return t}{let c=new iY(null);return i.foreach(((e,t)=>{const i=jW(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))})),UY(e,t,n,c,r,o,a,s)}}(e,t,a.path,a.affectedTree,i,r,o)}else{if(n.type!==zG.LISTEN_COMPLETE)throw oC("Unknown operation type: "+n.type);s=function(e,t,n,i,r){const o=t.serverCache,s=ZG(t,o.getNode(),o.isFullyInitialized()||MW(n),o.isFiltered());return NY(e,s,n,i,PY,r)}(e,t,n.path,i,o)}const l=o.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=eY(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(TG(eY(t)))}}(t,s,l),{viewCache:s,changes:l}}function NY(e,t,n,i,r,o){const s=t.eventCache;if(null!=TY(i,n))return t;{let a,l;if(MW(n))if(rC(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=tY(t),r=xY(i,n instanceof yG?n:yG.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),r,o)}else{const n=_Y(i,tY(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=PW(n);if(".priority"===c){rC(1===DW(n),"Can't have a priority with additional path components");const r=s.getNode();l=t.serverCache.getNode();const o=kY(i,n,r,l);a=null!=o?e.filter.updatePriority(r,o):s.getNode()}else{const d=OW(n);let u;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=kY(i,n,s.getNode(),l);u=null!=e?s.getNode().getImmediateChild(c).updateChild(d,e):s.getNode().getImmediateChild(c)}else u=EY(i,c,t.serverCache);a=null!=u?e.filter.updateChild(s.getNode(),c,u,d,r,o):s.getNode()}}return JG(t,a,s.isFullyInitialized()||MW(n),e.filter.filtersNodes())}}function LY(e,t,n,i,r,o,s,a){const l=t.serverCache;let c;const d=s?e.filter:e.filter.getIndexedFilter();if(MW(n))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=d.updateFullNode(l.getNode(),e,null)}else{const e=PW(n);if(!l.isCompleteForPath(n)&&DW(n)>1)return t;const r=OW(n),o=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?d.updatePriority(l.getNode(),o):d.updateChild(l.getNode(),e,o,r,PY,null)}const u=ZG(t,c,l.isFullyInitialized()||MW(n),d.filtersNodes());return NY(e,u,n,r,new DY(r,u,o),a)}function RY(e,t,n,i,r,o,s){const a=t.eventCache;let l,c;const d=new DY(r,t,o);if(MW(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=JG(t,c,!0,e.filter.filtersNodes());else{const r=PW(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=JG(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=OW(n),c=a.getNode().getImmediateChild(r);let u;if(MW(o))u=i;else{const e=d.getCompleteChild(r);u=null!=e?".priority"===NW(o)&&e.getChild(RW(o)).isEmpty()?e:e.updateChild(o,i):yG.EMPTY_NODE}if(c.equals(u))l=t;else{l=JG(t,e.filter.updateChild(a.getNode(),r,u,o,d,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function jY(e,t){return e.eventCache.isCompleteForChild(t)}function MY(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function UY(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=MW(n)?i:new iY(null).setTree(n,i);const d=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(d.hasChild(n)){const l=MY(0,t.serverCache.getNode().getImmediateChild(n),i);c=LY(e,c,new IW(n),l,r,o,s,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!d.hasChild(n)&&!l){const l=MY(0,t.serverCache.getNode().getImmediateChild(n),i);c=LY(e,c,new IW(n),l,r,o,s,a)}})),c}class BY{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new IG(n.getIndex()),r=(o=n).loadsAllData()?new IG(o.getIndex()):o.hasLimit()?new PG(o):new AG(o);var o;this.processor_=function(e){return{filter:e}}(r);const s=t.serverCache,a=t.eventCache,l=i.updateFullNode(yG.EMPTY_NODE,s.getNode(),null),c=r.updateFullNode(yG.EMPTY_NODE,a.getNode(),null),d=new YG(l,s.isFullyInitialized(),i.filtersNodes()),u=new YG(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=QG(u,d),this.eventGenerator_=new KG(this.query_)}get query(){return this.query_}}function FY(e,t){const n=tY(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!MW(t)&&!n.getImmediateChild(PW(t)).isEmpty())?n.getChild(t):null}function zY(e){return 0===e.eventRegistrations_.length}function $Y(e,t,n){const i=[];if(n){rC(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function VY(e,t,n,i){t.type===zG.MERGE&&null!==t.source.queryId&&(rC(tY(e.viewCache_),"We should always have a full cache before handling merges"),rC(eY(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=OY(e.processor_,r,t,n,i);var s,a;return s=e.processor_,a=o.viewCache,rC(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),rC(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),rC(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,qY(e,o.changes,o.viewCache.eventCache.getNode(),null)}function qY(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),XG(e,r,"child_removed",t,i,n),XG(e,r,"child_added",t,i,n),XG(e,r,"child_moved",o,i,n),XG(e,r,"child_changed",t,i,n),XG(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let HY,WY;class GY{constructor(){this.views=new Map}}function YY(e,t,n,i){const r=t.source.queryId;if(null!==r){const o=e.views.get(r);return rC(null!=o,"SyncTree gave us an op for an invalid query."),VY(o,t,n,i)}{let r=[];for(const o of e.views.values())r=r.concat(VY(o,t,n,i));return r}}function KY(e,t,n,i,r,o){const s=function(e,t,n,i,r){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=_Y(n,r?i:null),o=!1;e?o=!0:i instanceof yG?(e=xY(n,i),o=!1):(e=yG.EMPTY_NODE,o=!1);const s=QG(new YG(e,o,!1),new YG(i,r,!1));return new BY(t,s)}return s}(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(uG,((e,t)=>{i.push(SG(e,t))}));return n.isFullyInitialized()&&i.push(TG(n.getNode())),qY(e,i,n.getNode(),t)}(s,n)}function XY(e,t,n,i){const r=t._queryIdentifier,o=[];let s=[];const a=tK(e);if("default"===r)for(const[l,c]of e.views.entries())s=s.concat($Y(c,n,i)),zY(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(r);t&&(s=s.concat($Y(t,n,i)),zY(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!tK(e)&&o.push(new(rC(HY,"Reference.ts has not been loaded"),HY)(t._repo,t._path)),{removed:o,events:s}}function QY(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function JY(e,t){let n=null;for(const i of e.views.values())n=n||FY(i,t);return n}function ZY(e,t){if(t._queryParams.loadsAllData())return nK(e);{const n=t._queryIdentifier;return e.views.get(n)}}function eK(e,t){return null!=ZY(e,t)}function tK(e){return null!=nK(e)}function nK(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let iK=1;class rK{constructor(e){this.listenProvider_=e,this.syncPointTree_=new iY(null),this.pendingWriteTree_={visibleWrites:rY.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oK(e,t,n,i,r){return function(e,t,n,i,r){rC(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=oY(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?hK(e,new WG({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sK(e,t,n,i){!function(e,t,n,i){rC(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=sY(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=iY.fromObject(n);return hK(e,new GG({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function aK(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(gY(e.pendingWriteTree_,t)){let t=new iY(null);return null!=i.snap?t=t.set(AW(),!0):JH(i.children,(e=>{t=t.set(new IW(e),!0)})),hK(e,new qG(i.path,t,n))}return[]}function lK(e,t,n){return hK(e,new WG({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function cK(e,t,n,i,r=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||eK(s,t))){const l=XY(s,t,n,i);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),r=e.syncPointTree_.findOnPath(o,((e,t)=>tK(t)));if(n&&!r){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&tK(t)){return[nK(t)]}{let e=[];return t&&(e=QY(t)),JH(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,o=fK(e,i);e.listenProvider_.startListening(_K(r),gK(e,r),o.hashFn,o.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(_K(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(bK(t));e.listenProvider_.stopListening(_K(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=bK(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function dK(e,t,n,i=!1){const r=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=UW(e,r);o=o||JY(t,n),s=s||tK(t)}));let a,l=e.syncPointTree_.get(r);if(l?(s=s||tK(l),o=o||JY(l,AW())):(l=new GY,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=o)a=!0;else{a=!1,o=yG.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=JY(t,AW());n&&(o=o.updateImmediateChild(e,n))}))}const c=eK(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=bK(t);rC(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=iK++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let d=KY(l,t,n,fY(e.pendingWriteTree_,r),o,a);if(!c&&!s&&!i){const n=ZY(l,t);d=d.concat(function(e,t,n){const i=t._path,r=gK(e,t),o=fK(e,n),s=e.listenProvider_.startListening(_K(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)rC(!tK(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!MW(e)&&t&&tK(t))return[nK(t).query];{let e=[];return t&&(e=e.concat(QY(t).map((e=>e.query)))),JH(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(_K(i),gK(e,i))}}return s}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t,n))}return d}function uK(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=JY(n,UW(e,t));if(i)return i}));return wY(i,t,r,n,!0)}function hK(e,t){return pK(t,e.syncPointTree_,null,fY(e.pendingWriteTree_,AW()))}function pK(e,t,n,i){if(MW(e.path))return mK(e,t,n,i);{const r=t.get(AW());null==n&&null!=r&&(n=JY(r,AW()));let o=[];const s=PW(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=CY(i,s);o=o.concat(pK(a,l,e,t))}return r&&(o=o.concat(YY(r,e,i,n))),o}}function mK(e,t,n,i){const r=t.get(AW());null==n&&null!=r&&(n=JY(r,AW()));let o=[];return t.children.inorderTraversal(((t,r)=>{const s=n?n.getImmediateChild(t):null,a=CY(i,t),l=e.operationForChild(t);l&&(o=o.concat(mK(l,r,s,a)))})),r&&(o=o.concat(YY(r,e,i,n))),o}function fK(e,t){const n=t.query,i=gK(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||yG.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=vK(e,n);if(i){const n=yK(i),r=n.path,o=n.queryId,s=UW(r,t);return wK(e,r,new HG(VG(o),s))}return[]}(e,n._path,i):function(e,t){return hK(e,new HG({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return cK(e,n,null,i)}}}}function gK(e,t){const n=bK(t);return e.queryToTagMap.get(n)}function bK(e){return e._path.toString()+"$"+e._queryIdentifier}function vK(e,t){return e.tagToQueryMap.get(t)}function yK(e){const t=e.indexOf("$");return rC(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new IW(e.substr(0,t))}}function wK(e,t,n){const i=e.syncPointTree_.get(t);rC(i,"Missing sync point for query tag that we're tracking");return YY(i,n,fY(e.pendingWriteTree_,t),null)}function _K(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(rC(WY,"Reference.ts has not been loaded"),WY)(e._repo,e._path):e}class xK{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xK(t)}node(){return this.node_}}class kK{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=jW(this.path_,e);return new kK(this.syncTree_,t)}node(){return uK(this.syncTree_,this.path_)}}const TK=function(e,t,n){return e&&"object"==typeof e?(rC(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?SK(e[".sv"],t,n):"object"==typeof e[".sv"]?EK(e[".sv"],t):void rC(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},SK=function(e,t,n){if("timestamp"===e)return n.timestamp;rC(!1,"Unexpected server value: "+e)},EK=function(e,t,n){e.hasOwnProperty("increment")||rC(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&rC(!1,"Unexpected increment value: "+i);const r=t.node();if(rC(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},CK=function(e,t,n,i){return AK(t,new kK(n,e),i)},IK=function(e,t,n){return AK(e,new xK(t),n)};function AK(e,t,n){const i=e.getPriority().val(),r=TK(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const i=e,o=TK(i.getValue(),t,n);return o!==i.getValue()||r!==i.getPriority().val()?new dG(o,_G(r)):e}{const i=e;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new dG(r))),i.forEachChild(uG,((e,i)=>{const r=AK(i,t.getImmediateChild(e),n);r!==i&&(o=o.updateImmediateChild(e,r))})),o}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class PK{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function DK(e,t){let n=t instanceof IW?t:new IW(t),i=e,r=PW(n);for(;null!==r;){const e=FC(i.node.children,r)||{children:{},childCount:0};i=new PK(r,i,e),n=OW(n),r=PW(n)}return i}function OK(e){return e.node.value}function NK(e,t){e.node.value=t,UK(e)}function LK(e){return e.node.childCount>0}function RK(e,t){JH(e.node.children,((n,i)=>{t(new PK(n,e,i))}))}function jK(e,t,n,i){n&&!i&&t(e),RK(e,(e=>{jK(e,t,!0,i)})),n&&i&&t(e)}function MK(e){return new IW(null===e.parent?e.name:MK(e.parent)+"/"+e.name)}function UK(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===OK(e)&&!LK(e)}(n),r=BC(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,UK(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,UK(e))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e.parent,e.name,e)}const BK=/[\[\].#$\/\u0000-\u001F\u007F]/,FK=/[\[\].#$\u0000-\u001F\u007F]/,zK=10485760,$K=function(e){return"string"==typeof e&&0!==e.length&&!BK.test(e)},VK=function(e){return"string"==typeof e&&0!==e.length&&!FK.test(e)},qK=function(e,t,n){const i=n instanceof IW?new $W(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+qW(i));if("function"==typeof t)throw new Error(e+"contains a function "+qW(i)+" with contents = "+t.toString());if(qH(t))throw new Error(e+"contains "+t.toString()+" "+qW(i));if("string"==typeof t&&t.length>zK/3&&JC(t)>zK)throw new Error(e+"contains a string greater than "+zK+" utf8 bytes "+qW(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(JH(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!$K(t)))throw new Error(e+" contains an invalid key ("+t+") "+qW(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;a=t,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(a),s.byteLength_+=JC(a),VW(s),qK(e,o,i),function(e){const t=e.parts_.pop();e.byteLength_-=JC(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&r)throw new Error(e+' contains ".value" child '+qW(i)+" in addition to actual children.")}},HK=function(e,t,n,i){const r=QC(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];JH(t,((e,t)=>{const i=new IW(e);if(qK(r,t,jW(n,i)),".priority"===NW(i)&&!(null===(s=t)||"string"==typeof s||"number"==typeof s&&!qH(s)||s&&"object"==typeof s&&BC(s,".sv")))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");var s;o.push(i)})),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=LW(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!$K(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(BW);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&zW(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},WK=function(e,t,n,i){if(!VK(n))throw new Error(QC(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},GK=function(e,t){if(".info"===PW(t))throw new Error(e+" failed = Can't modify data under /.info/")},YK=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!$K(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),VK(e)}(n))throw new Error(QC(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class KK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XK(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null===n||FW(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function QK(e,t,n){XK(e,n),ZK(e,(e=>FW(e,t)))}function JK(e,t,n){XK(e,n),ZK(e,(e=>zW(e,t)||zW(t,e)))}function ZK(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(eX(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function eX(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();MH&&BH("event: "+n.toString()),nW(i)}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class tX{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jG(),this.transactionQueueTree_=new PK,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nX(e,t,n){if(e.stats_=gW(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new LG(e.repoInfo_,((t,n,i,r)=>{oX(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>sX(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{MC(n)}catch(HS){throw new Error("Invalid authOverride provided: "+HS)}}e.persistentConnection_=new GW(e.repoInfo_,t,((t,n,i,r)=>{oX(e,t,n,i,r)}),(t=>{sX(e,t)}),(t=>{!function(e,t){JH(t,((t,n)=>{aX(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return fW[n]||(fW[n]=t()),fW[n]}(e.repoInfo_,(()=>new FG(e.stats_,e.server_))),e.infoData_=new RG,e.infoSyncTree_=new rK({startListening:(t,n,i,r)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=lK(e.infoSyncTree_,t._path,s),setTimeout((()=>{r("ok")}),0)),o},stopListening:()=>{}}),aX(e,"connected",!1),e.serverSyncTree_=new rK({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const o=r(n,i);JK(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function iX(e){const t=e.infoData_.getNode(new IW(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function rX(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:iX(e)})}function oX(e,t,n,i,r){e.dataUpdateCount++;const o=new IW(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){const t=$C(n,(e=>_G(e)));s=function(e,t,n,i){const r=vK(e,i);if(r){const i=yK(r),o=i.path,s=i.queryId,a=UW(o,t),l=iY.fromObject(n);return wK(e,o,new GG(VG(s),a,l))}return[]}(e.serverSyncTree_,o,t,r)}else{const t=_G(n);s=function(e,t,n,i){const r=vK(e,i);if(null!=r){const i=yK(r),o=i.path,s=i.queryId,a=UW(o,t);return wK(e,o,new WG(VG(s),a,n))}return[]}(e.serverSyncTree_,o,t,r)}else if(i){const t=$C(n,(e=>_G(e)));s=function(e,t,n){const i=iY.fromObject(n);return hK(e,new GG({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,o,t)}else{const t=_G(n);s=lK(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=mX(e,o)),JK(e.eventQueue_,a,s)}function sX(e,t){aX(e,"connected",t),!1===t&&function(e){dX(e,"onDisconnectEvents");const t=rX(e),n=jG();UG(e.onDisconnect_,AW(),((i,r)=>{const o=CK(i,r,e.serverSyncTree_,t);MG(n,i,o)}));let i=[];UG(n,AW(),((t,n)=>{i=i.concat(lK(e.serverSyncTree_,t,n));const r=yX(e,t);mX(e,r)})),e.onDisconnect_=jG(),JK(e.eventQueue_,AW(),i)}(e)}function aX(e,t,n){const i=new IW("/.info/"+t),r=_G(n);e.infoData_.updateSnapshot(i,r);const o=lK(e.infoSyncTree_,i,r);JK(e.eventQueue_,i,o)}function lX(e){return e.nextWriteId_++}function cX(e,t,n){let i;i=".info"===PW(t._path)?cK(e.infoSyncTree_,t,n):cK(e.serverSyncTree_,t,n),QK(e.eventQueue_,t._path,i)}function dX(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),BH(n,...t)}function uX(e,t,n,i){t&&nW((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const o=new Error(r);o.code=e,t(o)}}))}function hX(e,t,n){return uK(e.serverSyncTree_,t,n)||yG.EMPTY_NODE}function pX(e,t=e.transactionQueueTree_){if(t||vX(e,t),OK(t)){const n=gX(e,t);rC(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),r=hX(e,t,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const e=n[c];rC(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=UW(t,e.path);o=o.updateChild(i,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(i=>{dX(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(aK(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();vX(e,DK(e.transactionQueueTree_,t)),pX(e,e.transactionQueueTree_),JK(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)nW(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{VH("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}mX(e,t)}}),s)}(e,MK(t),n)}else LK(t)&&RK(t,(t=>{pX(e,t)}))}function mX(e,t){const n=fX(e,t),i=MK(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=UW(n,o.path);let d,u=!1;if(rC(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,d=o.abortReason,r=r.concat(aK(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,d="maxretry",r=r.concat(aK(e.serverSyncTree_,o.currentWriteId,!0));else{const n=hX(e,o.path,s);o.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){qK("transaction failed: Data returned ",i,o.path);let t=_G(i);"object"==typeof i&&null!=i&&BC(i,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=rX(e),c=IK(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=lX(e),s.splice(s.indexOf(a),1),r=r.concat(oK(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),r=r.concat(aK(e.serverSyncTree_,a,!0))}else u=!0,d="nodata",r=r.concat(aK(e.serverSyncTree_,o.currentWriteId,!0))}JK(e.eventQueue_,n,r),r=[],u&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===d?i.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):i.push((()=>t[l].onComplete(new Error(d),!1,null)))))}var a;vX(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)nW(i[l]);pX(e,e.transactionQueueTree_)}(e,gX(e,n),i),i}function fX(e,t){let n,i=e.transactionQueueTree_;for(n=PW(t);null!==n&&void 0===OK(i);)i=DK(i,n),n=PW(t=OW(t));return i}function gX(e,t){const n=[];return bX(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function bX(e,t,n){const i=OK(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);RK(t,(t=>{bX(e,t,n)}))}function vX(e,t){const n=OK(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,NK(t,n.length>0?n:void 0)}RK(t,(t=>{vX(e,t)}))}function yX(e,t){const n=MK(fX(e,t)),i=DK(e.transactionQueueTree_,t);return function(e,t){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(i,(t=>{wX(e,t)})),wX(e,i),jK(i,(t=>{wX(e,t)})),n}function wX(e,t){const n=OK(t);if(n){const i=[];let r=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(rC(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(rC(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(aK(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?NK(t,void 0):n.length=o+1,JK(e.eventQueue_,MK(t),r);for(let e=0;e<i.length;e++)nW(i[e])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const _X=function(e,t){const n=xX(e),i=n.namespace;"firebase.com"===n.domain&&$H(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||$H("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&VH("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new uW(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new IW(n.pathString)}},xX=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(r=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(HS){}t+="/"+e}return t}(e.substring(d,u)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):VH(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class kX{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+MC(this.snapshot.exportVal())}}class TX{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class SX{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return rC(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class EX{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return MW(this._path)?null:NW(this._path)}get ref(){return new CX(this._repo,this._path)}get _queryIdentifier(){const e=NG(this._queryParams),t=XH(e);return"{}"===t?"default":t}get _queryObject(){return NG(this._queryParams)}isEqual(e){if(!((e=ZC(e))instanceof EX))return!1;const t=this._repo===e._repo,n=FW(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class CX extends EX{constructor(e,t){super(e,t,new DG,!1)}get parent(){const e=RW(this._path);return null===e?null:new CX(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class IX{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new IW(e),n=PX(this.ref,e);return new IX(this._node.getChild(t),n,uG)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new IX(n,PX(this.ref,t),uG))))}hasChild(e){const t=new IW(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function AX(e,t){return(e=ZC(e))._checkNotDeleted("ref"),void 0!==t?PX(e._root,t):e._root}function PX(e,t){var n,i,r;return null===PW((e=ZC(e))._path)?(n="child",i="path",(r=t)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),WK(n,i,r)):WK("child","path",t),new CX(e._repo,jW(e._path,t))}function DX(e,t){e=ZC(e),GK("set",e._path),function(e,t,n){qK(QC(e,"value"),t,n)}("set",t,e._path);const n=new wC;return function(e,t,n,i,r){dX(e,"set",{path:t.toString(),value:n,priority:i});const o=rX(e),s=_G(n,i),a=uK(e.serverSyncTree_,t),l=IK(s,a,o),c=lX(e),d=oK(e.serverSyncTree_,t,l,c,!0);XK(e.eventQueue_,d),e.server_.put(t.toString(),s.val(!0),((n,i)=>{const o="ok"===n;o||VH("set at "+t+" failed: "+n);const s=aK(e.serverSyncTree_,c,!o);JK(e.eventQueue_,t,s),uX(0,r,n,i)}));const u=yX(e,t);mX(e,u),JK(e.eventQueue_,u,[])}(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function OX(e,t){HK("update",t,e._path);const n=new wC;return function(e,t,n,i){dX(e,"update",{path:t.toString(),value:n});let r=!0;const o=rX(e),s={};if(JH(n,((n,i)=>{r=!1,s[n]=CK(jW(t,n),_G(i),e.serverSyncTree_,o)})),r)BH("update() called with empty data.  Don't do anything."),uX(0,i,"ok",void 0);else{const r=lX(e),o=sK(e.serverSyncTree_,t,s,r);XK(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||VH("update at "+t+" failed: "+n);const a=aK(e.serverSyncTree_,r,!s),l=a.length>0?mX(e,t):t;JK(e.eventQueue_,l,a),uX(0,i,n,o)})),JH(n,(n=>{const i=yX(e,jW(t,n));mX(e,i)})),JK(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}class NX{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new kX("value",this,new IX(e.snapshotNode,new CX(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new TX(this,e,t):null}matches(e){return e instanceof NX&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}function LX(e,t,n,i,r){const o=new SX(n,void 0),s=new NX(o);return function(e,t,n){let i;i=".info"===PW(t._path)?dK(e.infoSyncTree_,t,n):dK(e.serverSyncTree_,t,n),QK(e.eventQueue_,t._path,i)}(e._repo,e,s),()=>cX(e._repo,e,s)}function RX(e,t,n,i){return LX(e,0,t)}function jX(e,t,n){let i=null;const r=n?new SX(n):null;i=new NX(r),cX(e._repo,e,i)}!function(e){rC(!HY,"__referenceConstructor has already been defined"),HY=e}(CX),function(e){rC(!WY,"__referenceConstructor has already been defined"),WY=e}(CX);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const MX={};let UX=!1;function BX(e,t,n,i,r){let o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||$H("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),BH("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a=_X(o,r),l=a.repoInfo;"undefined"!=typeof process&&TH&&(s=TH.FIREBASE_DATABASE_EMULATOR_HOST),s?(o=`http://${s}?ns=${l.namespace}`,a=_X(o,r),l=a.repoInfo):a.repoInfo.secure;const c=new oW(e.name,e.options,t);YK("Invalid Firebase Database URL",a),MW(a.path)||$H("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,i){let r=MX[t.name];r||(r={},MX[t.name]=r);let o=r[e.toURLString()];o&&$H("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new tX(e,UX,n,i),r[e.toURLString()]=o,o}(l,e,c,new rW(e,n));return new FX(d,e)}class FX{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new CX(this._repo,AW())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=MX[t];n&&n[e.key]===e||$H(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&$H("Cannot call "+e+" on a deleted database.")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const zX={".sv":"timestamp"};function $X(){return zX}GW.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},GW.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){CH=pA,lA(new eI("database",((e,{instanceIdentifier:t})=>BX(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),gA(SH,EH,e),gA(SH,EH,"esm2017")}();const VX=mA({apiKey:"AIzaSyD13ajiY6S8FKlzmQJ-meMgDyJUNxOOq2w",authDomain:"peekaboo-fbf1a.firebaseapp.com",databaseURL:"https://peekaboo-fbf1a-default-rtdb.firebaseio.com",projectId:"peekaboo-fbf1a",storageBucket:"peekaboo-fbf1a.firebasestorage.app",messagingSenderId:"1081048087865",appId:"1:1081048087865:web:c4ee154d91bd5383b77ce8",measurementId:"G-4QL0YP0K91"}),qX=wN(VX);_H(VX),LV(VX);const HX=function(e=fA(),t){const n=cA(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=bC("database");e&&function(e,t,n,i={}){e=ZC(e),e._checkNotDeleted("useEmulator");const r=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(r===e._repoInternal.repoInfo_.host&&VC(i,o.repoInfo_.emulatorOptions))return;$H("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&$H('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new sW(sW.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:kC(i.mockUserToken,e.app.options.projectId);s=new sW(t)}_C(t)&&(xC(t),EC("Database",!0));!function(e,t,n,i){const r=t.lastIndexOf(":"),o=_C(t.substring(0,r));e.repoInfo_=new uW(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}(o,r,i,s)}(n,...e)}return n}(VX),WX=CN("Preferences",{web:()=>Pp((()=>n.import("./web-legacy-Dsi7uzxS.js"))).then((e=>new e.PreferencesWeb))}),GX=async()=>{let{value:e}=await WX.get({key:"base_settings"});if(null==e){const t=await YX();e=JSON.stringify(t.boo)}return{peek:!0,boo:JSON.parse(e)}},YX=async()=>{const e={AnimeType:"ad",AnimeSource:"gogo",MovieSource:"tmdb",Server:"http://65.1.92.65"};await WX.set({key:"base_settings",value:JSON.stringify(e)});const{value:t}=await WX.get({key:"base_settings"});if(null==t)return{peek:!1,boo:e};const n=JSON.parse(t);return e.AnimeType?{peek:!0,boo:n}:{peek:!1,boo:e}},KX=()=>{var e,t;const{user:n,setUser:i}=G.useContext(Uie),r=xT(),[o]=TT(),[s,a]=G.useState(),[l,c]=G.useState(),[d,u]=G.useState(),[p,m]=G.useState();G.useEffect((()=>{(async()=>{const e=await GX();if(0==e.peek)return void o("Failed to load settings. This is not supposed to happen");const t=e.boo;a(t.AnimeType),c(t.AnimeSource),u(t.MovieSource),m(t.Server)})()}),[]);return n?h.jsxs(nT,{children:[h.jsx(yk,{translucent:!0,children:h.jsx(Ok,{children:h.jsx(Dk,{children:"Settings"})})}),h.jsxs(bk,{className:"ion-padding",children:[h.jsxs("div",{className:"settings-user-header",children:[h.jsx(dk,{className:"settings-avatar",children:h.jsx("img",{src:null!==(e=n.photoURL)&&void 0!==e?e:"",alt:null!==(t=n.displayName)&&void 0!==t?t:""})}),h.jsx("h2",{children:n.displayName}),h.jsx("p",{children:n.email})]}),h.jsx(Tk,{children:"Account"}),h.jsx(kk,{inset:!0,children:h.jsxs(Uk,{button:!0,detail:!0,disabled:!0,children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",slot:"start"}),h.jsx(xk,{children:"Edit Profile"})]})}),h.jsx(Tk,{children:"Application Settings"}),h.jsxs(kk,{inset:!0,children:[h.jsx(Uk,{children:h.jsx(Ck,{label:"Advertisements",value:s,onIonChange:e=>a(e.target.value),children:QE.map(((e,t)=>h.jsx(Ik,{value:e,children:e},t)))})}),h.jsx(Uk,{children:h.jsx(Ck,{label:"Anime Source",value:l,onIonChange:e=>c(e.target.value),children:JE.map(((e,t)=>h.jsx(Ik,{value:e,children:e},t)))})}),h.jsx(Uk,{children:h.jsx(Ck,{label:"Movie Source",value:d,onIonChange:e=>u(e.target.value),children:ZE.map(((e,t)=>h.jsx(Ik,{value:e,children:e},t)))})}),h.jsx(Uk,{lines:"none",children:h.jsx(Ck,{label:"Backend Server",value:p,onIonChange:e=>m(e.target.value),children:eC.map(((e,t)=>h.jsx(Ik,{value:e,children:e},t)))})})]}),h.jsx(jk,{expand:"block",onClick:async()=>{if(!(s&&l&&d&&p))return;const e={AnimeType:s,AnimeSource:l,MovieSource:d,Server:p},t=await(async e=>{await WX.set({key:"base_settings",value:JSON.stringify(e)});const{value:t}=await WX.get({key:"base_settings"});if(null==t)return{peek:!1,boo:"Error setting settings"};const n=JSON.parse(t);return e.AnimeType?{peek:!0,boo:n}:{peek:!1,boo:"Error setting settings"}})(e);0!=t.peek&&"string"!=typeof t.boo?o({header:"Settings Saved",message:"Your new settings have been saved. The app will now reload to apply them.",buttons:[{text:"OK",handler:()=>{window.location.reload()}}]}):o(t.boo)},disabled:!s,className:"ion-margin",children:"Save Settings"}),h.jsx(Tk,{children:"Danger Zone"}),h.jsxs(kk,{inset:!0,children:[h.jsxs(Uk,{button:!0,onClick:async()=>{await qX.signOut(),i(null),r.push("/home","root","replace")},children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start",color:"danger"}),h.jsx(xk,{color:"danger",children:"Logout"})]}),h.jsxs(Uk,{button:!0,lines:"none",disabled:!0,children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",slot:"start",color:"danger"}),h.jsx(xk,{color:"danger",children:"Delete Account"})]})]})]})]}):h.jsxs(nT,{children:[h.jsx(yk,{children:h.jsx(Ok,{children:h.jsx(Dk,{children:"Settings"})})}),h.jsx(bk,{className:"ion-padding",children:h.jsxs("div",{className:"settings-login-prompt",children:[h.jsx("h2",{children:"Please Log In"}),h.jsx("p",{children:"Log in to manage your account settings."}),h.jsx(jk,{routerLink:"/login",expand:"block",children:"Login"})]})})]})},XX=({friend:e})=>{const[t,n]=G.useState(null),[i,r]=G.useState(!0);return G.useEffect((()=>{(async()=>{r(!0);try{const t=Wz(Jz(VX),"users",e.uid),i=await nV(t);i.exists()?n(i.data()):console.warn(`User document not found for uid: ${e.uid}`)}catch(zH){console.error("Error fetching friend's user data:",zH)}finally{r(!1)}})()}),[e.uid]),i?h.jsxs(Uk,{children:[h.jsx(Ak,{name:"crescent",slot:"start"}),h.jsx(xk,{children:"Loading friend..."})]}):t?h.jsxs(Uk,{routerLink:`/chat/${e.uid}`,children:[h.jsx(dk,{slot:"start",children:h.jsx("img",{src:t.photoURL,alt:t.displayName})}),h.jsxs(xk,{children:[h.jsx("h2",{children:t.displayName}),h.jsxs("p",{children:["Friends since ",new Date(e.since).toLocaleDateString()]})]})]}):null},QX=({friends:e})=>0===e.length?h.jsx("p",{children:"You have no friends yet."}):h.jsx(kk,{children:e.map((e=>h.jsx(XX,{friend:e},e.uid)))}),JX=()=>{var e;const[t,n]=G.useState([]),[i,r]=G.useState([]),[o,s]=G.useState([]),{user:a,setUser:l,name:c}=G.useContext(Uie),[d]=ST();G.useRef(null),xT();const u=e=>{d({message:e,duration:3e3,swipeGesture:"vertical",position:"top"})};G.useEffect((()=>{if(a){(async()=>{if(!a)return;const e=Jz(VX);try{const t=Hz(e,"users",a.uid,"favorites"),i=(await rV(t)).docs.map((e=>e.data()));n(i)}catch(zH){console.error("Error loading favourites:",zH),u("Error loading favourites")}})();const e=Hz(Jz(VX),"users",a.uid,"friends"),t=cV(R$(e,M$("status","==","friends")),(e=>{const t=e.docs.map((e=>({uid:e.id,...e.data()})));r(t)}),(e=>{console.error("Error listening to friends:",e),u("Error loading friends.")})),i=cV(R$(e,M$("status","==","received_pending")),(e=>{const t=e.docs.map((e=>({uid:e.id,...e.data()})));s(t)}),(e=>{console.error("Error listening to friend requests:",e),u("Error loading friend requests.")}));return()=>{t(),i()}}r([]),s([])}),[a]),G.useEffect((()=>{document.title="PeekABoo"}),[]);const p=({request:e})=>{const[t,n]=G.useState(null),[i,r]=G.useState(!0);return G.useEffect((()=>{(async()=>{r(!0);try{const t=Wz(Jz(VX),"users",e.uid),i=await nV(t);i.exists()&&n(i.data())}catch(zH){console.error("Error fetching user data for request:",zH)}finally{r(!1)}})()}),[e.uid]),i?h.jsxs(Uk,{children:[h.jsx(Ak,{name:"crescent",slot:"start"}),h.jsx(xk,{children:"Loading request..."})]}):t?h.jsxs(Uk,{children:[h.jsx(dk,{slot:"start",children:h.jsx("img",{src:t.photoURL,alt:t.displayName})}),h.jsxs(xk,{children:[h.jsx("h2",{children:t.displayName}),h.jsx("p",{children:"Wants to be your friend."})]}),h.jsx(jk,{fill:"clear",slot:"end",onClick:()=>(async e=>{if(a)try{const t=Jz(VX),n=Date.now(),i=Wz(t,"users",a.uid,"friends",e);await sV(i,{status:"friends",since:n});const r=Wz(t,"users",e,"friends",a.uid);await sV(r,{status:"friends",since:n})}catch(zH){console.error("Error accepting friend request:",zH),u("Failed to accept friend request.")}})(e.uid),children:h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",color:"success"})}),h.jsx(jk,{fill:"clear",slot:"end",onClick:()=>(async e=>{if(a)try{const t=Jz(VX),n=Wz(t,"users",a.uid,"friends",e);await aV(n);const i=Wz(t,"users",e,"friends",a.uid);await aV(i)}catch(zH){console.error("Error declining friend request:",zH),u("Failed to decline friend request.")}})(e.uid),children:h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",color:"danger"})})]}):null};return h.jsxs(nT,{children:[h.jsx(yk,{translucent:!0,children:h.jsxs(Ok,{style:{paddingRight:"1rem"},children:[h.jsx(Dk,{children:"Peek-A-Boo"}),a&&a.email?h.jsxs(gk,{slot:"end",onClick:()=>{d({message:`UserID: ${a.email}`,duration:3e3,position:"top",swipeGesture:"vertical"})},children:[h.jsx(dk,{children:h.jsx("img",{src:null!==(e=a.photoURL)&&void 0!==e?e:"",alt:""})}),h.jsx(xk,{children:a.displayName})]}):h.jsx(jk,{id:"loginButton",slot:"end",children:"Login"})]})}),h.jsxs(bk,{className:"ion-padding",children:[o.length>0&&h.jsxs(h.Fragment,{children:[h.jsx("h1",{children:"Friend Requests"}),h.jsx(kk,{children:o.map((e=>h.jsx(p,{request:e},e.uid)))})]}),h.jsx("h1",{children:"Friends"}),h.jsx(QX,{friends:i})]})]})},ZX=async e=>{const{boo:t}=await GX(),n=t,i=await fetch(`${n.Server}/anime/${n.AnimeSource}/search/${e}`);return await i.json()},eQ=e=>{const t=[];return e.results.forEach((e=>{t.push({Id:e.id.toString(),Title:e.original_title,Poster:`https://image.tmdb.org/t/p/w500${e.poster_path}`,Type:"movie",Overview:e.overview,Year:e.release_date,Duration:"",Genres:[],Languages:[]})})),t},tQ=e=>{const t=[];return e.results.forEach((e=>{t.push({Id:e.id.toString(),Title:e.name,Poster:`https://image.tmdb.org/t/p/w500${e.poster_path}`,Type:"tv",Overview:e.overview,Year:e.first_air_date,Duration:"",Genres:[],Languages:[]})})),t},nQ=e=>{const t=e;return{Id:t.id.toString(),Title:t.original_title,Poster:`https://image.tmdb.org/t/p/w500${t.poster_path}`,Type:"movie",Overview:t.overview,Year:t.release_date,Duration:t.runtime.toString(),Genres:[],Languages:[],TmdbMovieInfo:t}},iQ=e=>{const t=e,n=[];return t.seasons.forEach((e=>{const t={Id:e.id,AirDate:e.air_date,EpisodeCount:e.episode_count,Name:e.name,Overview:e.overview,Poster:`https://image.tmdb.org/t/p/w500${e.poster_path}`,SeasonNumber:e.season_number};n.push(t)})),{Id:t.id.toString(),Title:t.original_name,Poster:`https://image.tmdb.org/t/p/w500${t.poster_path}`,Type:"tv",Overview:t.overview,Year:t.first_air_date,Duration:t.number_of_episodes.toString()+" episodes",Genres:[],Languages:[],TvShowSeason:n,TmdbTvInfo:t}};const rQ=new class{constructor(t,n){e(this,"tmdbApiKey",void 0),e(this,"appProxy",void 0),e(this,"movieTrending",void 0),e(this,"moviePopular",void 0),e(this,"movieSearch",void 0),e(this,"movieInfo",void 0),e(this,"tvTrending",void 0),e(this,"tvPopular",void 0),e(this,"tvSearch",void 0),e(this,"tvInfo",void 0),e(this,"tvSimilar",void 0),e(this,"movieSimilar",void 0),this.tmdbApiKey=t,this.appProxy=n,this.movieTrending=`${this.appProxy}https://api.themoviedb.org/3/trending/movie/day?api_key=${this.tmdbApiKey}`,this.moviePopular=`${this.appProxy}https://api.themoviedb.org/3/movie/popular?api_key=${this.tmdbApiKey}`,this.movieSearch=`${this.appProxy}https://api.themoviedb.org/3/search/movie?api_key=${this.tmdbApiKey}&query=`,this.movieInfo=e=>`${this.appProxy}https://api.themoviedb.org/3/movie/${e}?api_key=${this.tmdbApiKey}`,this.tvTrending=`${this.appProxy}https://api.themoviedb.org/3/trending/tv/day?api_key=${this.tmdbApiKey}`,this.tvPopular=`${this.appProxy}https://api.themoviedb.org/3/tv/popular?api_key=${this.tmdbApiKey}`,this.tvSearch=`${this.appProxy}https://api.themoviedb.org/3/search/tv?api_key=${this.tmdbApiKey}&query=`,this.tvInfo=e=>`${this.appProxy}https://api.themoviedb.org/3/tv/${e}?api_key=${this.tmdbApiKey}`,this.tvSimilar=e=>`${this.appProxy}https://api.themoviedb.org/3/tv/${e}/similar?api_key=${this.tmdbApiKey}`,this.movieSimilar=e=>`${this.appProxy}https://api.themoviedb.org/3/movie/${e}/similar?api_key=${this.tmdbApiKey}`}async getTrendingMovies(){const e=await fetch(this.movieTrending),t=await e.json();if(null==t)return{peek:!1,boo:[]};return{peek:!0,boo:eQ(t)}}async getTrendingTv(){const e=await fetch(this.tvTrending),t=await e.json();return null==t?{peek:!1,boo:[]}:{peek:!0,boo:tQ(t)}}async searchMovie(e){console.log(this.movieSearch+e);const t=await fetch(`${this.movieSearch}${e}`),n=await t.json();return null==n?{peek:!1,boo:[]}:{peek:!0,boo:eQ(n)}}async searchTv(e){console.log(this.tvSearch+e);const t=await fetch(`${this.tvSearch}${e}`),n=await t.json();return null==n?{peek:!1,boo:[]}:{peek:!0,boo:tQ(n)}}async getMovieInfo(e){const t=await fetch(`${this.movieInfo(e)}`);if(400==t.status)return{peek:!1,boo:`Failed to get Movie Info ${e}`};const n=await t.json();return null==n?{peek:!1,boo:`Failed to get Movie Info ${e}`}:{peek:!0,boo:nQ(n)}}async getTvInfo(e){console.log(`getTvInfo: ${this.tvInfo(e)}`);const t=await fetch(`${this.tvInfo(e)}`);if(400==t.status)return{peek:!1,boo:`Failed to get Show ${e}`};const n=await t.json();return null==n?{peek:!1,boo:`Failed to get Show ${e}`}:{peek:!0,boo:iQ(n)}}async getSimilarTvShows(e){const t=await fetch(this.tvSimilar(e),{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${this.tmdbApiKey}`}});if(400==t.status)return{peek:!1,boo:[]};const n=await t.json();return{peek:!0,boo:tQ(n)}}async getSimilarMovies(e){const t=await fetch(this.movieSimilar(e),{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${this.tmdbApiKey}`}});if(400==t.status)return{peek:!1,boo:[]};const n=await t.json();return{peek:!0,boo:eQ(n)}}getMovieEmbeds(e){try{return{peek:!0,boo:[{name:"VidSrc Net",url:`https://vidsrc.net/embed/movie?tmdb=${e}`},{name:"VidSrc Icu",url:`https://vidsrc.icu/embed/movie/${e}`},{name:"Super Embed",url:`https://multiembed.mov/?video_id=${e}&tmdb=1`},{name:"VidPro",url:`https://vidsrc.pro/embed/movie/${e}`},{name:"VidSrc In",url:`https://vidsrc.in/embed/movie/${e}`},{name:"VidSrc VIP",url:`https://vidsrc.vip/embed/movie/${e}`},{name:"VidSrc To",url:`https://vidsrc.to/embed/movie/${e}`}]}}catch(HS){return{peek:!1,boo:HS}}}getTvEmbeds(e,t,n){return{peek:!0,boo:[{name:"VidSrc Net",url:`https://vidsrc.net/embed/tv?tmdb=${e}&season=${t}&episode=${n}`},{name:"VidSrc Icu",url:`https://vidsrc.icu/embed/tv/${e}/${t}/${n}`},{name:"Super Embed",url:`https://multiembed.mov/?video_id=${e}&tmdb=1&s=${t}&e=${n}`},{name:"VidPro",url:`https://vidsrc.pro/embed/tv/${e}/${t}/${n}`},{name:"VidSrc In",url:`https://vidsrc.in/embed/tv/${e}/${t}/${n}`},{name:"VidSrc VIP",url:`https://vidsrc.vip/embed/tv/${e}/${t}/${n}`},{name:"VidSrc To",url:`https://vidsrc.to/embed/tv/${e}/${t}/${n}`}]}}}("efe0d01423f29d0dd19e4a7e482b217b","http://65.1.92.65/proxy?url=");console.log(rQ);const oQ=async e=>await rQ.searchMovie(e),sQ=async e=>await rQ.searchTv(e),aQ=async e=>await rQ.getTvInfo(e),lQ=async(e,t,n)=>{const{boo:i}=await GX(),r=i,o=await fetch(`${r.Server}/tv/${i.MovieSource}/${e}/${t}/${n}/sources`);return await o.json()},cQ=async(e,t,n)=>{const{boo:i}=await GX(),r=i,o=await fetch(`${r.Server}/tv/${i.MovieSource}/${e}/${t}/${n}/embed`);return await o.json()};function dQ(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function uQ(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:dQ(t[n])&&dQ(e[n])&&Object.keys(t[n]).length>0&&uQ(e[n],t[n])}))}const hQ={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function pQ(){const e="undefined"!=typeof document?document:{};return uQ(e,hQ),e}const mQ={document:hQ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function fQ(){const e="undefined"!=typeof window?window:{};return uQ(e,mQ),e}function gQ(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function bQ(){return Date.now()}function vQ(e,t){void 0===t&&(t="x");const n=fQ();let i,r,o;const s=function(e){const t=fQ();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((e=>e.replace(",","."))).join(", ")),o=new n.WebKitCSSMatrix("none"===r?"":r)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===t&&(r=n.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=n.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function yQ(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function wQ(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const r=i<0||arguments.length<=i?void 0:arguments[i];if(null!=r&&(n=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const n=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,i=n.length;t<i;t+=1){const i=n[t],o=Object.getOwnPropertyDescriptor(r,i);void 0!==o&&o.enumerable&&(yQ(e[i])&&yQ(r[i])?r[i].__swiper__?e[i]=r[i]:wQ(e[i],r[i]):!yQ(e[i])&&yQ(r[i])?(e[i]={},r[i].__swiper__?e[i]=r[i]:wQ(e[i],r[i])):e[i]=r[i])}}}var n;return e}function _Q(e,t,n){e.style.setProperty(t,n)}function xQ(e){let{swiper:t,targetPosition:n,side:i}=e;const r=fQ(),o=-t.translate;let s,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=n>o?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{s=(new Date).getTime(),null===a&&(a=s);const e=Math.max(Math.min((s-a)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let h=o+c*(n-o);if(d(h,n)&&(h=n),t.wrapperEl.scrollTo({[i]:h}),d(h,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:h})})),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(u)};u()}function kQ(e,t){void 0===t&&(t="");const n=fQ(),i=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),t?i.filter((e=>e.matches(t))):i}function TQ(e){try{return void console.warn(e)}catch(sm){}}function SQ(e,t){void 0===t&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}(t)),n}function EQ(e){const t=fQ(),n=pQ(),i=e.getBoundingClientRect(),r=n.body,o=e.clientTop||r.clientTop||0,s=e.clientLeft||r.clientLeft||0,a=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:i.top+a-o,left:i.left+l-s}}function CQ(e,t){return fQ().getComputedStyle(e,null).getPropertyValue(t)}function IQ(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function AQ(e,t){const n=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}function PQ(e,t,n){const i=fQ();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function DQ(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}let OQ,NQ,LQ;function RQ(){return OQ||(OQ=function(){const e=fQ(),t=pQ();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),OQ}function jQ(e){return void 0===e&&(e={}),NQ||(NQ=function(e){let{userAgent:t}=void 0===e?{}:e;const n=RQ(),i=fQ(),r=i.navigator.platform,o=t||i.navigator.userAgent,s={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let d=o.match(/(iPad).*OS\s([\d_]+)/);const u=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===r;let m="MacIntel"===r;return!d&&m&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(d=o.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!p&&(s.os="android",s.android=!0),(d||h||u)&&(s.os="ios",s.ios=!0),s}(e)),NQ}function MQ(){return LQ||(LQ=function(){const e=fQ(),t=jQ();let n=!1;function i(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(i()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,i]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));n=e<16||16===e&&i<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),o=i();return{isSafari:n||o,needPerspectiveFix:n,need3dFix:o||r&&t.ios,isWebView:r}}()),LQ}var UQ={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const r=n?"unshift":"push";return e.split(" ").forEach((e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][r](t)})),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];t.apply(i,o)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((i,r)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[e].splice(r,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,n,i;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),i=e):(t=o[0].events,n=o[0].data,i=o[0].context||e),n.unshift(i);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(i,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(i,n)}))})),e}};const BQ=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const FQ=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const zQ=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(n){let t=n.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},$Q=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},VQ=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=r,o=[n-t];return o.push(...Array.from({length:t}).map(((e,t)=>n+i+t))),void e.slides.forEach(((t,n)=>{o.includes(t.column)&&$Q(e,n)}))}const o=r+i-1;if(e.params.rewind||e.params.loop)for(let s=r-t;s<=o+t;s+=1){const t=(s%n+n)%n;(t<r||t>o)&&$Q(e,t)}else for(let s=Math.max(r-t,0);s<=Math.min(o+t,n-1);s+=1)s!==r&&(s>o||s<r)&&$Q(e,s)};var qQ={updateSize:function(){const e=this;let t,n;const i=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:i.clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:i.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(CQ(i,"padding-left")||0,10)-parseInt(CQ(i,"padding-right")||0,10),n=n-parseInt(CQ(i,"padding-top")||0,10)-parseInt(CQ(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:s,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,d=kQ(r,`.${e.params.slideClass}, swiper-slide`),u=l?e.virtual.slides.length:d.length;let h=[];const p=[],m=[];let f=n.slidesOffsetBefore;"function"==typeof f&&(f=n.slidesOffsetBefore.call(e));let g=n.slidesOffsetAfter;"function"==typeof g&&(g=n.slidesOffsetAfter.call(e));const b=e.snapGrid.length,v=e.slidesGrid.length;let y=n.spaceBetween,w=-f,_=0,x=0;if(void 0===o)return;"string"==typeof y&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*o:"string"==typeof y&&(y=parseFloat(y)),e.virtualSize=-y,d.forEach((e=>{s?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(_Q(i,"--swiper-centered-offset-before",""),_Q(i,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&e.grid;let T;k?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();const S="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let E=0;E<u;E+=1){let i;if(T=0,d[E]&&(i=d[E]),k&&e.grid.updateSlide(E,i,d),!d[E]||"none"!==CQ(i,"display")){if("auto"===n.slidesPerView){S&&(d[E].style[e.getDirectionLabel("width")]="");const r=getComputedStyle(i),o=i.style.transform,s=i.style.webkitTransform;if(o&&(i.style.transform="none"),s&&(i.style.webkitTransform="none"),n.roundLengths)T=e.isHorizontal()?PQ(i,"width"):PQ(i,"height");else{const e=t(r,"width"),n=t(r,"padding-left"),o=t(r,"padding-right"),s=t(r,"margin-left"),a=t(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)T=e+s+a;else{const{clientWidth:t,offsetWidth:r}=i;T=e+n+o+s+a+(r-t)}}o&&(i.style.transform=o),s&&(i.style.webkitTransform=s),n.roundLengths&&(T=Math.floor(T))}else T=(o-(n.slidesPerView-1)*y)/n.slidesPerView,n.roundLengths&&(T=Math.floor(T)),d[E]&&(d[E].style[e.getDirectionLabel("width")]=`${T}px`);d[E]&&(d[E].swiperSlideSize=T),m.push(T),n.centeredSlides?(w=w+T/2+_/2+y,0===_&&0!==E&&(w=w-o/2-y),0===E&&(w=w-o/2-y),Math.abs(w)<.001&&(w=0),n.roundLengths&&(w=Math.floor(w)),x%n.slidesPerGroup==0&&h.push(w),p.push(w)):(n.roundLengths&&(w=Math.floor(w)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup==0&&h.push(w),p.push(w),w=w+T+y),e.virtualSize+=T+y,_=T,x+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,s&&a&&("slide"===n.effect||"coverflow"===n.effect)&&(i.style.width=`${e.virtualSize+y}px`),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]=`${e.virtualSize+y}px`),k&&e.grid.updateWrapperSize(T,h),!n.centeredSlides){const t=[];for(let i=0;i<h.length;i+=1){let r=h[i];n.roundLengths&&(r=Math.floor(r)),h[i]<=e.virtualSize-o&&t.push(r)}h=t,Math.floor(e.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-o)}if(l&&n.loop){const t=m[0]+y;if(n.slidesPerGroup>1){const i=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),r=t*n.slidesPerGroup;for(let e=0;e<i;e+=1)h.push(h[h.length-1]+r)}for(let i=0;i<e.virtual.slidesBefore+e.virtual.slidesAfter;i+=1)1===n.slidesPerGroup&&h.push(h[h.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==y){const t=e.isHorizontal()&&s?"marginLeft":e.getDirectionLabel("marginRight");d.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==d.length-1)).forEach((e=>{e.style[t]=`${y}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;m.forEach((t=>{e+=t+(y||0)})),e-=y;const t=e>o?e-o:0;h=h.map((e=>e<=0?-f:e>t?t+g:e))}if(n.centerInsufficientSlides){let e=0;m.forEach((t=>{e+=t+(y||0)})),e-=y;const t=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(e+t<o){const n=(o-e-t)/2;h.forEach(((e,t)=>{h[t]=e-n})),p.forEach(((e,t)=>{p[t]=e+n}))}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){_Q(i,"--swiper-centered-offset-before",-h[0]+"px"),_Q(i,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(u!==c&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==v&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,i=e.el.classList.contains(t);u<=n.maxBackfaceHiddenSlides?i||e.el.classList.add(t):i&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let r,o=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>i?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{n.push(e)}));else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const e=t.activeIndex+r;if(e>t.slides.length&&!i)break;n.push(s(e))}else n.push(s(t.activeIndex));for(r=0;r<n.length;r+=1)if(void 0!==n[r]){const e=n[r].offsetHeight;o=e>o?e:o}(o||0===o)&&(t.wrapperEl.style.height=`${o}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:o}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;r&&(s=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const e=i[l];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=i[0].swiperSlideOffset);const d=(s+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+a),u=(s-o[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+a),h=-(s-c),p=h+t.slidesSizesGrid[l],m=h>=0&&h<=t.size-t.slidesSizesGrid[l],f=h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size;f&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),BQ(e,f,n.slideVisibleClass),BQ(e,m,n.slideFullyVisibleClass),e.progress=r?-d:d,e.originalProgress=r?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:s,progressLoop:a}=t;const l=o,c=s;if(0===i)r=0,o=!0,s=!0;else{r=(e-t.minTranslate())/i;const n=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;o=n||r<=0,s=a||r>=1,n&&(r=0),a&&(r=1)}if(n.loop){const n=t.getSlideIndexByData(0),i=t.getSlideIndexByData(t.slides.length-1),r=t.slidesGrid[n],o=t.slidesGrid[i],s=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=r?(l-r)/s:(l+s-o)/s,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:r}=e,o=e.virtual&&n.virtual.enabled,s=e.grid&&n.grid&&n.grid.rows>1,a=e=>kQ(i,`.${n.slideClass}${e}, swiper-slide${e}`)[0];let l,c,d;if(o)if(n.loop){let t=r-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${t}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else s?(l=t.find((e=>e.column===r)),d=t.find((e=>e.column===r+1)),c=t.find((e=>e.column===r-1))):l=t[r];l&&(s||(d=function(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=t[0]),c=function(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!c&&(c=t[t.length-1]))),t.forEach((e=>{FQ(e,e===l,n.slideActiveClass),FQ(e,e===d,n.slideNextClass),FQ(e,e===c,n.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:s,snapIndex:a}=t;let l,c=e;const d=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let r;for(let o=0;o<t.length;o+=1)void 0!==t[o+1]?i>=t[o]&&i<t[o+1]-(t[o+1]-t[o])/2?r=o:i>=t[o]&&i<t[o+1]&&(r=o+1):i>=t[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),i.indexOf(n)>=0)l=i.indexOf(n);else{const e=Math.min(r.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/r.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),c===o&&!t.params.loop)return void(l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const u=t.grid&&r.grid&&r.grid.rows>1;let h;if(t.virtual&&r.virtual.enabled&&r.loop)h=d(c);else if(u){const e=t.slides.find((e=>e.column===c));let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),h=Math.floor(n/r.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):c}else h=c;Object.assign(t,{previousSnapIndex:a,snapIndex:l,previousRealIndex:s,realIndex:h,previousIndex:o,activeIndex:c}),t.initialized&&VQ(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(s!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,i=n.params;let r=e.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!r&&e.matches&&e.matches(`.${i.slideClass}, swiper-slide`)&&(r=e)}));let o,s=!1;if(r)for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}if(!r||!s)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var HQ={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:i,wrapperEl:r}=this;if(t.virtualTranslate)return n?-i:i;if(t.cssMode)return i;let o=vQ(r,e);return o+=this.cssOverflowAdjustment(),n&&(o=-o),o||0},setTranslate:function(e,t){const n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:s}=n;let a,l=0,c=0;n.isHorizontal()?l=i?-e:e:c=e,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:r.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=n.maxTranslate()-n.minTranslate();a=0===d?0:(e-n.minTranslate())/d,a!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,i,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===i&&(i=!0);const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let d;if(d=i&&e>l?l:i&&e<c?c:e,o.updateProgress(d),s.cssMode){const e=o.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return xQ({swiper:o,targetPosition:-d,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(d),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(d),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}};function WQ(e){let{swiper:t,runCallbacks:n,direction:i,step:r}=e;const{activeIndex:o,previousIndex:s}=t;let a=i;if(a||(a=o>s?"next":o<s?"prev":"reset"),t.emit(`transition${r}`),n&&o!==s){if("reset"===a)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),"next"===a?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}var GQ={setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),WQ({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:i}=n;n.animating=!1,i.cssMode||(n.setTransition(0),WQ({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var YQ={slideTo:function(e,t,n,i,r){void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e&&(e=parseInt(e,10));const o=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:m}=o;if(!m&&!i&&!r||o.destroyed||o.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=o.params.speed);const f=Math.min(o.params.slidesPerGroupSkip,s);let g=f+Math.floor((s-f)/o.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const b=-l[g];if(a.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*b),t=Math.floor(100*c[w]),n=Math.floor(100*c[w+1]);void 0!==c[w+1]?e>=t&&e<n-(n-t)/2?s=w:e>=t&&e<n&&(s=w+1):e>=t&&(s=w)}if(o.initialized&&s!==u){if(!o.allowSlideNext&&(h?b>o.translate&&b>o.minTranslate():b<o.translate&&b<o.minTranslate()))return!1;if(!o.allowSlidePrev&&b>o.translate&&b>o.maxTranslate()&&(u||0)!==s)return!1}let v;s!==(d||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(b),v=s>u?"next":s<u?"prev":"reset";const y=o.virtual&&o.params.virtual.enabled;if(!(y&&r)&&(h&&-b===o.translate||!h&&b===o.translate))return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==a.effect&&o.setTranslate(b),"reset"!==v&&(o.transitionStart(n,v),o.transitionEnd(n,v)),!1;if(a.cssMode){const e=o.isHorizontal(),n=h?b:-b;if(0===t)y&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),y&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=n}))):p[e?"scrollLeft":"scrollTop"]=n,y&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1}));else{if(!o.support.smoothScroll)return xQ({swiper:o,targetPosition:n,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(b),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(n,v),0===t?o.transitionEnd(n,v):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,v))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,i){if(void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e){e=parseInt(e,10)}const r=this;if(r.destroyed)return;void 0===t&&(t=r.params.speed);const o=r.grid&&r.params.grid&&r.params.grid.rows>1;let s=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)s+=r.virtual.slidesBefore;else{let e;if(o){const t=s*r.params.grid.rows;e=r.slides.find((e=>1*e.getAttribute("data-swiper-slide-index")===t)).column}else e=r.getSlideIndexByData(s);const t=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:n}=r.params;let a=r.params.slidesPerView;"auto"===a?a=r.slidesPerViewDynamic():(a=Math.ceil(parseFloat(r.params.slidesPerView,10)),n&&a%2==0&&(a+=1));let l=t-e<a;if(n&&(l=l||e<Math.ceil(a/2)),i&&n&&"auto"!==r.params.slidesPerView&&!o&&(l=!1),l){const i=n?e<r.activeIndex?"prev":"next":e-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:i,slideTo:!0,activeSlideIndex:"next"===i?e+1:e-t+1,slideRealIndex:"next"===i?r.realIndex:void 0})}if(o){const e=s*r.params.grid.rows;s=r.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)).column}else s=r.getSlideIndexByData(s)}return requestAnimationFrame((()=>{r.slideTo(s,t,n,i)})),r},slideNext:function(e,t,n){void 0===t&&(t=!0);const i=this,{enabled:r,params:o,animating:s}=i;if(!r||i.destroyed)return i;void 0===e&&(e=i.params.speed);let a=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<o.slidesPerGroupSkip?1:a,c=i.virtual&&o.virtual.enabled;if(o.loop){if(s&&!c&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame((()=>{i.slideTo(i.activeIndex+l,e,t,n)})),!0}return o.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===t&&(t=!0);const i=this,{params:r,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;void 0===e&&(e=i.params.speed);const d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=u(a?i.translate:-i.translate),p=o.map((e=>u(e)));let m=o[p.indexOf(h)-1];if(void 0===m&&r.cssMode){let e;o.forEach(((t,n)=>{h>=t&&(e=n)})),void 0!==e&&(m=o[e>0?e-1:e])}let f=0;if(void 0!==m&&(f=s.indexOf(m),f<0&&(f=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(f=f-i.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),r.rewind&&i.isBeginning){const r=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(r,e,t,n)}return r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame((()=>{i.slideTo(f,e,t,n)})),!0):i.slideTo(f,e,t,n)},slideReset:function(e,t,n){void 0===t&&(t=!0);const i=this;if(!i.destroyed)return void 0===e&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,n)},slideToClosest:function(e,t,n,i){void 0===t&&(t=!0),void 0===i&&(i=.5);const r=this;if(r.destroyed)return;void 0===e&&(e=r.params.speed);let o=r.activeIndex;const s=Math.min(r.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const e=r.snapGrid[a];l-e>(r.snapGrid[a+1]-e)*i&&(o+=r.params.slidesPerGroup)}else{const e=r.snapGrid[a-1];l-e<=(r.snapGrid[a]-e)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,e,t,n)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,o=e.clickedIndex;const s=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;r=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-i/2||o>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),o=e.getSlideIndex(kQ(n,`${s}[data-swiper-slide-index="${r}"]`)[0]),gQ((()=>{e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-i?(e.loopFix(),o=e.getSlideIndex(kQ(n,`${s}[data-swiper-slide-index="${r}"]`)[0]),gQ((()=>{e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}};var KQ={loopCreate:function(e){const t=this,{params:n,slidesEl:i}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{kQ(i,`.${n.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},o=t.grid&&n.grid&&n.grid.rows>1,s=n.slidesPerGroup*(o?n.grid.rows:1),a=t.slides.length%s!=0,l=o&&t.slides.length%n.grid.rows!=0,c=e=>{for(let i=0;i<e;i+=1){const e=t.isElement?SQ("swiper-slide",[n.slideBlankClass]):SQ("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(e)}};if(a){if(n.loopAddBlankSlides){c(s-t.slides.length%s),t.recalcSlides(),t.updateSlides()}else TQ("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){c(n.grid.rows-t.slides.length%n.grid.rows),t.recalcSlides(),t.updateSlides()}else TQ("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:s,byMousewheel:a}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=l,{centeredSlides:m}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return n&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,void l.emit("loopFix");let f=p.slidesPerView;"auto"===f?f=l.slidesPerViewDynamic():(f=Math.ceil(parseFloat(p.slidesPerView,10)),m&&f%2==0&&(f+=1));const g=p.slidesPerGroupAuto?f:p.slidesPerGroup;let b=g;b%g!=0&&(b+=g-b%g),b+=p.loopAdditionalSlides,l.loopedSlides=b;const v=l.grid&&p.grid&&p.grid.rows>1;c.length<f+b?TQ("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&"row"===p.grid.fill&&TQ("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],w=[];let _=l.activeIndex;void 0===o?o=l.getSlideIndex(c.find((e=>e.classList.contains(p.slideActiveClass)))):_=o;const x="next"===i||!i,k="prev"===i||!i;let T=0,S=0;const E=v?Math.ceil(c.length/p.grid.rows):c.length,C=(v?c[o].column:o)+(m&&void 0===r?-f/2+.5:0);if(C<b){T=Math.max(b-C,g);for(let e=0;e<b-C;e+=1){const t=e-Math.floor(e/E)*E;if(v){const e=E-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&y.push(t)}else y.push(E-t-1)}}else if(C+f>E-b){S=Math.max(C-(E-2*b),g);for(let e=0;e<S;e+=1){const t=e-Math.floor(e/E)*E;v?c.forEach(((e,n)=>{e.column===t&&w.push(n)})):w.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),k&&y.forEach((e=>{c[e].swiperLoopMoveDOM=!0,h.prepend(c[e]),c[e].swiperLoopMoveDOM=!1})),x&&w.forEach((e=>{c[e].swiperLoopMoveDOM=!0,h.append(c[e]),c[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():v&&(y.length>0&&k||w.length>0&&x)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),p.watchSlidesProgress&&l.updateSlidesOffset(),n)if(y.length>0&&k){if(void 0===t){const e=l.slidesGrid[_],t=l.slidesGrid[_+T]-e;a?l.setTranslate(l.translate-t):(l.slideTo(_+Math.ceil(T),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(r){const e=v?y.length/p.grid.rows:y.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(w.length>0&&x)if(void 0===t){const e=l.slidesGrid[_],t=l.slidesGrid[_-S]-e;a?l.setTranslate(l.translate-t):(l.slideTo(_-S,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=v?w.length/p.grid.rows:w.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!s){const e={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&n})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&n})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),i.forEach((e=>{n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function XQ(e,t,n){const i=fQ(),{params:r}=e,o=r.edgeSwipeDetection,s=r.edgeSwipeThreshold;return!o||!(n<=s||n>=i.innerWidth-s)||"prevent"===o&&(t.preventDefault(),!0)}function QQ(e){const t=this,n=pQ();let i=e;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if("pointerdown"===i.type){if(null!==r.pointerId&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(r.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void XQ(t,i,i.targetTouches[0].pageX);const{params:o,touches:s,enabled:a}=t;if(!a)return;if(!o.simulateTouch&&"mouse"===i.pointerType)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=i.target;if("wrapper"===o.touchEventsTarget&&!function(e,t){const n=fQ();let i=t.contains(e);!i&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(e),i||(i=function(e,t){const n=[t];for(;n.length>0;){var i,r;const t=n.shift();if(e===t)return!0;n.push(...t.children,...(null===(i=t.shadowRoot)||void 0===i?void 0:i.children)||[],...(null===(r=t.assignedElements)||void 0===r?void 0:r.call(t))||[])}}(e,t)));return i}(l,t.wrapperEl))return;if("which"in i&&3===i.which)return;if("button"in i&&i.button>0)return;if(r.isTouched&&r.isMoved)return;const c=!!o.noSwipingClass&&""!==o.noSwipingClass,d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const u=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!(!i.target||!i.target.shadowRoot);if(o.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===pQ()||n===fQ())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(e);return i||n.getRootNode?i||t(n.getRootNode().host):null}(t)}(u,l):l.closest(u)))return void(t.allowClick=!0);if(o.swipeHandler&&!l.closest(o.swipeHandler))return;s.currentX=i.pageX,s.currentY=i.pageY;const p=s.currentX,m=s.currentY;if(!XQ(t,i,p))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=m,r.touchStartTime=bQ(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let f=!0;l.matches(r.focusableElements)&&(f=!1,"SELECT"===l.nodeName&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&("mouse"===i.pointerType||"mouse"!==i.pointerType&&!l.matches(r.focusableElements))&&n.activeElement.blur();const g=f&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!g||l.isContentEditable||i.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function JQ(e){const t=pQ(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:s,enabled:a}=n;if(!a)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==i.touchId)return;if(c.pointerId!==i.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find((e=>e.identifier===i.touchId)),!l||l.identifier!==i.touchId)return}else l=c;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",c));const d=l.pageX,u=l.pageY;if(c.preventedByNestedSwiper)return o.startX=d,void(o.startY=u);if(!n.allowTouchMove)return c.target.matches(i.focusableElements)||(n.allowClick=!1),void(i.isTouched&&(Object.assign(o,{startX:d,startY:u,currentX:d,currentY:u}),i.touchStartTime=bQ()));if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(u<o.startY&&n.translate<=n.maxTranslate()||u>o.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(d<o.startX&&n.translate<=n.maxTranslate()||d>o.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(i.focusableElements))return i.isMoved=!0,void(n.allowClick=!1);i.allowTouchCallbacks&&n.emit("touchMove",c),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=d,o.currentY=u;const h=o.currentX-o.startX,p=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(void 0===i.isScrolling){let e;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,i.isScrolling=n.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",c),void 0===i.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(i.startMoving=!0)),i.isScrolling||"touchmove"===c.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let m=n.isHorizontal()?h:p,f=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(m=Math.abs(m)*(s?1:-1),f=Math.abs(f)*(s?1:-1)),o.diff=m,m*=r.touchRatio,s&&(m=-m,f=-f);const g=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=f>0?"prev":"next";const b=n.params.loop&&!r.cssMode,v="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!i.isMoved){if(b&&v&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,!r.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&g!==n.touchesDirection&&b&&v&&Math.abs(m)>=1)return Object.assign(o,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);n.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=m+i.startTranslate;let y=!0,w=r.resistanceRatio;if(r.touchReleaseOnEdges&&(w=0),m>0?(b&&v&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-("auto"!==r.slidesPerView&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(y=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+m)**w))):m<0&&(b&&v&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+("auto"!==r.slidesPerView&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===r.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(y=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-m)**w))),y&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),n.allowSlidePrev||n.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(m)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function ZQ(e){const t=this,n=t.touchEventsData;let i,r=e;r.originalEvent&&(r=r.originalEvent);if("touchend"===r.type||"touchcancel"===r.type){if(i=[...r.changedTouches].find((e=>e.identifier===n.touchId)),!i||i.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)){if(!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return}n.pointerId=null,n.touchId=null;const{params:o,touches:s,rtlTranslate:a,slidesGrid:l,enabled:c}=t;if(!c)return;if(!o.simulateTouch&&"mouse"===r.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);o.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=bQ(),u=d-n.touchStartTime;if(t.allowClick){const e=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(e&&e[0]||r.target,e),t.emit("tap click",r),u<300&&d-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=bQ(),gQ((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===s.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let h;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,h=o.followFinger?a?t.translate:-t.translate:-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const p=h>=-t.maxTranslate()&&!t.params.loop;let m=0,f=t.slidesSizesGrid[0];for(let w=0;w<l.length;w+=w<o.slidesPerGroupSkip?1:o.slidesPerGroup){const e=w<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==l[w+e]?(p||h>=l[w]&&h<l[w+e])&&(m=w,f=l[w+e]-l[w]):(p||h>=l[w])&&(m=w,f=l[l.length-1]-l[l.length-2])}let g=null,b=null;o.rewind&&(t.isBeginning?b=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const v=(h-l[m])/f,y=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(u>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(v>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?g:m+y):t.slideTo(m)),"prev"===t.swipeDirection&&(v>1-o.longSwipesRatio?t.slideTo(m+y):null!==b&&v<0&&Math.abs(v)>o.longSwipesRatio?t.slideTo(b):t.slideTo(m))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(m+y):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(null!==g?g:m+y),"prev"===t.swipeDirection&&t.slideTo(null!==b?b:m))}}function eJ(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=e,s=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=s&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!s?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function tJ(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function nJ(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;let r;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const o=e.maxTranslate()-e.minTranslate();r=0===o?0:(e.translate-e.minTranslate())/o,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function iJ(e){const t=this;zQ(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function rJ(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const oJ=(e,t)=>{const n=pQ(),{params:i,el:r,wrapperEl:o,device:s}=e,a=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;r&&"string"!=typeof r&&(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",e.onTouchStart,{passive:!1}),r[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",e.onClick,!0),i.cssMode&&o[l]("scroll",e.onScroll),i.updateOnWindowResize?e[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",eJ,!0):e[c]("observerUpdate",eJ,!0),r[l]("load",e.onLoad,{capture:!0}))};const sJ=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var aJ={setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:i,el:r}=e,o=i.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const s=pQ(),a="window"!==i.breakpointsBase&&i.breakpointsBase?"container":i.breakpointsBase,l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?e.el:s.querySelector(i.breakpointsBase),c=e.getBreakpoint(o,a,l);if(!c||e.currentBreakpoint===c)return;const d=(c in o?o[c]:void 0)||e.originalParams,u=sJ(e,i),h=sJ(e,d),p=e.params.grabCursor,m=d.grabCursor,f=i.enabled;u&&!h?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&h&&(r.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!m?e.unsetGrabCursor():!p&&m&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===d[t])return;const n=i[t]&&i[t].enabled,r=d[t]&&d[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));const g=d.direction&&d.direction!==i.direction,b=i.loop&&(d.slidesPerView!==i.slidesPerView||g),v=i.loop;g&&n&&e.changeDirection(),wQ(e.params,d);const y=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!y?e.disable():!f&&y&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),n&&(b?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!v&&w?(e.loopCreate(t),e.updateSlides()):v&&!w&&e.loopDestroy()),e.emit("breakpoint",d)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let i=!1;const r=fQ(),o="window"===t?r.innerHeight:n.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let a=0;a<s.length;a+=1){const{point:e,value:o}=s[a];"window"===t?r.matchMedia(`(min-width: ${o}px)`).matches&&(i=e):o<=n.clientWidth&&(i=e)}return i||"max"}};var lJ={addClasses:function(){const e=this,{classNames:t,params:n,rtl:i,el:r,device:o}=e,s=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((i=>{e[i]&&n.push(t+i)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...s),r.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}};var cJ={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function dJ(e,t){return function(n){void 0===n&&(n={});const i=Object.keys(n)[0],r=n[i];"object"==typeof r&&null!==r?(!0===e[i]&&(e[i]={enabled:!0}),"navigation"===i&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),i in e&&"enabled"in r?("object"!=typeof e[i]||"enabled"in e[i]||(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),wQ(t,n)):wQ(t,n)):wQ(t,n)}}const uJ={eventsEmitter:UQ,update:qQ,translate:HQ,transition:GQ,slide:YQ,loop:KQ,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=QQ.bind(e),e.onTouchMove=JQ.bind(e),e.onTouchEnd=ZQ.bind(e),e.onDocumentTouchStart=rJ.bind(e),t.cssMode&&(e.onScroll=nJ.bind(e)),e.onClick=tJ.bind(e),e.onLoad=iJ.bind(e),oJ(e,"on")},detachEvents:function(){oJ(this,"off")}},breakpoints:aJ,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*i;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:lJ},hJ={};let pJ=class e{constructor(){let t,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?n=r[0]:[t,n]=r,n||(n={}),n=wQ({},n),t&&!n.el&&(n.el=t);const s=pQ();if(n.el&&"string"==typeof n.el&&s.querySelectorAll(n.el).length>1){const t=[];return s.querySelectorAll(n.el).forEach((i=>{const r=wQ({},n,{el:i});t.push(new e(r))})),t}const a=this;a.__swiper__=!0,a.support=RQ(),a.device=jQ({userAgent:n.userAgent}),a.browser=MQ(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach((e=>{e({params:n,swiper:a,extendParams:dJ(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})}));const c=wQ({},cJ,l);return a.params=wQ({},c,hJ,n),a.originalParams=wQ({},a.params),a.passedParams=wQ({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,i=IQ(kQ(t,`.${n.slideClass}, swiper-slide`)[0]);return IQ(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)))}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=kQ(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),r=(n.maxTranslate()-i)*e+i;n.translateTo(r,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((n=>{const i=e.getSlideClasses(n);t.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:i,slidesGrid:r,slidesSizesGrid:o,size:s,activeIndex:a}=this;let l=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=i[a]?Math.ceil(i[a].swiperSlideSize):0;for(let n=a+1;n<i.length;n+=1)i[n]&&!e&&(t+=Math.ceil(i[n].swiperSlideSize),l+=1,t>s&&(e=!0));for(let n=a-1;n>=0;n-=1)i[n]&&!e&&(t+=i[n].swiperSlideSize,l+=1,t>s&&(e=!0))}else if("current"===e)for(let c=a+1;c<i.length;c+=1){(t?r[c]+o[c]-r[a]<s:r[c]-r[a]<s)&&(l+=1)}else for(let c=a-1;c>=0;c-=1){r[a]-r[c]<s&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&zQ(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(t.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,i=n.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(i())}return kQ(n,i())[0]})();return!r&&t.params.createElements&&(r=SQ("div",t.params.wrapperClass),n.append(r),kQ(n,`.${t.params.slideClass}`).forEach((e=>{r.append(e)}))),Object.assign(t,{el:n,wrapperEl:r,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:r,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===CQ(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===CQ(n,"direction")),wrongRTL:"-webkit-box"===CQ(r,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach((e=>{e.complete?zQ(t,e):e.addEventListener("load",(e=>{zQ(t,e.target)}))})),VQ(t),t.initialized=!0,VQ(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:i,el:r,wrapperEl:o,slides:s}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),r&&"string"!=typeof r&&r.removeAttribute("style"),o&&o.removeAttribute("style"),s&&s.length&&s.forEach((e=>{e.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.el&&"string"!=typeof n.el&&(n.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(HS){}try{delete t[e]}catch(HS){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){wQ(hJ,e)}static get extendedDefaults(){return hJ}static get defaults(){return cJ}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const n=e.prototype.__modules__;"function"==typeof t&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach((t=>e.installModule(t))),e):(e.installModule(t),e)}};Object.keys(uJ).forEach((e=>{Object.keys(uJ[e]).forEach((t=>{pJ.prototype[t]=uJ[e][t]}))})),pJ.use([function(e){let{swiper:t,on:n,emit:i}=e;const r=fQ();let o=null,s=null;const a=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};n("init",(()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(o=new ResizeObserver((e=>{s=r.requestAnimationFrame((()=>{const{width:n,height:i}=t;let r=n,o=i;e.forEach((e=>{let{contentBoxSize:n,contentRect:i,target:s}=e;s&&s!==t.el||(r=i?i.width:(n[0]||n).inlineSize,o=i?i.height:(n[0]||n).blockSize)})),r===n&&o===i||a()}))})),o.observe(t.el)):(r.addEventListener("resize",a),r.addEventListener("orientationchange",l))})),n("destroy",(()=>{s&&r.cancelAnimationFrame(s),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;const o=[],s=fQ(),a=function(e,n){void 0===n&&(n={});const i=new(s.MutationObserver||s.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void r("observerUpdate",e[0]);const n=function(){r("observerUpdate",e[0])};s.requestAnimationFrame?s.requestAnimationFrame(n):s.setTimeout(n,0)}));i.observe(e,{attributes:void 0===n.attributes||n.attributes,childList:t.isElement||(void 0===n.childList||n).childList,characterData:void 0===n.characterData||n.characterData}),o.push(i)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=AQ(t.hostEl);for(let t=0;t<e.length;t+=1)a(e[t])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}})),i("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);const mJ=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fJ(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function gJ(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{void 0===e[n]?e[n]=t[n]:fJ(t[n])&&fJ(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:gJ(e[n],t[n]):e[n]=t[n]}))}function bJ(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function vJ(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function yJ(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function wJ(e){void 0===e&&(e="");const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}function _J(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function xJ(){return xJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xJ.apply(this,arguments)}function kJ(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function TJ(e){const t=[];return Y.Children.toArray(e).forEach((e=>{kJ(e)?t.push(e):e.props&&e.props.children&&TJ(e.props.children).forEach((e=>t.push(e)))})),t}function SJ(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Y.Children.toArray(e).forEach((e=>{if(kJ(e))t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const i=TJ(e.props.children);i.length>0?i.forEach((e=>t.push(e))):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function EJ(e,t){return"undefined"==typeof window?G.useEffect(e,t):G.useLayoutEffect(e,t)}const CJ=G.createContext(null),IJ=G.createContext(null),AJ=G.forwardRef((function(e,t){let{className:n,tag:i="div",wrapperTag:r="div",children:o,onSwiper:s,...a}=void 0===e?{}:e,l=!1;const[c,d]=G.useState("swiper"),[u,h]=G.useState(null),[p,m]=G.useState(!1),f=G.useRef(!1),g=G.useRef(null),b=G.useRef(null),v=G.useRef(null),y=G.useRef(null),w=G.useRef(null),_=G.useRef(null),x=G.useRef(null),k=G.useRef(null),{params:T,passedParams:S,rest:E,events:C}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const n={on:{}},i={},r={};gJ(n,cJ),n._emitClasses=!0,n.init=!1;const o={},s=mJ.map((e=>e.replace(/_/,""))),a=Object.assign({},e);return Object.keys(a).forEach((a=>{void 0!==e[a]&&(s.indexOf(a)>=0?fJ(e[a])?(n[a]={},r[a]={},gJ(n[a],e[a]),gJ(r[a],e[a])):(n[a]=e[a],r[a]=e[a]):0===a.search(/on[A-Z]/)&&"function"==typeof e[a]?t?i[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:n.on[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:o[a]=e[a])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:r,rest:o,events:i}}(a),{slides:I,slots:A}=SJ(o),P=()=>{m(!p)};Object.assign(T.on,{_containerClasses(e,t){d(t)}});const D=()=>{Object.assign(T.on,C),l=!0;const e={...T};if(delete e.wrapperClass,b.current=new pJ(e),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=I;const e={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};gJ(b.current.params.virtual,e),gJ(b.current.originalParams.virtual,e)}};g.current||D(),b.current&&b.current.on("_beforeBreakpoint",P);return G.useEffect((()=>()=>{b.current&&b.current.off("_beforeBreakpoint",P)})),G.useEffect((()=>{!f.current&&b.current&&(b.current.emitSlidesClasses(),f.current=!0)})),EJ((()=>{if(t&&(t.current=g.current),g.current)return b.current.destroyed&&D(),function(e,t){let{el:n,nextEl:i,prevEl:r,paginationEl:o,scrollbarEl:s,swiper:a}=e;bJ(t)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),vJ(t)&&o&&(a.params.pagination.el=o,a.originalParams.pagination.el=o),yJ(t)&&s&&(a.params.scrollbar.el=s,a.originalParams.scrollbar.el=s),a.init(n)}({el:g.current,nextEl:w.current,prevEl:_.current,paginationEl:x.current,scrollbarEl:k.current,swiper:b.current},T),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}}),[]),EJ((()=>{!l&&C&&b.current&&Object.keys(C).forEach((e=>{b.current.on(e,C[e])}));const e=function(e,t,n,i,r){const o=[];if(!t)return o;const s=e=>{o.indexOf(e)<0&&o.push(e)};if(n&&i){const e=i.map(r),t=n.map(r);e.join("")!==t.join("")&&s("children"),i.length!==n.length&&s("children")}return mJ.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(fJ(e[n])&&fJ(t[n])){const i=Object.keys(e[n]),r=Object.keys(t[n]);i.length!==r.length?s(n):(i.forEach((i=>{e[n][i]!==t[n][i]&&s(n)})),r.forEach((i=>{e[n][i]!==t[n][i]&&s(n)})))}else e[n]!==t[n]&&s(n)})),o}(S,v.current,I,y.current,(e=>e.key));return v.current=S,y.current=I,e.length&&b.current&&!b.current.destroyed&&function(e){let{swiper:t,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:s,scrollbarEl:a,paginationEl:l}=e;const c=r.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:d,pagination:u,navigation:h,scrollbar:p,virtual:m,thumbs:f}=t;let g,b,v,y,w,_,x,k;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(g=!0),r.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(b=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||!1===d.pagination)&&u&&!u.el&&(v=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(d.scrollbar||!1===d.scrollbar)&&p&&!p.el&&(y=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||s)&&(i.navigation.nextEl||o)&&(d.navigation||!1===d.navigation)&&h&&!h.prevEl&&!h.nextEl&&(w=!0);const T=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),d[e].prevEl=void 0,d[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),d[e].el=void 0,t[e].el=void 0))};r.includes("loop")&&t.isElement&&(d.loop&&!i.loop?_=!0:!d.loop&&i.loop?x=!0:k=!0),c.forEach((e=>{if(fJ(d[e])&&fJ(i[e]))Object.assign(d[e],i[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in i[e])||i[e].enabled||T(e);else{const t=i[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?d[e]=i[e]:!1===t&&T(e)}})),c.includes("controller")&&!b&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),r.includes("children")&&n&&m&&d.virtual.enabled?(m.slides=n,m.update(!0)):r.includes("virtual")&&m&&d.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),r.includes("children")&&n&&d.loop&&(k=!0),g&&f.init()&&f.update(!0);b&&(t.controller.control=d.controller.control),v&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),y&&(!t.isElement||a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(d.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),w&&(t.isElement&&(o&&"string"!=typeof o||(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=t.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),t.el.appendChild(o)),s&&"string"!=typeof s||(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=t.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),t.el.appendChild(s))),o&&(d.navigation.nextEl=o),s&&(d.navigation.prevEl=s),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(_||k)&&t.loopDestroy(),(x||k)&&t.loopCreate(),t.update()}({swiper:b.current,slides:I,passedParams:S,changedParams:e,nextEl:w.current,prevEl:_.current,scrollbarEl:k.current,paginationEl:x.current}),()=>{C&&b.current&&Object.keys(C).forEach((e=>{b.current.off(e,C[e])}))}})),EJ((()=>{var e;!(e=b.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[u]),Y.createElement(i,xJ({ref:g,className:wJ(`${c}${n?` ${n}`:""}`)},E),Y.createElement(IJ.Provider,{value:b.current},A["container-start"],Y.createElement(r,{className:_J(T.wrapperClass)},A["wrapper-start"],T.virtual?function(e,t,n){if(!n)return null;const i=e=>{let n=e;return e<0?n=t.length+e:n>=t.length&&(n-=t.length),n},r=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:s}=n,a=e.params.loop?-t.length:0,l=e.params.loop?2*t.length:t.length,c=[];for(let d=a;d<l;d+=1)d>=o&&d<=s&&c.push(t[i(d)]);return c.map(((t,n)=>Y.cloneElement(t,{swiper:e,style:r,key:t.props.virtualIndex||t.key||`slide-${n}`})))}(b.current,I,u):I.map(((e,t)=>Y.cloneElement(e,{swiper:b.current,swiperSlideIndex:t}))),A["wrapper-end"]),bJ(T)&&Y.createElement(Y.Fragment,null,Y.createElement("div",{ref:_,className:"swiper-button-prev"}),Y.createElement("div",{ref:w,className:"swiper-button-next"})),yJ(T)&&Y.createElement("div",{ref:k,className:"swiper-scrollbar"}),vJ(T)&&Y.createElement("div",{ref:x,className:"swiper-pagination"}),A["container-end"]))}));AJ.displayName="Swiper";const PJ=G.forwardRef((function(e,t){let{tag:n="div",children:i,className:r="",swiper:o,zoom:s,lazy:a,virtualIndex:l,swiperSlideIndex:c,...d}=void 0===e?{}:e;const u=G.useRef(null),[h,p]=G.useState("swiper-slide"),[m,f]=G.useState(!1);function g(e,t,n){t===u.current&&p(n)}EJ((()=>{if(void 0!==c&&(u.current.swiperSlideIndex=c),t&&(t.current=u.current),u.current&&o){if(!o.destroyed)return o.on("_slideClass",g),()=>{o&&o.off("_slideClass",g)};"swiper-slide"!==h&&p("swiper-slide")}})),EJ((()=>{o&&u.current&&!o.destroyed&&p(o.getSlideClasses(u.current))}),[o]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},v=()=>"function"==typeof i?i(b):i;return Y.createElement(n,xJ({ref:u,className:wJ(`${h}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:()=>{f(!0)}},d),s&&Y.createElement(CJ.Provider,{value:b},Y.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof s?s:void 0},v(),a&&!m&&Y.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&Y.createElement(CJ.Provider,{value:b},v(),a&&!m&&Y.createElement("div",{className:"swiper-lazy-preloader"})))}));PJ.displayName="SwiperSlide";const DJ=({choice:e})=>{if("vert-list"==e)return h.jsx("div",{children:Array.from({length:5},((e,t)=>h.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",margin:"10px 0",padding:"10px"},className:"loading-component-card",children:[h.jsx("div",{style:{width:"100px",minWidth:"100px",height:"130px",borderRadius:"4px"},className:"loading-component-card"}),h.jsx("div",{style:{marginLeft:"10px",flex:1},children:h.jsx("div",{style:{width:"70%",height:"20px",borderRadius:"4px"},className:"loading-component-card"})})]},t)))});if("list"==e){const e=G.useRef(null);return G.useEffect((()=>{var t;const n=null===(t=e.current)||void 0===t?void 0:t.swiper;n&&n.slideTo(1)}),[e]),h.jsx(AJ,{spaceBetween:10,slidesPerView:2,centeredSlides:!0,ref:e,direction:"horizontal",children:Array.from({length:5},((e,t)=>h.jsx(PJ,{className:"loading-component-list"},t)))})}return"card_large"==e?h.jsx("div",{className:"loading-component-card-large"}):"full_page"==e?h.jsxs(nT,{children:[h.jsx(Ok,{style:{padding:"0.5rem"},children:h.jsx(Dk,{slot:"start",children:h.jsx("div",{className:"loading-episode-name"})})}),h.jsx(bk,{children:h.jsxs("div",{className:"loading-container",children:[h.jsxs("div",{className:"loading-top",children:[h.jsx("div",{className:"loading-image"}),h.jsx("div",{className:"loading-episode-name"}),h.jsxs("div",{className:"loading-episodes",children:[h.jsx("div",{className:"loading-episode"}),h.jsx("div",{className:"loading-episode"}),h.jsx("div",{className:"loading-episode"}),h.jsx("div",{className:"loading-episode"}),h.jsx("div",{className:"loading-episode"})]})]}),h.jsx("div",{className:"loading-bottom"})]})})]}):h.jsx("div",{className:"loading-component-card loading-component"})},OJ=({items:e,renderItem:t})=>h.jsx(kk,{style:{padding:"0.5rem"},children:e.map((e=>t(e)))}),NJ=({imageUrl:e,title:t,linkUrl:n,type:i,year:r,duration:o,overview:s})=>{const a=[i?i.charAt(0).toUpperCase()+i.slice(1):void 0,r,o].filter(Boolean),l=s&&s.length>100?`${s.substring(0,100)}...`:s;return h.jsx(Mk,{routerLink:n,children:h.jsxs("div",{className:"detail-card-container",children:[h.jsx(wk,{src:e,style:{width:"5rem",aspectRatio:"9/16",objectFit:"cover"}}),h.jsxs("div",{children:[h.jsxs(pk,{children:[h.jsx(fk,{children:t}),a.length>0&&h.jsx(mk,{children:a.join(" • ")})]}),l&&h.jsx(hk,{style:{paddingTop:0,fontSize:"0.9em"},children:l})]})]})})},LJ=({user:e})=>h.jsxs(Uk,{routerLink:`/user/${e.uid}`,children:[h.jsx(dk,{slot:"start",children:h.jsx("img",{src:e.photoURL,alt:e.displayName})}),h.jsxs(xk,{children:[h.jsx("h2",{children:e.displayName}),h.jsx("p",{children:e.email})]})]}),RJ=()=>{const[e,t]=G.useState("people"),[n,i]=G.useState(""),[r,o]=G.useState([]),[s,a]=G.useState([]),[l,c]=G.useState([]),[d,u]=G.useState([]);G.useEffect((()=>{const t=setTimeout((()=>{if(n){const t=async()=>{if("people"===e){o([]),a([]),c([]);const e=R$(Hz(Jz(VX),"users"),M$("displayName",">=",n),M$("displayName","<=",n+"")),t=await rV(e),i=[];t.forEach((e=>{i.push({uid:e.id,...e.data()})})),u(i)}else{u([]);const[e,t,i]=await Promise.all([ZX(n),oQ(n),sQ(n)]);t.peek&&a(t.boo),i.peek&&c(i.boo)}};t()}else o([]),a([]),c([]),u([])}),500);return()=>clearTimeout(t)}),[n,e]);return h.jsxs(nT,{children:[h.jsxs(yk,{children:[h.jsx(Ok,{children:h.jsx(_k,{placeholder:"Search...",value:n,onIonInput:e=>i(e.target.value),clearInput:!0,style:{"--padding-start":"16px","--padding-end":"16px"}})}),h.jsx(Ok,{children:h.jsxs(Sk,{value:e,onIonChange:e=>t(e.detail.value.toString()),children:[h.jsx(Ek,{value:"people",children:h.jsx(xk,{children:"People"})}),h.jsx(Ek,{value:"movies",children:h.jsx(xk,{children:"Movies"})}),h.jsx(Ek,{value:"shows",children:h.jsx(xk,{children:"Shows"})}),h.jsx(Ek,{value:"anime",children:h.jsx(xk,{children:"Anime"})})]})})]}),h.jsx(bk,{children:(()=>{switch(e){case"people":return d.length>0?h.jsx(OJ,{items:d,renderItem:e=>h.jsx(LJ,{user:e},e.uid)}):n?h.jsx(DJ,{choice:"vert-list"}):h.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for people."});case"movies":return s.length>0?h.jsx(OJ,{items:s,renderItem:e=>h.jsx(NJ,{imageUrl:e.Poster,title:e.Title,linkUrl:"anime"===e.Type?`/anime/${e.Id}`:"movie"===e.Type?`/movie/${e.Id}`:`/tv/${e.Id}`,type:e.Type,year:e.Year,duration:e.Duration,overview:e.Overview},e.Id)}):n?h.jsx(DJ,{choice:"vert-list"}):h.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for movies."});case"shows":return l.length>0?h.jsx(OJ,{items:l,renderItem:e=>h.jsx(NJ,{imageUrl:e.Poster,title:e.Title,linkUrl:"anime"===e.Type?`/anime/${e.Id}`:"movie"===e.Type?`/movie/${e.Id}`:`/tv/${e.Id}`,type:e.Type,year:e.Year,duration:e.Duration,overview:e.Overview},e.Id)}):n?h.jsx(DJ,{choice:"vert-list"}):h.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for TV shows."});case"anime":return r.length>0?h.jsx(OJ,{items:r,renderItem:e=>h.jsx(NJ,{imageUrl:e.Poster,title:e.Title,linkUrl:"anime"===e.Type?`/anime/${e.Id}`:"movie"===e.Type?`/movie/${e.Id}`:`/tv/${e.Id}`,type:e.Type,year:e.Year,duration:e.Duration,overview:e.Overview},e.Id)}):n?h.jsx(DJ,{choice:"vert-list"}):h.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"Search for anime."});default:return null}})()})]})},jJ=e=>h.jsx(Mk,{className:"item-card",routerLink:"anime"==e.Type?`/anime/${e.Id}`:"movie"==e.Type?`/movie/${e.Id}`:`/tv/${e.Id}`,children:h.jsxs("div",{className:"item-card-img-container",children:[h.jsx(wk,{className:"item-card-img",src:e.Poster}),h.jsx(fk,{className:"item-card-title",children:e.Title})]})});function MJ(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;function o(e){let n;return e&&"string"==typeof e&&t.isElement&&(n=t.el.querySelector(e)||t.hostEl.querySelector(e),n)?n:(e&&("string"==typeof e&&(n=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&n&&n.length>1&&1===t.el.querySelectorAll(e).length?n=t.el.querySelector(e):n&&1===n.length&&(n=n[0])),e&&!n?e:n)}function s(e,n){const i=t.params.navigation;(e=DQ(e)).forEach((e=>{e&&(e.classList[n?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass))}))}function a(){const{nextEl:e,prevEl:n}=t.navigation;if(t.params.loop)return s(n,!1),void s(e,!1);s(n,t.isBeginning&&!t.params.rewind),s(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function d(){const e=t.params.navigation;if(t.params.navigation=function(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach((r=>{if(!n[r]&&!0===n.auto){let o=kQ(e.el,`.${i[r]}`)[0];o||(o=SQ("div",i[r]),o.className=i[r],e.el.append(o)),n[r]=o,t[r]=o}})),n}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let n=o(e.nextEl),i=o(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:i}),n=DQ(n),i=DQ(i);const r=(n,i)=>{n&&n.addEventListener("click","next"===i?c:l),!t.enabled&&n&&n.classList.add(...e.lockClass.split(" "))};n.forEach((e=>r(e,"next"))),i.forEach((e=>r(e,"prev")))}function u(){let{nextEl:e,prevEl:n}=t.navigation;e=DQ(e),n=DQ(n);const i=(e,n)=>{e.removeEventListener("click","next"===n?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>i(e,"next"))),n.forEach((e=>i(e,"prev")))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",(()=>{!1===t.params.navigation.enabled?h():(d(),a())})),i("toEdge fromEdge lock unlock",(()=>{a()})),i("destroy",(()=>{u()})),i("enable disable",(()=>{let{nextEl:e,prevEl:n}=t.navigation;e=DQ(e),n=DQ(n),t.enabled?a():[...e,...n].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),i("click",((e,n)=>{let{nextEl:i,prevEl:o}=t.navigation;i=DQ(i),o=DQ(o);const s=n.target;let a=o.includes(s)||i.includes(s);if(t.isElement&&!a){const e=n.path||n.composedPath&&n.composedPath();e&&(a=e.find((e=>i.includes(e)||o.includes(e))))}if(t.params.navigation.hideOnClick&&!a){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===s||t.pagination.el.contains(s)))return;let e;i.length?e=i[0].classList.contains(t.params.navigation.hiddenClass):o.length&&(e=o[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===e?"navigationShow":"navigationHide"),[...i,...o].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),a()},disable:h,update:a,init:d,destroy:u})}function UJ(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;const o=fQ();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let s=1,a=!1,l=!1,c={x:0,y:0};let d,u;const h=[],p={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},m={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},f={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g,b=1;function v(){if(h.length<2)return 1;const e=h[0].pageX,t=h[0].pageY,n=h[1].pageX,i=h[1].pageY;return Math.sqrt((n-e)**2+(i-t)**2)}function y(){const e=t.params.zoom,n=p.imageWrapEl.getAttribute("data-swiper-zoom")||e.maxRatio;if(e.limitToOriginalSize&&p.imageEl&&p.imageEl.naturalWidth){const e=p.imageEl.naturalWidth/p.imageEl.offsetWidth;return Math.min(e,n)}return n}function w(e){const n=t.isElement?"swiper-slide":`.${t.params.slideClass}`;return!!e.target.matches(n)||t.slides.filter((t=>t.contains(e.target))).length>0}function _(e){const n=`.${t.params.zoom.containerClass}`;return!!e.target.matches(n)||[...t.hostEl.querySelectorAll(n)].filter((t=>t.contains(e.target))).length>0}function x(e){if("mouse"===e.pointerType&&h.splice(0,h.length),!w(e))return;const n=t.params.zoom;if(d=!1,u=!1,h.push(e),!(h.length<2)){if(d=!0,p.scaleStart=v(),!p.slideEl){p.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`),p.slideEl||(p.slideEl=t.slides[t.activeIndex]);let i=p.slideEl.querySelector(`.${n.containerClass}`);if(i&&(i=i.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=i,p.imageWrapEl=i?AQ(p.imageEl,`.${n.containerClass}`)[0]:void 0,!p.imageWrapEl)return void(p.imageEl=void 0);p.maxRatio=y()}if(p.imageEl){const[e,t]=function(){if(h.length<2)return{x:null,y:null};const e=p.imageEl.getBoundingClientRect();return[(h[0].pageX+(h[1].pageX-h[0].pageX)/2-e.x-o.scrollX)/s,(h[0].pageY+(h[1].pageY-h[0].pageY)/2-e.y-o.scrollY)/s]}();p.originX=e,p.originY=t,p.imageEl.style.transitionDuration="0ms"}a=!0}}function k(e){if(!w(e))return;const n=t.params.zoom,i=t.zoom,r=h.findIndex((t=>t.pointerId===e.pointerId));r>=0&&(h[r]=e),h.length<2||(u=!0,p.scaleMove=v(),p.imageEl&&(i.scale=p.scaleMove/p.scaleStart*s,i.scale>p.maxRatio&&(i.scale=p.maxRatio-1+(i.scale-p.maxRatio+1)**.5),i.scale<n.minRatio&&(i.scale=n.minRatio+1-(n.minRatio-i.scale+1)**.5),p.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`))}function T(e){if(!w(e))return;if("mouse"===e.pointerType&&"pointerout"===e.type)return;const n=t.params.zoom,i=t.zoom,r=h.findIndex((t=>t.pointerId===e.pointerId));r>=0&&h.splice(r,1),d&&u&&(d=!1,u=!1,p.imageEl&&(i.scale=Math.max(Math.min(i.scale,p.maxRatio),n.minRatio),p.imageEl.style.transitionDuration=`${t.params.speed}ms`,p.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`,s=i.scale,a=!1,i.scale>1&&p.slideEl?p.slideEl.classList.add(`${n.zoomedSlideClass}`):i.scale<=1&&p.slideEl&&p.slideEl.classList.remove(`${n.zoomedSlideClass}`),1===i.scale&&(p.originX=0,p.originY=0,p.slideEl=void 0)))}function S(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function E(e){const n="mouse"===e.pointerType&&t.params.zoom.panOnMouseMove;if(!w(e)||!_(e))return;const i=t.zoom;if(!p.imageEl)return;if(!m.isTouched||!p.slideEl)return void(n&&I(e));if(n)return void I(e);m.isMoved||(m.width=p.imageEl.offsetWidth||p.imageEl.clientWidth,m.height=p.imageEl.offsetHeight||p.imageEl.clientHeight,m.startX=vQ(p.imageWrapEl,"x")||0,m.startY=vQ(p.imageWrapEl,"y")||0,p.slideWidth=p.slideEl.offsetWidth,p.slideHeight=p.slideEl.offsetHeight,p.imageWrapEl.style.transitionDuration="0ms");const r=m.width*i.scale,o=m.height*i.scale;m.minX=Math.min(p.slideWidth/2-r/2,0),m.maxX=-m.minX,m.minY=Math.min(p.slideHeight/2-o/2,0),m.maxY=-m.minY,m.touchesCurrent.x=h.length>0?h[0].pageX:e.pageX,m.touchesCurrent.y=h.length>0?h[0].pageY:e.pageY;if(Math.max(Math.abs(m.touchesCurrent.x-m.touchesStart.x),Math.abs(m.touchesCurrent.y-m.touchesStart.y))>5&&(t.allowClick=!1),!m.isMoved&&!a){if(t.isHorizontal()&&(Math.floor(m.minX)===Math.floor(m.startX)&&m.touchesCurrent.x<m.touchesStart.x||Math.floor(m.maxX)===Math.floor(m.startX)&&m.touchesCurrent.x>m.touchesStart.x))return m.isTouched=!1,void S();if(!t.isHorizontal()&&(Math.floor(m.minY)===Math.floor(m.startY)&&m.touchesCurrent.y<m.touchesStart.y||Math.floor(m.maxY)===Math.floor(m.startY)&&m.touchesCurrent.y>m.touchesStart.y))return m.isTouched=!1,void S()}e.cancelable&&e.preventDefault(),e.stopPropagation(),clearTimeout(g),t.touchEventsData.preventTouchMoveFromPointerMove=!0,g=setTimeout((()=>{t.destroyed||S()})),m.isMoved=!0;const l=(i.scale-s)/(p.maxRatio-t.params.zoom.minRatio),{originX:c,originY:d}=p;m.currentX=m.touchesCurrent.x-m.touchesStart.x+m.startX+l*(m.width-2*c),m.currentY=m.touchesCurrent.y-m.touchesStart.y+m.startY+l*(m.height-2*d),m.currentX<m.minX&&(m.currentX=m.minX+1-(m.minX-m.currentX+1)**.8),m.currentX>m.maxX&&(m.currentX=m.maxX-1+(m.currentX-m.maxX+1)**.8),m.currentY<m.minY&&(m.currentY=m.minY+1-(m.minY-m.currentY+1)**.8),m.currentY>m.maxY&&(m.currentY=m.maxY-1+(m.currentY-m.maxY+1)**.8),f.prevPositionX||(f.prevPositionX=m.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=m.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(m.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(m.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(m.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(m.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=m.touchesCurrent.x,f.prevPositionY=m.touchesCurrent.y,f.prevTime=Date.now(),p.imageWrapEl.style.transform=`translate3d(${m.currentX}px, ${m.currentY}px,0)`}function C(){const e=t.zoom;p.slideEl&&t.activeIndex!==t.slides.indexOf(p.slideEl)&&(p.imageEl&&(p.imageEl.style.transform="translate3d(0,0,0) scale(1)"),p.imageWrapEl&&(p.imageWrapEl.style.transform="translate3d(0,0,0)"),p.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),e.scale=1,s=1,p.slideEl=void 0,p.imageEl=void 0,p.imageWrapEl=void 0,p.originX=0,p.originY=0)}function I(e){if(s<=1||!p.imageWrapEl)return;if(!w(e)||!_(e))return;const t=o.getComputedStyle(p.imageWrapEl).transform,n=new o.DOMMatrix(t);if(!l)return l=!0,c.x=e.clientX,c.y=e.clientY,m.startX=n.e,m.startY=n.f,m.width=p.imageEl.offsetWidth||p.imageEl.clientWidth,m.height=p.imageEl.offsetHeight||p.imageEl.clientHeight,p.slideWidth=p.slideEl.offsetWidth,void(p.slideHeight=p.slideEl.offsetHeight);const i=-3*(e.clientX-c.x),r=-3*(e.clientY-c.y),a=m.width*s,d=m.height*s,u=p.slideWidth,h=p.slideHeight,f=Math.min(u/2-a/2,0),g=-f,b=Math.min(h/2-d/2,0),v=-b,y=Math.max(Math.min(m.startX+i,g),f),x=Math.max(Math.min(m.startY+r,v),b);p.imageWrapEl.style.transitionDuration="0ms",p.imageWrapEl.style.transform=`translate3d(${y}px, ${x}px, 0)`,c.x=e.clientX,c.y=e.clientY,m.startX=y,m.startY=x}function A(e){const n=t.zoom,i=t.params.zoom;if(!p.slideEl){e&&e.target&&(p.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`)),p.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?p.slideEl=kQ(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:p.slideEl=t.slides[t.activeIndex]);let n=p.slideEl.querySelector(`.${i.containerClass}`);n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=n,p.imageWrapEl=n?AQ(p.imageEl,`.${i.containerClass}`)[0]:void 0}if(!p.imageEl||!p.imageWrapEl)return;let r,a,l,c,d,u,h,f,g,b,v,w,_,x,k,T,S,E;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),p.slideEl.classList.add(`${i.zoomedSlideClass}`),void 0===m.touchesStart.x&&e?(r=e.pageX,a=e.pageY):(r=m.touchesStart.x,a=m.touchesStart.y);const C="number"==typeof e?e:null;1===s&&C&&(r=void 0,a=void 0,m.touchesStart.x=void 0,m.touchesStart.y=void 0);const I=y();n.scale=C||I,s=C||I,!e||1===s&&C?(h=0,f=0):(S=p.slideEl.offsetWidth,E=p.slideEl.offsetHeight,l=EQ(p.slideEl).left+o.scrollX,c=EQ(p.slideEl).top+o.scrollY,d=l+S/2-r,u=c+E/2-a,g=p.imageEl.offsetWidth||p.imageEl.clientWidth,b=p.imageEl.offsetHeight||p.imageEl.clientHeight,v=g*n.scale,w=b*n.scale,_=Math.min(S/2-v/2,0),x=Math.min(E/2-w/2,0),k=-_,T=-x,h=d*n.scale,f=u*n.scale,h<_&&(h=_),h>k&&(h=k),f<x&&(f=x),f>T&&(f=T)),C&&1===n.scale&&(p.originX=0,p.originY=0),p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform=`translate3d(${h}px, ${f}px,0)`,p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`}function P(){const e=t.zoom,n=t.params.zoom;if(!p.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?p.slideEl=kQ(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:p.slideEl=t.slides[t.activeIndex];let e=p.slideEl.querySelector(`.${n.containerClass}`);e&&(e=e.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=e,p.imageWrapEl=e?AQ(p.imageEl,`.${n.containerClass}`)[0]:void 0}p.imageEl&&p.imageWrapEl&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,s=1,m.touchesStart.x=void 0,m.touchesStart.y=void 0,p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform="translate3d(0,0,0)",p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform="translate3d(0,0,0) scale(1)",p.slideEl.classList.remove(`${n.zoomedSlideClass}`),p.slideEl=void 0,p.originX=0,p.originY=0,t.params.zoom.panOnMouseMove&&(c={x:0,y:0},l&&(l=!1,m.startX=0,m.startY=0)))}function D(e){const n=t.zoom;n.scale&&1!==n.scale?P():A(e)}function O(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function N(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:n,activeListenerWithCapture:i}=O();t.wrapperEl.addEventListener("pointerdown",x,n),t.wrapperEl.addEventListener("pointermove",k,i),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.addEventListener(e,T,n)})),t.wrapperEl.addEventListener("pointermove",E,i)}function L(){const e=t.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:n,activeListenerWithCapture:i}=O();t.wrapperEl.removeEventListener("pointerdown",x,n),t.wrapperEl.removeEventListener("pointermove",k,i),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.removeEventListener(e,T,n)})),t.wrapperEl.removeEventListener("pointermove",E,i)}Object.defineProperty(t.zoom,"scale",{get:()=>b,set(e){if(b!==e){const t=p.imageEl,n=p.slideEl;r("zoomChange",e,t,n)}b=e}}),i("init",(()=>{t.params.zoom.enabled&&N()})),i("destroy",(()=>{L()})),i("touchStart",((e,n)=>{t.zoom.enabled&&function(e){const n=t.device;if(!p.imageEl)return;if(m.isTouched)return;n.android&&e.cancelable&&e.preventDefault(),m.isTouched=!0;const i=h.length>0?h[0]:e;m.touchesStart.x=i.pageX,m.touchesStart.y=i.pageY}(n)})),i("touchEnd",((e,n)=>{t.zoom.enabled&&function(){const e=t.zoom;if(h.length=0,!p.imageEl)return;if(!m.isTouched||!m.isMoved)return m.isTouched=!1,void(m.isMoved=!1);m.isTouched=!1,m.isMoved=!1;let n=300,i=300;const r=f.x*n,o=m.currentX+r,s=f.y*i,a=m.currentY+s;0!==f.x&&(n=Math.abs((o-m.currentX)/f.x)),0!==f.y&&(i=Math.abs((a-m.currentY)/f.y));const l=Math.max(n,i);m.currentX=o,m.currentY=a;const c=m.width*e.scale,d=m.height*e.scale;m.minX=Math.min(p.slideWidth/2-c/2,0),m.maxX=-m.minX,m.minY=Math.min(p.slideHeight/2-d/2,0),m.maxY=-m.minY,m.currentX=Math.max(Math.min(m.currentX,m.maxX),m.minX),m.currentY=Math.max(Math.min(m.currentY,m.maxY),m.minY),p.imageWrapEl.style.transitionDuration=`${l}ms`,p.imageWrapEl.style.transform=`translate3d(${m.currentX}px, ${m.currentY}px,0)`}()})),i("doubleTap",((e,n)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&D(n)})),i("transitionEnd",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&C()})),i("slideChange",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&C()})),Object.assign(t.zoom,{enable:N,disable:L,in:A,out:P,toggle:D})}function BJ(e){let t,n,{swiper:i,extendParams:r,on:o,emit:s,params:a}=e;i.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,d,u,h,p,m,f,g=a&&a.autoplay?a.autoplay.delay:3e3,b=a&&a.autoplay?a.autoplay.delay:3e3,v=(new Date).getTime();function y(e){i&&!i.destroyed&&i.wrapperEl&&e.target===i.wrapperEl&&(i.wrapperEl.removeEventListener("transitionend",y),f||e.detail&&e.detail.bySwiperTouchMove||S())}const w=()=>{if(i.destroyed||!i.autoplay.running)return;i.autoplay.paused?c=!0:c&&(b=l,c=!1);const e=i.autoplay.paused?l:v+b-(new Date).getTime();i.autoplay.timeLeft=e,s("autoplayTimeLeft",e,e/g),n=requestAnimationFrame((()=>{w()}))},_=e=>{if(i.destroyed||!i.autoplay.running)return;cancelAnimationFrame(n),w();let r=void 0===e?i.params.autoplay.delay:e;g=i.params.autoplay.delay,b=i.params.autoplay.delay;const o=(()=>{let e;if(e=i.virtual&&i.params.virtual.enabled?i.slides.find((e=>e.classList.contains("swiper-slide-active"))):i.slides[i.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(o)&&o>0&&void 0===e&&(r=o,g=o,b=o),l=r;const a=i.params.speed,c=()=>{i&&!i.destroyed&&(i.params.autoplay.reverseDirection?!i.isBeginning||i.params.loop||i.params.rewind?(i.slidePrev(a,!0,!0),s("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(i.slides.length-1,a,!0,!0),s("autoplay")):!i.isEnd||i.params.loop||i.params.rewind?(i.slideNext(a,!0,!0),s("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(0,a,!0,!0),s("autoplay")),i.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame((()=>{_()}))))};return r>0?(clearTimeout(t),t=setTimeout((()=>{c()}),r)):requestAnimationFrame((()=>{c()})),r},x=()=>{v=(new Date).getTime(),i.autoplay.running=!0,_(),s("autoplayStart")},k=()=>{i.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(n),s("autoplayStop")},T=(e,n)=>{if(i.destroyed||!i.autoplay.running)return;clearTimeout(t),e||(m=!0);const r=()=>{s("autoplayPause"),i.params.autoplay.waitForTransition?i.wrapperEl.addEventListener("transitionend",y):S()};if(i.autoplay.paused=!0,n)return p&&(l=i.params.autoplay.delay),p=!1,void r();const o=l||i.params.autoplay.delay;l=o-((new Date).getTime()-v),i.isEnd&&l<0&&!i.params.loop||(l<0&&(l=0),r())},S=()=>{i.isEnd&&l<0&&!i.params.loop||i.destroyed||!i.autoplay.running||(v=(new Date).getTime(),m?(m=!1,_(l)):_(),i.autoplay.paused=!1,s("autoplayResume"))},E=()=>{if(i.destroyed||!i.autoplay.running)return;const e=pQ();"hidden"===e.visibilityState&&(m=!0,T(!0)),"visible"===e.visibilityState&&S()},C=e=>{"mouse"===e.pointerType&&(m=!0,f=!0,i.animating||i.autoplay.paused||T(!0))},I=e=>{"mouse"===e.pointerType&&(f=!1,i.autoplay.paused&&S())};o("init",(()=>{i.params.autoplay.enabled&&(i.params.autoplay.pauseOnMouseEnter&&(i.el.addEventListener("pointerenter",C),i.el.addEventListener("pointerleave",I)),pQ().addEventListener("visibilitychange",E),x())})),o("destroy",(()=>{i.el&&"string"!=typeof i.el&&(i.el.removeEventListener("pointerenter",C),i.el.removeEventListener("pointerleave",I)),pQ().removeEventListener("visibilitychange",E),i.autoplay.running&&k()})),o("_freeModeStaticRelease",(()=>{(u||m)&&S()})),o("_freeModeNoMomentumRelease",(()=>{i.params.autoplay.disableOnInteraction?k():T(!0,!0)})),o("beforeTransitionStart",((e,t,n)=>{!i.destroyed&&i.autoplay.running&&(n||!i.params.autoplay.disableOnInteraction?T(!0,!0):k())})),o("sliderFirstMove",(()=>{!i.destroyed&&i.autoplay.running&&(i.params.autoplay.disableOnInteraction?k():(d=!0,u=!1,m=!1,h=setTimeout((()=>{m=!0,u=!0,T(!0)}),200)))})),o("touchEnd",(()=>{if(!i.destroyed&&i.autoplay.running&&d){if(clearTimeout(h),clearTimeout(t),i.params.autoplay.disableOnInteraction)return u=!1,void(d=!1);u&&i.params.cssMode&&S(),u=!1,d=!1}})),o("slideChange",(()=>{!i.destroyed&&i.autoplay.running&&(p=!0)})),Object.assign(i.autoplay,{start:x,stop:k,pause:T,resume:S})}const FJ=e=>{const t=G.useRef(null);return G.useEffect((()=>{var e;const n=null===(e=t.current)||void 0===e?void 0:e.swiper;n&&(n.slideTo(1),n.loopCreate(),n.autoplay)}),[t]),h.jsx(AJ,{spaceBetween:5,slidesPerView:2,centeredSlides:!0,autoplay:!0,ref:t,modules:[BJ,MJ,UJ],children:Object.keys(e).map(((t,n)=>h.jsx(PJ,{children:h.jsx(jJ,{...e[n]})},n)))})},zJ=({item:e})=>h.jsxs(Mk,{className:"featured-card",routerLink:`/${e.Type}/${e.Id}`,children:[h.jsx(wk,{src:e.Poster,className:"featured-card-image"}),h.jsx("div",{className:"featured-card-gradient"}),h.jsxs("div",{className:"featured-card-content",children:[h.jsx(pk,{children:h.jsx(fk,{children:e.Title})}),h.jsxs(hk,{children:[h.jsx("p",{children:e.Overview}),h.jsxs(jk,{fill:"clear",children:[h.jsx(yT,{slot:"start",icon:zE}),"Watch Now"]})]})]})]}),$J=()=>{const[e,t]=G.useState([]),[n,i]=G.useState([]),[r,o]=G.useState([]),[s,a]=G.useState(null),[l]=ST(),c=e=>{l({message:e,duration:3e3,swipeGesture:"vertical",position:"top"})},d=async()=>{const e=await(async()=>{const{boo:e}=await GX(),t=e,n=await fetch(`${t.Server}/anime/${t.AnimeSource}/trending`);return await n.json()})();1==e.peek?t(e.boo):c("Error loading trending anime")},u=async()=>{const e=await(async()=>await rQ.getTrendingMovies())();1==e.peek?(i(e.boo),e.boo.length>0&&a(e.boo[0])):c("Error loading trending movies")},p=async()=>{const e=await(async()=>await rQ.getTrendingTv())();console.log(e),1==e.peek?o(e.boo):c("Error loading trending TV")};return G.useEffect((()=>{d(),u(),p()}),[]),h.jsxs(nT,{children:[h.jsx(yk,{translucent:!0,children:h.jsx(Ok,{children:h.jsx(Dk,{children:"Media"})})}),h.jsxs(bk,{className:"ion-padding",children:[s?h.jsxs(h.Fragment,{children:[h.jsx("h1",{children:"Featured"}),h.jsx(zJ,{item:s})]}):h.jsx(DJ,{choice:"list"}),h.jsx("h1",{children:"Trending Shows"}),r.length>0?h.jsx(FJ,{...r}):h.jsx(DJ,{choice:"list"}),h.jsx("h1",{children:"Trending Movies"}),n.length>0?h.jsx(FJ,{...n}):h.jsx(DJ,{choice:"list"}),h.jsx("h1",{children:"Trending Anime"}),e.length>0?h.jsx(FJ,{...e}):h.jsx(DJ,{choice:"list"})]})]})};var VJ="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};const qJ=o(VJ),HJ=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));var WJ,GJ=void 0!==r?r:"undefined"!=typeof window?window:{},YJ=s(HJ);"undefined"!=typeof document?WJ=document:(WJ=GJ["__GLOBAL_DOCUMENT_CACHE@4"])||(WJ=GJ["__GLOBAL_DOCUMENT_CACHE@4"]=YJ);var KJ=WJ;const XJ=o(KJ);var QJ={exports:{}};const JJ=s(UT);var ZJ=function(e){if(!e)return!1;var t=eZ.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},eZ=Object.prototype.toString;function tZ(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nZ(e,t)}(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var iZ=function(){function e(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},t.addInterceptor=function(e,t){this.typeToInterceptorsMap_.has(e)||this.typeToInterceptorsMap_.set(e,new Set);var n=this.typeToInterceptorsMap_.get(e);return!n.has(t)&&(n.add(t),!0)},t.removeInterceptor=function(e,t){var n=this.typeToInterceptorsMap_.get(e);return!(!n||!n.has(t))&&(n.delete(t),!0)},t.clearInterceptorsByType=function(e){return!!this.typeToInterceptorsMap_.get(e)&&(this.typeToInterceptorsMap_.delete(e),this.typeToInterceptorsMap_.set(e,new Set),!0)},t.clear=function(){return!!this.typeToInterceptorsMap_.size&&(this.typeToInterceptorsMap_=new Map,!0)},t.getForType=function(e){return this.typeToInterceptorsMap_.get(e)||new Set},t.execute=function(e,t){for(var n,i=tZ(this.getForType(e));!(n=i()).done;){var r=n.value;try{t=r(t)}catch(HS){}}return t},e}(),rZ=iZ,oZ=function(){function e(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},t.getMaxAttempts=function(){return this.maxAttempts_},t.setMaxAttempts=function(e){this.maxAttempts_=e},t.getDelayFactor=function(){return this.delayFactor_},t.setDelayFactor=function(e){this.delayFactor_=e},t.getFuzzFactor=function(){return this.fuzzFactor_},t.setFuzzFactor=function(e){this.fuzzFactor_=e},t.getInitialDelay=function(){return this.initialDelay_},t.setInitialDelay=function(e){this.initialDelay_=e},t.createRetry=function(e){var t=void 0===e?{}:e,n=t.maxAttempts,i=t.delayFactor,r=t.fuzzFactor,o=t.initialDelay;return new sZ({maxAttempts:n||this.maxAttempts_,delayFactor:i||this.delayFactor_,fuzzFactor:r||this.fuzzFactor_,initialDelay:o||this.initialDelay_})},e}(),sZ=function(){function e(e){this.maxAttempts_=e.maxAttempts,this.delayFactor_=e.delayFactor,this.fuzzFactor_=e.fuzzFactor,this.currentDelay_=e.initialDelay,this.currentAttempt_=1}var t=e.prototype;return t.moveToNextAttempt=function(){this.currentAttempt_++;var e=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+e},t.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},t.getCurrentDelay=function(){return this.currentDelay_},t.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},t.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},t.getCurrentFuzzedDelay=function(){var e=this.getCurrentMinPossibleDelay(),t=this.getCurrentMaxPossibleDelay();return e+Math.random()*(t-e)},e}(),aZ=VJ;var lZ=function(e,t){return void 0===t&&(t=!1),function(n,i,r){if(n)e(n);else if(i.statusCode>=400&&i.statusCode<=599){var o=r;if(t)if(aZ.TextDecoder){var s=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e}),"utf-8")}(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(s).decode(r)}catch(HS){}}else o=String.fromCharCode.apply(null,new Uint8Array(r));e({cause:o})}else e(null,r)}},cZ=VJ,dZ=JJ,uZ=ZJ,hZ=rZ,pZ=oZ;gZ.httpHandler=lZ,gZ.requestInterceptorsStorage=new hZ,gZ.responseInterceptorsStorage=new hZ,gZ.retryManager=new pZ;
/**
             * @license
             * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
             * Copyright (c) 2014 David Björklund
             * Available under the MIT license
             * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
             */
var mZ=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t};function fZ(e,t,n){var i=e;return uZ(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=dZ({},t,{uri:e}),i.callback=n,i}function gZ(e,t,n){return bZ(t=fZ(e,t,n))}function bZ(e){if(void 0===e.callback)throw new Error("callback argument missing");if(e.requestType&&gZ.requestInterceptorsStorage.getIsEnabled()){var t={uri:e.uri||e.url,headers:e.headers||{},body:e.body,metadata:e.metadata||{},retry:e.retry,timeout:e.timeout},n=gZ.requestInterceptorsStorage.execute(e.requestType,t);e.uri=n.uri,e.headers=n.headers,e.body=n.body,e.metadata=n.metadata,e.retry=n.retry,e.timeout=n.timeout}var i=!1,r=function(t,n,r){i||(i=!0,e.callback(t,n,r))};function o(){var e=void 0;if(e=d.response?d.response:d.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(HS){}return null}(d),b)try{e=JSON.parse(e)}catch(HS){}return e}function s(t){if(clearTimeout(u),clearTimeout(e.retryTimeout),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c||!gZ.retryManager.getIsEnabled()||!e.retry||!e.retry.shouldRetry()){if(e.requestType&&gZ.responseInterceptorsStorage.getIsEnabled()){var n={headers:v.headers||{},body:v.body,responseUrl:d.responseURL,responseType:d.responseType},i=gZ.responseInterceptorsStorage.execute(e.requestType,n);v.body=i.body,v.headers=i.headers}return r(t,v)}e.retryTimeout=setTimeout((function(){e.retry.moveToNextAttempt(),e.xhr=d,bZ(e)}),e.retry.getCurrentFuzzedDelay())}function a(){if(!c){var t;clearTimeout(u),clearTimeout(e.retryTimeout),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var n=v,i=null;if(0!==t?(n={body:o(),statusCode:t,method:p,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(n.headers=mZ(d.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e.requestType&&gZ.responseInterceptorsStorage.getIsEnabled()){var s={headers:n.headers||{},body:n.body,responseUrl:d.responseURL,responseType:d.responseType},a=gZ.responseInterceptorsStorage.execute(e.requestType,s);n.body=a.body,n.headers=a.headers}return r(i,n,n.body)}}var l,c,d=e.xhr||null;d||(d=e.cors||e.useXDR?new gZ.XDomainRequest:new gZ.XMLHttpRequest);var u,h=d.url=e.uri||e.url,p=d.method=e.method||"GET",m=e.body||e.data,f=d.headers=e.headers||{},g=!!e.sync,b=!1,v={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:d};if("json"in e&&!1!==e.json&&(b=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),m=JSON.stringify(!0===e.json?m:e.json))),d.onreadystatechange=function(){4!==d.readyState||gZ.responseInterceptorsStorage.getIsEnabled()||setTimeout(a,0)},d.onload=a,d.onerror=s,d.onprogress=function(){},d.onabort=function(){c=!0,clearTimeout(e.retryTimeout)},d.ontimeout=s,d.open(p,h,!g,e.username,e.password),g||(d.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(u=setTimeout((function(){if(!c){c=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),e.timeout)),d.setRequestHeader)for(l in f)f.hasOwnProperty(l)&&d.setRequestHeader(l,f[l]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(m||null),d}QJ.exports=gZ,QJ.exports.default=gZ,gZ.XMLHttpRequest=cZ.XMLHttpRequest||function(){},gZ.XDomainRequest="withCredentials"in new gZ.XMLHttpRequest?gZ.XMLHttpRequest:cZ.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){gZ["delete"===e?"del":e]=function(t,n,i){return(n=fZ(t,n,i)).method=e.toUpperCase(),bZ(n)}}));const vZ=o(QJ.exports);var yZ={exports:{}},wZ=KJ,_Z=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function xZ(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function kZ(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function TZ(){this.values=_Z(null)}function SZ(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var s=r[o].split(n);if(2===s.length)t(s[0].trim(),s[1].trim())}}function EZ(e,t,n){var i=e;function r(){var t=kZ(e);if(null===t)throw new xZ(xZ.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=r(),o(),"--\x3e"!==e.substr(0,3))throw new xZ(xZ.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),o(),t.endTime=r(),o(),function(e,t){var i=new TZ;SZ(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),s=o[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(HS){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(HS){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(HS){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}xZ.prototype=_Z(Error.prototype),xZ.prototype.constructor=xZ,xZ.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},TZ.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var CZ=wZ.createElement&&wZ.createElement("textarea"),IZ={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},AZ={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},PZ={v:"title",lang:"lang"},DZ={rt:"ruby"};function OZ(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!DZ[t.localName]||DZ[t.localName]===e.localName}function r(t,n){var i=IZ[t];if(!i)return null;var r=e.document.createElement(i),o=PZ[t];return o&&n&&(r[o]=n.trim()),r}for(var o,s,a=e.document.createElement("div"),l=a,c=[];null!==(o=n());)if("<"!==o[0])l.appendChild(e.document.createTextNode((s=o,CZ.innerHTML=s,s=CZ.textContent,CZ.textContent="",s)));else{if("/"===o[1]){c.length&&c[c.length-1]===o.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var d,u=kZ(o.substr(1,o.length-2));if(u){d=e.document.createProcessingInstruction("timestamp",u),l.appendChild(d);continue}var h=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(d=r(h[1],h[3])))continue;if(!i(l,d))continue;if(h[2]){var p=h[2].split(".");p.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(AZ.hasOwnProperty(n)){var i=t?"background-color":"color",r=AZ[n];d.style[i]=r}})),d.className=p.join(" ")}c.push(h[1]),l.appendChild(d),l=d}return a}var NZ=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function LZ(e){for(var t=0;t<NZ.length;t++){var n=NZ[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function RZ(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var o=0;o<n.length;o++)if(LZ(n.charCodeAt(o)))return"rtl";return"ltr"}function jZ(){}function MZ(e,t,n){jZ.call(this),this.cue=t,this.cueDiv=OZ(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:RZ(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":case"line-left":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":case"line-right":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function UZ(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function BZ(e,t,n,i){var r=new UZ(t),o=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),a=[];if(o.snapToLines){var l;switch(o.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=r.lineHeight,d=c*Math.round(s),u=n[l]+c,h=a[0];Math.abs(d)>u&&(d=d<0?-1:1,d*=Math.ceil(u/c)*c),s<0&&(d+=""===o.vertical?n.height:n.width,a=a.reverse()),r.move(h,d)}else{var p=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],r=new UZ(t)}var m=function(e,t){for(var r,o=new UZ(e),s=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(i);)e.move(t[a]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(r=new UZ(e),s=l),e=new UZ(o)}return r||o}(r,a);t.move(m.toCSSCompatValues(n))}function FZ(){}jZ.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},jZ.prototype.formatStyle=function(e,t){return 0===e?0:e+t},MZ.prototype=_Z(jZ.prototype),MZ.prototype.constructor=MZ,UZ.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},UZ.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},UZ.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},UZ.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},UZ.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},UZ.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},UZ.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},UZ.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},FZ.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},FZ.convertCueToDOMTree=function(e,t){return e&&t?OZ(e,t):null};FZ.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=UZ.getSimpleBoxPosition(i),s={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,a,l=0;l<t.length;l++)a=t[l],n=new MZ(e,a,s),i.appendChild(n.div),BZ(0,n,o,r),a.displayState=n.div,r.push(UZ.getSimpleBoxPosition(n))}()}else for(var a=0;a<t.length;a++)i.appendChild(t[a].displayState)},FZ.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},FZ.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof xZ))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var i=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?SZ(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new TZ;SZ(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",kZ(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):SZ(e,(function(e,n){if("Region"===e)!function(e){var n=new TZ;if(SZ(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var r=new TZ;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(e+"X",r.get("x")),n.set(e+"Y",r.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var i=new(t.vttjs.VTTRegion||t.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:n.get("id"),region:i})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new xZ(xZ.Errors.BadSignature);t.state="HEADER"}for(var s=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:r=n(),t.state){case"HEADER":/:/.test(r)?i(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(HS){t.cue.align="middle"}if(t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{EZ(r,t.cue,t.regionList)}catch(HS){t.reportOrThrowError(HS),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var a=-1!==r.indexOf("--\x3e");if(!r||a&&(s=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(t.state="ID");continue}}}catch(HS){t.reportOrThrowError(HS),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new xZ(xZ.Errors.BadSignature)}catch(HS){e.reportOrThrowError(HS)}return e.onflush&&e.onflush(),this}};var zZ=FZ,$Z={"":1,lr:1,rl:1},VZ={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function qZ(e){return"string"==typeof e&&(!!VZ[e.toLowerCase()]&&e.toLowerCase())}function HZ(e,t,n){this.hasBeenReset=!1;var i="",r=!1,o=e,s=t,a=n,l=null,c="",d=!0,u="auto",h="start",p="auto",m="auto",f=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");s=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(e){a=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"==typeof e&&!!$Z[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");u=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=qZ(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=qZ(e);t?(m=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");f=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=qZ(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}HZ.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var WZ=HZ,GZ={"":!0,up:!0};function YZ(e){return"number"==typeof e&&e>=0&&e<=100}var KZ=function(){var e=100,t=3,n=0,i=100,r=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!YZ(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(e){if(!YZ(e))throw new Error("RegionAnchorX must be between 0 and 100.");i=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!YZ(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!YZ(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!YZ(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=function(e){return"string"==typeof e&&!!GZ[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):s=t}}})},XZ=VJ,QZ=yZ.exports={WebVTT:zZ,VTTCue:WZ,VTTRegion:KZ};XZ.vttjs=QZ,XZ.WebVTT=QZ.WebVTT;var JZ=QZ.VTTCue,ZZ=QZ.VTTRegion,e0=XZ.VTTCue,t0=XZ.VTTRegion;QZ.shim=function(){XZ.VTTCue=JZ,XZ.VTTRegion=ZZ},QZ.restore=function(){XZ.VTTCue=e0,XZ.VTTRegion=t0},XZ.VTTCue||QZ.shim();const n0=o(yZ.exports);var i0="https://example.com",r0=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=qJ.location&&qJ.location.href||"");var n=/^\/\//.test(e),i=!qJ.location&&!/\/\//i.test(e);e=new qJ.URL(e,qJ.location||i0);var r=new URL(t,e);return i?r.href.slice(19):n?r.href.slice(r.protocol.length):r.href},o0=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function s0(e){for(var t,n=(t=e,qJ.atob?qJ.atob(t):Buffer.from(t,"base64").toString("binary")),i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class a0 extends o0{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const l0=String.fromCharCode(9),c0=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},d0=function(e){const t={};if(!e)return t;const n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let i,r=n.length;for(;r--;)""!==n[r]&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t},u0=e=>{const t=e.split("x"),n={};return t[0]&&(n.width=parseInt(t[0],10)),t[1]&&(n.height=parseInt(t[1],10)),n};class h0 extends o0{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,n;if(0===(e=e.trim()).length)return;if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});this.tagMappers.reduce(((t,n)=>{const i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return n=MT(c0(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(n={type:"tag",tagType:"map"},t[1]){const e=d0(t[1]);e.URI&&(n.uri=e.URI),e.BYTERANGE&&(n.byterange=c0(e.BYTERANGE))}this.trigger("data",n)}else{if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t)return n={type:"tag",tagType:"stream-inf"},t[1]&&(n.attributes=d0(t[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=u0(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=d0(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=d0(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=d0(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"skip"},n.attributes=d0(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(l0)),void this.trigger("data",n);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part"},n.attributes=d0(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=c0(n.attributes.BYTERANGE)),void this.trigger("data",n);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"server-control"},n.attributes=d0(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void this.trigger("data",n);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part-inf"},n.attributes=d0(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void this.trigger("data",n);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"preload-hint"},n.attributes=d0(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);const t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void this.trigger("data",n);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"rendition-report"},n.attributes=d0(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void this.trigger("data",n);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){n={type:"tag",tagType:"daterange"},n.attributes=d0(t[1]),["ID","CLASS"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=String(n.attributes[e]))})),["START-DATE","END-DATE"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=new Date(n.attributes[e]))})),["DURATION","PLANNED-DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["END-ON-NEXT"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/i.test(n.attributes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=n.attributes[e].toString(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in n.attributes){if(!e.test(t))continue;const i=/[0-9A-Fa-f]{6}/g.test(n.attributes[t]),r=/^\d+(\.\d+)?$/.test(n.attributes[t]);n.attributes[t]=i?n.attributes[t].toString(16):r?parseFloat(n.attributes[t]):String(n.attributes[t])}this.trigger("data",n)}else if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t)this.trigger("data",{type:"tag",tagType:"independent-segments"});else if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"i-frames-only"});else{if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(e),t)return n={type:"tag",tagType:"content-steering"},n.attributes=d0(t[1]),void this.trigger("data",n);if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(e),t)return n={type:"tag",tagType:"i-frame-playlist"},n.attributes=d0(t[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=u0(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),void this.trigger("data",n);if(t=/^#EXT-X-DEFINE:(.*)$/.exec(e),t)return n={type:"tag",tagType:"define"},n.attributes=d0(t[1]),void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}}else this.trigger("data",{type:"comment",text:e.slice(1)})}))}addParser({expression:e,customType:t,dataParser:n,segment:i}){"function"!=typeof n&&(n=e=>e),this.customParsers.push((r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:n(r),customType:t,segment:i}),!0}))}addTagMapper({expression:e,map:t}){this.tagMappers.push((n=>e.test(n)?t(n):n))}}const p0=function(e){const t={};return Object.keys(e).forEach((function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,(e=>e[1].toUpperCase())))]=e[n]})),t},m0=function(e){const{serverControl:t,targetDuration:n,partTargetDuration:i}=e;if(!t)return;const r="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=n&&3*n,l=i&&2*i;n&&!t.hasOwnProperty(o)&&(t[o]=a,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&t[o]<a&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${t[o]}) to targetDuration * 3 (${a})`}),t[o]=a),i&&!t.hasOwnProperty(s)&&(t[s]=3*i,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[s]}).`})),i&&t[s]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${t[s]}) to partTargetDuration * 2 (${l}).`}),t[s]=l)};class f0 extends o0{constructor(e={}){super(),this.lineStream=new a0,this.parseStream=new h0,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const t=this,n=[];let i,r,o={},s=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let c=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let d=0,u=0;const h={};this.on("end",(()=>{o.uri||!o.parts&&!o.preloadHints||(!o.map&&i&&(o.map=i),!o.key&&r&&(o.key=r),o.timeline||"number"!=typeof c||(o.timeline=c),this.manifest.preloadSegment=o)})),this.parseStream.on("data",(function(e){let p,m;if(t.manifest.definitions)for(const n in t.manifest.definitions)if(e.uri&&(e.uri=e.uri.replace(`{$${n}}`,t.manifest.definitions[n])),e.attributes)for(const i in e.attributes)"string"==typeof e.attributes[i]&&(e.attributes[i]=e.attributes[i].replace(`{$${n}}`,t.manifest.definitions[n]));({tag(){({version(){e.version&&(this.manifest.version=e.version)},"allow-cache"(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(e.offset=d)),"offset"in e&&(o.byterange=t,t.offset=e.offset),d=t.offset+t.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.title&&(o.title=e.title),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:s0(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence"(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type"(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map(){i={},e.uri&&(i.uri=e.uri),e.byterange&&(i.byterange=e.byterange),r&&(i.key=r)},"stream-inf"(){this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(o.attributes||(o.attributes={}),MT(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},p=t[e.attributes["GROUP-ID"]],m={default:/yes/i.test(e.attributes.DEFAULT)},m.default?m.autoselect=!0:m.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(m.language=e.attributes.LANGUAGE),e.attributes.URI&&(m.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(m.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(m.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(m.forced=/yes/i.test(e.attributes.FORCED)),p[e.attributes.NAME]=m},discontinuity(){c+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject;const{lastProgramDateTime:t}=this;this.lastProgramDateTime=new Date(e.dateTimeString).getTime(),null===t&&this.manifest.segments.reduceRight(((e,t)=>(t.programDateTime=e-1e3*t.duration,t.programDateTime)),this.lastProgramDateTime)},targetduration(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,m0.call(this,this.manifest))},start(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){o.cueOut=e.data},"cue-out-cont"(){o.cueOutCont=e.data},"cue-in"(){o.cueIn=e.data},skip(){this.manifest.skip=p0(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part(){s=!0;const t=this.manifest.segments.length,n=p0(e.attributes);o.parts=o.parts||[],o.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=u),u=n.byterange.offset+n.byterange.length);const i=o.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${i} for segment #${t}`,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})}))},"server-control"(){const t=this.manifest.serverControl=p0(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),m0.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const t=this.manifest.segments.length,n=p0(e.attributes),i=n.type&&"PART"===n.type;o.preloadHints=o.preloadHints||[],o.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=i?u:0,i&&(u=n.byterange.offset+n.byterange.length)));const r=o.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${r} for segment #${t}`,e.attributes,["TYPE","URI"]),n.type)for(let e=0;e<o.preloadHints.length-1;e++){const i=o.preloadHints[e];i.type&&(i.type===n.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${r} for segment #${t} has the same TYPE ${n.type} as preload hint #${e}`}))}},"rendition-report"(){const t=p0(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);const n=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];s&&i.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${n}`,e.attributes,i)},"part-inf"(){this.manifest.partInf=p0(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),m0.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(p0(e.attributes));const t=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${t}`,e.attributes,["ID","START-DATE"]);const n=this.manifest.dateRanges[t];n.endDate&&n.startDate&&new Date(n.endDate)<new Date(n.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),n.duration&&n.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),n.plannedDuration&&n.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const i=!!n.endOnNext;if(i&&!n.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),i&&(n.duration||n.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),n.duration&&n.endDate){const e=n.startDate.getTime()+1e3*n.duration;this.manifest.dateRanges[t].endDate=new Date(e)}if(h[n.id]){for(const t in h[n.id])if(n[t]&&JSON.stringify(h[n.id][t])!==JSON.stringify(n[t])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const e=this.manifest.dateRanges.findIndex((e=>e.id===n.id));this.manifest.dateRanges[e]=MT(this.manifest.dateRanges[e],n),h[n.id]=MT(h[n.id],n),this.manifest.dateRanges.pop()}else h[n.id]=n},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=p0(e.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",e.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const t=(e,t)=>{e in this.manifest.definitions?this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${e}`}):this.manifest.definitions[e]=t};if("QUERYPARAM"in e.attributes){if("NAME"in e.attributes||"IMPORT"in e.attributes)return void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});const n=this.params.get(e.attributes.QUERYPARAM);return n?void t(e.attributes.QUERYPARAM,decodeURIComponent(n)):void this.trigger("error",{message:`EXT-X-DEFINE: No query param ${e.attributes.QUERYPARAM}`})}return"NAME"in e.attributes?"IMPORT"in e.attributes?void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"}):"VALUE"in e.attributes&&"string"==typeof e.attributes.VALUE?void t(e.attributes.NAME,e.attributes.VALUE):void this.trigger("error",{message:`EXT-X-DEFINE: No value for ${e.attributes.NAME}`}):"IMPORT"in e.attributes?this.mainDefinitions[e.attributes.IMPORT]?void t(e.attributes.IMPORT,this.mainDefinitions[e.attributes.IMPORT]):void this.trigger("error",{message:`EXT-X-DEFINE: No value ${e.attributes.IMPORT} to import, or IMPORT used on main playlist`}):void this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:e.attributes,uri:e.uri,timeline:c}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",e.attributes,["BANDWIDTH","URI"])}}[e.tagType]||a).call(t)},uri(){o.uri=e.uri,n.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),r&&(o.key=r),o.timeline=c,i&&(o.map=i),u=0,null!==this.lastProgramDateTime&&(o.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=1e3*o.duration),o={}},comment(){},custom(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(t)}))}requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:`manifest must be at least version ${t}`})}warnOnMissingAttributes_(e,t,n){const i=[];n.forEach((function(e){t.hasOwnProperty(e)||i.push(e)})),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&null===this.lastProgramDateTime&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var g0={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},b0=["video","audio","text"],v0=["Video","Audio","Text"],y0=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},w0=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),b0.forEach((function(i){var r=g0[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var o=e.substring(0,r[1].length),s=e.replace(o,"");n.push({type:o,details:s,mediaType:i})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},_0=function(e){return void 0===e&&(e=""),g0.audio.test(e.trim().toLowerCase())},x0=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return y0(e.trim())})),i="video";1===n.length&&_0(n[0])?i="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),g0.text.test(t.trim().toLowerCase()))&&(i="application");var r="mp4";return n.every((function(e){return g0.mp4.test(e)}))?r="mp4":n.every((function(e){return g0.webm.test(e)}))?r="webm":n.every((function(e){return g0.ogg.test(e)}))&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},k0=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),qJ.MediaSource&&qJ.MediaSource.isTypeSupported&&qJ.MediaSource.isTypeSupported(x0(e))||t&&qJ.ManagedMediaSource&&qJ.ManagedMediaSource.isTypeSupported&&qJ.ManagedMediaSource.isTypeSupported(x0(e))||!1},T0=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<v0.length;t++){if(g0["muxer"+v0[t]].test(e))return!0}return!1}))},S0="mp4a.40.2",E0=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,C0=/^application\/dash\+xml/i,I0=function(e){return E0.test(e)?"hls":C0.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},A0=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},P0=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||A0(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},D0=qJ.BigInt||Number,O0=[D0("0x1"),D0("0x100"),D0("0x10000"),D0("0x1000000"),D0("0x100000000"),D0("0x10000000000"),D0("0x1000000000000"),D0("0x100000000000000"),D0("0x10000000000000000")];!function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();var N0=function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,o=n.le,s=void 0!==o&&o;e=P0(e);var a=s?"reduce":"reduceRight",l=(e[a]?e[a]:Array.prototype[a]).call(e,(function(t,n,i){var r=s?i:Math.abs(i+1-e.length);return t+D0(n)*O0[r]}),D0(0));if(r){var c=O0[e.length]/D0(2)-D0(1);(l=D0(l))>c&&(l-=c,l-=c,l-=D0(2))}return Number(l)},L0=function(e,t){var n={}.le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var r=function(e){return Math.ceil(function(e){return e.toString(2).length}(e)/8)}(e=D0(e)),o=new Uint8Array(new ArrayBuffer(r)),s=0;s<r;s++){var a=i?s:Math.abs(s+1-o.length);o[a]=Number(e/O0[s]&D0(255)),e<0&&(o[a]=Math.abs(~o[a]),o[a]-=0===s?1:2)}return o},R0=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},j0=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,o=void 0===r?0:r,s=i.mask,a=void 0===s?[]:s;e=P0(e);var l=(t=P0(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&l.call(t,(function(t,n){return t===(a[n]?a[n]&e[o+n]:e[o+n])}))},M0={},U0={};function B0(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var F0=B0({HTML:"text/html",isHTML:function(e){return e===F0.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),z0=B0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===z0.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});U0.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},U0.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},U0.freeze=B0,U0.MIME_TYPE=F0,U0.NAMESPACE=z0;var $0=U0,V0=$0.find,q0=$0.NAMESPACE;function H0(e){return""!==e}function W0(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function G0(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(H0):[]}(e);return Object.keys(t.reduce(W0,{}))}function Y0(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function K0(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,Y0(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var X0={},Q0=X0.ELEMENT_NODE=1,J0=X0.ATTRIBUTE_NODE=2,Z0=X0.TEXT_NODE=3,e1=X0.CDATA_SECTION_NODE=4,t1=X0.ENTITY_REFERENCE_NODE=5,n1=X0.ENTITY_NODE=6,i1=X0.PROCESSING_INSTRUCTION_NODE=7,r1=X0.COMMENT_NODE=8,o1=X0.DOCUMENT_NODE=9,s1=X0.DOCUMENT_TYPE_NODE=10,a1=X0.DOCUMENT_FRAGMENT_NODE=11,l1=X0.NOTATION_NODE=12,c1={},d1={};c1.INDEX_SIZE_ERR=(d1[1]="Index size error",1),c1.DOMSTRING_SIZE_ERR=(d1[2]="DOMString size error",2);var u1=c1.HIERARCHY_REQUEST_ERR=(d1[3]="Hierarchy request error",3);c1.WRONG_DOCUMENT_ERR=(d1[4]="Wrong document",4),c1.INVALID_CHARACTER_ERR=(d1[5]="Invalid character",5),c1.NO_DATA_ALLOWED_ERR=(d1[6]="No data allowed",6),c1.NO_MODIFICATION_ALLOWED_ERR=(d1[7]="No modification allowed",7);var h1=c1.NOT_FOUND_ERR=(d1[8]="Not found",8);c1.NOT_SUPPORTED_ERR=(d1[9]="Not supported",9);var p1=c1.INUSE_ATTRIBUTE_ERR=(d1[10]="Attribute in use",10);function m1(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,d1[e]),this.message=d1[e],Error.captureStackTrace&&Error.captureStackTrace(this,m1);return n.code=e,t&&(this.message=this.message+": "+t),n}function f1(){}function g1(e,t){this._node=e,this._refresh=t,b1(this)}function b1(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(r2(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];Y0(n,e),e._inc=t}}function v1(){}function y1(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function w1(e,t,n,i){if(i?t[y1(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&C1(r,e,i),function(e,t,n){e&&e._inc++;var i=n.namespaceURI;i===q0.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function _1(e,t,n){var i=y1(t,n);if(!(i>=0))throw new m1(h1,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(C1(o,e,n),n.ownerElement=null)}}function x1(){}function k1(){}function T1(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function S1(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(S1(e,t))return!0}while(e=e.nextSibling)}function E1(){this.ownerDocument=this}function C1(e,t,n,i){e&&e._inc++,n.namespaceURI===q0.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function I1(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o,delete i[i.length]}}}function A1(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,I1(e.ownerDocument,e),t}function P1(e){return e&&e.nodeType===k1.DOCUMENT_TYPE_NODE}function D1(e){return e&&e.nodeType===k1.ELEMENT_NODE}function O1(e){return e&&e.nodeType===k1.TEXT_NODE}function N1(e,t){var n=e.childNodes||[];if(V0(n,D1)||P1(t))return!1;var i=V0(n,P1);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function L1(e,t){var n=e.childNodes||[];if(V0(n,(function(e){return D1(e)&&e!==t})))return!1;var i=V0(n,P1);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function R1(e,t,n){if(!function(e){return e&&(e.nodeType===k1.DOCUMENT_NODE||e.nodeType===k1.DOCUMENT_FRAGMENT_NODE||e.nodeType===k1.ELEMENT_NODE)}(e))throw new m1(u1,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new m1(h1,"child not in parent");if(!function(e){return e&&(D1(e)||O1(e)||P1(e)||e.nodeType===k1.DOCUMENT_FRAGMENT_NODE||e.nodeType===k1.COMMENT_NODE||e.nodeType===k1.PROCESSING_INSTRUCTION_NODE)}(t)||P1(t)&&e.nodeType!==k1.DOCUMENT_NODE)throw new m1(u1,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function j1(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===k1.DOCUMENT_FRAGMENT_NODE){var o=r.filter(D1);if(o.length>1||V0(r,O1))throw new m1(u1,"More than one element or text in fragment");if(1===o.length&&!N1(e,n))throw new m1(u1,"Element in fragment can not be inserted before doctype")}if(D1(t)&&!N1(e,n))throw new m1(u1,"Only one element can be added and only after doctype");if(P1(t)){if(V0(i,P1))throw new m1(u1,"Only one doctype is allowed");var s=V0(i,D1);if(n&&i.indexOf(s)<i.indexOf(n))throw new m1(u1,"Doctype can only be inserted before an element");if(!n&&s)throw new m1(u1,"Doctype can not be appended since element is present")}}function M1(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===k1.DOCUMENT_FRAGMENT_NODE){var o=r.filter(D1);if(o.length>1||V0(r,O1))throw new m1(u1,"More than one element or text in fragment");if(1===o.length&&!L1(e,n))throw new m1(u1,"Element in fragment can not be inserted before doctype")}if(D1(t)&&!L1(e,n))throw new m1(u1,"Only one element can be added and only after doctype");if(P1(t)){function a(e){return P1(e)&&e!==n}if(V0(i,a))throw new m1(u1,"Only one doctype is allowed");var s=V0(i,D1);if(n&&i.indexOf(s)<i.indexOf(n))throw new m1(u1,"Doctype can only be inserted before an element")}}function U1(e,t,n,i){R1(e,t,n),e.nodeType===k1.DOCUMENT_NODE&&(i||j1)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===a1){var o=t.firstChild;if(null==o)return t;var s=t.lastChild}else o=s=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,s.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=s:n.previousSibling=s;do{o.parentNode=e}while(o!==s&&(o=o.nextSibling));return I1(e.ownerDocument||e,e),t.nodeType==a1&&(t.firstChild=t.lastChild=null),t}function B1(){this._nsMap={}}function F1(){}function z1(){}function $1(){}function V1(){}function q1(){}function H1(){}function W1(){}function G1(){}function Y1(){}function K1(){}function X1(){}function Q1(){}function J1(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return t2(this,n,e,t,s),n.join("")}function Z1(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===i&&r===q0.XML||r===q0.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===i)return s.namespace!==r}return!0}function e2(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,T1),'"')}function t2(e,t,n,i,r){if(r||(r=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case Q0:var o=e.attributes,s=o.length,a=e.firstChild,l=e.tagName,c=l;if(!(n=q0.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var d,u=0;u<o.length;u++)if("xmlns"===o.item(u).name){d=o.item(u).value;break}if(!d)for(var h=r.length-1;h>=0;h--){if(""===(p=r[h]).prefix&&p.namespace===e.namespaceURI){d=p.namespace;break}}if(d!==e.namespaceURI)for(h=r.length-1;h>=0;h--){var p;if((p=r[h]).namespace===e.namespaceURI){p.prefix&&(c=p.prefix+":"+l);break}}}t.push("<",c);for(var m=0;m<s;m++){"xmlns"==(f=o.item(m)).prefix?r.push({prefix:f.localName,namespace:f.value}):"xmlns"==f.nodeName&&r.push({prefix:"",namespace:f.value})}for(m=0;m<s;m++){var f,g,b;if(Z1(f=o.item(m),0,r))e2(t,(g=f.prefix||"")?"xmlns:"+g:"xmlns",b=f.namespaceURI),r.push({prefix:g,namespace:b});t2(f,t,n,i,r)}if(l===c&&Z1(e,0,r))e2(t,(g=e.prefix||"")?"xmlns:"+g:"xmlns",b=e.namespaceURI),r.push({prefix:g,namespace:b});if(a||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;a;)a.data?t.push(a.data):t2(a,t,n,i,r.slice()),a=a.nextSibling;else for(;a;)t2(a,t,n,i,r.slice()),a=a.nextSibling;t.push("</",c,">")}else t.push("/>");return;case o1:case a1:for(a=e.firstChild;a;)t2(a,t,n,i,r.slice()),a=a.nextSibling;return;case J0:return e2(t,e.name,e.value);case Z0:return t.push(e.data.replace(/[<&>]/g,T1));case e1:return t.push("<![CDATA[",e.data,"]]>");case r1:return t.push("\x3c!--",e.data,"--\x3e");case s1:var v=e.publicId,y=e.systemId;if(t.push("<!DOCTYPE ",e.name),v)t.push(" PUBLIC ",v),y&&"."!=y&&t.push(" ",y),t.push(">");else if(y&&"."!=y)t.push(" SYSTEM ",y,">");else{var w=e.internalSubset;w&&t.push(" [",w,"]"),t.push(">")}return;case i1:return t.push("<?",e.target," ",e.data,"?>");case t1:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function n2(e,t,n){var i;switch(t.nodeType){case Q0:(i=t.cloneNode(!1)).ownerDocument=e;case a1:break;case J0:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(n2(e,r,n)),r=r.nextSibling;return i}function i2(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(t.childNodes&&(i.childNodes=new f1),i.ownerDocument=e,i.nodeType){case Q0:var s=t.attributes,a=i.attributes=new v1,l=s.length;a._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(i2(e,s.item(c),!0));break;case J0:n=!0}if(n)for(var d=t.firstChild;d;)i.appendChild(i2(e,d,n)),d=d.nextSibling;return i}function r2(e,t,n){e[t]=n}c1.INVALID_STATE_ERR=(d1[11]="Invalid state",11),c1.SYNTAX_ERR=(d1[12]="Syntax error",12),c1.INVALID_MODIFICATION_ERR=(d1[13]="Invalid modification",13),c1.NAMESPACE_ERR=(d1[14]="Invalid namespace",14),c1.INVALID_ACCESS_ERR=(d1[15]="Invalid access",15),m1.prototype=Error.prototype,Y0(c1,m1),f1.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)t2(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},g1.prototype.item=function(e){return b1(this),this[e]||null},K0(g1,f1),v1.prototype={length:0,item:f1.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new m1(p1);var n=this.getNamedItem(e.nodeName);return w1(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new m1(p1);return t=this.getNamedItemNS(e.namespaceURI,e.localName),w1(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return _1(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return _1(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},x1.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new E1;if(i.implementation=this,i.childNodes=new f1,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new H1;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},k1.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U1(this,e,t)},replaceChild:function(e,t){U1(this,e,t,M1),t&&this.removeChild(t)},removeChild:function(e){return A1(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return i2(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Z0&&e.nodeType==Z0?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==J0?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==J0?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},Y0(X0,k1),Y0(X0,k1.prototype),E1.prototype={nodeName:"#document",nodeType:o1,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==a1){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return U1(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===Q0&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),A1(this,e)},replaceChild:function(e,t){U1(this,e,t,M1),e.ownerDocument=this,t&&this.removeChild(t),D1(e)&&(this.documentElement=e)},importNode:function(e,t){return n2(this,e,t)},getElementById:function(e){var t=null;return S1(this.documentElement,(function(n){if(n.nodeType==Q0&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=G0(e);return new g1(this,(function(n){var i=[];return t.length>0&&S1(n.documentElement,(function(r){if(r!==n&&r.nodeType===Q0){var o=r.getAttribute("class");if(o){var s=e===o;if(!s){var a=G0(o);s=t.every(function(e){return function(t){return e&&-1!==e.indexOf(t)}}(a))}s&&i.push(r)}}})),i}))},createElement:function(e){var t=new B1;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new f1,(t.attributes=new v1)._ownerElement=t,t},createDocumentFragment:function(){var e=new K1;return e.ownerDocument=this,e.childNodes=new f1,e},createTextNode:function(e){var t=new $1;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new V1;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new q1;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new X1;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new F1;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y1;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new B1,i=t.split(":"),r=n.attributes=new v1;return n.childNodes=new f1,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new F1,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},K0(E1,k1),B1.prototype={nodeType:Q0,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===a1?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,I1(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new g1(this,(function(t){var n=[];return S1(t,(function(i){i===t||i.nodeType!=Q0||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new g1(this,(function(n){var i=[];return S1(n,(function(r){r===n||r.nodeType!==Q0||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},E1.prototype.getElementsByTagName=B1.prototype.getElementsByTagName,E1.prototype.getElementsByTagNameNS=B1.prototype.getElementsByTagNameNS,K0(B1,k1),F1.prototype.nodeType=J0,K0(F1,k1),z1.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(d1[u1])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},K0(z1,k1),$1.prototype={nodeName:"#text",nodeType:Z0,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},K0($1,z1),V1.prototype={nodeName:"#comment",nodeType:r1},K0(V1,z1),q1.prototype={nodeName:"#cdata-section",nodeType:e1},K0(q1,z1),H1.prototype.nodeType=s1,K0(H1,k1),W1.prototype.nodeType=l1,K0(W1,k1),G1.prototype.nodeType=n1,K0(G1,k1),Y1.prototype.nodeType=t1,K0(Y1,k1),K1.prototype.nodeName="#document-fragment",K1.prototype.nodeType=a1,K0(K1,k1),X1.prototype.nodeType=i1,K0(X1,k1),Q1.prototype.serializeToString=function(e,t,n){return J1.call(e,t,n)},k1.prototype.toString=J1;try{if(Object.defineProperty){function zie(e){switch(e.nodeType){case Q0:case a1:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(zie(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(g1.prototype,"length",{get:function(){return b1(this),this.$$length}}),Object.defineProperty(k1.prototype,"textContent",{get:function(){return zie(this)},set:function(e){switch(this.nodeType){case Q0:case a1:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),r2=function(e,t,n){e["$$"+t]=n}}}catch(HS){}M0.DocumentType=H1,M0.DOMException=m1,M0.DOMImplementation=x1,M0.Element=B1,M0.Node=k1,M0.NodeList=f1,M0.XMLSerializer=Q1;var o2={},s2={};!function(e){var t=U0.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES}(s2);var a2={},l2=U0.NAMESPACE,c2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d2=new RegExp("[\\-\\.0-9"+c2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),u2=new RegExp("^"+c2.source+d2.source+"*(?::"+c2.source+d2.source+"*)?$");function h2(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,h2)}function p2(){}function m2(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function f2(e,t,n,i,r,o){function s(e,t,i){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),i)}for(var a,l=++t,c=0;;){var d=e.charAt(l);switch(d){case"=":if(1===c)a=e.slice(t,l),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),a=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(a,u=e.slice(t,l),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');s(a,u=e.slice(t,l),t),o.warning('attribute "'+a+'" missed start quot('+d+")!!"),t=l+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,l)),l;case">":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(u=e.slice(t,l)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case 2:2===c&&(u=a),4==c?(o.warning('attribute "'+u+'" missed quot(")!'),s(a,u,t)):(l2.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(c){case 0:n.setTagName(e.slice(t,l)),c=6;break;case 1:a=e.slice(t,l),c=2;break;case 4:var u=e.slice(t,l);o.warning('attribute "'+u+'" missed quot(")!!'),s(a,u,t);case 5:c=6}else switch(c){case 2:n.tagName,l2.isHTML(i[""])&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,t),t=l,c=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:c=1,t=l;break;case 3:c=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function g2(e,t,n){for(var i=e.tagName,r=null,o=e.length;o--;){var s=e[o],a=s.qName,l=s.value;if((h=a.indexOf(":"))>0)var c=s.prefix=a.slice(0,h),d=a.slice(h+1),u="xmlns"===c&&d;else d=a,c=null,u="xmlns"===a&&"";s.localName=d,!1!==u&&(null==r&&(r={},y2(n,n={})),n[u]=r[u]=l,s.uri=l2.XMLNS,t.startPrefixMapping(u,l))}for(o=e.length;o--;){(c=(s=e[o]).prefix)&&("xml"===c&&(s.uri=l2.XML),"xmlns"!==c&&(s.uri=n[c||""]))}var h;(h=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,h),d=e.localName=i.slice(h+1)):(c=null,d=e.localName=i);var p=e.uri=n[c||""];if(t.startElement(p,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(p,d,i),r)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&t.endPrefixMapping(c)}function b2(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),o)}return t+1}function v2(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function y2(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function w2(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],l=!1,c=!1;s>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=s>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var d=o[s-1];return n.startDTD(a,l,c),n.endDTD(),d.index+d[0].length}return-1}function _2(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function x2(){this.attributeNames={}}h2.prototype=new Error,h2.prototype.name=h2.name,p2.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),y2(t,t={}),function(e,t,n,i,r){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function a(t){if(t>f){var n=e.substring(f,t).replace(/&#?\w+;/g,s);h&&l(f),i.characters(n,0,t-f),f=t}}function l(t,n){for(;t>=d&&(n=u.exec(e));)c=n.index,d=c+n[0].length,h.lineNumber++;h.columnNumber=t-c+1}var c=0,d=0,u=/.*(?:\r\n?|\n)|.*$/g,h=i.locator,p=[{currentNSMap:t}],m={},f=0;for(;;){try{var g=e.indexOf("<",f);if(g<0){if(!e.substr(f).match(/^\s*$/)){var b=i.doc,v=b.createTextNode(e.substr(f));b.appendChild(v),i.currentElement=v}return}switch(g>f&&a(g),e.charAt(g+1)){case"/":var y=e.indexOf(">",g+3),w=e.substring(g+2,y).replace(/[ \t\n\r]+$/g,""),_=p.pop();y<0?(w=e.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+w+" is not complete:"+_.tagName),y=g+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),r.error("end tag name: "+w+" maybe not complete"),y=g+1+w.length);var x=_.localNSMap,k=_.tagName==w;if(k||_.tagName&&_.tagName.toLowerCase()==w.toLowerCase()){if(i.endElement(_.uri,_.localName,w),x)for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&i.endPrefixMapping(T);k||r.fatalError("end tag name: "+w+" is not match the current start tagName:"+_.tagName)}else p.push(_);y++;break;case"?":h&&l(g),y=_2(e,g,i);break;case"!":h&&l(g),y=w2(e,g,i,r);break;default:h&&l(g);var S=new x2,E=p[p.length-1].currentNSMap,C=(y=f2(e,g,S,E,s,r),S.length);if(!S.closed&&v2(e,y,S.tagName,m)&&(S.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),h&&C){for(var I=m2(h,{}),A=0;A<C;A++){var P=S[A];l(P.offset),P.locator=m2(h,{})}i.locator=I,g2(S,i,E)&&p.push(S),i.locator=h}else g2(S,i,E)&&p.push(S);l2.isHTML(S.uri)&&!S.closed?y=b2(e,y,S.tagName,s,i):y++}}catch(HS){if(HS instanceof h2)throw HS;r.error("element parse error: "+HS),y=-1}y>f?f=y:a(Math.max(g,f)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},x2.prototype={setTagName:function(e){if(!u2.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!u2.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},a2.XMLReader=p2,a2.ParseError=h2;var k2=U0,T2=s2,S2=a2,E2=M0.DOMImplementation,C2=k2.NAMESPACE,I2=S2.ParseError,A2=S2.XMLReader;function P2(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function D2(e){this.options=e||{locator:{}}}function O2(){this.cdata=!1}function N2(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function L2(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function R2(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function j2(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}D2.prototype.parseFromString=function(e,t){var n=this.options,i=new A2,r=n.domBuilder||new O2,o=n.errorHandler,s=n.locator,a=n.xmlns||{},l=/\/x?html?$/.test(t),c=l?T2.HTML_ENTITIES:T2.XML_ENTITIES;s&&r.setDocumentLocator(s),i.errorHandler=function(e,t,n){if(!e){if(t instanceof O2)return t;e=t}var i={},r=e instanceof Function;function o(t){var o=e[t];!o&&r&&(o=2==e.length?function(n){e(t,n)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+L2(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),i}(o,r,s),i.domBuilder=n.domBuilder||r,l&&(a[""]=C2.HTML),a.xml=a.xml||C2.XML;var d=n.normalizeLineEndings||P2;return e&&"string"==typeof e?i.parse(d(e),a,c):i.errorHandler.error("invalid doc source"),r.doc},O2.prototype={startDocument:function(){this.doc=(new E2).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),s=i.length;j2(this,o),this.currentElement=o,this.locator&&N2(this.locator,o);for(var a=0;a<s;a++){e=i.getURI(a);var l=i.getValue(a),c=(n=i.getQName(a),r.createAttributeNS(e,n));this.locator&&N2(i.getLocator(a),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&N2(this.locator,n),j2(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=R2.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&N2(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=R2.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&N2(this.locator,i),j2(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&N2(this.locator,r),j2(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,L2(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,L2(this.locator))},fatalError:function(e){throw new I2(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){O2.prototype[e]=function(){return null}})),o2.__DOMHandler=O2,o2.normalizeLineEndings=P2,o2.DOMParser=D2;var M2=o2.DOMParser;/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const U2=e=>!!e&&"object"==typeof e,B2=(...e)=>e.reduce(((e,t)=>("object"!=typeof t||Object.keys(t).forEach((n=>{Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=e[n].concat(t[n]):U2(e[n])&&U2(t[n])?e[n]=B2(e[n],t[n]):e[n]=t[n]})),e)),{}),F2=e=>Object.keys(e).map((t=>e[t])),z2=e=>e.reduce(((e,t)=>e.concat(t)),[]),$2=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t};var V2="INVALID_NUMBER_OF_PERIOD",q2="DASH_EMPTY_MANIFEST",H2="DASH_INVALID_XML",W2="NO_BASE_URL",G2="SEGMENT_TIME_UNSPECIFIED",Y2="UNSUPPORTED_UTC_TIMING_SCHEME";const K2=({baseUrl:e="",source:t="",range:n="",indexRange:i=""})=>{const r={uri:t,resolvedUri:r0(e||"",t)};if(n||i){const e=(n||i).split("-");let t,o=qJ.BigInt?qJ.BigInt(e[0]):parseInt(e[0],10),s=qJ.BigInt?qJ.BigInt(e[1]):parseInt(e[1],10);o<Number.MAX_SAFE_INTEGER&&"bigint"==typeof o&&(o=Number(o)),s<Number.MAX_SAFE_INTEGER&&"bigint"==typeof s&&(s=Number(s)),t="bigint"==typeof s||"bigint"==typeof o?qJ.BigInt(s)-qJ.BigInt(o)+qJ.BigInt(1):s-o+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),r.byterange={length:t,offset:o}}return r},X2=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),Q2={static(e){const{duration:t,timescale:n=1,sourceDuration:i,periodDuration:r}=e,o=X2(e.endNumber),s=t/n;return"number"==typeof o?{start:0,end:o}:"number"==typeof r?{start:0,end:r/s}:{start:0,end:i/s}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=e,c=X2(e.endNumber),d=(t+n)/1e3,u=i+s,h=d+a-u,p=Math.ceil(h*r/o),m=Math.floor((d-u-l)*r/o),f=Math.floor((d-u)*r/o);return{start:Math.max(0,m),end:"number"==typeof c?c:Math.min(p,f)}}},J2=e=>{const{type:t,duration:n,timescale:i=1,periodDuration:r,sourceDuration:o}=e,{start:s,end:a}=Q2[t](e),l=((e,t)=>{const n=[];for(let i=e;i<t;i++)n.push(i);return n})(s,a).map((e=>t=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:o=1}=e;return{number:o+t,duration:n/i,timeline:r,time:t*n}})(e));if("static"===t){const e=l.length-1,t="number"==typeof r?r:o;l[e].duration=t-n/i*e}return l},Z2=e=>{const{baseUrl:t,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:o,presentationTime:s,number:a=0,duration:l}=e;if(!t)throw new Error(W2);const c=K2({baseUrl:t,source:n.sourceURL,range:n.range}),d=K2({baseUrl:t,source:t,indexRange:r});if(d.map=c,l){const t=J2(e);t.length&&(d.duration=t[0].duration,d.timeline=t[0].timeline)}else i&&(d.duration=i,d.timeline=o);return d.presentationTime=s||o,d.number=a,[d]},e4=(e,t,n)=>{const i=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,o=e.timeline||0,s=e.sidx.byterange,a=s.offset+s.length,l=t.timescale,c=t.references.filter((e=>1!==e.referenceType)),d=[],u=e.endList?"static":"dynamic",h=e.sidx.timeline;let p,m=h,f=e.mediaSequence||0;p="bigint"==typeof t.firstOffset?qJ.BigInt(a)+t.firstOffset:a+t.firstOffset;for(let g=0;g<c.length;g++){const e=t.references[g],s=e.referencedSize,a=e.subsegmentDuration;let c;c="bigint"==typeof p?p+qJ.BigInt(s)-qJ.BigInt(1):p+s-1;const b=Z2({baseUrl:n,timescale:l,timeline:o,periodStart:h,presentationTime:m,number:f,duration:a,sourceDuration:r,indexRange:`${p}-${c}`,type:u})[0];i&&(b.map=i),d.push(b),p+="bigint"==typeof p?qJ.BigInt(s):s,m+=a/l,f++}return e.segments=d,e},t4=["AUDIO","SUBTITLES"],n4=1/60,i4=e=>{return(t=e,n=({timeline:e})=>e,F2(t.reduce(((e,t)=>(t.forEach((t=>{e[n(t)]=t})),e)),{}))).sort(((e,t)=>e.timeline>t.timeline?1:-1));var t,n},r4=e=>{let t=[];return function(e,t,n){t.forEach((function(t){for(var i in e.mediaGroups[t])for(var r in e.mediaGroups[t][i]){var o=e.mediaGroups[t][i][r];n(o,t,i,r)}}))}(e,t4,((e,n,i,r)=>{t=t.concat(e.playlists||[])})),t},o4=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach(((t,n)=>{t.number=e.mediaSequence+n}))},s4=({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(r4(e)),i=t.playlists.concat(r4(t));return t.timelineStarts=i4([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach((t=>{t.discontinuitySequence=n.findIndex((function({timeline:e}){return e===t.timeline}));const i=((e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null})(e,t.attributes.NAME);if(!i)return;if(t.sidx)return;const r=t.segments[0],o=i.segments.findIndex((function(e){return Math.abs(e.presentationTime-r.presentationTime)<n4}));if(-1===o)return o4({playlist:t,mediaSequence:i.mediaSequence+i.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!i.segments.length&&t.timeline>i.timeline||i.segments.length&&t.timeline>i.segments[i.segments.length-1].timeline)&&t.discontinuitySequence--);i.segments[o].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),o4({playlist:t,mediaSequence:i.segments[o].number})}))})({oldPlaylists:n,newPlaylists:i,timelineStarts:t.timelineStarts}),t},a4=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?qJ.BigInt(e.offset)+qJ.BigInt(e.length)-qJ.BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),l4=e=>{const t=e.reduce((function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e}),{});let n=[];return Object.values(t).forEach((e=>{const t=F2(e.reduce(((e,t)=>{const n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[n].segments.push(...t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{}));n=n.concat(t)})),n.map((e=>(e.discontinuityStarts=((e,t)=>e.reduce(((e,n,i)=>(n[t]&&e.push(i),e)),[]))(e.segments||[],"discontinuity"),e)))},c4=(e,t)=>{const n=a4(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&e4(e,i,e.sidx.resolvedUri),e},d4=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=c4(e[n],t);return e},u4=({attributes:e,segments:t,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:i,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(r.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(r.contentProtection=e.contentProtection),e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),n&&(r.sidx=n),r},h4=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,p4=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,m4=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,f4=e=>e?Object.keys(e).reduce(((t,n)=>{const i=e[n];return t.concat(i.playlists)}),[]):[],g4=({dashPlaylists:e,locations:t,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:o})=>{if(!e.length)return{};const{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=e[0].attributes,d=l4(e.filter(h4)).map(u4),u=l4(e.filter(p4)),h=l4(e.filter(m4)),p=e.map((e=>e.attributes.captionServices)).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:d4(d,i)};c>=0&&(m.minimumUpdatePeriod=1e3*c),t&&(m.locations=t),n&&(m.contentSteering=n),"dynamic"===a&&(m.suggestedPresentationDelay=l),o&&o.length>0&&(m.eventStream=o);const f=0===m.playlists.length,g=u.length?((e,t={},n=!1)=>{let i;const r=e.reduce(((e,r)=>{const o=r.attributes.role&&r.attributes.role.value||"",s=r.attributes.lang||"";let a=r.attributes.label||"main";if(s&&!r.attributes.label){const e=o?` (${o})`:"";a=`${r.attributes.lang}${e}`}e[a]||(e[a]={language:s,autoselect:!0,default:"main"===o,playlists:[],uri:""});const l=c4((({attributes:e,segments:t,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:o},s)=>{const a={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:o,timelineStarts:e.timelineStarts,mediaSequence:i,segments:t};return e.contentProtection&&(a.contentProtection=e.contentProtection),e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),n&&(a.sidx=n),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a})(r,n),t);return e[a].playlists.push(l),void 0===i&&"main"===o&&(i=r,i.default=!0),e}),{});i||(r[Object.keys(r)[0]].default=!0);return r})(u,i,f):null,b=h.length?((e,t={})=>e.reduce(((e,n)=>{const i=n.attributes.label||n.attributes.lang||"text",r=n.attributes.lang||"und";return e[i]||(e[i]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(c4((({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const o={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(o.CODECS=e.codecs);const s={attributes:o,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:t};return e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),s})(n),t)),e}),{}))(h,i):null,v=d.concat(f4(g),f4(b)),y=v.map((({timelineStarts:e})=>e));var w,_;return m.timelineStarts=i4(y),w=v,_=m.timelineStarts,w.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=_.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))})),g&&(m.mediaGroups.AUDIO.audio=g),b&&(m.mediaGroups.SUBTITLES.subs=b),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=p.reduce(((e,t)=>t?(t.forEach((t=>{const{channel:n,language:i}=t;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e),{})),r?s4({oldManifest:r,newManifest:m}):m},b4=(e,t,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=e,c=(i+r)/1e3+l-(o+a);return Math.ceil((c*s-t)/n)},v4=(e,t)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=e,c=[];let d=-1;for(let u=0;u<t.length;u++){const h=t[u],p=h.d,m=h.r||0,f=h.t||0;let g;if(d<0&&(d=f),f&&f>d&&(d=f),m<0){const a=u+1;g=a===t.length?"dynamic"===n&&i>0&&r.indexOf("$Number$")>0?b4(e,d,p):(o*s-d)/p:(t[a].t-d)/p}else g=m+1;const b=a+c.length+g;let v=a+c.length;for(;v<b;)c.push({number:v,duration:p/s,time:d,timeline:l}),d+=p,v++}return c},y4=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,w4=(e,t)=>e.replace(y4,(e=>(t,n,i,r)=>{if("$$"===t)return"$";if(void 0===e[n])return t;const o=""+e[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:`${new Array(r-o.length+1).join("0")}${o}`)})(t)),_4=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=e,r=K2({baseUrl:e.baseUrl,source:w4(i.sourceURL,n),range:i.range}),o=((e,t)=>e.duration||t?e.duration?J2(e):v4(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return o.map((t=>{n.Number=t.number,n.Time=t.time;const i=w4(e.media||"",n),o=e.timescale||1,s=e.presentationTimeOffset||0,a=e.periodStart+(t.time-s)/o;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:r0(e.baseUrl||"",i),map:r,number:t.number,presentationTime:a}}))},x4=(e,t)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=e;if(!n&&!t||n&&t)throw new Error(G2);const o=i.map((t=>((e,t)=>{const{baseUrl:n,initialization:i={}}=e,r=K2({baseUrl:n,source:i.sourceURL,range:i.range}),o=K2({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=r,o})(e,t)));let s;n&&(s=J2(e)),t&&(s=v4(e,t));const a=s.map(((t,n)=>{if(o[n]){const i=o[n],s=e.timescale||1,a=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=r+(t.time-a)/s,i}})).filter((e=>e));return a},k4=({attributes:e,segmentInfo:t})=>{let n,i;t.template?(i=_4,n=B2(e,t.template)):t.base?(i=Z2,n=B2(e,t.base)):t.list&&(i=x4,n=B2(e,t.list));const r={attributes:e};if(!i)return r;const o=i(n,t.segmentTimeline);if(n.duration){const{duration:e,timescale:t=1}=n;n.duration=e/t}else o.length?n.duration=o.reduce(((e,t)=>Math.max(e,Math.ceil(t.duration))),0):n.duration=0;return r.attributes=n,r.segments=o,t.base&&n.indexRange&&(r.sidx=o[0],r.segments=[]),r},T4=(e,t)=>$2(e.childNodes).filter((({tagName:e})=>e===t)),S4=e=>e.textContent.trim(),E4=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[n,i,r,o,s,a]=t.slice(1);return 31536e3*parseFloat(n||0)+2592e3*parseFloat(i||0)+86400*parseFloat(r||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(a||0)},C4={mediaPresentationDuration:e=>E4(e),availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:e=>E4(e),suggestedPresentationDelay:e=>E4(e),type:e=>e,timeShiftBufferDepth:e=>E4(e),start:e=>E4(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){const t=parseInt(e,10);return isNaN(t)?E4(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},I4=e=>e&&e.attributes?$2(e.attributes).reduce(((e,t)=>{const n=C4[t.name]||C4.DEFAULT;return e[t.name]=n(t.value),e}),{}):{},A4={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},P4=(e,t)=>t.length?z2(e.map((function(e){return t.map((function(t){const n=S4(t),i=r0(e.baseUrl,n),r=B2(I4(t),{baseUrl:i});return i!==n&&!r.serviceLocation&&e.serviceLocation&&(r.serviceLocation=e.serviceLocation),r}))}))):e,D4=e=>{const t=T4(e,"SegmentTemplate")[0],n=T4(e,"SegmentList")[0],i=n&&T4(n,"SegmentURL").map((e=>B2({tag:"SegmentURL"},I4(e)))),r=T4(e,"SegmentBase")[0],o=n||t,s=o&&T4(o,"SegmentTimeline")[0],a=n||r||t,l=a&&T4(a,"Initialization")[0],c=t&&I4(t);c&&l?c.initialization=l&&I4(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const d={template:c,segmentTimeline:s&&T4(s,"S").map((e=>I4(e))),list:n&&B2(I4(n),{segmentUrls:i,initialization:I4(l)}),base:r&&B2(I4(r),{initialization:I4(l)})};return Object.keys(d).forEach((e=>{d[e]||delete d[e]})),d},O4=e=>z2(T4(e.node,"EventStream").map((t=>{const n=I4(t),i=n.schemeIdUri;return T4(t,"Event").map((t=>{const r=I4(t),o=r.presentationTime||0,s=n.timescale||1,a=r.duration||0,l=o/s+e.attributes.start;return{schemeIdUri:i,value:n.value,id:r.id,start:l,end:l+a/s,messageData:S4(t)||r.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}}))}))),N4=(e,t,n)=>i=>{const r=I4(i),o=P4(t,T4(i,"BaseURL")),s=T4(i,"Role")[0],a={role:I4(s)};let l=B2(e,r,a);const c=T4(i,"Accessibility")[0],d=(e=>{if("urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{let t,n;return n=e,/^CC\d=/.test(e)?[t,n]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:n}}));if("urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[n,i=""]=e.split("=");t.channel=n,t.language=e,i.split(",").forEach((e=>{const[n,i]=e.split(":");"lang"===n?t.language=i:"er"===n?t.easyReader=Number(i):"war"===n?t.aspectRatio=Number(i):"3D"===n&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}))})(I4(c));d&&(l=B2(l,{captionServices:d}));const u=T4(i,"Label")[0];if(u&&u.childNodes.length){const e=u.childNodes[0].nodeValue.trim();l=B2(l,{label:e})}const h=T4(i,"ContentProtection").reduce(((e,t)=>{const n=I4(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=A4[n.schemeIdUri];if(i){e[i]={attributes:n};const r=T4(t,"cenc:pssh")[0];if(r){const t=S4(r);e[i].pssh=t&&s0(t)}}return e}),{});Object.keys(h).length&&(l=B2(l,{contentProtection:h}));const p=D4(i),m=T4(i,"Representation"),f=B2(n,p);return z2(m.map(((e,t,n)=>i=>{const r=T4(i,"BaseURL"),o=P4(t,r),s=B2(e,I4(i)),a=D4(i);return o.map((e=>({segmentInfo:B2(n,a),attributes:B2(s,e)})))})(l,o,f)))},L4=(e,t)=>(n,i)=>{const r=P4(t,T4(n.node,"BaseURL")),o=B2(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(o.periodDuration=n.attributes.duration);const s=T4(n.node,"AdaptationSet"),a=D4(n.node);return z2(s.map(N4(o,r,a)))},R4=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const n=B2({serverURL:S4(e[0])},I4(e[0]));return n.queryBeforeStart="true"===n.queryBeforeStart,n},j4=e=>{if(""===e)throw new Error(q2);const t=new M2;let n,i;try{n=t.parseFromString(e,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null}catch(HS){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(H2);return i},M4=(e,t={})=>{const n=((e,t={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:o=function(){}}=t,s=T4(e,"Period");if(!s.length)throw new Error(V2);const a=T4(e,"Location"),l=I4(e),c=P4([{baseUrl:n}],T4(e,"BaseURL")),d=T4(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,a.length&&(l.locations=a.map(S4));const u=[];return s.forEach(((e,t)=>{const n=I4(e),i=u[t-1];n.start=(({attributes:e,priorPeriodAttributes:t,mpdType:n})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==n?null:0)({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:l.type}),u.push({node:e,attributes:n})})),{locations:l.locations,contentSteeringInfo:R4(d,o),representationInfo:z2(u.map(L4(l,c))),eventStream:z2(u.map(O4))}})(j4(e),t),i=n.representationInfo.map(k4);return g4({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})},U4=e=>(e=>{const t=T4(e,"UTCTiming")[0];if(!t)return null;const n=I4(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(Y2)}return n})(j4(e));var B4=Math.pow(2,32),F4=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*B4+n.getUint32(4)};const z4=o((function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=F4(e.subarray(i)),n.firstOffset=F4(e.subarray(i+8)),i+=16),i+=2;var r=t.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}));var $4=P0([73,68,51]),V4=function e(t,n){return void 0===n&&(n=0),(t=P0(t)).length-n<10||!j0(t,$4,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=P0(e))[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},q4=function(e){return"string"==typeof e?R0(e):e},H4=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return q4(e)})):[q4(e)]}(n),t=P0(t);var r=[];if(!n.length)return r;for(var o=0;o<t.length;){var s=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,a=t.subarray(o+4,o+8);if(0===s)break;var l=o+s;if(l>t.length){if(i)break;l=t.length}var c=t.subarray(o+8,l);j0(a,n[0])&&(1===n.length?r.push(c):r.push.apply(r,e(c,n.slice(1),i))),o=l}return r},W4={EBML:P0([26,69,223,163]),DocType:P0([66,130]),Segment:P0([24,83,128,103]),SegmentInfo:P0([21,73,169,102]),Tracks:P0([22,84,174,107]),Track:P0([174]),TrackNumber:P0([215]),DefaultDuration:P0([35,227,131]),TrackEntry:P0([174]),TrackType:P0([131]),FlagDefault:P0([136]),CodecID:P0([134]),CodecPrivate:P0([99,162]),VideoTrack:P0([224]),AudioTrack:P0([225]),Cluster:P0([31,67,182,117]),Timestamp:P0([231]),TimestampScale:P0([42,215,177]),BlockGroup:P0([160]),BlockDuration:P0([155]),Block:P0([161]),SimpleBlock:P0([163])},G4=[128,64,32,16,8,4,2,1],Y4=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=function(e){for(var t=1,n=0;n<G4.length&&!(e&G4[n]);n++)t++;return t}(e[t]),o=e.subarray(t,t+r);return n&&((o=Array.prototype.slice.call(e,t,t+r))[0]^=G4[r-1]),{length:r,value:N0(o,{signed:i}),bytes:o}},K4=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?L0(t):t},X4=function e(t,n,i){if(i>=n.length)return n.length;var r=Y4(n,i,!1);if(j0(t.bytes,r.bytes))return i;var o=Y4(n,i+r.length);return e(t,n,i+o.length+o.value+r.length)},Q4=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return K4(e)})):[K4(e)]}(n),t=P0(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var o=Y4(t,r,!1),s=Y4(t,r+o.length),a=r+o.length+s.length;127===s.value&&(s.value=X4(o,t,a),s.value!==t.length&&(s.value-=a));var l=a+s.value>t.length?t.length:a+s.value,c=t.subarray(a,l);j0(n[0],o.bytes)&&(1===n.length?i.push(c):i=i.concat(e(c,n.slice(1)))),r+=o.length+s.length+c.length}return i},J4=P0([0,0,0,1]),Z4=P0([0,0,1]),e5=P0([0,0,3]),t5=function(e){for(var t=[],n=1;n<e.length-2;)j0(e.subarray(n,n+3),e5)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===t[0]&&(o++,t.shift()),r[n]=e[o];return r},n5=function(e,t,n,i){e=P0(e),n=[].concat(n);for(var r,o=0,s=0;o<e.length&&(s<i||r);){var a=void 0;if(j0(e.subarray(o),J4)?a=4:j0(e.subarray(o),Z4)&&(a=3),a){if(s++,r)return t5(e.subarray(r,o));var l=void 0;"h264"===t?l=31&e[o+a]:"h265"===t&&(l=e[o+a]>>1&63),-1!==n.indexOf(l)&&(r=o+a),o+=a+("h264"===t?1:2)}else o++}return e.subarray(0,0)},i5={webm:P0([119,101,98,109]),matroska:P0([109,97,116,114,111,115,107,97]),flac:P0([102,76,97,67]),ogg:P0([79,103,103,83]),ac3:P0([11,119]),riff:P0([82,73,70,70]),avi:P0([65,86,73]),wav:P0([87,65,86,69]),"3gp":P0([102,116,121,112,51,103]),mp4:P0([102,116,121,112]),fmp4:P0([115,116,121,112]),mov:P0([102,116,121,112,113,116]),moov:P0([109,111,111,118]),moof:P0([109,111,111,102])},r5={aac:function(e){var t=V4(e);return j0(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=V4(e);return j0(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=Q4(e,[W4.EBML,W4.DocType])[0];return j0(t,i5.webm)},mkv:function(e){var t=Q4(e,[W4.EBML,W4.DocType])[0];return j0(t,i5.matroska)},mp4:function(e){return!r5["3gp"](e)&&!r5.mov(e)&&(!(!j0(e,i5.mp4,{offset:4})&&!j0(e,i5.fmp4,{offset:4}))||(!(!j0(e,i5.moof,{offset:4})&&!j0(e,i5.moov,{offset:4}))||void 0))},mov:function(e){return j0(e,i5.mov,{offset:4})},"3gp":function(e){return j0(e,i5["3gp"],{offset:4})},ac3:function(e){var t=V4(e);return j0(e,i5.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=V4(e);return j0(e,i5.flac,{offset:t})},ogg:function(e){return j0(e,i5.ogg)},avi:function(e){return j0(e,i5.riff)&&j0(e,i5.avi,{offset:8})},wav:function(e){return j0(e,i5.riff)&&j0(e,i5.wav,{offset:8})},h264:function(e){return function(e,t,n){return n5(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return n5(e,"h265",t,n)}(e,[32,33],3).length}},o5=Object.keys(r5).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);o5.forEach((function(e){var t=r5[e];r5[e]=function(e){return t(P0(e))}}));var s5,a5,l5,c5,d5=r5,u5=function(e){e=P0(e);for(var t=0;t<o5.length;t++){var n=o5[t];if(d5[n](e))return n}return""},h5=9e4;var p5=h5,m5=(s5=function(e){return e*h5},a5=function(e,t){return e*t},l5=function(e){return e/h5},c5=function(e,t){return e/t},"8.21.0");
/**
             * @license
             * Video.js 8.21.0 <http://videojs.com/>
             * Copyright Brightcove, Inc. <https://www.brightcove.com/>
             * Available under Apache License Version 2.0
             * <https://github.com/videojs/video.js/blob/main/LICENSE>
             *
             * Includes vtt.js <https://github.com/mozilla/vtt.js>
             * Available under Apache License Version 2.0
             * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
             */const f5={},g5=function(e,t){return f5[e]=f5[e]||[],t&&(f5[e]=f5[e].concat(t)),f5[e]},b5=function(e,t){const n=g5(e).indexOf(t);return!(n<=-1)&&(f5[e]=f5[e].slice(),f5[e].splice(n,1),!0)},v5={prefixed:!0},y5=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],w5=y5[0];let _5;for(let $ie=0;$ie<y5.length;$ie++)if(y5[$ie][1]in XJ){_5=y5[$ie];break}if(_5){for(let Vie=0;Vie<_5.length;Vie++)v5[w5[Vie]]=_5[Vie];v5.prefixed=_5[0]!==w5[0]}let x5=[];const k5=function e(t,n=":",i=""){let r,o="info";function s(...e){r("log",o,e)}return r=((e,t,n)=>(i,r,o)=>{const s=t.levels[r],a=new RegExp(`^(${s})$`);let l=e;if("log"!==i&&o.unshift(i.toUpperCase()+":"),n&&(l=`%c${e}`,o.unshift(n)),o.unshift(l+":"),x5){x5.push([].concat(o));const e=x5.length-1e3;x5.splice(0,e>0?e:0)}if(!qJ.console)return;let c=qJ.console[i];c||"debug"!==i||(c=qJ.console.info||qJ.console.log),c&&s&&a.test(i)&&c[Array.isArray(o)?"apply":"call"](qJ.console,o)})(t,s,i),s.createLogger=(r,o,s)=>{const a=void 0!==o?o:n;return e(`${t} ${a} ${r}`,a,void 0!==s?s:i)},s.createNewLogger=(t,n,i)=>e(t,n,i),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},s.level=e=>{if("string"==typeof e){if(!s.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);o=e}return o},s.history=()=>x5?[].concat(x5):[],s.history.filter=e=>(x5||[]).filter((t=>new RegExp(`.*${e}.*`).test(t[0]))),s.history.clear=()=>{x5&&(x5.length=0)},s.history.disable=()=>{null!==x5&&(x5.length=0,x5=null)},s.history.enable=()=>{null===x5&&(x5=[])},s.error=(...e)=>r("error",o,e),s.warn=(...e)=>r("warn",o,e),s.debug=(...e)=>r("debug",o,e),s}("VIDEOJS"),T5=k5.createLogger,S5=Object.prototype.toString,E5=function(e){return A5(e)?Object.keys(e):[]};function C5(e,t){E5(e).forEach((n=>t(e[n],n)))}function I5(e,t,n=0){return E5(e).reduce(((n,i)=>t(n,e[i],i)),n)}function A5(e){return!!e&&"object"==typeof e}function P5(e){return A5(e)&&"[object Object]"===S5.call(e)&&e.constructor===Object}function D5(...e){const t={};return e.forEach((e=>{e&&C5(e,((e,n)=>{P5(e)?(P5(t[n])||(t[n]={}),t[n]=D5(t[n],e)):t[n]=e}))})),t}function O5(e={}){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t.push(i)}return t}function N5(e,t,n,i=!0){const r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const e=n();return r(e),e}};return i&&(o.set=r),Object.defineProperty(e,t,o)}var L5=Object.freeze({__proto__:null,each:C5,reduce:I5,isObject:A5,isPlain:P5,merge:D5,values:O5,defineLazyProperty:N5});let R5,j5=!1,M5=null,U5=!1,B5=!1,F5=!1,z5=!1,$5=!1,V5=null,q5=null;const H5=Boolean(qJ.cast&&qJ.cast.framework&&qJ.cast.framework.CastReceiverContext);let W5=null,G5=!1,Y5=!1,K5=!1,X5=!1,Q5=!1,J5=!1,Z5=!1;const e6=Boolean(s6()&&("ontouchstart"in qJ||qJ.navigator.maxTouchPoints||qJ.DocumentTouch&&qJ.document instanceof qJ.DocumentTouch)),t6=qJ.navigator&&qJ.navigator.userAgentData;if(t6&&t6.platform&&t6.brands&&(U5="Android"===t6.platform,F5=Boolean(t6.brands.find((e=>"Microsoft Edge"===e.brand))),z5=Boolean(t6.brands.find((e=>"Chromium"===e.brand))),$5=!F5&&z5,V5=q5=(t6.brands.find((e=>"Chromium"===e.brand))||{}).version||null,Y5="Windows"===t6.platform),!z5){const qie=qJ.navigator&&qJ.navigator.userAgent||"";j5=/iPod/i.test(qie),M5=function(){const e=qie.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),U5=/Android/i.test(qie),R5=function(){const e=qie.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),B5=/Firefox/i.test(qie),F5=/Edg/i.test(qie),z5=/Chrome/i.test(qie)||/CriOS/i.test(qie),$5=!F5&&z5,V5=q5=function(){const e=qie.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),W5=function(){const e=/MSIE\s(\d+)\.\d/.exec(qie);let t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(qie)&&/rv:11.0/.test(qie)&&(t=11),t}(),Q5=/Tizen/i.test(qie),J5=/Web0S/i.test(qie),Z5=Q5||J5,G5=/Safari/i.test(qie)&&!$5&&!U5&&!F5&&!Z5,Y5=/Windows/i.test(qie),K5=/iPad/i.test(qie)||G5&&e6&&!/iPhone/i.test(qie),X5=/iPhone/i.test(qie)&&!K5}const n6=X5||K5||j5,i6=(G5||n6)&&!$5;var r6=Object.freeze({__proto__:null,get IS_IPOD(){return j5},get IOS_VERSION(){return M5},get IS_ANDROID(){return U5},get ANDROID_VERSION(){return R5},get IS_FIREFOX(){return B5},get IS_EDGE(){return F5},get IS_CHROMIUM(){return z5},get IS_CHROME(){return $5},get CHROMIUM_VERSION(){return V5},get CHROME_VERSION(){return q5},IS_CHROMECAST_RECEIVER:H5,get IE_VERSION(){return W5},get IS_SAFARI(){return G5},get IS_WINDOWS(){return Y5},get IS_IPAD(){return K5},get IS_IPHONE(){return X5},get IS_TIZEN(){return Q5},get IS_WEBOS(){return J5},get IS_SMART_TV(){return Z5},TOUCH_ENABLED:e6,IS_IOS:n6,IS_ANY_SAFARI:i6});function o6(e){return"string"==typeof e&&Boolean(e.trim())}function s6(){return XJ===qJ.document}function a6(e){return A5(e)&&1===e.nodeType}function l6(){try{return qJ.parent!==qJ.self}catch(ZN){return!0}}function c6(e){return function(t,n){if(!o6(t))return XJ[e](null);o6(n)&&(n=XJ.querySelector(n));const i=a6(n)?n:XJ;return i[e]&&i[e](t)}}function d6(e="div",t={},n={},i){const r=XJ.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){const n=t[e];"textContent"===e?u6(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&P6(r,i),r}function u6(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function h6(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function p6(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function m6(e,...t){return e.classList.add(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e}function f6(e,...t){return e?(e.classList.remove(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e):(k5.warn("removeClass was called with an element that doesn't exist"),null)}function g6(e,t,n){return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=void 0),t.split(/\s+/).forEach((t=>e.classList.toggle(t,n))),e}function b6(e,t){Object.getOwnPropertyNames(t).forEach((function(n){const i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function v6(e){const t={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const i=e.attributes;for(let e=i.length-1;e>=0;e--){const r=i[e].name;let o=i[e].value;n.includes(r)&&(o=null!==o),t[r]=o}}return t}function y6(e,t){return e.getAttribute(t)}function w6(e,t,n){e.setAttribute(t,n)}function _6(e,t){e.removeAttribute(t)}function x6(){XJ.body.focus(),XJ.onselectstart=function(){return!1}}function k6(){XJ.onselectstart=function(){return!0}}function T6(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((e=>{void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(R6(e,"height"))),n.width||(n.width=parseFloat(R6(e,"width"))),n}}function S6(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,n=e.offsetHeight;let i=0,r=0;for(;e.offsetParent&&e!==XJ[v5.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function E6(e,t){const n={x:0,y:0};if(n6){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){const e=R6(t,"transform");if(/^matrix/.test(e)){const t=e.slice(7,-1).split(/,\s/).map(Number);n.x+=t[4],n.y+=t[5]}else if(/^matrix3d/.test(e)){const t=e.slice(9,-1).split(/,\s/).map(Number);n.x+=t[12],n.y+=t[13]}if(t.assignedSlot&&t.assignedSlot.parentElement&&qJ.WebKitCSSMatrix){const e=qJ.getComputedStyle(t.assignedSlot.parentElement).transform,i=new qJ.WebKitCSSMatrix(e);n.x+=i.m41,n.y+=i.m42}t=t.parentNode||t.host}}const i={},r=S6(t.target),o=S6(e),s=o.width,a=o.height;let l=t.offsetY-(o.top-r.top),c=t.offsetX-(o.left-r.left);return t.changedTouches&&(c=t.changedTouches[0].pageX-o.left,l=t.changedTouches[0].pageY+o.top,n6&&(c-=n.x,l-=n.y)),i.y=1-Math.max(0,Math.min(1,l/a)),i.x=Math.max(0,Math.min(1,c/s)),i}function C6(e){return A5(e)&&3===e.nodeType}function I6(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function A6(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((e=>("function"==typeof e&&(e=e()),a6(e)||C6(e)?e:"string"==typeof e&&/\S/.test(e)?XJ.createTextNode(e):void 0))).filter((e=>e))}function P6(e,t){return A6(t).forEach((t=>e.appendChild(t))),e}function D6(e,t){return P6(I6(e),t)}function O6(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||("mousedown"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons)))}const N6=c6("querySelector"),L6=c6("querySelectorAll");function R6(e,t){if(!e||!t)return"";if("function"==typeof qJ.getComputedStyle){let n;try{n=qJ.getComputedStyle(e)}catch(HS){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}function j6(e){[...XJ.styleSheets].forEach((t=>{try{const n=[...t.cssRules].map((e=>e.cssText)).join(""),i=XJ.createElement("style");i.textContent=n,e.document.head.appendChild(i)}catch(HS){const i=XJ.createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media.mediaText,i.href=t.href,e.document.head.appendChild(i)}}))}var M6=Object.freeze({__proto__:null,isReal:s6,isEl:a6,isInFrame:l6,createEl:d6,textContent:u6,prependTo:h6,hasClass:p6,addClass:m6,removeClass:f6,toggleClass:g6,setAttributes:b6,getAttributes:v6,getAttribute:y6,setAttribute:w6,removeAttribute:_6,blockTextSelection:x6,unblockTextSelection:k6,getBoundingClientRect:T6,findPosition:S6,getPointerPosition:E6,isTextNode:C6,emptyEl:I6,normalizeContent:A6,appendContent:P6,insertContent:D6,isSingleLeftClick:O6,$:N6,$$:L6,computedStyle:R6,copyStyleSheetsToWindow:j6});let U6,B6=!1;const F6=function(){if(!1===U6.options.autoSetup)return;const e=Array.prototype.slice.call(XJ.getElementsByTagName("video")),t=Array.prototype.slice.call(XJ.getElementsByTagName("audio")),n=Array.prototype.slice.call(XJ.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(let r=0,o=i.length;r<o;r++){const e=i[r];if(!e||!e.getAttribute){z6(1);break}if(void 0===e.player){null!==e.getAttribute("data-setup")&&U6(e)}}else B6||z6(1)};function z6(e,t){s6()&&(t&&(U6=t),qJ.setTimeout(F6,e))}function $6(){B6=!0,qJ.removeEventListener("load",$6)}s6()&&("complete"===XJ.readyState?$6():qJ.addEventListener("load",$6));const V6=function(e){const t=XJ.createElement("style");return t.className=e,t},q6=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var H6=new WeakMap;let W6,G6=3;function Y6(){return G6++}function K6(e,t){if(!H6.has(e))return;const n=H6.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&H6.delete(e)}function X6(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function Q6(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const i=e||qJ.event;e={};const r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const t in i)r.includes(t)||"returnValue"===t&&i.preventDefault||(e[t]=i[t]);if(e.target||(e.target=e.srcElement||XJ),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){const t=XJ.documentElement,n=XJ.body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&n.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const J6=["touchstart","touchmove"];function Z6(e,t,n){if(Array.isArray(t))return X6(Z6,e,t,n);H6.has(e)||H6.set(e,{});const i=H6.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=Y6()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(i.disabled)return;t=Q6(t);const r=i.handlers[t.type];if(r){const i=r.slice(0);for(let r=0,o=i.length;r<o&&!t.isImmediatePropagationStopped();r++)try{i[r].call(e,t,n)}catch(HS){k5.error(HS)}}}),1===i.handlers[t].length)if(e.addEventListener){let n=!1;(function(){if("boolean"!=typeof W6){W6=!1;try{const e=Object.defineProperty({},"passive",{get(){W6=!0}});qJ.addEventListener("test",null,e),qJ.removeEventListener("test",null,e)}catch(HS){}}return W6})()&&J6.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,i.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function e3(e,t,n){if(!H6.has(e))return;const i=H6.get(e);if(!i.handlers)return;if(Array.isArray(t))return X6(e3,e,t,n);const r=function(e,t){i.handlers[t]=[],K6(e,t)};if(void 0===t){for(const t in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},t)&&r(e,t);return}const o=i.handlers[t];if(o)if(n){if(n.guid)for(let e=0;e<o.length;e++)o[e].guid===n.guid&&o.splice(e--,1);K6(e,t)}else r(e,t)}function t3(e,t,n){const i=H6.has(e)?H6.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Q6(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)t3.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){H6.has(t.target)||H6.set(t.target,{});const e=H6.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function n3(e,t,n){if(Array.isArray(t))return X6(n3,e,t,n);const i=function(){e3(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Y6(),Z6(e,t,i)}function i3(e,t,n){const i=function(){e3(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Y6(),Z6(e,t,i)}var r3=Object.freeze({__proto__:null,fixEvent:Q6,on:Z6,off:e3,trigger:t3,one:n3,any:i3});const o3=30,s3=function(e,t,n){t.guid||(t.guid=Y6());const i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},a3=function(e,t){let n=qJ.performance.now();return function(...i){const r=qJ.performance.now();r-n>=t&&(e(...i),n=r)}},l3=function(e,t,n,i=qJ){let r;const o=function(){const o=this,s=arguments;let a=function(){r=null,a=null,n||e.apply(o,s)};!r&&n&&e.apply(o,s),i.clearTimeout(r),r=i.setTimeout(a,t)};return o.cancel=()=>{i.clearTimeout(r),r=null},o};var c3=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:o3,bind_:s3,throttle:a3,debounce:l3});let d3;class u3{on(e,t){const n=this.addEventListener;this.addEventListener=()=>{},Z6(this,e,t),this.addEventListener=n}off(e,t){e3(this,e,t)}one(e,t){const n=this.addEventListener;this.addEventListener=()=>{},n3(this,e,t),this.addEventListener=n}any(e,t){const n=this.addEventListener;this.addEventListener=()=>{},i3(this,e,t),this.addEventListener=n}trigger(e){const t=e.type||e;"string"==typeof e&&(e={type:t}),e=Q6(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),t3(this,e)}queueTrigger(e){d3||(d3=new Map);const t=e.type||e;let n=d3.get(this);n||(n=new Map,d3.set(this,n));const i=n.get(t);n.delete(t),qJ.clearTimeout(i);const r=qJ.setTimeout((()=>{n.delete(t),0===n.size&&(n=null,d3.delete(this)),this.trigger(e)}),0);n.set(t,r)}}u3.prototype.allowedEvents_={},u3.prototype.addEventListener=u3.prototype.on,u3.prototype.removeEventListener=u3.prototype.off,u3.prototype.dispatchEvent=u3.prototype.trigger;const h3=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,p3=e=>e instanceof u3||!!e.eventBusEl_&&["on","one","off","trigger"].every((t=>"function"==typeof e[t])),m3=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,f3=(e,t,n)=>{if(!e||!e.nodeName&&!p3(e))throw new Error(`Invalid target for ${h3(t)}#${n}; must be a DOM node or evented object.`)},g3=(e,t,n)=>{if(!m3(e))throw new Error(`Invalid event type for ${h3(t)}#${n}; must be a non-empty string or array.`)},b3=(e,t,n)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${h3(t)}#${n}; must be a function.`)},v3=(e,t,n)=>{const i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,o,s;return i?(r=e.eventBusEl_,t.length>=3&&t.shift(),[o,s]=t):(r=t[0],o=t[1],s=t[2]),f3(r,e,n),g3(o,e,n),b3(s,e,n),s=s3(e,s),{isTargetingSelf:i,target:r,type:o,listener:s}},y3=(e,t,n,i)=>{f3(e,e,t),e.nodeName?r3[t](e,n,i):e[t](n,i)},w3={on(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=v3(this,e,"on");if(y3(n,"on",i,r),!t){const e=()=>this.off(n,i,r);e.guid=r.guid;const t=()=>this.off("dispose",e);t.guid=r.guid,y3(this,"on","dispose",e),y3(n,"on","dispose",t)}},one(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=v3(this,e,"one");if(t)y3(n,"one",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,y3(n,"one",i,e)}},any(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=v3(this,e,"any");if(t)y3(n,"any",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,y3(n,"any",i,e)}},off(e,t,n){if(!e||m3(e))e3(this.eventBusEl_,e,t);else{const i=e,r=t;f3(i,this,"off"),g3(r,this,"off"),b3(n,this,"off"),n=s3(this,n),this.off("dispose",n),i.nodeName?(e3(i,r,n),e3(i,"dispose",n)):p3(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(e,t){f3(this.eventBusEl_,this,"trigger");const n=e&&"string"!=typeof e?e.type:e;if(!m3(n))throw new Error(`Invalid event type for ${h3(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return t3(this.eventBusEl_,e,t)}};function _3(e,t={}){const{eventBusKey:n}=t;if(n){if(!e[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);e.eventBusEl_=e[n]}else e.eventBusEl_=d6("span",{className:"vjs-event-bus"});return Object.assign(e,w3),e.eventedCallbacks&&e.eventedCallbacks.forEach((e=>{e()})),e.on("dispose",(()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&H6.has(e)&&H6.delete(e)})),qJ.setTimeout((()=>{e.eventBusEl_=null}),0)})),e}const x3={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),C5(e,((e,n)=>{this.state[n]!==e&&(t=t||{},t[n]={from:this.state[n],to:e}),this.state[n]=e})),t&&p3(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function k3(e,t){return Object.assign(e,x3),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&p3(e)&&e.on("statechanged",e.handleStateChanged),e}const T3=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toLowerCase()))},S3=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},E3=function(e,t){return S3(e)===S3(t)};var C3=Object.freeze({__proto__:null,toLowerCase:T3,toTitleCase:S3,titleCaseEquals:E3});class I3{constructor(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=D5({},this.options_),t=this.options_=D5(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const t=e&&e.id&&e.id()||"no_player";this.id_=`${t}_component_${Y6()}`}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((e=>this.addClass(e))),["on","off","one","any","trigger"].forEach((e=>{this[e]=void 0})),!1!==t.evented&&(_3(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),k3(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e?(this.options_=D5(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,n){return d6(e,t,n)}localize(e,t,n=e){const i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],s=i&&i.split("-")[0],a=r&&r[s];let l=n;return o&&o[e]?l=o[e]:a&&a[e]&&(l=a[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){const i=t[n-1];let r=i;return void 0===i&&(r=e),r}))),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce(((e,t)=>e.concat(t)),[]);let t=this;for(let n=0;n<e.length;n++)if(t=t.getChild(e[n]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=d6("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=XJ.createElementNS(n,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const o=XJ.createElementNS(n,"use");return r.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(r),this.iconIsSet_?t.replaceChild(i,t.querySelector(".vjs-icon-placeholder")):t.appendChild(i),this.iconIsSet_=!0,i}addChild(e,t={},n=this.children_.length){let i,r;if("string"==typeof e){r=S3(e);const n=t.componentClass||r;t.name=r;const o=I3.getComponent(n);if(!o)throw new Error(`Component ${n} does not exist`);if("function"!=typeof o)return null;i=new o(this.player_||this,t)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&S3(i.name()),r&&(this.childNameIndex_[r]=i,this.childNameIndex_[T3(r)]=i),"function"==typeof i.el&&i.el()){let e=null;this.children_[n+1]&&(this.children_[n+1].el_?e=this.children_[n+1].el_:a6(this.children_[n+1])&&(e=this.children_[n+1])),this.contentEl().insertBefore(i.el(),e)}return i}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[S3(e.name())]=null,this.childNameIndex_[T3(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,n=e=>{const n=e.name;let i=e.opts;if(void 0!==t[n]&&(i=t[n]),!1===i)return;!0===i&&(i={}),i.playerOptions=this.options_.playerOptions;const r=this.addChild(n,i);r&&(this[n]=r)};let i;const r=I3.getComponent("Tech");i=Array.isArray(e)?e:Object.keys(e),i.concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((t=>{let n,i;return"string"==typeof t?(n=t,i=e[n]||this.options_[n]||{}):(n=t.name,i=t),{name:n,opts:i}})).filter((e=>{const t=I3.getComponent(e.opts.componentClass||S3(e.name));return t&&!r.isTech(t)})).forEach(n)}}buildCSSClass(){return""}ready(e,t=!1){if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout((function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}$(e,t){return N6(e,t||this.contentEl())}$$(e,t){return L6(e,t||this.contentEl())}hasClass(e){return p6(this.el_,e)}addClass(...e){m6(this.el_,...e)}removeClass(...e){f6(this.el_,...e)}toggleClass(e,t){g6(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return y6(this.el_,e)}setAttribute(e,t){w6(this.el_,e,t)}removeAttribute(e){_6(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;const i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+S3(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=R6(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){const n=`offset${S3(e)}`;t=this.el_[n]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect();return{boundingClientRect:{x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},center:{x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2}}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&("Tab"===e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null;let n;this.on("touchstart",(function(i){1===i.touches.length&&(t={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=qJ.performance.now(),n=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)n=!1;else if(t){const i=e.touches[0].pageX-t.pageX,r=e.touches[0].pageY-t.pageY;Math.sqrt(i*i+r*r)>10&&(n=!1)}}));const i=function(){n=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){if(t=null,!0===n){qJ.performance.now()-e<200&&(i.preventDefault(),this.trigger("tap"))}}))}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=s3(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));const n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,t){var n;return e=s3(this,e),this.clearTimersOnDispose_(),n=qJ.setTimeout((()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),qJ.clearTimeout(e)),e}setInterval(e,t){e=s3(this,e),this.clearTimersOnDispose_();const n=qJ.setInterval(e,t);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),qJ.clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=s3(this,e),t=qJ.requestAnimationFrame((()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()})),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=s3(this,t);const n=this.requestAnimationFrame((()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)}));return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),qJ.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((([e,t])=>{this[e].forEach(((e,n)=>this[t](n)))})),this.clearingTimersOnDispose_=!1})))}getIsDisabled(){return Boolean(this.el_.disabled)}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(e){const t=qJ.getComputedStyle(e,null),n=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(n)}return e||(e=this.el()),!!(function(e){if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(XJ.documentElement.clientWidth||qJ.innerWidth))return!1;if(t.y<0)return!1;if(t.y>(XJ.documentElement.clientHeight||qJ.innerHeight))return!1;let n=XJ.elementFromPoint(t.x,t.y);for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n=n.parentNode}}(e)&&(n=e,t(n.parentElement)&&t(n)&&"0"!==n.style.opacity&&"0px"!==qJ.getComputedStyle(n).height&&"0px"!==qJ.getComputedStyle(n).width)&&(!e.parentElement||e.tabIndex>=0));var n}static registerComponent(e,t){if("string"!=typeof e||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=I3.getComponent("Tech"),i=n&&n.isTech(t),r=I3===t||I3.prototype.isPrototypeOf(t.prototype);if(i||!r){let t;throw t=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${e}"; ${t}.`)}e=S3(e),I3.components_||(I3.components_={});const o=I3.getComponent("Player");if("Player"===e&&o&&o.players){const e=o.players,t=Object.keys(e);if(e&&t.length>0&&t.map((t=>e[t])).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return I3.components_[e]=t,I3.components_[T3(e)]=t,t}static getComponent(e){if(e&&I3.components_)return I3.components_[e]}}function A3(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${n}).`)}(e,i,n.length-1),n[i][t]}function P3(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:A3.bind(null,"start",0,e),end:A3.bind(null,"end",1,e)},qJ.Symbol&&qJ.Symbol.iterator&&(t[qJ.Symbol.iterator]=()=>(e||[]).values()),t}function D3(e,t){return Array.isArray(e)?P3(e):void 0===e||void 0===t?P3():P3([[e,t]])}I3.registerComponent("Component",I3);const O3=function(e,t){e=e<0?0:e;let n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600);const o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),r=r>0||s>0?r+":":"",i=((r||o>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let N3=O3;function L3(e){N3=e}function R3(){N3=O3}function j3(e,t=e){return N3(e,t)}var M3=Object.freeze({__proto__:null,createTimeRanges:D3,createTimeRange:D3,setFormatTime:L3,resetFormatTime:R3,formatTime:j3});function U3(e,t){let n,i,r=0;if(!t)return 0;e&&e.length||(e=D3(0,0));for(let o=0;o<e.length;o++)n=e.start(o),i=e.end(o),i>t&&(i=t),r+=i-n;return r/t}function B3(e){if(e instanceof B3)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:A5(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=B3.defaultMessages[this.code]||"")}function F3(e){return null!=e&&"function"==typeof e.then}function z3(e){F3(e)&&e.then(null,(e=>{}))}B3.prototype.code=0,B3.prototype.message="",B3.prototype.status=null,B3.prototype.metadata=null,B3.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],B3.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},B3.MEDIA_ERR_CUSTOM=0,B3.prototype.MEDIA_ERR_CUSTOM=0,B3.MEDIA_ERR_ABORTED=1,B3.prototype.MEDIA_ERR_ABORTED=1,B3.MEDIA_ERR_NETWORK=2,B3.prototype.MEDIA_ERR_NETWORK=2,B3.MEDIA_ERR_DECODE=3,B3.prototype.MEDIA_ERR_DECODE=3,B3.MEDIA_ERR_SRC_NOT_SUPPORTED=4,B3.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,B3.MEDIA_ERR_ENCRYPTED=5,B3.prototype.MEDIA_ERR_ENCRYPTED=5;const $3=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(((t,n,i)=>(e[n]&&(t[n]=e[n]),t)),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})};var V3=function(e){const t=e.$$("track"),n=Array.prototype.map.call(t,(e=>e.track));return Array.prototype.map.call(t,(function(e){const t=$3(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map($3))},q3=function(e,t){return e.forEach((function(e){const n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((e=>n.addCue(e)))})),t.textTracks()};const H3="vjs-modal-dialog";class W3 extends I3{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=d6("div",{className:`${H3}-content`},{role:"document"}),this.descEl_=d6("p",{className:`${H3}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),u6(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${H3} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_)return void(this.options_.fillAlways&&this.fill());const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){const t=this.closeable_=!!e;let n=this.getChild("closeButton");if(t&&!n){const e=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),D6(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);const r=this.getChild("closeButton");r&&n.appendChild(r.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),I6(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){const e=XJ.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),"Escape"===e.key&&this.closeable())return e.preventDefault(),void this.close();if("Tab"!==e.key)return;const t=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let r=0;r<t.length;r++)if(n===t[r]){i=r;break}XJ.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(e=>(e instanceof qJ.HTMLAnchorElement||e instanceof qJ.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof qJ.HTMLInputElement||e instanceof qJ.HTMLSelectElement||e instanceof qJ.HTMLTextAreaElement||e instanceof qJ.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof qJ.HTMLIFrameElement||e instanceof qJ.HTMLObjectElement||e instanceof qJ.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")))}}W3.prototype.options_={pauseOnOpen:!0,temporary:!0},I3.registerComponent("ModalDialog",W3);class G3 extends u3{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},p3(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}G3.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const Hie in G3.prototype.allowedEvents_)G3.prototype["on"+Hie]=null;const Y3=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)};const K3=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)};class X3 extends G3{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Q3{constructor(e){Q3.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const r=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)}getCueById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}const J3={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Z3={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},e8={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},t8={disabled:"disabled",hidden:"hidden",showing:"showing"};class n8 extends u3{constructor(e={}){super();const t={id:e.id||"vjs_track_"+Y6(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in t)Object.defineProperty(this,i,{get:()=>t[i],set(){}});Object.defineProperty(this,"label",{get:()=>n,set(e){e!==n&&(n=e,this.trigger("labelchange"))}})}}const i8=function(e){return new URL(e,XJ.baseURI)},r8=function(e){return new URL(e,XJ.baseURI).href},o8=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},s8=function(e,t=qJ.location){return i8(e).origin!==t.origin};var a8=Object.freeze({__proto__:null,parseUrl:i8,getAbsoluteURL:r8,getFileExtension:o8,isCrossOrigin:s8});const l8=function(e,t){const n=new qJ.WebVTT.Parser(qJ,qJ.vttjs,qJ.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(qJ.console&&qJ.console.groupCollapsed&&qJ.console.groupCollapsed(`Text Track parsing errors for ${t.src}`),i.forEach((e=>k5.error(e))),qJ.console&&qJ.console.groupEnd&&qJ.console.groupEnd()),n.flush()},c8=function(e,t){const n={uri:e},i=s8(e);i&&(n.cors=i);const r="use-credentials"===t.tech_.crossOrigin();r&&(n.withCredentials=r),vZ(n,s3(this,(function(e,n,i){if(e)return k5.error(e,n);t.loaded_=!0,"function"!=typeof qJ.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(e=>{if("vttjserror"!==e.type)return l8(i,t);k5.error(`vttjs failed to load, stopping trying to process ${t.src}`)})):l8(i,t)})))};class d8 extends n8{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=D5(e,{kind:e8[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=t8[t.mode]||"disabled";const i=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(n="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const r=new Q3(this.cues_),o=new Q3(this.activeCues_);let s=!1;this.timeupdateHandler=s3(this,(function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));this.tech_.one("dispose",(()=>{this.stopTracking()})),"disabled"!==n&&this.startTracking(),Object.defineProperties(this,{default:{get:()=>i,set(){}},mode:{get:()=>n,set(e){t8[e]&&n!==e&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||c8(this.src,this),this.stopTracking(),"disabled"!==n&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return o;const e=this.tech_.currentTime(),t=[];for(let n=0,i=this.cues.length;n<i;n++){const i=this.cues[n];i.startTime<=e&&i.endTime>=e&&t.push(i)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(let n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(s=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&c8(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new qJ.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}d8.prototype.allowedEvents_={cuechange:"cuechange"};class u8 extends n8{constructor(e={}){const t=D5(e,{kind:Z3[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"enabled",{get:()=>n,set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class h8 extends n8{constructor(e={}){const t=D5(e,{kind:J3[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"selected",{get:()=>n,set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class p8 extends u3{constructor(e={}){let t;super();const n=new d8(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get:()=>t},track:{get:()=>n}}),t=p8.NONE,n.addEventListener("loadeddata",(()=>{t=p8.LOADED,this.trigger({type:"load",target:this})}))}}p8.prototype.allowedEvents_={load:"load"},p8.NONE=0,p8.LOADING=1,p8.LOADED=2,p8.ERROR=3;const m8={audio:{ListClass:class extends G3{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){Y3(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Y3(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Y3(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},TrackClass:u8,capitalName:"Audio"},video:{ListClass:class extends G3{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){K3(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&K3(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,K3(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:h8,capitalName:"Video"},text:{ListClass:X3,TrackClass:d8,capitalName:"Text"}};Object.keys(m8).forEach((function(e){m8[e].getterName=`${e}Tracks`,m8[e].privateName=`${e}Tracks_`}));const f8={remoteText:{ListClass:X3,TrackClass:d8,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t}removeTrackElement_(e){for(let t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},TrackClass:p8,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},g8=Object.assign({},m8,f8);f8.names=Object.keys(f8),m8.names=Object.keys(m8),g8.names=[].concat(f8.names).concat(m8.names);class b8 extends I3{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",(function(){this.hasStarted_=!0})),this.on("loadstart",(function(){this.hasStarted_=!1})),g8.names.forEach((t=>{const n=g8[t];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])})),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((t=>{!1===e[`native${t}Tracks`]&&(this[`featuresNative${t}Tracks`]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new g8.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",(()=>this.setTimeout((()=>this.triggerSourceset(e)),1))),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(s3(this,(function(){const e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return D3(0,0)}bufferedPercent(){return U3(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(m8.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach((e=>{const t=this[`${e}Tracks`]()||[];let n=t.length;for(;n--;){const i=t[n];"text"===e&&this.removeRemoteTextTrack(i),t.removeTrack(i)}}))}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const n=e[t];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new B3(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?D3(0,0):D3()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){m8.names.forEach((e=>{const t=m8[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",(()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))}addWebVttScript_(){if(!qJ.WebVTT)if(XJ.body.contains(this.el())){if(!this.options_["vtt.js"]&&P5(n0)&&Object.keys(n0).length>0)return void this.trigger("vttjsloaded");const e=XJ.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",(()=>{e.onload=null,e.onerror=null})),qJ.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),n=t=>e.addTrack(t.track),i=t=>e.removeTrack(t.track);t.on("addtrack",n),t.on("removetrack",i),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),o=()=>{r();for(let t=0;t<e.length;t++){const n=e[t];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",(function(){t.off("addtrack",n),t.off("removetrack",i),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let t=0;t<e.length;t++){e[t].removeEventListener("cuechange",r)}}))}addTextTrack(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r={}){const o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;const s=new g8.text.TrackClass(r);return o.addTrack(s),s}(this,e,t,n)}createRemoteTextTrack(e){const t=D5(e,{tech:this});return new f8.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const n=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!1===t&&this.ready((()=>this.autoRemoteTextTracks_.addTrack(n.track))),n}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=Y6();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",(()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())}))):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return b8.canPlayType(e.type)}static isTech(e){return e.prototype instanceof b8||e instanceof b8||e===b8}static registerTech(e,t){if(b8.techs_||(b8.techs_={}),!b8.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!b8.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!b8.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=S3(e),b8.techs_[e]=t,b8.techs_[T3(e)]=t,"Tech"!==e&&b8.defaultTechOrder_.push(e),t}static getTech(e){if(e)return b8.techs_&&b8.techs_[e]?b8.techs_[e]:(e=S3(e),qJ&&qJ.videojs&&qJ.videojs[e]?(k5.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),qJ.videojs[e]):void 0)}}g8.names.forEach((function(e){const t=g8[e];b8.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),b8.prototype.featuresVolumeControl=!0,b8.prototype.featuresMuteControl=!0,b8.prototype.featuresFullscreenResize=!1,b8.prototype.featuresPlaybackRate=!1,b8.prototype.featuresProgressEvents=!1,b8.prototype.featuresSourceset=!1,b8.prototype.featuresTimeupdateEvents=!1,b8.prototype.featuresNativeTextTracks=!1,b8.prototype.featuresVideoFrameCallback=!1,b8.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){let i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){const n=e.sourceHandlers||[];let i;for(let e=0;e<n.length;e++)if(i=n[e].canPlayType(t),i)return i;return""},e.selectSourceHandler=function(t,n){const i=e.sourceHandlers||[];let r;for(let e=0;e<i.length;e++)if(r=i[e].canHandleSource(t,n),r)return i[e];return null},e.canPlaySource=function(t,n){const i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){let n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:k5.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},I3.registerComponent("Tech",b8),b8.registerTech("Tech",b8),b8.defaultTechOrder_=[];const v8={},y8={},w8={};function _8(e,t,n){e.setTimeout((()=>C8(t,v8[t.type],n,e)),1)}function x8(e,t,n,i=null){const r="call"+S3(n),o=e.reduce(E8(r),i),s=o===w8,a=s?null:t[n](o);return function(e,t,n,i){for(let r=e.length-1;r>=0;r--){const o=e[r];o[t]&&o[t](i,n)}}(e,n,a,s),a}const k8={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},T8={setCurrentTime:1,setMuted:1,setVolume:1},S8={play:1,pause:1};function E8(e){return(t,n)=>t===w8?w8:n[e]?n[e](t):t}function C8(e={},t=[],n,i,r=[],o=!1){const[s,...a]=t;if("string"==typeof s)C8(e,v8[s],n,i,r,o);else if(s){const t=function(e,t){const n=y8[e.id()];let i=null;if(null==n)return i=t(e),y8[e.id()]=[[t,i]],i;for(let r=0;r<n.length;r++){const[e,o]=n[r];e===t&&(i=o)}return null===i&&(i=t(e),n.push([t,i])),i}(i,s);if(!t.setSource)return r.push(t),C8(e,a,n,i,r,o);t.setSource(Object.assign({},e),(function(s,l){if(s)return C8(e,a,n,i,r,o);r.push(t),C8(l,e.type===l.type?a:v8[l.type],n,i,r,o)}))}else a.length?C8(e,a,n,i,r,o):o?n(e,r):C8(e,v8["*"],n,i,r,!0)}const I8={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},A8=function(e=""){const t=o8(e);return I8[t.toLowerCase()]||""},P8=function(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){e=P8(e),Array.isArray(e)?t=t.concat(e):A5(e)&&t.push(e)})),e=t}else e="string"==typeof e&&e.trim()?[D8({src:e})]:A5(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[D8(e)]:[];return e};function D8(e){if(!e.type){const t=A8(e.src);t&&(e.type=t)}return e}const O8=Q5?10009:J5?461:8,N8={codes:{play:415,pause:19,ff:417,rw:412,back:O8},names:{415:"play",19:"pause",417:"ff",412:"rw",[O8]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!(!this.names[e.keyCode]||this.names[e.keyCode]!==t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){const t=this.codes[e.code];return this.names[t]}return null}};class L8 extends u3{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",(()=>{this.focus(this.updateFocusableComponents()[0])})),this.player_.on("modalclose",(()=>{this.refocusComponent()})),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",(()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())})))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();const e=t.key.substring(5).toLowerCase();this.move(e)}else if(N8.isEventKey(t,"play")||N8.isEventKey(t,"pause")||N8.isEventKey(t,"ff")||N8.isEventKey(t,"rw")){t.preventDefault();const e=N8.getEventName(t);this.performMediaAction_(e)}else N8.isEventKey(t,"Back")&&e.target&&"function"==typeof e.target.closeable&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+5);break;case"rw":this.userSeek_(this.player_.currentTime()-5)}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const t=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);t&&(n=Boolean(t.closest(".video-js")),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(e.currentTarget.contains(e.relatedTarget)||n)&&t||(i&&"CloseButton"===i.name()?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,t=[];function n(e){for(const i of e)i.hasOwnProperty("el_")&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())&&t.push(i),i.hasOwnProperty("children_")&&i.children_.length>0&&n(i.children_)}return e.children_.forEach((e=>{if(e.hasOwnProperty("el_")){if(e.getIsFocusable&&e.getIsAvailableToBeFocused&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el()))return void t.push(e);e.hasOwnProperty("children_")&&e.children_.length>0?n(e.children_):e.hasOwnProperty("items")&&e.items.length>0?n(e.items):this.findSuitableDOMChild(e)&&t.push(e)}if("ErrorDisplay"===e.name_&&e.opened_){const n=e.el_.querySelector(".vjs-errors-ok-button-container");if(n){n.querySelectorAll("button").forEach(((e,n)=>{t.push({name:()=>"ModalButton"+(n+1),el:()=>e,getPositions:()=>{const t=e.getBoundingClientRect();return{boundingClientRect:{x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left},center:{x:t.left+t.width/2,y:t.top+t.height/2,width:0,height:0,top:t.top+t.height/2,right:t.left+t.width/2,bottom:t.top+t.height/2,left:t.left+t.width/2}}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:e=>!0,focus:()=>e.focus()})}))}}})),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){return e.el()?function t(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let e=0;e<n.children.length;e++){const i=t(n.children[e]);if(i)return i}return null}(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const t=e||document.activeElement;if(this.focusableComponents.length)for(const n of this.focusableComponents)if(n.el()===t)return n}add(e){const t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name())return this.focusableComponents.splice(t,1),void this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const t=this.getCurrentComponent();if(!t)return;const n=t.getPositions(),i=this.focusableComponents.filter((i=>i!==t&&this.isInDirection_(n.boundingClientRect,i.getPositions().boundingClientRect,e))),r=this.findBestCandidate_(n.center,i,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,n){let i=1/0,r=null;for(const o of t){const t=o.getPositions().center,s=this.calculateDistance_(e,t,n);s<i&&(i=s,r=o)}return r}isInDirection_(e,t,n){switch(n){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name())return void this.focus(this.focusableComponents[e])}else this.focus(this.updateFocusableComponents()[0])}focus(e){"object"==typeof e&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,n){const i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);let o;switch(n){case"right":case"left":o=i+100*r;break;case"up":o=2*r+.5*i;break;case"down":o=5*r+i;break;default:o=i+r}return o}searchForTrackSelect_(){const e=this;for(const t of e.updateFocusableComponents())if("TextTrackSelect"===t.constructor.name){e.focus(t);break}}}I3.registerComponent("MediaLoader",class extends I3{constructor(e,t,n){if(super(e,D5({createEl:!1},t),n),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let i=0,r=t.playerOptions.techOrder;i<r.length;i++){const t=S3(r[i]);let n=b8.getTech(t);if(t||(n=I3.getComponent(t)),n&&n.isSupported()){e.loadTech_(t);break}}}});class R8 extends I3{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},n={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&k5.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=t.tabIndex;const i=d6(e,t,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(d6("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=d6("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,u6(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){" "===e.key||"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}I3.registerComponent("ClickableComponent",R8);class j8 extends R8{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return d6("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(d6("picture",{className:"vjs-poster",tabIndex:-1},{},d6("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?z3(this.player_.play()):this.player_.pause())}}j8.prototype.crossorigin=j8.prototype.crossOrigin,I3.registerComponent("PosterImage",j8);const M8="#222",U8="#ccc",B8={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function F8(e,t){let n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function z8(e,t,n){try{e.style[t]=n}catch(HS){return}}function $8(e){return e?`${e}px`:""}I3.registerComponent("TextTrackDisplay",class extends I3{constructor(e,t,n){super(e,t,n);const i=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",(e=>this.toggleDisplay(e))),e.on("texttrackchange",(e=>this.updateDisplay(e))),e.on("loadedmetadata",(e=>{this.updateDisplayOverlay(),this.preselectTrack(e)})),e.ready(s3(this,(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",i),e.on("playerresize",i);const t=qJ.screen.orientation||qJ,n=qJ.screen.orientation?"change":"orientationchange";t.addEventListener(n,i),e.on("dispose",(()=>t.removeEventListener(n,i)));const r=this.options_.playerOptions.tracks||[];for(let e=0;e<r.length;e++)this.player_.addRemoteTextTrack(r[e],!0);this.preselectTrack()})))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,r,o;for(let s=0;s<t.length;s++){const a=t[s];n&&n.enabled&&n.language&&n.language===a.language&&a.kind in e?a.kind===n.kind?o=a:o||(o=a):n&&!n.enabled?(o=null,i=null,r=null):a.default&&("descriptions"!==a.kind||i?a.kind in e&&!r&&(r=a):i=a)}o?o.mode="showing":r?r.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof qJ.WebVTT&&qJ.WebVTT.processCues(qJ,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const t=[];for(let n=0;n<e.length;++n){const i=e[n];"showing"===i.mode&&t.push(i)}return void this.updateForTrack(t)}let n=null,i=null,r=e.length;for(;r--;){const t=e[r];"showing"===t.mode&&("descriptions"===t.kind?n=t:i=t)}if(i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!qJ.CSS.supports("inset","10px")){const e=this.el_,t=e.querySelectorAll(".vjs-text-track-cue"),n=this.player_.controlBar.el_.getBoundingClientRect().height,i=this.player_.el_.getBoundingClientRect().height;e.style="",z8(e,"position","relative"),z8(e,"height",i-n+"px"),z8(e,"top","unset"),z8(e,"bottom",Z5?i+"px":"0px"),t.length>0&&t.forEach((e=>{if(e.style.inset){const t=e.style.inset.split(" ");3===t.length&&Object.assign(e.style,{top:t[0],right:t[1],bottom:t[2],left:"unset"})}}))}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!qJ.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),n=e/t,i=this.player_.videoWidth()/this.player_.videoHeight();let r=0,o=0;Math.abs(n-i)>.1&&(n>i?r=Math.round((e-t*i)/2):o=Math.round((t-e/i)/2)),z8(this.el_,"insetInline",$8(r)),z8(this.el_,"insetBlock",$8(o))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const e=n[i];if(!e)continue;const r=e.displayState;if(t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&z8(r.firstChild,"color",F8(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&z8(r.firstChild,"backgroundColor",F8(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?z8(r,"backgroundColor",F8(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow=`2px 2px 3px ${M8}, 2px 2px 4px ${M8}, 2px 2px 5px ${M8}`:"raised"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${M8}, 2px 2px ${M8}, 3px 3px ${M8}`:"depressed"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${U8}, 0 1px ${U8}, -1px -1px ${M8}, 0 -1px ${M8}`:"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow=`0 0 4px ${M8}, 0 0 4px ${M8}, 0 0 4px ${M8}, 0 0 4px ${M8}`)),t.fontPercent&&1!==t.fontPercent){const e=qJ.parseFloat(r.style.fontSize);r.style.fontSize=e*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=B8[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof qJ.WebVTT||e.every((e=>!e.activeCues)))return;const t=[];for(let n=0;n<e.length;++n){const i=e[n];for(let e=0;e<i.activeCues.length;++e)t.push(i.activeCues[e])}qJ.WebVTT.processCues(qJ,t,this.el_);for(let n=0;n<e.length;++n){const t=e[n];for(let e=0;e<t.activeCues.length;++e){const i=t.activeCues[e].displayState;m6(i,"vjs-text-track-cue","vjs-text-track-cue-"+(t.language?t.language:n)),t.language&&w6(i,"lang",t.language)}this.player_.textTrackSettings&&this.updateDisplayState(t)}}});I3.registerComponent("LoadingSpinner",class extends I3{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=d6("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class V8 extends R8{createEl(e,t={},n={}){const i=d6("button",t=Object.assign({className:this.buildCSSClass()},t),n=Object.assign({type:"button"},n));return this.player_.options_.experimentalSvgIcons||i.appendChild(d6("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,t={}){const n=this.constructor.name;return k5.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),I3.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){" "!==e.key&&"Enter"!==e.key?super.handleKeyDown(e):e.stopPropagation()}}I3.registerComponent("Button",V8);class q8 extends V8{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",(e=>this.handleMouseDown(e)))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e)return z3(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.tech(!0).focus();const r=()=>i.focus();F3(t)?t.then(r,(()=>{})):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}q8.prototype.controlText_="Play Video",I3.registerComponent("BigPlayButton",q8);I3.registerComponent("CloseButton",class extends V8{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class H8 extends V8{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",(e=>this.handlePlay(e))),this.on(e,"pause",(e=>this.handlePause(e))),t.replay&&this.on(e,"ended",(e=>this.handleEnded(e)))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?z3(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",(e=>this.handleSeeked(e)))}}H8.prototype.controlText_="Play",I3.registerComponent("PlayToggle",H8);class W8 extends I3{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],(e=>this.update(e))),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=d6("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return t.appendChild(n),this.contentEl_=d6("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){(this.player_.options_.enableSmoothSeeking||"seeking"!==e.type)&&this.updateContent(e)}updateTextNode_(e=0){e=j3(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,k5.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=XJ.createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))})))}updateContent(e){}}W8.prototype.labelText_="Time",W8.prototype.controlText_="Time",I3.registerComponent("TimeDisplay",W8);class G8 extends W8{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}G8.prototype.labelText_="Current Time",G8.prototype.controlText_="Current Time",I3.registerComponent("CurrentTimeDisplay",G8);class Y8 extends W8{constructor(e,t){super(e,t);const n=e=>this.updateContent(e);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}Y8.prototype.labelText_="Duration",Y8.prototype.controlText_="Duration",I3.registerComponent("DurationDisplay",Y8);I3.registerComponent("TimeDivider",class extends I3{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return t.appendChild(n),e.appendChild(t),e}});class K8 extends W8{constructor(e,t){super(e,t),this.on(e,"durationchange",(e=>this.updateContent(e)))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(d6("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())return;let t;t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t)}}K8.prototype.labelText_="Remaining Time",K8.prototype.controlText_="Remaining Time",I3.registerComponent("RemainingTimeDisplay",K8);I3.registerComponent("LiveDisplay",class extends I3{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",(e=>this.updateShowing(e)))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=d6("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(d6("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(XJ.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}});class X8 extends V8{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=d6("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function Q8(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}X8.prototype.controlText_="Seek to live, currently playing live",I3.registerComponent("SeekToLive",X8);var J8=Object.freeze({__proto__:null,clamp:Q8});class Z8 extends I3{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},n={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,t,n)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||$5||e.preventDefault(),x6(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;k6(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"}))),e}getProgress(){return Number(Q8(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=E6(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){const t=this.options_.playerOptions.spatialNavigation,n=t&&t.enabled,i=t&&t.horizontalSeek;n?i&&"ArrowLeft"===e.key||!i&&"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&"ArrowRight"===e.key||!i&&"ArrowUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):"ArrowUp"===e.key||"ArrowRight"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}I3.registerComponent("Slider",Z8);const e9=(e,t)=>Q8(e/t*100,0,100).toFixed(2)+"%";I3.registerComponent("LoadProgressBar",class extends I3{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",(e=>this.update(e)))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=d6("span",{className:"vjs-control-text"}),n=d6("span",{textContent:this.localize("Loaded")}),i=XJ.createTextNode(": ");return this.percentageEl_=d6("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(n),t.appendChild(i),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",(()=>{const e=this.player_.liveTracker,t=this.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,o=e9(i,n);this.percent_!==o&&(this.el_.style.width=o,u6(this.percentageEl_,o),this.percent_=o);for(let s=0;s<t.length;s++){const e=t.start(s),n=t.end(s);let o=r[s];o||(o=this.el_.appendChild(d6()),r[s]=o),o.dataset.start===e&&o.dataset.end===n||(o.dataset.start=e,o.dataset.end=n,o.style.left=e9(e,i),o.style.width=e9(n-e,i))}for(let s=r.length;s>t.length;s--)this.el_.removeChild(r[s-1]);r.length=t.length}))}});I3.registerComponent("TimeTooltip",class extends I3{constructor(e,t){super(e,t),this.update=a3(s3(this,this.update),o3)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,n){const i=S6(this.el_),r=T6(this.player_.el()),o=e.width*t;if(!r||!i)return;let s=e.left-r.left+o,a=e.width-o+(r.right-e.right);a||(a=e.width-o,s=o);let l=i.width/2;s<l?l+=l-s:a<l&&(l=a),l<0?l=0:l>i.width&&(l=i.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(n)}write(e){u6(this.el_,e)}updateTime(e,t,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",(()=>{let r;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const e=this.player_.liveTracker.liveWindow(),n=e-t*e;r=(n<1?"":"-")+j3(n,e)}else r=j3(n,o);this.update(e,t,r),i&&i()}))}});class t9 extends I3{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=a3(s3(this,this.update),o3)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}}t9.prototype.options_={children:[]},n6||U5||t9.prototype.options_.children.push("timeTooltip"),I3.registerComponent("PlayProgressBar",t9);class n9 extends I3{constructor(e,t){super(e,t),this.update=a3(s3(this,this.update),o3)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,(()=>{this.el_.style.left=e.width*t+"px"}))}}n9.prototype.options_={children:["timeTooltip"]},I3.registerComponent("MouseTimeDisplay",n9);class i9 extends Z8{constructor(e,t){(t=D5(i9.prototype.options_,t)).children=[...t.children];const n=e.options_.disableSeekWhileScrubbingOnMobile&&(n6||U5);(!n6&&!U5||n)&&t.children.splice(1,0,"mouseTimeDisplay"),super(e,t),this.shouldDisableSeekWhileScrubbingOnMobile_=n,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=s3(this,this.update),this.update=a3(this.update_,o3),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in XJ&&"visibilityState"in XJ&&this.on(XJ,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===XJ.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,o3))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===XJ.visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",(()=>{const e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===e&&this.duration_===i||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[j3(e,i),j3(i,i)],"{1} of {2}")),this.currentTime_=e,this.duration_=i),this.bar&&this.bar.update(T6(this.el()),this.getProgress())})),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let t;const n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){O6(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!O6(e)||isNaN(this.player_.duration()))return;let n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();const e=r.seekableStart(),t=r.liveCurrentTime();if(n=e+i*r.liveWindow(),n>=t&&(n=t),n<=e&&(n=e+.1),n===1/0)return}else n=i*this.player_.duration(),n===this.player_.duration()&&(n-=.1);this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=n:this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?z3(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(" "===e.key||"Enter"===e.key)e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if("Home"===e.key)e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if("End"===e.key)e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=.1*parseInt(e.key,10);t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else"PageDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):"PageUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in XJ&&"visibilityState"in XJ&&this.off(XJ,"visibilitychange",this.toggleVisibility_),super.dispose()}}i9.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},I3.registerComponent("SeekBar",i9);class r9 extends I3{constructor(e,t){super(e,t),this.handleMouseMove=a3(s3(this,this.handleMouseMove),o3),this.throttledHandleMouseSeek=a3(s3(this,this.handleMouseSeek),o3),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(!n&&!i)return;const r=t.el(),o=S6(r);let s=E6(r,e).x;s=Q8(s,0,1),i&&i.update(o,s),n&&n.update(o,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach((e=>e.disable&&e.disable())),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&z3(this.player_.play())}}enable(){this.children().forEach((e=>e.enable&&e.enable())),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}r9.prototype.options_={children:["seekBar"]},I3.registerComponent("ProgressControl",r9);class o9 extends V8{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],(e=>this.handlePictureInPictureChange(e))),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],(e=>this.handlePictureInPictureEnabledChange(e))),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(()=>this.handlePictureInPictureAudioModeChange())),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){XJ.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in qJ?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof XJ.exitPictureInPicture&&super.show()}}o9.prototype.controlText_="Picture-in-Picture",I3.registerComponent("PictureInPictureToggle",o9);class s9 extends V8{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",(e=>this.handleFullscreenChange(e))),!1===XJ[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}s9.prototype.controlText_="Fullscreen",I3.registerComponent("FullscreenToggle",s9);I3.registerComponent("VolumeLevel",class extends I3{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}});I3.registerComponent("VolumeLevelTooltip",class extends I3{constructor(e,t){super(e,t),this.update=a3(s3(this,this.update),o3)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,n,i){if(!n){const n=T6(this.el_),i=T6(this.player_.el()),r=e.width*t;if(!i||!n)return;const o=e.left-i.left+r,s=e.width-r+(i.right-e.right);let a=n.width/2;o<a?a+=a-o:s<a&&(a=s),a<0?a=0:a>n.width&&(a=n.width),this.el_.style.right=`-${a}px`}this.write(`${i}%`)}write(e){u6(this.el_,e)}updateVolume(e,t,n,i,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(()=>{this.update(e,t,n,i.toFixed(0)),r&&r()}))}});class a9 extends I3{constructor(e,t){super(e,t),this.update=a3(s3(this,this.update),o3)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,n){const i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(()=>{n?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"}))}}a9.prototype.options_={children:["volumeLevelTooltip"]},I3.registerComponent("MouseVolumeLevelDisplay",a9);class l9 extends Z8{constructor(e,t){super(e,t),this.on("slideractive",(e=>this.updateLastVolume_(e))),this.on(e,"volumechange",(e=>this.updateARIAAttributes(e))),e.ready((()=>this.updateARIAAttributes()))}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){O6(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const n=this.el(),i=T6(n),r=this.vertical();let o=E6(n,e);o=r?o.y:o.x,o=Q8(o,0,1),t.update(i,o,r)}O6(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",(()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)}))}}l9.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},n6||U5||l9.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),l9.prototype.playerEvent="volumechange",I3.registerComponent("VolumeBar",l9);class c9 extends I3{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||P5(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.throttledHandleMouseMove=a3(s3(this,this.handleMouseMove),o3),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",(e=>this.handleMouseDown(e))),this.on("touchstart",(e=>this.handleMouseDown(e))),this.on("mousemove",(e=>this.handleMouseMove(e))),this.on(this.volumeBar,["focus","slideractive"],(()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(this.volumeBar,["blur","sliderinactive"],(()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")}))}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}c9.prototype.options_={children:["volumeBar"]},I3.registerComponent("VolumeControl",c9);class d9 extends V8{constructor(e,t){super(e,t),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.on(e,["loadstart","volumechange"],(e=>this.update(e)))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){const e=n<.1?.1:n;this.player_.volume(e),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),n6&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),f6(this.el_,[0,1,2,3].reduce(((e,t)=>e+`${t?" ":""}vjs-vol-${t}`),"")),m6(this.el_,`vjs-vol-${t}`)}updateControlText_(){const e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}d9.prototype.controlText_="Mute",I3.registerComponent("MuteToggle",d9);class u9 extends I3{constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||P5(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],(e=>this.volumePanelState_(e))),this.on(this.muteToggle,"keyup",(e=>this.handleKeyPress(e))),this.on(this.volumeControl,"keyup",(e=>this.handleVolumeControlKeyUp(e))),this.on("keydown",(e=>this.handleKeyPress(e))),this.on("mouseover",(e=>this.handleMouseOver(e))),this.on("mouseout",(e=>this.handleMouseOut(e))),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){"Escape"===e.key&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Z6(XJ,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),e3(XJ,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){"Escape"===e.key&&this.handleMouseOut()}}u9.prototype.options_={children:["muteToggle","volumeControl"]},I3.registerComponent("VolumePanel",u9);class h9 extends V8{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let r;r=t+this.skipTime<=i?t+this.skipTime:i,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}h9.prototype.controlText_="Skip Forward",I3.registerComponent("SkipForward",h9);class p9 extends V8{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let r;r=i&&t-this.skipTime<=i?i:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}p9.prototype.controlText_="Skip Backward",I3.registerComponent("SkipBackward",p9);class m9 extends I3{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",(e=>this.handleKeyDown(e))),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof I3&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof I3&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=d6(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Z6(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||XJ.activeElement;if(!this.children().some((e=>e.el()===t))){const e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const n=t.filter((t=>t.el()===e.target))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}}handleKeyDown(e){"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}I3.registerComponent("Menu",m9);class f9 extends I3{constructor(e,t={}){super(e,t),this.menuButton_=new V8(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=V8.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",(e=>this.handleKeyDown(e))),this.on(this.menuButton_,"mouseenter",(()=>{this.addClass("vjs-hover"),this.menu.show(),Z6(XJ,"keyup",this.handleMenuKeyUp_)})),this.on("mouseleave",(e=>this.handleMouseLeave(e))),this.on("keydown",(e=>this.handleSubmenuKeyDown(e)))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new m9(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=d6("li",{className:"vjs-menu-title",textContent:S3(this.options_.title),tabIndex:-1}),n=new I3(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";return`vjs-menu-button ${e} ${V8.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),e3(XJ,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){"Escape"===e.key||"Tab"===e.key?(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus())):"Up"!==e.key&&("Down"!==e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)||this.buttonPressed_||(e.preventDefault(),this.pressButton())}handleMenuKeyUp(e){"Escape"!==e.key&&"Tab"!==e.key||this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){"Escape"!==e.key&&"Tab"!==e.key||(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),n6&&l6())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}I3.registerComponent("MenuButton",f9);class g9 extends f9{constructor(e,t){const n=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!n)return;const i=s3(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",(function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)}))}}I3.registerComponent("TrackButton",g9);class b9 extends R8{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),n),r=d6("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(r):i.replaceChild(r,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}I3.registerComponent("MenuItem",b9);class v9 extends b9{constructor(e,t){const n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,super(e,t),this.track=n,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const r=(...e)=>{this.handleTracksChange.apply(this,e)},o=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",o),this.on("dispose",(function(){e.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",o)})),void 0===i.onchange){let e;this.on(["tap","click"],(function(){if("object"!=typeof qJ.Event)try{e=new qJ.Event("change")}catch(sm){}e||(e=XJ.createEvent("Event"),e.initEvent("change",!0,!0)),i.dispatchEvent(e)}))}this.handleTracksChange()}handleClick(e){const t=this.track,n=this.player_.textTracks();if(super.handleClick(e),n)for(let i=0;i<n.length;i++){const e=n[i];-1!==this.kinds.indexOf(e.kind)&&(e===t?"showing"!==e.mode&&(e.mode="showing"):"disabled"!==e.mode&&(e.mode="disabled"))}}handleTracksChange(e){const t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){const e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}I3.registerComponent("TextTrackMenuItem",v9);class y9 extends v9{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let n=!0;for(let i=0,r=t.length;i<r;i++){const e=t[i];if(this.options_.kinds.indexOf(e.kind)>-1&&"showing"===e.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let n=!0;for(let i=0,r=t.length;i<r;i++){const e=t[i];if(["captions","descriptions","subtitles"].indexOf(e.kind)>-1&&"showing"===e.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}I3.registerComponent("OffTextTrackMenuItem",y9);class w9 extends g9{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=v9){let n;this.label_&&(n=`${this.label_} off`),e.push(new y9(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let r=0;r<i.length;r++){const n=i[r];if(this.kinds_.indexOf(n.kind)>-1){const i=new t(this.player_,{track:n,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});i.addClass(`vjs-${n.kind}-menu-item`),e.push(i)}}return e}}I3.registerComponent("TextTrackButton",w9);class _9 extends b9{constructor(e,t){const n=t.track,i=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,super(e,t),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}I3.registerComponent("ChaptersTrackMenuItem",_9);class x9 extends w9{constructor(e,t,n){super(e,t,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach((e=>{e.selected(this.track_.activeCues[0]===e.cue)}))}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(S3(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new _9(this.player_,{track:this.track_,cue:i});e.push(r)}return e}}x9.prototype.kind_="chapters",x9.prototype.controlText_="Chapters",I3.registerComponent("ChaptersButton",x9);class k9 extends w9{constructor(e,t,n){super(e,t,n),this.setIcon("audio-description");const i=e.textTracks(),r=s3(this,this.handleTracksChange);i.addEventListener("change",r),this.on("dispose",(function(){i.removeEventListener("change",r)}))}handleTracksChange(e){const t=this.player().textTracks();let n=!1;for(let i=0,r=t.length;i<r;i++){const e=t[i];if(e.kind!==this.kind_&&"showing"===e.mode){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}k9.prototype.kind_="descriptions",k9.prototype.controlText_="Descriptions",I3.registerComponent("DescriptionsButton",k9);class T9 extends w9{constructor(e,t,n){super(e,t,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}T9.prototype.kind_="subtitles",T9.prototype.controlText_="Subtitles",I3.registerComponent("SubtitlesButton",T9);class S9 extends v9{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}I3.registerComponent("CaptionSettingsMenuItem",S9);class E9 extends w9{constructor(e,t,n){super(e,t,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new S9(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}E9.prototype.kind_="captions",E9.prototype.controlText_="Captions",I3.registerComponent("CaptionsButton",E9);class C9 extends v9{createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):r.appendChild(d6("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(d6("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}I3.registerComponent("SubsCapsMenuItem",C9);class I9 extends w9{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(S3(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new S9(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,C9),e}}I9.prototype.kinds_=["captions","subtitles"],I9.prototype.controlText_="Subtitles",I3.registerComponent("SubsCapsButton",I9);class A9 extends b9{constructor(e,t){const n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,super(e,t),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const r=(...e)=>{this.handleTracksChange.apply(this,e)};i.addEventListener("change",r),this.on("dispose",(()=>{i.removeEventListener("change",r)}))}createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(d6("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(d6("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const e=this.player_.audioTracks();for(let t=0;t<e.length;t++){const n=e[t];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}I3.registerComponent("AudioTrackMenuItem",A9);class P9 extends g9{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let n=0;n<t.length;n++){const i=t[n];e.push(new A9(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}P9.prototype.controlText_="Audio Track",I3.registerComponent("AudioTrackButton",P9);class D9 extends b9{constructor(e,t){const n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=i===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=n,this.rate=i,this.on(e,"ratechange",(e=>this.update(e)))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}D9.prototype.contentElType="button",I3.registerComponent("PlaybackRateMenuItem",D9);class O9 extends f9{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",(e=>this.updateVisibility(e))),this.on(e,"ratechange",(e=>this.updateLabel(e))),this.on(e,"playbackrateschange",(e=>this.handlePlaybackRateschange(e)))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=d6("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let n=e.length-1;n>=0;n--)t.push(new D9(this.player(),{rate:e[n]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}O9.prototype.controlText_="Playback Rate",I3.registerComponent("PlaybackRateMenuButton",O9);class N9 extends I3{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},n={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,n)}}I3.registerComponent("Spacer",N9);I3.registerComponent("CustomControlSpacer",class extends N9{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}});class L9 extends I3{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}L9.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},I3.registerComponent("ControlBar",L9);class R9 extends W3{constructor(e,t){super(e,t),this.on(e,"error",(e=>{this.open(e)}))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}R9.prototype.options_=Object.assign({},W3.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),I3.registerComponent("ErrorDisplay",R9);class j9 extends I3{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim();return d6("select",{id:this.options_.id},{},this.options_.SelectOptions.map((e=>{const t=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Y6()}`)+"-"+e[1].replace(/\W+/g,""),n=d6("option",{id:t,value:this.localize(e[0]),textContent:this.localize(e[1])});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${t}`),n})))}}I3.registerComponent("TextTrackSelect",j9);class M9 extends I3{constructor(e,t={}){super(e,t);const n=d6("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const r of i){const t=this.options_.selectConfigs[r],n=t.className,i=t.id.replace("%s",this.options_.id_);let o=null;const s=`vjs_select_${Y6()}`;if("colors"===this.options_.type){o=d6("span",{className:n});const e=d6("label",{id:i,className:"vjs-label",textContent:this.localize(t.label)});e.setAttribute("for",s),o.appendChild(e)}const a=new j9(e,{SelectOptions:t.options,legendId:this.options_.legendId,id:s,labelId:i});this.addChild(a),"colors"===this.options_.type&&(o.appendChild(a.el()),this.el().appendChild(o))}}createEl(){return d6("fieldset",{className:this.options_.className})}}I3.registerComponent("TextTrackFieldset",M9);class U9 extends I3{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new M9(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const r=new M9(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const o=new M9(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o)}createEl(){return d6("div",{className:"vjs-track-settings-colors"})}}I3.registerComponent("TextTrackSettingsColors",U9);class B9 extends I3{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new M9(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const r=new M9(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const o=new M9(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o)}createEl(){return d6("div",{className:"vjs-track-settings-font"})}}I3.registerComponent("TextTrackSettingsFont",B9);class F9 extends I3{constructor(e,t={}){super(e,t);const n=this.localize("restore all settings to the default values"),i=new V8(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const r=new V8(e,{controlText:n,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Done"),this.addChild(r)}createEl(){return d6("div",{className:"vjs-track-settings-controls"})}}I3.registerComponent("TrackSettingsControls",F9);const z9="vjs-text-track-settings",$9=["#000","Black"],V9=["#00F","Blue"],q9=["#0FF","Cyan"],H9=["#0F0","Green"],W9=["#F0F","Magenta"],G9=["#F00","Red"],Y9=["#FFF","White"],K9=["#FF0","Yellow"],X9=["1","Opaque"],Q9=["0.5","Semi-Transparent"],J9=["0","Transparent"],Z9={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[$9,Y9,G9,H9,V9,K9,W9,q9],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[X9,Q9,J9],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Y9,$9,G9,H9,V9,K9,W9,q9],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[X9,Q9],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[J9,Q9,X9],className:"vjs-window-opacity vjs-opacity"}};function e7(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Z9.windowColor.options=Z9.backgroundColor.options;I3.registerComponent("TextTrackSettings",class extends W3{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=d6("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const t=new U9(e,{textTrackComponentid:this.id_,selectConfigs:Z9,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);const n=new B9(e,{textTrackComponentid:this.id_,selectConfigs:Z9,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new F9(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],(()=>{this.saveSettings(),this.close()})),this.on(this.$(".vjs-default-button"),["click","tap"],(()=>{this.setDefaults(),this.updateDisplay()})),C5(Z9,(e=>{this.on(this.$(e.selector),"change",this.updateDisplay)}))}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return I5(Z9,((e,t,n)=>{const i=function(e,t){return e7(e.options[e.options.selectedIndex].value,t)}(this.$(t.selector),t.parser);return void 0!==i&&(e[n]=i),e}),{})}setValues(e){C5(Z9,((t,n)=>{!function(e,t,n){if(t)for(let i=0;i<e.options.length;i++)if(e7(e.options[i].value,n)===t){e.selectedIndex=i;break}}(this.$(t.selector),e[n],t.parser)}))}setDefaults(){C5(Z9,(e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t}))}restoreSettings(){let e;try{e=JSON.parse(qJ.localStorage.getItem(z9))}catch(sm){k5.warn(sm)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?qJ.localStorage.setItem(z9,JSON.stringify(e)):qJ.localStorage.removeItem(z9)}catch(sm){k5.warn(sm)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}});I3.registerComponent("ResizeManager",class extends I3{constructor(e,t){let n=t.ResizeObserver||qJ.ResizeObserver;null===t.ResizeObserver&&(n=!1);super(e,D5({createEl:!n,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||qJ.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=l3((()=>{this.resizeHandler()}),100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const e=this.debouncedHandler_;let t=this.unloadListener_=function(){e3(this,"resize",e),e3(this,"unload",t),t=null};Z6(this.el_.contentWindow,"unload",t),Z6(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const t7={trackingThreshold:20,liveTolerance:15};I3.registerComponent("LiveTracker",class extends I3{constructor(e,t){super(e,D5(t7,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",(e=>this.handleDurationchange(e))),this.on(this.player_,"canplay",(()=>this.toggleTracking()))}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(qJ.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),r=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-r)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,o3),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}});I3.registerComponent("TitleBar",class extends I3{constructor(e,t){super(e,t),this.on("statechanged",(e=>this.updateDom_())),this.updateDom_()}createEl(){return this.els={title:d6("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Y6()}`}),description:d6("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Y6()}`})},d6("div",{className:"vjs-title-bar"},{},O5(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach((e=>{const i=this.state[e],r=this.els[e],o=n[e];I6(r),i&&u6(r,i),t&&(t.removeAttribute(o),i&&t.setAttribute(o,r.id))})),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const n7={initialDisplay:4e3,position:[],takeFocus:!1};I3.registerComponent("TransientButton",class extends V8{constructor(e,t){super(e,t=D5(n7,t)),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],(e=>{this.removeClass("force-display")}))}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map((e=>`vjs-${e}`)).join(" ")}`}createEl(){const e=d6("button",{},{type:"button",class:this.buildCSSClass()},d6("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout((()=>{this.removeClass("force-display")}),this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}});const i7=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const n=e.$$("source"),i=[];let r="";if(!n.length)return!1;for(let o=0;o<n.length;o++){const e=n[o].src;e&&-1===i.indexOf(e)&&i.push(e)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},r7=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=XJ.createElement(this.nodeName.toLowerCase());t.innerHTML=e;const n=XJ.createDocumentFragment();for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",qJ.Element.prototype.appendChild.call(this,n),this.innerHTML}}),o7=(e,t)=>{let n={};for(let i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},s7=function(e){const t=e.el();if(t.resetSourceWatch_)return;const n={},i=(e=>o7([e.el(),qJ.HTMLMediaElement.prototype,qJ.Element.prototype,r7],"innerHTML"))(e),r=n=>(...i)=>{const r=n.apply(t,i);return i7(e),r};["append","appendChild","insertAdjacentHTML"].forEach((e=>{t[e]&&(n[e]=t[e],t[e]=r(n[e]))})),Object.defineProperty(t,"innerHTML",D5(i,{set:r(i.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(n).forEach((e=>{t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)},a7=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?r8(qJ.Element.prototype.getAttribute.call(this,"src")):""},set(e){return qJ.Element.prototype.setAttribute.call(this,"src",e),e}}),l7=function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const n=(e=>o7([e.el(),qJ.HTMLMediaElement.prototype,a7],"src"))(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",D5(n,{set:i=>{const r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=(n,r)=>{const o=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=()=>{const n=r.call(t);return i7(e)||(e.triggerSourceset(""),s7(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):i7(e)||s7(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}};class c7 extends b8{constructor(e,t){super(e,t);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,n&&(this.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const e=this.el_.childNodes;let t=e.length;const n=[];for(;t--;){const r=e[t];"track"===r.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),this.textTracks().addTrack(r.track),i||this.el_.hasAttribute("crossorigin")||!s8(r.src)||(i=!0)):n.push(r))}for(let i=0;i<n.length;i++)this.el_.removeChild(n[i])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&k5.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(e6||X5)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),c7.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){l7(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const n=()=>{t=[];for(let n=0;n<e.length;n++){const i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(()=>e.removeEventListener("change",n)));const i=()=>{for(let e=0;e<t.length;e++){const n=t[e];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach((e=>{this.el()[`${n}Tracks`].removeEventListener(e,this[`${n}TracksListeners_`][e])})),this[`featuresNative${e}Tracks`]=!t,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=m8[e],n=this.el()[t.getterName],i=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!n||!n.addEventListener)return;const r={change:t=>{const n={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(n),"text"===e&&this[f8.remoteText.getterName]().trigger(n)},addtrack(e){i.addTrack(e.track)},removetrack(e){i.removeTrack(e.track)}},o=function(){const e=[];for(let t=0;t<i.length;t++){let r=!1;for(let e=0;e<n.length;e++)if(n[e]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=r,Object.keys(r).forEach((e=>{const t=r[e];n.addEventListener(e,t),this.on("dispose",(i=>n.removeEventListener(e,t)))})),this.on("loadstart",o),this.on("dispose",(e=>this.off("loadstart",o)))}proxyNativeTracks_(){m8.names.forEach((e=>{this.proxyNativeTracksForType_(e)}))}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),c7.disposeMediaElement(e),e=t}else{e=XJ.createElement("video");const t=D5({},this.options_.tag&&v6(this.options_.tag));e6&&!0===this.options_.nativeControlsForTouch||delete t.controls,b6(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&w6(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let n=0;n<t.length;n++){const i=t[n],r=this.options_[i];void 0!==r&&(r?w6(e,i,i):_6(e,i),e[i]=r)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1;const t=function(){e=!0};this.on("loadstart",t);const n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",t),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready((function(){t.forEach((function(e){this.trigger(e)}),this)}))}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&i6?this.el_.fastSeek(e):this.el_.currentTime=e}catch(HS){k5(HS,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&U5&&$5&&0===this.el_.currentTime){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",(()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)}))}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)z3(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(HS){this.trigger("fullscreenerror",HS)}}),0);else try{e.webkitEnterFullScreen()}catch(HS){this.trigger("fullscreenerror",HS)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return k5.error("Invalid source URL."),!1;const n={src:e};t&&(n.type=t);const i=d6("source",{},n);return this.el_.appendChild(i),!0}removeSourceElement(e){if(!e)return k5.error("Source URL is required to remove the source element."),!1;const t=this.el_.querySelectorAll("source");for(const n of t)if(n.src===e)return this.el_.removeChild(n),!0;return k5.warn(`No matching source element found with src: ${e}`),!1}reset(){c7.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):super.addTextTrack(e,t,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=XJ.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const n=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let n=t.length;for(;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),qJ.performance&&(e.creationTime=qJ.performance.now()),e}}N5(c7,"TEST_VID",(function(){if(!s6())return;const e=XJ.createElement("video"),t=XJ.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e})),c7.isSupported=function(){try{c7.TEST_VID.volume=.5}catch(HS){return!1}return!(!c7.TEST_VID||!c7.TEST_VID.canPlayType)},c7.canPlayType=function(e){return c7.TEST_VID.canPlayType(e)},c7.canPlaySource=function(e,t){return c7.canPlayType(e.type)},c7.canControlVolume=function(){try{const e=c7.TEST_VID.volume;c7.TEST_VID.volume=e/2+.1;const t=e!==c7.TEST_VID.volume;return t&&n6?(qJ.setTimeout((()=>{c7&&c7.prototype&&(c7.prototype.featuresVolumeControl=e!==c7.TEST_VID.volume)})),!1):t}catch(HS){return!1}},c7.canMuteVolume=function(){try{const e=c7.TEST_VID.muted;return c7.TEST_VID.muted=!e,c7.TEST_VID.muted?w6(c7.TEST_VID,"muted","muted"):_6(c7.TEST_VID,"muted"),e!==c7.TEST_VID.muted}catch(HS){return!1}},c7.canControlPlaybackRate=function(){if(U5&&$5&&q5<58)return!1;try{const e=c7.TEST_VID.playbackRate;return c7.TEST_VID.playbackRate=e/2+.1,e!==c7.TEST_VID.playbackRate}catch(HS){return!1}},c7.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(XJ.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(XJ.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(XJ.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(XJ.createElement("audio"),"innerHTML",{get:e,set:e})}catch(HS){return!1}return!0},c7.supportsNativeTextTracks=function(){return i6||n6&&$5},c7.supportsNativeVideoTracks=function(){return!(!c7.TEST_VID||!c7.TEST_VID.videoTracks)},c7.supportsNativeAudioTracks=function(){return!(!c7.TEST_VID||!c7.TEST_VID.audioTracks)},c7.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function([e,t]){N5(c7.prototype,e,(()=>c7[t]()),!0)})),c7.prototype.featuresVolumeControl=c7.canControlVolume(),c7.prototype.movingMediaElementInDOM=!n6,c7.prototype.featuresFullscreenResize=!0,c7.prototype.featuresProgressEvents=!0,c7.prototype.featuresTimeupdateEvents=!0,c7.prototype.featuresVideoFrameCallback=!(!c7.TEST_VID||!c7.TEST_VID.requestVideoFrameCallback),c7.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(HS){}}()}},c7.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let n=t.length;for(;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(HS){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){c7.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){c7.prototype["set"+S3(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){c7.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){c7.prototype["set"+S3(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){c7.prototype[e]=function(){return this.el_[e]()}})),b8.withSourceHandlers(c7),c7.nativeSourceHandler={},c7.nativeSourceHandler.canPlayType=function(e){try{return c7.TEST_VID.canPlayType(e)}catch(HS){return""}},c7.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return c7.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=o8(e.src);return c7.nativeSourceHandler.canPlayType(`video/${t}`)}return""},c7.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},c7.nativeSourceHandler.dispose=function(){},c7.registerSourceHandler(c7.nativeSourceHandler),b8.registerTech("Html5",c7);const d7=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],u7={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},h7=["tiny","xsmall","small","medium","large","xlarge","huge"],p7={};h7.forEach((e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;p7[e]=`vjs-layout-${t}`}));const m7={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class f7 extends I3{constructor(e,t,n){if(e.id=e.id||t.id||`vjs_video_${Y6()}`,(t=Object.assign(f7.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const n=e.closest("[lang]");n&&(t.language=n.getAttribute("lang"))}if(super(null,t,n),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.boundUpdatePlayerHeightOnAudioOnlyMode_=e=>this.updatePlayerHeightOnAudioOnlyMode_(e),this.isFullscreen_=!1,this.log=T5(this.id_),this.fsApi_=v5,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&v6(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach((function(n){e[n.toLowerCase()]=t.languages[n]})),this.languages_=e}else this.languages_=f7.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),_3(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Z6(XJ,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=D5(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach((e=>{this[e](t.plugins[e])})),t.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const e=(new qJ.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))k5.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new L8(this),this.addClass("vjs-spatial-navigation-enabled")),e6&&this.addClass("vjs-touch-enabled"),n6||this.addClass("vjs-workinghover"),f7.players[this.id_]=this;const r=m5.split(".")[0];this.addClass(`vjs-v${r}`),this.userActive(!0),this.reportUserActivity(),this.one("play",(e=>this.listenForUserActivity_(e))),this.on("keydown",(e=>this.handleKeyDown(e))),this.on("languagechange",(e=>this.handleLanguagechange(e))),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",(()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)}))}dispose(){var e;this.trigger("dispose"),this.off("dispose"),e3(XJ,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),e3(XJ,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),f7.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),e=this,y8.hasOwnProperty(e.id())&&delete y8[e.id()],g8.names.forEach((e=>{const t=this[g8[e].getterName]();t&&t.off&&t.off()})),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const i="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=t.parentNode:i||(e=this.el_=super.createEl("div"));const r=v6(t);if(i){for(e=this.el_=t,t=this.tag=XJ.createElement("video");e.children.length;)t.appendChild(e.firstChild);p6(e,"video-js")||m6(e,"video-js"),e.appendChild(t),n=this.playerElIngest_=e,Object.keys(e).forEach((n=>{try{t[n]=e[n]}catch(HS){}}))}t.setAttribute("tabindex","-1"),r.tabindex="-1",$5&&Y5&&(t.setAttribute("role","application"),r.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach((function(n){i&&"class"===n||e.setAttribute(n,r[n]),i&&t.setAttribute(n,r[n])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused");const o=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter((e=>r6[e])).map((e=>"vjs-device-"+e.substring(3).toLowerCase().replace(/\_/g,"-")));if(this.addClass(...o),!0!==qJ.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=V6("vjs-styles-dimensions");const e=N6(".vjs-styles-defaults"),t=N6("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const s=t.getElementsByTagName("a");for(let a=0;a<s.length;a++){const e=s.item(a);m6(e,"vjs-hidden"),e.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(e,t),h6(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):k5.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();const i=parseFloat(t);isNaN(i)?k5.error(`Improper value "${t}" supplied for for ${e}`):(this[n]=i,this.updateStyleEl_())}fluid(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,p3(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),((e,t)=>{p3(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))})(this,(()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===qJ.VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}let e,t,n,i;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const r=n.split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),q6(this.styleEl_,`\n      .${i} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*o}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const n=S3(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(b8.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let r=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(r=!1);const o={source:t,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};g8.names.forEach((e=>{const t=g8[e];o[t.getterName]=this[t.privateName]})),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const s=b8.getTech(e);if(!s)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new s(o),this.tech_.ready(s3(this,this.handleTechReady_),!0),q3(this.textTracksJson_||[],this.tech_),d7.forEach((e=>{this.on(this.tech_,e,(t=>this[`handleTech${S3(e)}_`](t)))})),Object.keys(u7).forEach((e=>{this.on(this.tech_,e,(t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${u7[e]}_`].bind(this),event:t}):this[`handleTech${u7[e]}_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTechSeeking_(e))),this.on(this.tech_,"play",(e=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscreenerror",((e,t)=>this.handleTechFullscreenError_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPicture_(e))),this.on(this.tech_,"leavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||h6(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){g8.names.forEach((e=>{const t=g8[e];this[t.privateName]=this[t.getterName]()})),this.textTracksJson_=V3(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&k5.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":m5}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||"string"!=typeof e)return;const t=()=>{const e=this.muted();this.muted(!0);const t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);const n=this.play();if(F3(n))return n.catch((e=>{throw t(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${e||""}`)}))};let n;return"any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():t():(n=this.play(),F3(n)&&(n=n.catch(t))),F3(n)?n.then((()=>{this.trigger({type:"autoplay-success",autoplay:e})})).catch((()=>{this.trigger({type:"autoplay-failure",autoplay:e})})):void 0}updateSourceCaches_(e=""){let t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const n=e.cache_.sources.filter((e=>e.src===t));if(n.length)return n[0].type;const i=e.$$("source");for(let r=0;r<i.length;r++){const e=i[r];if(e.type&&e.src&&e.src===t)return e.type}return A8(t)})(this,t)),this.cache_.source=D5({},e,{src:t,type:n});const i=this.cache_.sources.filter((e=>e.src&&e.src===t)),r=[],o=this.$$("source"),s=[];for(let a=0;a<o.length;a++){const e=v6(o[a]);r.push(e),e.src&&e.src===t&&s.push(e.src)}s.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(t=()=>{}),t(i),e.src||this.tech_.any(["sourceset","loadstart"],(e=>{if("sourceset"===e.type)return;const t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((e=>e.callback(e.event))),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?z3(this.play()):this.pause()))}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(t=>t.contains(e.target)))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!XJ.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const n=this.el();let i=XJ[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(()=>{this.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready((function(){if(e in T8)return function(e,t,n,i){return t[n](e.reduce(E8(n),i))}(this.middleware_,this.tech_,e,t);if(e in S8)return x8(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(HS){throw k5(HS),HS}}),!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in k8)return function(e,t,n){return e.reduceRight(E8(n),t[n]())}(this.middleware_,this.tech_,e);if(e in S8)return x8(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(HS){if(void 0===this.tech_[e])throw k5(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,HS),HS;if("TypeError"===HS.name)throw k5(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,HS),this.tech_.isReady_=!1,HS;throw k5(HS),HS}}}play(){return new Promise((e=>{this.play_(e)}))}play_(e=z3){this.playCallbacks_.push(e);const t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),n=Boolean(i6||n6);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&n&&this.load());const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||D3(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=D3(0,0)),e}seekable(){let e=this.techGet_("seekable");return e&&e.length||(e=D3(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return U3(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let n=e.end(e.length-1);return n>t&&(n=t),n}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){const t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise(((n,i)=>{function r(){t.off("fullscreenerror",s),t.off("fullscreenchange",o)}function o(){r(),n()}function s(e,t){r(),i(t)}t.one("fullscreenchange",o),t.one("fullscreenerror",s);const a=t.requestFullscreenHelper_(e);a&&(a.then(r,r),a.then(n,i))}))}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then((()=>this.isFullscreen(!0)),(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise(((t,n)=>{function i(){e.off("fullscreenerror",o),e.off("fullscreenchange",r)}function r(){i(),t()}function o(e,t){i(),n(t)}e.one("fullscreenchange",r),e.one("fullscreenerror",o);const s=e.exitFullscreenHelper_();s&&(s.then(i,i),s.then(t,n))}))}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=XJ[this.fsApi_.exitFullscreen]();return e&&z3(e.then((()=>this.isFullscreen(!1)))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=XJ.documentElement.style.overflow,Z6(XJ,"keydown",this.boundFullWindowOnEscKey_),XJ.documentElement.style.overflow="hidden",m6(XJ.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){"Escape"===e.key&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,e3(XJ,"keydown",this.boundFullWindowOnEscKey_),XJ.documentElement.style.overflow=this.docOrigOverflow,f6(XJ.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&qJ.documentPictureInPicture){const e=XJ.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(d6("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),qJ.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then((t=>(j6(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",(t=>{const n=t.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")})),t)))}return"pictureInPictureEnabled"in XJ&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return qJ.documentPictureInPicture&&qJ.documentPictureInPicture.window?(qJ.documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in XJ?XJ.exitPictureInPicture():void 0}handleKeyDown(e){const{userActions:t}=this.options_;if(!t||!t.hotkeys)return;(e=>{const t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=t=>"f"===e.key.toLowerCase(),muteKey:i=t=>"m"===e.key.toLowerCase(),playPauseKey:r=t=>"k"===e.key.toLowerCase()||" "===e.key.toLowerCase()}=t;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const t=I3.getComponent("FullscreenToggle");!1!==XJ[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else if(i.call(this,e)){e.preventDefault(),e.stopPropagation();I3.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(r.call(this,e)){e.preventDefault(),e.stopPropagation();I3.getComponent("PlayToggle").prototype.handleClick.call(this,e)}}canPlayType(e){let t;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const r=i[n];let o=b8.getTech(r);if(o||(o=I3.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e),t))return t}else k5.error(`The "${r}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){const t=this.options_.techOrder.map((e=>[e,b8.getTech(e)])).filter((([e,t])=>t?t.isSupported():(k5.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1))),n=function(e,t,n){let i;return e.some((e=>t.some((t=>{if(i=n(e,t),i)return!0})))),i};let i;const r=([e,t],n)=>{if(t.canPlaySource(n,this.options_[e.toLowerCase()]))return{source:n,tech:e}};var o;return i=this.options_.sourceOrder?n(e,t,(o=r,(e,t)=>o(t,e))):n(t,e,r),i||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=P8(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),_8(this,n[0],((e,i)=>{this.middleware_=i,t||(this.cache_.sources=n),this.updateSourceCaches_(e);if(this.src_(e))return n.length>1?this.handleSrc_(n.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void this.triggerReady());var r,o;r=i,o=this.tech_,r.forEach((e=>e.setTech&&e.setTech(o)))})),n.length>1){const e=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return!t||(E3(t.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready((()=>{this.changingSrc_=!1})),!1))}addSourceElement(e,t){return!!this.tech_&&this.tech_.addSourceElement(e,t)}removeSourceElement(e){return!!this.tech_&&this.tech_.removeSourceElement(e)}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{z3(this.play().then((()=>this.doReset_())))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),p3(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:r}=n||{};e&&e.updateContent(),t&&t.updateContent(),i&&i.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(g5("beforeerror").forEach((t=>{const n=t(this,e);A5(n)&&!Array.isArray(n)||"string"==typeof n||"number"==typeof n||null===n?e=n:this.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){const t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new B3(e),this.addClass("vjs-error"),k5.error(`(CODE:${this.error_.code} ${B3.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),g5("error").forEach((e=>e(this,this.error_)))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,n;const i=s3(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);const o=this.getChild("controlBar");let s;!o||n6||U5||(o.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),o.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i);this.setInterval((function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);const e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}),250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");e&&this.audioOnlyCache_.controlBarHeight!==e.currentHeight()&&(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),n=t&&t.currentHeight();e.forEach((e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach((e=>e.show())),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then((()=>this.enableAudioOnlyUI_()))}return Promise.resolve().then((()=>this.disableAudioOnlyUI_()))}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;if(this.audioPosterMode_=e,e){if(this.audioOnlyMode()){return this.audioOnlyMode(!1).then((()=>{this.enablePosterModeUI_()}))}return Promise.resolve().then((()=>{this.enablePosterModeUI_()}))}return Promise.resolve().then((()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),p3(this)&&this.trigger("languagechange"))}languages(){return D5(f7.prototype.options_.languages,this.languages_)}toJSON(){const e=D5(this.options_),t=e.tracks;e.tracks=[];for(let n=0;n<t.length;n++){let i=t[n];i=D5(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,t){(t=t||{}).content=e||"";const n=new W3(this,t);return this.addChild(n),n.on("dispose",(()=>{this.removeChild(n)})),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let n=0;n<h7.length;n++){const i=h7[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(p7[e]),this.addClass(p7[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},m7,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){if(void 0===e)return this.responsive_;return(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return p7[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;const n=this.crossOrigin();this.reset(),this.cache_.media=D5(e);const{artist:i,artwork:r,description:o,poster:s,src:a,textTracks:l,title:c}=this.cache_.media;!r&&s&&(this.cache_.media.artwork=[{src:s,type:A8(s)}]),n&&this.crossOrigin(n),a&&this.src(a),s&&this.poster(s),Array.isArray(l)&&l.forEach((e=>this.addRemoteTextTrack(e,!1))),this.titleBar&&this.titleBar.update({title:c,description:o||i||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(e=>({kind:e.kind,label:e.label,language:e.language,src:e.src})))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:A8(t.poster)}]),t}return D5(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},n=v6(e),i=n["data-setup"];if(p6(e,"vjs-fill")&&(n.fill=!0),p6(e,"vjs-fluid")&&(n.fluid=!0),null!==i)try{Object.assign(n,JSON.parse(i||"{}"))}catch(HS){k5.error("data-setup",HS)}if(Object.assign(t,n),e.hasChildNodes()){const n=e.childNodes;for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.nodeName.toLowerCase();"source"===r?t.sources.push(v6(i)):"track"===r&&t.tracks.push(v6(i))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((e=>"number"==typeof e))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}g8.names.forEach((function(e){const t=g8[e];f7.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),f7.prototype.crossorigin=f7.prototype.crossOrigin,f7.players={};const g7=qJ.navigator;f7.prototype.options_={techOrder:b8.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:g7&&(g7.languages&&g7.languages[0]||g7.userLanguage||g7.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1},d7.forEach((function(e){f7.prototype[`handleTech${S3(e)}_`]=function(){return this.trigger(e)}})),I3.registerComponent("Player",f7);const b7="plugin",v7="activePlugins_",y7={},w7=e=>y7.hasOwnProperty(e),_7=e=>w7(e)?y7[e]:void 0,x7=(e,t)=>{e[v7]=e[v7]||{},e[v7][t]=!0},k7=(e,t,n)=>{const i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},T7=(e,t)=>(t.prototype.name=e,function(...n){k7(this,{name:e,plugin:t,instance:null},!0);const i=new t(...[this,...n]);return this[e]=()=>i,k7(this,i.getEventHash()),i});class S7{constructor(e){if(this.constructor===S7)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),_3(this),delete this.trigger,k3(this,this.constructor.defaultState),x7(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return t3(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[v7][e]=!1,this.player=this.state=null,t[e]=T7(e,y7[e])}static isBasic(e){const t="string"==typeof e?_7(e):e;return"function"==typeof t&&!S7.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(w7(e))k5.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(f7.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return y7[e]=t,e!==b7&&(S7.isBasic(t)?f7.prototype[e]=function(e,t){const n=function(){k7(this,{name:e,plugin:t,instance:null},!0);const n=t.apply(this,arguments);return x7(this,e),k7(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(e,t):f7.prototype[e]=T7(e,t)),t}static deregisterPlugin(e){if(e===b7)throw new Error("Cannot de-register base plugin.");w7(e)&&(delete y7[e],delete f7.prototype[e])}static getPlugins(e=Object.keys(y7)){let t;return e.forEach((e=>{const n=_7(e);n&&(t=t||{},t[e]=n)})),t}static getPluginVersion(e){const t=_7(e);return t&&t.VERSION||""}}function E7(e,t,n,i){return function(e,t){let n=!1;return function(...i){return n||k5.warn(e),n=!0,t.apply(this,i)}}(`${t} is deprecated and will be removed in ${e}.0; please use ${n} instead.`,i)}S7.getPlugin=_7,S7.BASE_PLUGIN_NAME=b7,S7.registerPlugin(b7,S7),f7.prototype.usingPlugin=function(e){return!!this[v7]&&!0===this[v7][e]},f7.prototype.hasPlugin=function(e){return!!w7(e)};const C7=e=>0===e.indexOf("#")?e.slice(1):e;function I7(e,t,n){let i=I7.getPlayer(e);if(i)return t&&k5.warn(`Player "${e}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const r="string"==typeof e?N6("#"+C7(e)):e;if(!a6(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o="getRootNode"in r&&r.getRootNode()instanceof qJ.ShadowRoot?r.getRootNode():r.ownerDocument.body;r.ownerDocument.defaultView&&o.contains(r)||k5.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),g5("beforesetup").forEach((e=>{const n=e(r,D5(t));A5(n)&&!Array.isArray(n)?t=D5(t,n):k5.error("please return an object in beforesetup hooks")}));const s=I3.getComponent("Player");return i=new s(r,t,n),g5("setup").forEach((e=>e(i))),i}if(I7.hooks_=f5,I7.hooks=g5,I7.hook=function(e,t){g5(e,t)},I7.hookOnce=function(e,t){g5(e,[].concat(t).map((t=>{const n=(...i)=>(b5(e,n),t(...i));return n})))},I7.removeHook=b5,!0!==qJ.VIDEOJS_NO_DYNAMIC_STYLE&&s6()){let Wie=N6(".vjs-styles-defaults");if(!Wie){Wie=V6("vjs-styles-defaults");const Gie=N6("head");Gie&&Gie.insertBefore(Wie,Gie.firstChild),q6(Wie,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}z6(1,I7),I7.VERSION=m5,I7.options=f7.prototype.options_,I7.getPlayers=()=>f7.players,I7.getPlayer=e=>{const t=f7.players;let n;if("string"==typeof e){const i=C7(e),r=t[i];if(r)return r;n=N6("#"+i)}else n=e;if(a6(n)){const{player:e,playerId:i}=n;if(e||t[i])return e||t[i]}},I7.getAllPlayers=()=>Object.keys(f7.players).map((e=>f7.players[e])).filter(Boolean),I7.players=f7.players,I7.getComponent=I3.getComponent,I7.registerComponent=(e,t)=>(b8.isTech(t)&&k5.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),I3.registerComponent.call(I3,e,t)),I7.getTech=b8.getTech,I7.registerTech=b8.registerTech,I7.use=function(e,t){v8[e]=v8[e]||[],v8[e].push(t)},Object.defineProperty(I7,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(I7.middleware,"TERMINATOR",{value:w8,writeable:!1,enumerable:!0}),I7.browser=r6,I7.obj=L5,I7.mergeOptions=E7(9,"videojs.mergeOptions","videojs.obj.merge",D5),I7.defineLazyProperty=E7(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",N5),I7.bind=E7(9,"videojs.bind","native Function.prototype.bind",s3),I7.registerPlugin=S7.registerPlugin,I7.deregisterPlugin=S7.deregisterPlugin,I7.plugin=(e,t)=>(k5.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),S7.registerPlugin(e,t)),I7.getPlugins=S7.getPlugins,I7.getPlugin=S7.getPlugin,I7.getPluginVersion=S7.getPluginVersion,I7.addLanguage=function(e,t){return e=(""+e).toLowerCase(),I7.options.languages=D5(I7.options.languages,{[e]:t}),I7.options.languages[e]},I7.log=k5,I7.createLogger=T5,I7.time=M3,I7.createTimeRange=E7(9,"videojs.createTimeRange","videojs.time.createTimeRanges",D3),I7.createTimeRanges=E7(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",D3),I7.formatTime=E7(9,"videojs.formatTime","videojs.time.formatTime",j3),I7.setFormatTime=E7(9,"videojs.setFormatTime","videojs.time.setFormatTime",L3),I7.resetFormatTime=E7(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",R3),I7.parseUrl=E7(9,"videojs.parseUrl","videojs.url.parseUrl",i8),I7.isCrossOrigin=E7(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",s8),I7.EventTarget=u3,I7.any=i3,I7.on=Z6,I7.one=n3,I7.off=e3,I7.trigger=t3,I7.xhr=vZ,I7.TextTrack=d8,I7.AudioTrack=u8,I7.VideoTrack=h8,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((e=>{I7[e]=function(){return k5.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),M6[e].apply(null,arguments)}})),I7.computedStyle=E7(9,"videojs.computedStyle","videojs.dom.computedStyle",R6),I7.dom=M6,I7.fn=c3,I7.num=J8,I7.str=C3,I7.url=a8,I7.Error={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */
class A7{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class P7 extends I7.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const n=this.levels_.length;return t=new A7(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,n=this.length;t<n;t++){const n=this[t];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}P7.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const Yie in P7.prototype.allowedEvents_)P7.prototype["on"+Yie]=null;var D7="4.1.0";const O7=function(e){return function(e){const t=e.qualityLevels,n=new P7,i=function(){n.dispose(),e.qualityLevels=t,e.off("dispose",i)};return e.on("dispose",i),e.qualityLevels=()=>n,e.qualityLevels.VERSION=D7,n}(this,I7.obj.merge({},e))};I7.registerPlugin("qualityLevels",O7),O7.VERSION=D7;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */
const N7=r0,L7=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,R7=e=>I7.log.debug?I7.log.debug.bind(I7,"VHS:",`${e} >`):function(){};function j7(...e){const t=I7.obj||I7;return(t.merge||t.mergeOptions).apply(t,e)}function M7(...e){const t=I7.time||I7;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}const U7=1/30,B7=.1,F7=function(e,t){const n=[];let i;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return M7(n)},z7=function(e,t){return F7(e,(function(e,n){return e-B7<=t&&n+B7>=t}))},$7=function(e,t){return F7(e,(function(e){return e-U7>=t}))},V7=e=>{const t=[];if(!e||!e.length)return"";for(let n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},q7=e=>{const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},H7=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},W7=function(e,t){let n=0;if(!e||!e.length)return n;for(let i=0;i<e.length;i++){const r=e.start(i),o=e.end(i);t>o||(n+=t>r&&t<=o?o-t:o-r)}return n},G7=(e,t)=>{if(!t.preload)return t.duration;let n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},Y7=e=>(e.segments||[]).reduce(((e,t,n)=>(t.parts?t.parts.forEach((function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e)),[]),K7=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},X7=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:n}=e;let i=(n||[]).reduce(((e,t)=>e+("PART"===t.type?1:0)),0);return i+=t&&t.length?t.length:0,i},Q7=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const n=K7(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},J7=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const i=function(e,t){let n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=e.segments[i],void 0!==r.end)return{result:n+r.end,precise:!0};if(n+=G7(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;const r=function(e,t){let n,i=0,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(n=e.segments[r],void 0!==n.start)return{result:n.start-i,precise:!0};if(i+=G7(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},Z7=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return qJ.Infinity}return J7(e,t,n)},eee=function({defaultDuration:e,durationList:t,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let t=n;t<Math.min(0,i);t++)r+=e;n=0}for(let o=n;o<i;o++)r+=t[o].duration;return r},tee=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return Z7(e);if(null===t)return null;t=t||0;let r=J7(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:Q7(null,e)),Math.max(0,r)},nee=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},iee=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ree=function(e){const t=nee(e);return!e.disabled&&!t},oee=function(e,t){return t.attributes&&t.attributes[e]},see=(e,t)=>{if(1===e.playlists.length)return!0;const n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((e=>!!ree(e)&&(e.attributes.BANDWIDTH||0)<n)).length},aee=(e,t)=>!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri)))),lee=function(e,t){const n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const e in n[r])if(i=t(n[r][e]),i)break;if(i)break}return!!i},cee=e=>{if(!e||!e.playlists||!e.playlists.length){const t=lee(e,(e=>e.playlists&&e.playlists.length||e.uri));return t}for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;if(i&&i.split(",").every((e=>_0(e))))continue;const r=lee(e,(e=>aee(n,e)));if(!r)return!1}return!0};var dee={liveEdgeDelay:Q7,duration:Z7,seekable:function(e,t,n){const i=t||0;let r=tee(e,t,!0,n);return null===r?M7():(r<i&&(r=i),M7(i,r))},getMediaInfoForTime:function({playlist:e,currentTime:t,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:o}){let s=t-r;const a=Y7(e);let l=0;for(let c=0;c<a.length;c++){const e=a[c];if(n===e.segmentIndex&&("number"!=typeof i||"number"!=typeof e.partIndex||i===e.partIndex)){l=c;break}}if(s<0){if(l>0)for(let t=l-1;t>=0;t--){const n=a[t];if(s+=n.duration,o){if(s<0)continue}else if(s+U7<=0)continue;return{partIndex:n.partIndex,segmentIndex:n.segmentIndex,startTime:r-eee({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t}}if(l<0){for(let n=l;n<0;n++)if(s-=e.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t};l=0}for(let c=l;c<a.length;c++){const t=a[c];s-=t.duration;const n=t.duration>U7;if(!(0===s)&&!(n&&s+U7>=0)||c===a.length-1){if(o){if(s>0)continue}else if(s-U7>=0)continue;return{partIndex:t.partIndex,segmentIndex:t.segmentIndex,startTime:r+eee({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:c})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:t}},isEnabled:ree,isDisabled:function(e){return e.disabled},isExcluded:nee,isIncompatible:iee,playlistEnd:tee,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:oee,estimateSegmentRequestTime:function(e,t,n,i=0){if(!oee("BANDWIDTH",n))return NaN;return(e*n.attributes.BANDWIDTH-8*i)/t},isLowestEnabledRendition:see,isAudioOnly:cee,playlistMatch:aee,segmentDurationWithParts:G7};const{log:uee}=I7,hee=(e,t)=>`${e}-${t}`,pee=(e,t,n)=>`placeholder-uri-${e}-${t}-${n}`,mee=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((n=>{if(e.mediaGroups[n])for(const i in e.mediaGroups[n])for(const r in e.mediaGroups[n][i]){const o=e.mediaGroups[n][i][r];t(o,n,i,r)}}))},fee=({playlist:e,uri:t,id:n})=>{e.id=n,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},gee=(e,t,n=pee)=>{e.uri=t;for(let r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){const t=`placeholder-uri-${r}`;e.playlists[r].uri=t}const i=cee(e);mee(e,((t,r,o,s)=>{if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===r&&!t.uri)for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t];if(n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===o)return}t.playlists=[MT({},t)]}t.playlists.forEach((function(t,i){const a=n(r,o,s,t),l=hee(i,a);t.uri?t.resolvedUri=t.resolvedUri||N7(e.uri,t.uri):(t.uri=0===i?a:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),(e=>{let t=e.playlists.length;for(;t--;){const n=e.playlists[t];fee({playlist:n,id:hee(t,n.uri)}),n.resolvedUri=N7(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||uee.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),(e=>{mee(e,(t=>{t.uri&&(t.resolvedUri=N7(e.uri,t.uri))}))})(e)};class bee{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(null!==this.offset_)return;if(!e.length)return;const[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,n=t.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce(((e,t)=>(e.set(t.id,t),e)),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];const e={},t=[];this.pendingDateRanges_.forEach(((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),t.push(n),n.class))if(e[n.class]){const t=e[n.class].push(n);n.classListIndex=t-1}else e[n.class]=[n],n.classListIndex=0}));for(const n of t){const t=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&t[n.classListIndex+1]?n.endTime=t[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach(((t,n)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(n)}))}}const vee=({requestType:e,request:t,error:n,parseFailure:i})=>{const r=t.status<200||t.status>299,o=t.status>=400&&t.status<=499,s={uri:t.uri,requestType:e},a=r&&!o||i;if(n&&o)s.error=MT({},n),s.errorType=I7.Error.NetworkRequestFailed;else if(t.aborted)s.errorType=I7.Error.NetworkRequestAborted;else if(t.timedout)s.erroType=I7.Error.NetworkRequestTimeout;else if(a){const e=i?I7.Error.NetworkBodyParserFailed:I7.Error.NetworkBadStatus;s.errorType=e,s.status=t.status,s.headers=t.headers}return s},{EventTarget:yee}=I7,wee=(e,t)=>{if(!e)return t;const n=j7(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(let i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=j7(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},_ee=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=N7(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=N7(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=N7(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=N7(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((e=>{e.resolvedUri||(e.resolvedUri=N7(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((e=>{e.resolvedUri||(e.resolvedUri=N7(t,e.uri))}))},xee=function(e){const t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(let e=0;e<n.preloadHints.length;e++)if("MAP"===n.preloadHints[e].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},kee=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,Tee=(e,t,n=kee)=>{const i=j7(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=xee(t);const o=j7(r,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}o.segments=((e,t,n)=>{const i=e.slice(),r=t.slice();n=n||0;const o=[];let s;for(let a=0;a<r.length;a++){const e=i[a+n],t=r[a];e?(s=e.map||s,o.push(wee(e,t))):(s&&!t.map&&(t.map=s),o.push(t))}return o})(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}o.segments.forEach((e=>{_ee(e,o.resolvedUri)}));for(let s=0;s<i.playlists.length;s++)i.playlists[s].id===t.id&&(i.playlists[s]=o);return i.playlists[t.id]=o,i.playlists[t.uri]=o,mee(e,((e,n,i,r)=>{if(e.playlists)for(let s=0;s<e.playlists.length;s++)t.id===e.playlists[s].id&&(e.playlists[s]=o)})),i},See=(e,t)=>{const n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],o=r&&r.duration||i&&i.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)},Eee=(e,t,n)=>{if(!e)return;const i=[];return e.forEach((e=>{if(!e.attributes)return;const{BANDWIDTH:t,RESOLUTION:n,CODECS:r}=e.attributes;i.push({id:e.id,bandwidth:t,resolution:n,codecs:r})})),{type:t,isLive:n,renditions:i}};class Cee extends yee{constructor(e,t,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=R7("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=t,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const r=t.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new bee,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const e=this.media();let t=N7(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;const n={};if(t.serverControl.canBlockReload){const{preloadSegment:e}=t;let i=t.mediaSequence+t.segments.length;if(e){const r=e.parts||[],o=X7(t)-1;o>-1&&o!==r.length-1&&(n._HLS_part=o),(o>-1||r.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const t=new qJ.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&t.searchParams.set(e,n[e])})),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},((e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}))}playlistRequestError(e,t,n){const{uri:i,id:r}=t;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[r],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:vee({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{return(({onwarn:e,oninfo:t,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:o})=>{const s=new f0;e&&s.on("warn",e),t&&s.on("info",t),i.forEach((e=>s.addParser(e))),r.forEach((e=>s.addTagMapper(e))),s.push(n),s.end();const a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){a.hasOwnProperty(e)&&delete a[e]})),a.segments&&a.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!a.targetDuration){let t=10;a.segments&&a.segments.length&&(t=a.segments.reduce(((e,t)=>Math.max(e,t.duration)),0)),e&&e({message:`manifest has no targetDuration defaulting to ${t}`}),a.targetDuration=t}const l=K7(a);if(l.length&&!a.partTargetDuration){const t=l.reduce(((e,t)=>Math.max(e,t.duration)),0);e&&(e({message:`manifest has no partTargetDuration defaulting to ${t}`}),uee.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=t}return a})({onwarn:({message:t})=>this.logger_(`m3u8-parser warn for ${e}: ${t}`),oninfo:({message:t})=>this.logger_(`m3u8-parser info for ${e}: ${t}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(zH){this.error=zH,this.error.metadata={errorType:I7.Error.StreamingHlsPlaylistParserError,error:zH}}}haveMetadata({playlistString:e,playlistObject:t,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const r={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:r});const o=t||this.parseManifest_({url:n,manifestString:e});o.lastRequest=Date.now(),fee({playlist:o,uri:n,id:i});const s=Tee(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,s?(this.main=s,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(See(this.media(),!!s)),r.parsedPlaylist=Eee(this.main.playlists,r.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:r}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),qJ.clearTimeout(this.mediaUpdateTimeout),qJ.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new bee,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(qJ.clearTimeout(this.finalRenditionTimeout),t){const t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=qJ.setTimeout(this.media.bind(this,e,!1),t))}const n=this.state,i=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(See(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const o={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:o}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},((t,i)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=L7(e.resolvedUri,i),t)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:o}),this.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")}}))}pause(){this.mediaUpdateTimeout&&(qJ.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(qJ.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=qJ.setTimeout((()=>{this.mediaUpdateTimeout=null,this.load()}),e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(qJ.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=qJ.setTimeout((()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)}),e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=qJ.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((()=>{this.setupInitialPlaylist(this.src)}),0);const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},((t,n)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:vee({requestType:n.requestType,request:n,error:t})},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=L7(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=Eee(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)}))}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,gee(this.main,this.srcUri()),e.playlists.forEach((e=>{e.segments=xee(e),e.segments.forEach((t=>{_ee(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||qJ.location.href;this.main=((e,t)=>{const n=hee(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:qJ.location.href,resolvedUri:qJ.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const n=this.main,i=e.ID;let r=n.playlists.length;for(;r--;){const o=n.playlists[r];if(o.attributes["PATHWAY-ID"]===i){const s=o.resolvedUri,a=o.id;if(t){const t=this.createCloneURI_(o.resolvedUri,e),s=hee(i,t),a=this.createCloneAttributes_(i,o.attributes),l=this.createClonePlaylist_(o,s,e,a);n.playlists[r]=l,n.playlists[s]=l,n.playlists[t]=l}else n.playlists.splice(r,1);delete n.playlists[a],delete n.playlists[s]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{if(n.mediaGroups[e]&&n.mediaGroups[e][i])for(const t in n.mediaGroups[e])if(t===i){for(const i in n.mediaGroups[e][t]){n.mediaGroups[e][t][i].playlists.forEach(((e,t)=>{const i=n.playlists[e.id],r=i.id,o=i.resolvedUri;delete n.playlists[r],delete n.playlists[o]}))}delete n.mediaGroups[e][t]}})),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const n=this.main,i=n.playlists.length,r=this.createCloneURI_(t.resolvedUri,e),o=hee(e.ID,r),s=this.createCloneAttributes_(e.ID,t.attributes),a=this.createClonePlaylist_(t,o,e,s);n.playlists[i]=a,n.playlists[o]=a,n.playlists[r]=a,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((r=>{if(i.mediaGroups[r]&&!i.mediaGroups[r][t])for(const o in i.mediaGroups[r])if(o===n){i.mediaGroups[r][t]={};for(const n in i.mediaGroups[r][o]){const s=i.mediaGroups[r][o][n];i.mediaGroups[r][t][n]=MT({},s);const a=i.mediaGroups[r][t][n],l=this.createCloneURI_(s.resolvedUri,e);a.resolvedUri=l,a.uri=l,a.playlists=[],s.playlists.forEach(((o,s)=>{const l=i.playlists[o.id],c=pee(r,t,n),d=hee(t,c);if(l&&!i.playlists[d]){const t=this.createClonePlaylist_(l,d,e),n=t.resolvedUri;i.playlists[d]=t,i.playlists[n]=t}a.playlists[s]=this.createClonePlaylist_(o,d,e)}))}}}))}createClonePlaylist_(e,t,n,i){const r=this.createCloneURI_(e.resolvedUri,n),o={resolvedUri:r,uri:r,id:t};return e.segments&&(o.segments=[]),i&&(o.attributes=i),j7(e,o)}createCloneURI_(e,t){const n=new URL(e);n.hostname=t["URI-REPLACEMENT"].HOST;const i=t["URI-REPLACEMENT"].PARAMS;for(const r of Object.keys(i))n.searchParams.set(r,i[r]);return n.href}createCloneAttributes_(e,t){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((i=>{t[i]&&(n[i]=e)})),n}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&t.add(i.toLowerCase())}return t}}}const Iee=function(e,t,n,i){const r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},Aee=function(){const e=function e(t,n){t=j7({timeout:45e3},t);const i=e.beforeRequest||I7.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||I7.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||I7.Vhs.xhr._responseCallbackSet;i&&"function"==typeof i&&(I7.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(i));const s=!0===I7.Vhs.xhr.original?I7.xhr:I7.Vhs.xhr,a=((e,t)=>{if(!e||!e.size)return;let n=t;return e.forEach((e=>{n=e(n)})),n})(r,t);r.delete(i);const l=s(a||t,(function(e,t){return((e,t,n,i)=>{e&&e.size&&e.forEach((e=>{e(t,n,i)}))})(o,l,e,t),Iee(l,e,t,n)})),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=t.uri,l.requestType=t.requestType,l.requestTime=Date.now(),l};return e.original=!0,e},Pee=function(e){const t={};return e.byterange&&(t.Range=function(e){let t;const n=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?qJ.BigInt(e.offset)+qJ.BigInt(e.length)-qJ.BigInt(1):e.offset+e.length-1,"bytes="+n+"-"+t}(e.byterange)),t},Dee=function(e,t){return e.start(t)+"-"+e.end(t)},Oee=function(e,t){const n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Nee=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Lee=function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];A0(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},Ree=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},jee=function(e){return e.resolvedUri},Mee=e=>{const t=Array.prototype.slice.call(e),n=16;let i,r,o="";for(let s=0;s<t.length/n;s++)i=t.slice(s*n,s*n+n).map(Oee).join(""),r=t.slice(s*n,s*n+n).map(Nee).join(""),o+=i+" "+r+"\n";return o};var Uee=Object.freeze({__proto__:null,createTransferableMessage:Lee,initSegmentId:Ree,segmentKeyId:jee,hexDump:Mee,tagDump:({bytes:e})=>Mee(e),textRanges:e=>{let t,n="";for(t=0;t<e.length;t++)n+=Dee(e,t)+" ";return n}});const Bee=({playlist:e,time:t,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return n({message:"getProgramTime: playlist and time must be provided"});const i=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let n,i=0;for(let o=0;o<t.segments.length&&(n=t.segments[o],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(e<=i));o++);const r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*r.duration)return null;n=r}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}})(t,e);if(!i)return n({message:"valid programTime was not found"});if("estimate"===i.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:t},o=((e,t)=>{if(!t.dateTimeObject)return null;const n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)})(t,i.segment);return o&&(r.programDateTime=o.toISOString()),n(null,r)},Fee=({programTime:e,playlist:t,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!t||!i)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(t))return s({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const a=((e,t)=>{let n;try{n=new Date(e)}catch(HS){return null}if(!t||!t.segments||0===t.segments.length)return null;let i=t.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let l=0;l<t.segments.length-1&&(i=t.segments[l],!(n<new Date(t.segments[l+1].dateTimeObject)));l++);const r=t.segments[t.segments.length-1],o=r.dateTimeObject,s=r.videoTimingInfo?(a=r.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:r.duration+.25*r.duration;var a;return n>new Date(o.getTime()+1e3*s)?null:(n>new Date(o)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:dee.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!a)return s({message:`${e} was not found in the stream`});const l=a.segment,c=((e,t)=>{let n,i;try{n=new Date(e),i=new Date(t)}catch(HS){}const r=n.getTime();return(i.getTime()-r)/1e3})(l.dateTimeObject,e);if("estimate"===a.type)return 0===n?s({message:`${e} is not buffered yet. Try again`}):(i(a.estimatedStart+c),void o.one("seeked",(()=>{Fee({programTime:e,playlist:t,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:o,callback:s})})));const d=l.start+c;o.one("seeked",(()=>s(null,o.currentTime()))),r&&o.pause(),i(d)},zee=(e,t)=>{if(4===e.readyState)return t()},$ee=(e,t,n,i)=>{let r,o=[],s=!1;const a=function(e,t,i,r){return t.abort(),s=!0,n(e,t,i,r)},l=function(e,t){if(s)return;if(e)return e.metadata=vee({requestType:i,request:t,error:e}),a(e,t,"",o);const n=t.responseText.substring(o&&o.byteLength||0,t.responseText.length);if(o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return P0(t[0]);var i=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(i),o=0;return t.forEach((function(e){e=P0(e),r.set(e,o),o+=e.byteLength})),r}(o,R0(n,!0)),r=r||V4(o),o.length<10||r&&o.length<r+2)return zee(t,(()=>a(e,t,"",o)));const l=u5(o);return"ts"===l&&o.length<188||!l&&o.length<376?zee(t,(()=>a(e,t,"",o))):a(null,t,l,o)},c={uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function({total:t,loaded:n}){return Iee(e,null,{statusCode:e.status},l)}))}},d=t(c,(function(e,t){return Iee(d,e,t,l)}));return d},{EventTarget:Vee}=I7,qee=function(e,t){if(!kee(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let n=0;n<e.segments.length;n++){const i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const o=i.byterange,s=r.byterange;if(o&&!s||!o&&s)return!1;if(o.offset!==s.offset||o.length!==s.length)return!1}return!0},Hee=(e,t,n,i)=>`placeholder-uri-${e}-${t}-${i.attributes.NAME||n}`,Wee=(e,t,n)=>{let i=!0,r=j7(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let o=0;o<t.playlists.length;o++){const e=t.playlists[o];if(e.sidx){const t=a4(e.sidx);n&&n[t]&&n[t].sidx&&e4(e,n[t].sidx,e.sidx.resolvedUri)}const s=Tee(r,e,qee);s&&(r=s,i=!1)}return mee(t,((e,t,n,o)=>{if(e.playlists&&e.playlists.length){const s=e.playlists[0].id,a=Tee(r,e.playlists[0],qee);a&&(r=a,o in r.mediaGroups[t][n]||(r.mediaGroups[t][n][o]=e),r.mediaGroups[t][n][o].playlists[0]=r.playlists[s],i=!1)}})),((e,t)=>{mee(e,((n,i,r,o)=>{t.mediaGroups[i][r]&&o in t.mediaGroups[i][r]||delete e.mediaGroups[i][r][o]}))})(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r},Gee=(e,t)=>(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,Yee=(e,t)=>{const n={};for(const i in e){const r=e[i].sidx;if(r){const e=a4(r);if(!t[e])break;const i=t[e].sidxInfo;Gee(i,r)&&(n[e]=t[e])}}return n};class Kee extends Vee{constructor(e,t,n={},i){super(),this.isPaused_=!0,this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:r=!1}=n;if(this.vhs_=t,this.withCredentials=r,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",(()=>{this.refreshXml_()})),this.on("mediaupdatetimeout",(()=>{this.refreshMedia_(this.media().id)})),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=R7("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,n){const i=e.sidx&&a4(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i])return qJ.clearTimeout(this.mediaRequest_),void(this.mediaRequest_=qJ.setTimeout((()=>n(!1)),0));const r=L7(e.sidx.resolvedUri),o=(r,o)=>{if(this.requestErrored_(r,o,t))return;const s=this.mainPlaylistLoader_.sidxMapping_,{requestType:a}=o;let l;try{l=z4(P0(o.response).subarray(8))}catch(HS){return HS.metadata=vee({requestType:a,request:o,parseFailure:!0}),void this.requestErrored_(HS,o,t)}return s[i]={sidxInfo:e.sidx,sidx:l},e4(e,l,e.sidx.resolvedUri),n(!0)};this.request=$ee(r,this.vhs_.xhr,((t,n,i,s)=>{if(t)return o(t,n);if(!i||"mp4"!==i){const t=i||"unknown";return o({status:n.status,message:`Unsupported ${t} container type for sidx segment at URL: ${r}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},n)}const{offset:a,length:l}=e.sidx.byterange;if(s.length>=l+a)return o(t,{response:s.subarray(a,a+l),status:n.status,uri:n.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",requestType:"dash-sidx",headers:Pee({byterange:e.sidx.byterange})},o)}),"dash-sidx")}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},qJ.clearTimeout(this.minimumUpdatePeriodTimeout_),qJ.clearTimeout(this.mediaRequest_),qJ.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,(n=>{this.haveMetadata({startingState:t,playlist:e})})))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,qJ.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),qJ.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(qJ.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){this.isPaused_=!1,qJ.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=qJ.setTimeout((()=>this.load()),e)}else this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){if(this.started=!0,!this.isMain_)return qJ.clearTimeout(this.mediaRequest_),void(this.mediaRequest_=qJ.setTimeout((()=>this.haveMain_()),0));this.requestMain_(((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])}))}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},((n,i)=>{if(n){const{requestType:e}=i;n.metadata=vee({requestType:e,request:i,error:n})}if(this.requestErrored_(n,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));this.trigger({type:"manifestrequestcomplete",metadata:t});const r=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=L7(this.mainPlaylistLoader_.srcUrl,i),r?(this.handleMain_(),void this.syncClientServerClock_((()=>e(i,r)))):e(i,r)}))}syncClientServerClock_(e){const t=U4(this.mainPlaylistLoader_.mainXml_);return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:N7(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},((n,i)=>{if(!this.request)return;if(n){const{requestType:t}=i;return this.error.metadata=vee({requestType:t,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let r;r="HEAD"===t.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):this.mainLoaded_:Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){qJ.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};let n;this.trigger({type:"manifestparsestart",metadata:t});try{n=(({mainXml:e,srcUrl:t,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const o=M4(e,{manifestUri:t,clientOffset:n,sidxMapping:i,previousManifest:r});return gee(o,t,Hee),o})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(zH){this.error=zH,this.error.metadata={errorType:I7.Error.StreamingDashManifestParserError,error:zH},this.trigger("error")}e&&(n=Wee(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:e,endList:i}=n,r=[];n.playlists.forEach((e=>{r.push({id:e.id,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS})}));const o={duration:e,isLive:!i,renditions:r};t.parsedManifest=o,this.trigger({type:"manifestparsecomplete",metadata:t})}return Boolean(n)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(qJ.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=qJ.setTimeout((()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)}refreshXml_(){this.requestMain_(((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,t)=>{let n=Yee(e.playlists,t);return mee(e,((e,i,r,o)=>{if(e.playlists&&e.playlists.length){const i=e.playlists;n=j7(n,Yee(i,t))}})),n})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,(e=>{this.refreshMedia_(this.media().id)})))}))}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==t[e];if(n?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=qJ.setTimeout((()=>{this.trigger("mediaupdatetimeout"),e()}),See(this.media(),Boolean(n))))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const e=this.mainPlaylistLoader_.main.eventStream.map((e=>({cueTime:e.start,frames:[{data:e.messageData}]})));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&t.add(i.replace(/-/g,"").toLowerCase())}return t}}}var Xee={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Qee=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},Jee=function(e){return function(){const t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(HS){const n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}}(e),n=Qee(new Worker(t));n.objURL=t;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},Zee=function(e){return`var browserWorkerPolyFill = ${Qee.toString()};\nbrowserWorkerPolyFill(self);\n`+e},ete=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},tte=Zee(ete((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var n,i,r,o,s,a,l,c,d,u,h,p,m,f,g,b,v,y,w,_,x,k,T,S,E,C,I,A,P,D,O,N,L,R,j,M,U,B,F,z,$=t,V=Math.pow(2,32),q={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*V+n.getUint32(4)},MAX_UINT32:V},H=q.MAX_UINT32;!function(){var e;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in k)k.hasOwnProperty(e)&&(k[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:C,audio:I},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),L=N,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=N,P=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return n(k.dinf,n(k.dref,O))},r=function(e){return n(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return n(k.hdlr,A[e])},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),n(k.mdhd,t)},m=function(e){return n(k.mdia,f(e),g(e.type),a(e))},s=function(e){return n(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},a=function(e){return n(k.minf,"video"===e.type?n(k.vmhd,P):n(k.smhd,D),i(),v(e))},l=function(e,t){for(var i=[],r=t.length;r--;)i[r]=w(t[r]);return n.apply(null,[k.moof,s(e)].concat(i))},c=function(e){for(var t=e.length,i=[];t--;)i[t]=h(e[t]);return n.apply(null,[k.moov,u(4294967295)].concat(i).concat(d(e)))},d=function(e){for(var t=e.length,i=[];t--;)i[t]=_(e[t]);return n.apply(null,[k.mvex].concat(i))},u=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(k.mvhd,t)},b=function(e){var t,i,r=e.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)t=r[i].flags,o[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(k.sdtp,o)},v=function(e){return n(k.stbl,y(e),n(k.stts,j),n(k.stsc,L),n(k.stsz,R),n(k.stco,N))},y=function(e){return n(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):U(e))},M=function(e){var t,i,r=e.sps||[],o=e.pps||[],s=[],a=[];for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));for(t=0;t<o.length;t++)a.push((65280&o[t].byteLength)>>>8),a.push(255&o[t].byteLength),a=a.concat(Array.prototype.slice.call(o[t]));if(i=[k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(k.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],s,[o.length],a))),n(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];i.push(n(k.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return n.apply(null,i)},U=function(e){return n(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(k.tkhd,t)},w=function(e){var t,i,r,o,s,a;return t=n(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/H),a=Math.floor(e.baseMediaDecodeTime%H),i=n(k.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(r=x(e,92),n(k.traf,t,i,r)):(o=b(e),r=x(e,o.length+92),n(k.traf,t,i,r,o))},h=function(e){return e.duration=e.duration||4294967295,n(k.trak,p(e),m(e))},_=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(k.trex,t)},z=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},F=function(e,t){var i,r,o,s,a,l;for(t+=20+16*(s=e.samples||[]).length,o=z(s,t),(r=new Uint8Array(o.length+16*s.length)).set(o),i=o.length,l=0;l<s.length;l++)a=s[l],r[i++]=(4278190080&a.duration)>>>24,r[i++]=(16711680&a.duration)>>>16,r[i++]=(65280&a.duration)>>>8,r[i++]=255&a.duration,r[i++]=(4278190080&a.size)>>>24,r[i++]=(16711680&a.size)>>>16,r[i++]=(65280&a.size)>>>8,r[i++]=255&a.size,r[i++]=a.flags.isLeading<<2|a.flags.dependsOn,r[i++]=a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,r[i++]=61440&a.flags.degradationPriority,r[i++]=15&a.flags.degradationPriority,r[i++]=(4278190080&a.compositionTimeOffset)>>>24,r[i++]=(16711680&a.compositionTimeOffset)>>>16,r[i++]=(65280&a.compositionTimeOffset)>>>8,r[i++]=255&a.compositionTimeOffset;return n(k.trun,r)},B=function(e,t){var i,r,o,s,a,l;for(t+=20+8*(s=e.samples||[]).length,o=z(s,t),(i=new Uint8Array(o.length+8*s.length)).set(o),r=o.length,l=0;l<s.length;l++)a=s[l],i[r++]=(4278190080&a.duration)>>>24,i[r++]=(16711680&a.duration)>>>16,i[r++]=(65280&a.duration)>>>8,i[r++]=255&a.duration,i[r++]=(4278190080&a.size)>>>24,i[r++]=(16711680&a.size)>>>16,i[r++]=(65280&a.size)>>>8,i[r++]=255&a.size;return n(k.trun,i)},x=function(e,t){return"audio"===e.type?B(e,t):F(e,t)};var W,G,Y,K,X,Q,J,Z,ee={ftyp:o=function(){return n(k.ftyp,T,S,T,E)},mdat:function(e){return n(k.mdat,e)},moof:l,moov:c,initSegment:function(e){var t,n=o(),i=c(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}},te=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ne={groupNalsIntoFrames:function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},groupFramesIntoGops:function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,i,r,o,s,a=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)s=o[i],a+=(r=te(s,a)).size,l.push(r);return l},concatenateNalData:function(e){var t,n,i,r,o,s,a=0,l=e.byteLength,c=e.nalCount,d=new Uint8Array(l+4*c),u=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)s=o[i],u.setUint32(a,s.data.byteLength),a+=4,d.set(s.data,a),a+=s.data.byteLength;return d},generateSampleTableForFrame:function(e,t){var n,i=[];return n=te(e,t||0),i.push(n),i},concatenateNalDataForFrame:function(e){var t,n,i=0,r=e.byteLength,o=e.length,s=new Uint8Array(r+4*o),a=new DataView(s.buffer);for(t=0;t<e.length;t++)n=e[t],a.setUint32(i,n.data.byteLength),i+=4,s.set(n.data,i),i+=n.data.byteLength;return s}},ie=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],oe=function(e){for(var t=[];e--;)t.push(0);return t},se=9e4;Q=function(e,t){return G(X(e,t))},J=function(e,t){return Y(K(e),t)},Z=function(e,t,n){return K(n?e:e-t)};var ae={ONE_SECOND_IN_TS:se,secondsToVideoTs:G=function(e){return e*se},secondsToAudioTs:Y=function(e,t){return e*t},videoTsToSeconds:K=function(e){return e/se},audioTsToSeconds:X=function(e,t){return e/t},audioTsToVideoTs:Q,videoTsToAudioTs:J,metadataTsToSeconds:Z},le=function(){if(!W){var e={96e3:[ie,[227,64],oe(154),[56]],88200:[ie,[231],oe(170),[56]],64e3:[ie,[248,192],oe(240),[56]],48e3:[ie,[255,192],oe(268),[55,148,128],oe(54),[112]],44100:[ie,[255,192],oe(268),[55,163,128],oe(84),[112]],32e3:[ie,[255,192],oe(268),[55,234],oe(226),[112]],24e3:[ie,[255,192],oe(268),[55,255,128],oe(268),[111,112],oe(126),[224]],16e3:[ie,[255,192],oe(268),[55,255,128],oe(268),[111,255],oe(269),[223,108],oe(195),[1,192]],12e3:[re,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,253,128],oe(259),[56]],11025:[re,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,255,192],oe(268),[55,175,128],oe(108),[112]],8e3:[re,oe(268),[3,121,16],oe(47),[7]]};t=e,W=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return W},ce=ae,de={prefixWithSilence:function(e,t,n,i){var r,o,s,a,l,c=0,d=0,u=0;if(t.length&&(r=ce.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(ce.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),u=(d=Math.floor(c/o))*o),!(d<1||u>ce.ONE_SECOND_IN_TS/2))){for((s=le()[e.samplerate])||(s=t[0].data),a=0;a<d;a++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(ce.videoTsToAudioTs(u,e.samplerate)),u}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},concatenateFrameData:function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}},ue=ae.ONE_SECOND_IN_TS,he={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/ue,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},pe={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,o,s=[];if(!(64&t[0]))return s;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],s.push(o));return s},discardEmulationPreventionBytes:function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===r[0]&&(s++,r.shift()),n[o]=e[s];return n},USER_DATA_REGISTERED_ITU_T_T35:4},me=$,fe=pe,ge=function(e){e=e||{},ge.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ee(0,0),new Ee(0,1),new Ee(1,0),new Ee(1,1)],this.parse708captions_&&(this.cc708Stream_=new _e({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ge.prototype=new me,ge.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=fe.parseSei(e.escapedRBSP)).payload&&t.payloadType===fe.USER_DATA_REGISTERED_ITU_T_T35&&(n=fe.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=fe.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},ge.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},ge.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},ge.prototype.flush=function(){return this.flushStream("flush")},ge.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ge.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},ge.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},ge.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},ge.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ge.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ge.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var be={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ve=function(e){return 32<=e&&e<=127||160<=e&&e<=255},ye=function(e){this.windowNum=e,this.reset()};ye.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ye.prototype.getText=function(){return this.rows.join("\n")},ye.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ye.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ye.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ye.prototype.addText=function(e){this.rows[this.rowIdx]+=e},ye.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var we=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new ye(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};we.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new ye(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},we.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},we.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(zH){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+zH})}};var _e=function(e){e=e||{},_e.prototype.init.call(this);var t,n=this,i=e.captionServices||{},r={};Object.keys(i).forEach((e=>{t=i[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)})),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(n.new708Packet(),n.add708Bytes(e)):(null===n.current708Packet&&n.new708Packet(),n.add708Bytes(e))}};_e.prototype=new me,_e.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},_e.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},_e.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,o=t[r++];for(e.seq=o>>6,e.sizeCode=63&o;r<t.length;r++)i=31&(o=t[r++]),7===(n=o>>5)&&i>0&&(n=o=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},_e.prototype.pushServiceBlock=function(e,t,n){var i,r=t,o=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+n&&r<o.length;r++)i=o[r],ve(i)?r=this.handleText(r,s):24===i?r=this.multiByteCharacter(r,s):16===i?r=this.extendedCommands(r,s):128<=i&&i<=135?r=this.setCurrentWindow(r,s):152<=i&&i<=159?r=this.defineWindow(r,s):136===i?r=this.clearWindows(r,s):140===i?r=this.deleteWindows(r,s):137===i?r=this.displayWindows(r,s):138===i?r=this.hideWindows(r,s):139===i?r=this.toggleWindows(r,s):151===i?r=this.setWindowAttributes(r,s):144===i?r=this.setPenAttributes(r,s):145===i?r=this.setPenColor(r,s):146===i?r=this.setPenLocation(r,s):143===i?s=this.reset(r,s):8===i?s.currentWindow.backspace():12===i?s.currentWindow.clearText():13===i?s.currentWindow.pendingNewLine=!0:14===i?s.currentWindow.clearText():141===i&&r++},_e.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return ve(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},_e.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},_e.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new we(e,i,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},_e.prototype.handleText=function(e,t,n){var i,r,o,s,a=n&&n.isExtended,l=n&&n.isMultiByte,c=this.current708Packet.data,d=a?4096:0,u=c[e],h=c[e+1],p=t.currentWindow;if(l?(r=[u,h],e++):r=[u],t.textDecoder_&&!a)i=t.textDecoder_.decode(new Uint8Array(r));else if(l){const e=r.map((e=>("0"+(255&e).toString(16)).slice(-2))).join("");i=String.fromCharCode(parseInt(e,16))}else s=be[o=d|u]||o,i=4096&o&&o===s?"":String.fromCharCode(s);return p.pendingNewLine&&!p.isEmpty()&&p.newLine(this.getPts(e)),p.pendingNewLine=!1,p.addText(i),e},_e.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return ve(i)&&ve(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},_e.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},_e.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var o=t.currentWindow;return i=n[++e],o.visible=(32&i)>>5,o.rowLock=(16&i)>>4,o.columnLock=(8&i)>>3,o.priority=7&i,i=n[++e],o.relativePositioning=(128&i)>>7,o.anchorVertical=127&i,i=n[++e],o.anchorHorizontal=i,i=n[++e],o.anchorPoint=(240&i)>>4,o.rowCount=15&i,i=n[++e],o.columnCount=63&i,i=n[++e],o.windowStyle=(56&i)>>3,o.penStyle=7&i,o.virtualRowCount=o.rowCount+1,e},_e.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},_e.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},_e.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},_e.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},_e.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},_e.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},_e.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},_e.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},_e.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},_e.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},_e.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},_e.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ke=function(e){return null===e?"":(e=xe[e]||e,String.fromCharCode(e))},Te=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Se=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},Ee=function(e,t){Ee.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Se();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Se();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Se()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=ke((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),o=ke((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14&~r||this.addFormatting(e.pts,["i"]),1&~r||this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r)){const e=3&r;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(i,r)){var s=Te.indexOf(7968&t);if("rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&s>=0&&s<=14&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),!(16&~t)){const e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(r)&&(14&~r||this.addFormatting(e.pts,["i"]))}else this.isNormalChar(i)&&(0===r&&(r=null),o=ke(i),o+=ke(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ee.prototype=new me,Ee.prototype.flushDisplayed=function(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},n=[];this.displayed_.forEach(((e,i)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(HS){t(i)}e.text.length&&n.push({text:e.text,line:i+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(i)})),n.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:n,stream:this.name_})},Ee.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Se(),this.nonDisplayed_=Se(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ee.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ee.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ee.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ee.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ee.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ee.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ee.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ee.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ee.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Se(),this.displayed_=Se()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ee.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ee.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ee.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_].text;n+=t,this.nonDisplayed_[this.row_].text=n},Ee.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n},Ee.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ee.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n};var Ce={CaptionStream:ge,Cea608Stream:Ee,Cea708Stream:_e},Ie={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ae=$,Pe="shared",De=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Oe=function(e){var t,n;Oe.prototype.init.call(this),this.type_=e||Pe,this.push=function(e){"metadata"!==e.type?this.type_!==Pe&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=De(e.dts,n),e.pts=De(e.pts,n),t=e.dts,this.trigger("data",e)):this.trigger("data",e)},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Oe.prototype=new Ae;var Ne,Le={TimestampRolloverStream:Oe,handleRollover:De},Re=(e,t,n)=>{if(!e)return-1;for(var i=n;i<e.length;i++)if(e[i]===t)return i;return-1},je=Re,Me=3,Ue=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Be=function(e,t,n){return decodeURIComponent(Ue(e,t,n))},Fe=function(e,t,n){return unescape(Ue(e,t,n))},ze=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},$e={APIC:function(e){var t,n,i=1;e.data[0]===Me&&((t=je(e.data,0,i))<0||(e.mimeType=Fe(e.data,i,t),i=t+1,e.pictureType=e.data[i],i++,(n=je(e.data,0,i))<0||(e.description=Be(e.data,i,n),i=n+1,"--\x3e"===e.mimeType?e.url=Fe(e.data,i,e.data.length):e.pictureData=e.data.subarray(i,e.data.length))))},"T*":function(e){e.data[0]===Me&&(e.value=Be(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===Me&&-1!==(t=je(e.data,0,1))&&(e.description=Be(e.data,1,t),e.value=Be(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=Fe(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===Me&&-1!==(t=je(e.data,0,1))&&(e.description=Be(e.data,1,t),e.url=Fe(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Fe(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},Ve={parseId3Frames:function(e){var t,n=10,i=0,r=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){i=ze(e.subarray(6,10)),i+=10,64&e[5]&&(n+=4,n+=ze(e.subarray(10,14)),i-=ze(e.subarray(16,20)));do{if((t=ze(e.subarray(n+4,n+8)))<1)break;var o={id:String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3]),data:e.subarray(n+10,n+t+10)};o.key=o.id,$e[o.id]?$e[o.id](o):"T"===o.id[0]?$e["T*"](o):"W"===o.id[0]&&$e["W*"](o),r.push(o),n+=10,n+=t}while(n<i);return r}},parseSyncSafeInteger:ze,frameParsers:$e},qe=$,He=Ie,We=Ve;Ne=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],o=0;if(Ne.prototype.init.call(this),this.dispatchType=He.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,s,a,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),o+=e.data.byteLength,1===r.length&&(i=We.parseSyncSafeInteger(e.data.subarray(6,10)),i+=10),!(o<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)t.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=We.parseSyncSafeInteger(t.data.subarray(10,14)),i-=We.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((s=We.parseSyncSafeInteger(t.data.subarray(n+4,n+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((a={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+s+10)}).key=a.id,We.frameParsers[a.id]?We.frameParsers[a.id](a):"T"===a.id[0]?We.frameParsers["T*"](a):"W"===a.id[0]&&We.frameParsers["W*"](a),"com.apple.streaming.transportStreamTimestamp"===a.owner){var c=a.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],a.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=a.timeStamp,t.dts=a.timeStamp),this.trigger("timestamp",a)}t.frames.push(a),n+=10,n+=s}while(n<i);this.trigger("data",t)}}},Ne.prototype=new qe;var Ge,Ye,Ke,Xe=Ne,Qe=$,Je=Ce,Ze=Ie,et=Le.TimestampRolloverStream,tt=188;(Ge=function(){var e=new Uint8Array(tt),t=0;Ge.prototype.init.call(this),this.push=function(n){var i,r=0,o=tt;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=tt,o+=tt);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===tt&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Qe,Ye=function(){var e,t,n,i;Ye.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],s=(31&e[r+1])<<8|e[r+2];o===Ze.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=s:o===Ze.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=s:o===Ze.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][s]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ze.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ze.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},Ye.prototype=new Qe,Ye.STREAM_TYPES={h264:27,adts:15},Ke=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},o={data:[],size:0},s=function(e,n,i){var r,o,s=new Uint8Array(e.size),a={type:n},l=0,c=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],s.set(o.data,c),c+=o.data.byteLength;!function(e,t){var n;const i=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===i&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=!!(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(s,a),r="video"===n||a.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",a)}};Ke.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Ze.H264_STREAM_TYPE:e=i,t="video";break;case Ze.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ze.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[a.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(i,"video"),s(r,"audio"),s(o,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},Ke.prototype=new Qe;var nt={PAT_PID:0,MP2T_PACKET_LENGTH:tt,TransportPacketStream:Ge,TransportParseStream:Ye,ElementaryStream:Ke,TimestampRolloverStream:et,CaptionStream:Je.CaptionStream,Cea608Stream:Je.Cea608Stream,Cea708Stream:Je.Cea708Stream,MetadataStream:Xe};for(var it in Ze)Ze.hasOwnProperty(it)&&(nt[it]=Ze[it]);var rt,ot=nt,st=$,at=ae.ONE_SECOND_IN_TS,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];rt=function(e){var t,n=0;rt.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${n} outside syncword`})},this.push=function(i){var r,o,s,a,l,c=0;if(e||(n=0),"audio"===i.type){var d;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),t.set(i.data,s.byteLength)):t=i.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof d&&(this.skipWarn_(d,c),d=null),o=2*(1&~t[c+1]),r=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=(a=1024*(1+(3&t[c+6])))*at/lt[(60&t[c+2])>>>2],t.byteLength-c<r)break;this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:a,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:lt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,c+r)}),n++,c+=r}else"number"!=typeof d&&(d=c),c++;"number"==typeof d&&(this.skipWarn_(d,c),d=null),t=t.subarray(c)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},rt.prototype=new st;var ct,dt=rt;ct=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");o.set(e.subarray(r,r+s)),n=new DataView(o.buffer).getUint32(0),i=8*s,t-=s},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(n&2147483648>>>e)return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ut,ht,pt,mt=$,ft=ct;(ht=function(){var e,t,n=0;ht.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new mt,pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ut=function(){var e,t,n,i,r,o,s,a=new ht;ut.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,a.push(e))},a.on("data",(function(s){var a={trackId:t,pts:n,dts:i,data:s,nalUnitTypeCode:31&s[0]};switch(a.nalUnitTypeCode){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=r(s.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=r(s.subarray(1)),a.config=o(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",a)})),a.on("done",(function(){e.trigger("done")})),a.on("partialdone",(function(){e.trigger("partialdone")})),a.on("reset",(function(){e.trigger("reset")})),a.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=function(){a.endTimeline()},s=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===r[0]&&(s++,r.shift()),n[o]=e[s];return n},o=function(e){var t,n,i,r,o,a,l,c,d,u,h,p,m=0,f=0,g=0,b=0,v=[1,1];if(n=(t=new ft(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)t.readBoolean()&&s(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(u=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(c+1)-2*m-2*f,height:(2-u)*(d+1)*16-2*g-2*b,sarRatio:v}}},ut.prototype=new mt;var gt,bt={H264Stream:ut},vt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],yt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},wt=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=yt(e,t),wt(e,t))},_t=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},xt=function(e,t,n){return unescape(function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(e,t,n))},kt={isLikelyAacData:function(e){var t=wt(e,0);return e.length>=t+2&&!(255&~e[t])&&!(240&~e[t+1])&&16==(22&e[t+1])},parseId3TagSize:yt,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&!(240&~e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return vt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=_t(e.subarray(10,14)));do{if((n=_t(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===xt(i,0,r)){var o=i.subarray(r+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}},Tt=kt;(gt=function(){var e=new Uint8Array,t=0;gt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,s,a=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255&~e[l]||240&~e[l+1])l++;else{if(e.length-l<7)break;if(l+(a=Tt.parseAdtsSize(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+a),pts:t,dts:t},this.trigger("data",o),l+=a}else{if(e.length-l<10)break;if(l+(a=Tt.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+a)},this.trigger("data",r),l+=a}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new $;var St,Et,Ct,It,At=$,Pt=ee,Dt=ne,Ot=de,Nt=he,Lt=ot,Rt=ae,jt=dt,Mt=bt.H264Stream,Ut=gt,Bt=kt.isLikelyAacData,Ft=ae.ONE_SECOND_IN_TS,zt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],$t=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Vt=function(e,t){t.stream=e,this.trigger("log",t)},qt=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",Vt.bind(e,r))}},Ht=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Wt=function(e,t,n,i,r,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};Et=function(e,t){var n,i=[],r=0,o=0,s=1/0;n=(t=t||{}).firstSequenceNumber||0,Et.prototype.init.call(this),this.push=function(t){Nt.collectDtsInfo(e,t),e&&zt.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var a,l,c,d,u,h,p;0!==i.length?(a=Ot.trimAdtsFramesByEarliestDts(i,e,r),e.baseMediaDecodeTime=Nt.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),p=Ot.prefixWithSilence(e,a,o,s),e.samples=Ot.generateSampleTable(a),c=Pt.mdat(Ot.concatenateFrameData(a)),i=[],l=Pt.moof(n,[e]),d=new Uint8Array(l.byteLength+c.byteLength),n++,d.set(l),d.set(c,l.byteLength),Nt.clearDtsInfo(e),u=Math.ceil(1024*Ft/e.samplerate),a.length&&(h=a.length*u,this.trigger("segmentTimingInfo",Wt(Rt.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a[0].dts,a[0].pts,a[0].dts+h,a[0].pts+h,p||0)),this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+h})),this.trigger("data",{track:e,boxes:d}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Nt.clearDtsInfo(e),i=[],this.trigger("reset")}},Et.prototype=new At,St=function(e,t){var n,i,r,o=[],s=[];n=(t=t||{}).firstSequenceNumber||0,St.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Nt.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],$t.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,r,a,l,c,d,u,h,p=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=Dt.groupNalsIntoFrames(o),(a=Dt.groupFramesIntoGops(i))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(p=r.duration,a.unshift(r),a.byteLength+=r.byteLength,a.nalCount+=r.nalCount,a.pts=r.pts,a.dts=r.dts,a.duration+=r.duration):a=Dt.extendFirstKeyFrame(a)),s.length){var m;if(!(m=t.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Nt.clearDtsInfo(e),a=m}Nt.collectDtsInfo(e,a),e.samples=Dt.generateSampleTable(a),c=Pt.mdat(Dt.concatenateNalData(a)),e.baseMediaDecodeTime=Nt.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),u=a[0],h=a[a.length-1],this.trigger("segmentTimingInfo",Wt(e.baseMediaDecodeTime,u.dts,u.pts,h.dts+h.duration,h.pts+h.duration,p)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=Pt.moof(n,[e]),d=new Uint8Array(l.byteLength+c.byteLength),n++,d.set(l),d.set(c,l.byteLength),this.trigger("data",{track:e,boxes:d}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Nt.clearDtsInfo(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,o,s,a=1/0;for(s=0;s<this.gopCache_.length;s++)r=(o=this.gopCache_[s]).gop,e.pps&&Ht(e.pps[0],o.pps[0])&&e.sps&&Ht(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||a>n)&&(i=o,a=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,a,l,c;for(o=e.byteLength,a=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(i=s[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,a-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=o,c.duration=l,c.nalCount=a,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,a,l;for(t=s.length-1,n=e.length-1,o=null,a=!1;t>=0&&n>=0;){if(i=s[t],r=e[n],i.pts===r.pts){a=!0;break}i.pts>r.pts?t--:(t===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;if(0===(l=a?n:o))return e;var c=e.slice(l),d=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=d.byteLength,c.duration=d.duration,c.nalCount=d.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}},St.prototype=new At,It=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,It.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},It.prototype=new At,It.prototype.flush=function(e){var t,n,i,r,o=0,s={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,$t.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,zt.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=Pt.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=Rt.metadataTsToSeconds(t.startPts,a,this.keepOriginalTimestamps),t.endTime=Rt.metadataTsToSeconds(t.endPts,a,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=Rt.metadataTsToSeconds(n.pts,a,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),r=0;r<s.captions.length;r++)t=s.captions[r],this.trigger("caption",t);for(r=0;r<s.metadata.length;r++)n=s.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},It.prototype.setRemux=function(e){this.remuxTracks=e},Ct=function(e){var t,n,i=this,r=!0;Ct.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Lt.MetadataStream,r.aacStream=new Ut,r.audioTimestampRolloverStream=new Lt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Lt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new jt,r.coalesceStream=new It(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Et(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),qt(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Lt.MetadataStream,r.packetStream=new Lt.TransportPacketStream,r.parseStream=new Lt.TransportParseStream,r.elementaryStream=new Lt.ElementaryStream,r.timestampRolloverStream=new Lt.TimestampRolloverStream,r.adtsStream=new jt,r.h264Stream=new Mt,r.captionStream=new Lt.CaptionStream(e),r.coalesceStream=new It(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var s;if("metadata"===o.type){for(s=o.tracks.length;s--;)t||"video"!==o.tracks[s].type?n||"audio"!==o.tracks[s].type||((n=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=o.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new St(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Et(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),qt(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Nt.clearDtsInfo(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Nt.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=Bt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ct.prototype=new At;var Gt,Yt,Kt,Xt,Qt,Jt,Zt,en={Transmuxer:Ct},tn=function(e){return e>>>0},nn=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},rn=tn,on=nn,sn=function(e,t){var n,i,r,o,s,a=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=rn(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=on(e.subarray(n+4,n+8)),o=i>1?n+i:e.byteLength,r===t[0]&&(1===t.length?a.push(e.subarray(n+8,o)):(s=sn(e.subarray(n+8,o),t.slice(1))).length&&(a=a.concat(s))),n=o;return a},an=sn,ln=tn,cn=q.getUint64,dn=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=cn(e.subarray(4)):t.baseMediaDecodeTime=ln(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},un=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],s=8&i.flags[2],a=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],d=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(i.defaultSampleDuration=n.getUint32(t),t+=4),a&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&d&&(i.baseDataOffsetIsMoof=!0),i},hn=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},pn=hn,mn=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],s=1&n.flags[1],a=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],d=i.getUint32(4),u=8;for(r&&(n.dataOffset=i.getInt32(u),u+=4),o&&d&&(t={flags:pn(e.subarray(u,u+4))},u+=4,s&&(t.duration=i.getUint32(u),u+=4),a&&(t.size=i.getUint32(u),u+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(u):t.compositionTimeOffset=i.getUint32(u),u+=4),n.samples.push(t),d--);d--;)t={},s&&(t.duration=i.getUint32(u),u+=4),a&&(t.size=i.getUint32(u),u+=4),l&&(t.flags=pn(e.subarray(u,u+4)),u+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(u):t.compositionTimeOffset=i.getUint32(u),u+=4),n.samples.push(t);return n},fn={tfdt:dn,trun:mn},gn={parseTfdt:fn.tfdt,parseTrun:fn.trun},bn=function(e){for(var t=0,n=String.fromCharCode(e[t]),i="";"\0"!==n;)i+=n,t++,n=String.fromCharCode(e[t]);return i+=n},vn=bn,yn=q.getUint64,wn=function(e,t){var n="\0"!==t.scheme_id_uri,i=0===e&&_n(t.presentation_time_delta)&&n,r=1===e&&_n(t.presentation_time)&&n;return!(e>1)&&i||r},_n=function(e){return void 0!==e||null!==e},xn={parseEmsgBox:function(e){var t,n,i,r,o,s,a,l=4,c=e[0];if(0===c)l+=(t=vn(e.subarray(l))).length,l+=(n=vn(e.subarray(l))).length,i=(d=new DataView(e.buffer)).getUint32(l),l+=4,o=d.getUint32(l),l+=4,s=d.getUint32(l),l+=4,a=d.getUint32(l),l+=4;else if(1===c){var d;i=(d=new DataView(e.buffer)).getUint32(l),l+=4,r=yn(e.subarray(l)),l+=8,s=d.getUint32(l),l+=4,a=d.getUint32(l),l+=4,l+=(t=vn(e.subarray(l))).length,l+=(n=vn(e.subarray(l))).length}var u={scheme_id_uri:t,value:n,timescale:i||1,presentation_time:r,presentation_time_delta:o,event_duration:s,id:a,message_data:new Uint8Array(e.subarray(l,e.byteLength))};return wn(c,u)?u:void 0},scaleTime:function(e,t,n,i){return e||0===e?e/t:i+n/t}},kn="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},Tn=tn,Sn=function(e){return("00"+e.toString(16)).slice(-2)},En=an,Cn=nn,In=xn,An=un,Pn=mn,Dn=dn,On=q.getUint64,Nn=kn,Ln=Ve.parseId3Frames;Gt=function(e){return En(e,["moov","trak"]).reduce((function(e,t){var n,i,r,o,s;return(n=En(t,["tkhd"])[0])?(i=n[0],o=Tn(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(s=En(t,["mdia","mdhd"])[0])?(r=0===(i=s[0])?12:20,e[o]=Tn(s[r]<<24|s[r+1]<<16|s[r+2]<<8|s[r+3]),e):null):null}),{})},Yt=function(e,t){var n=En(t,["moof","traf"]).reduce((function(t,n){var i,r=En(n,["tfhd"])[0],o=Tn(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),s=e[o]||9e4,a=En(n,["tfdt"])[0],l=new DataView(a.buffer,a.byteOffset,a.byteLength);let c;return"bigint"==typeof(i=1===a[0]?On(a.subarray(4,12)):l.getUint32(4))?c=i/Nn.BigInt(s):"number"!=typeof i||isNaN(i)||(c=i/s),c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),c<t&&(t=c),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},Kt=function(e,t){var n,i=En(t,["moof","traf"]),r=0,o=0;if(i&&i.length){var s=En(i[0],["tfhd"])[0],a=En(i[0],["trun"])[0],l=En(i[0],["tfdt"])[0];if(s)n=An(s).trackId;if(l)r=Dn(l).baseMediaDecodeTime;if(a){var c=Pn(a);c.samples&&c.samples.length&&(o=c.samples[0].compositionTimeOffset||0)}}var d=e[n]||9e4;"bigint"==typeof r&&(o=Nn.BigInt(o),d=Nn.BigInt(d));var u=(r+o)/d;return"bigint"==typeof u&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),u},Xt=function(e){var t=En(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=En(e,["mdia","hdlr"]),i=En(e,["tkhd"]);t.forEach((function(e,t){var r,o,s=Cn(e.subarray(8,12)),a=i[t];"vide"===s&&(o=0===(r=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(o))}))})),n},Jt=function(e){var t=0===e[0]?12:20;return Tn(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Qt=function(e){var t=En(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},o=En(e,["tkhd"])[0];o&&(i=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var s=En(e,["mdia","hdlr"])[0];if(s){var a=Cn(s.subarray(8,12));r.type="vide"===a?"video":"soun"===a?"audio":a}var l=En(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=Cn(c.subarray(4,8));var d,u=En(c,[r.codec])[0];u&&(/^[asm]vc[1-9]$/i.test(r.codec)?(d=u.subarray(78),"avcC"===Cn(d.subarray(4,8))&&d.length>11?(r.codec+=".",r.codec+=Sn(d[9]),r.codec+=Sn(d[10]),r.codec+=Sn(d[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(d=u.subarray(28),"esds"===Cn(d.subarray(4,8))&&d.length>20&&0!==d[19]?(r.codec+="."+Sn(d[19]),r.codec+="."+Sn(d[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var h=En(e,["mdia","mdhd"])[0];h&&(r.timescale=Jt(h)),n.push(r)})),n},Zt=function(e,t=0){return En(e,["emsg"]).map((e=>{var n=In.parseEmsgBox(new Uint8Array(e)),i=Ln(n.message_data);return{cueTime:In.scaleTime(n.presentation_time,n.timescale,n.presentation_time_delta,t),duration:In.scaleTime(n.event_duration,n.timescale),frames:i}}))};var Rn={findBox:En,parseType:Cn,timescale:Gt,startTime:Yt,compositionStartTime:Kt,videoTrackIds:Xt,tracks:Qt,getTimescaleFromMediaHeader:Jt,getEmsgID3:Zt};const{parseTrun:jn}=gn,{findBox:Mn}=Rn;var Un=kn,Bn={getMdatTrafPairs:function(e){var t=Mn(e,["moof","traf"]),n=Mn(e,["mdat"]),i=[];return n.forEach((function(e,n){var r=t[n];i.push({mdat:e,traf:r})})),i},parseSamples:function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,a=[];return e.forEach((function(e){var t=jn(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+Un.BigInt(e.compositionTimeOffset),i+=Un.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)})),a=a.concat(t)})),a}},Fn=pe.discardEmulationPreventionBytes,zn=Ce.CaptionStream,$n=an,Vn=dn,qn=un,{getMdatTrafPairs:Hn,parseSamples:Wn}=Bn,Gn=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},Yn=function(e,t){var n={};return Hn(e).forEach((function(e){var i,r=e.mdat,o=e.traf,s=$n(o,["tfhd"]),a=qn(s[0]),l=a.trackId,c=$n(o,["tfdt"]),d=c.length>0?Vn(c[0]).baseMediaDecodeTime:0,u=$n(o,["trun"]);t===l&&u.length>0&&(i=function(e,t,n){var i,r,o,s,a=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=o)if(o=a.getUint32(r),r+=4,!(o<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+o),d=Gn(r,t);if(i={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:Fn(c),trackId:n},d)i.pts=d.pts,i.dts=d.dts,s=d;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=s.pts,i.dts=s.dts}l.seiNals.push(i)}return l}(r,Wn(u,d,a),l),n[l]||(n[l]={seiNals:[],logs:[]}),n[l].seiNals=n[l].seiNals.concat(i.seiNals),n[l].logs=n[l].logs.concat(i.logs))})),n},Kn=function(){var e,t,n,i,r,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new zn,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||i!==t[n])},this.parse=function(e,o,s){var a;if(!this.isInitialized())return null;if(!o||!s)return null;if(this.isNewInit(o,s))n=o[0],i=s[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,s)}return a=function(e,t,n){if(null===t)return null;var i=Yn(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),a&&a.logs&&(r.logs=r.logs.concat(a.logs)),null!==a&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()};const{parseTfdt:Xn}=gn,Qn=an,{getTimescaleFromMediaHeader:Jn}=Rn,{parseSamples:Zn,getMdatTrafPairs:ei}=Bn;var ti=function(){let e=9e4;this.init=function(t){const n=Qn(t,["moov","trak","mdia","mdhd"])[0];n&&(e=Jn(n))},this.parseSegment=function(t){const n=[],i=ei(t);let r=0;return i.forEach((function(t){const i=t.mdat,o=t.traf,s=Qn(o,["tfdt"])[0],a=Qn(o,["tfhd"])[0],l=Qn(o,["trun"]);if(s){const e=Xn(s);r=e.baseMediaDecodeTime}if(l.length&&a){const t=Zn(l,r,a);let o=0;t.forEach((function(t){const r=new TextDecoder("utf-8"),s=i.slice(o,o+t.size);if(Qn(s,["vtte"])[0])return void(o+=t.size);Qn(s,["vttc"]).forEach((function(i){const o=Qn(i,["payl"])[0],s=Qn(i,["sttg"])[0],a=t.pts/e,l=(t.pts+t.duration)/e;let c,d;if(o)try{c=r.decode(o)}catch(HS){console.error(HS)}if(s)try{d=r.decode(s)}catch(HS){console.error(HS)}t.duration&&c&&n.push({cueText:c,start:a,end:l,settings:d})})),o+=t.size}))}})),n}},ni=Ie,ii=function(e){var t=31&e[1];return t<<=8,t|=e[2]},ri=function(e){return!!(64&e[1])},oi=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},si=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},ai={parseType:function(e,t){var n=ii(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=ri(e),n=4+oi(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=ri(e),i=4+oi(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var o=12+((15&e[i+10])<<8|e[i+11]);o<r;){var s=i+o;t[(31&e[s+1])<<8|e[s+2]]=e[s],o+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:ri,parsePesType:function(e,t){switch(t[ii(e)]){case ni.H264_STREAM_TYPE:return"video";case ni.ADTS_STREAM_TYPE:return"audio";case ni.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!ri(e))return null;var t=4+oi(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+oi(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===si(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===si(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===si(31&n[r+3])&&(o=!0),o}},li=Ie,ci=Le.handleRollover,di={};di.ts=ai,di.aac=kt;var ui=ae.ONE_SECOND_IN_TS,hi=188,pi=71,mi=function(e,t,n){for(var i,r,o,s,a=0,l=hi,c=!1;l<=e.byteLength;)if(e[a]!==pi||e[l]!==pi&&l!==e.byteLength)a++,l++;else{if(i=e.subarray(a,l),"pes"===di.ts.parseType(i,t.pid))r=di.ts.parsePesType(i,t.table),o=di.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(s=di.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0);if(c)break;a+=hi,l+=hi}for(a=(l=e.byteLength)-hi,c=!1;a>=0;)if(e[a]!==pi||e[l]!==pi&&l!==e.byteLength)a--,l--;else{if(i=e.subarray(a,l),"pes"===di.ts.parseType(i,t.pid))r=di.ts.parsePesType(i,t.table),o=di.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(s=di.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0);if(c)break;a-=hi,l-=hi}},fi=function(e,t,n){for(var i,r,o,s,a,l,c,d=0,u=hi,h=!1,p={data:[],size:0};u<e.byteLength;)if(e[d]!==pi||e[u]!==pi)d++,u++;else{if(i=e.subarray(d,u),"pes"===di.ts.parseType(i,t.pid))if(r=di.ts.parsePesType(i,t.table),o=di.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!h&&(s=di.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame)){if(o&&0!==p.size){for(a=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),a.set(c,l),l+=c.byteLength;if(di.ts.videoPacketContainsKeyFrame(a)){var m=di.ts.parsePesTime(a);m?(n.firstKeyFrame=m,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(i),p.size+=i.byteLength}if(h&&n.firstKeyFrame)break;d+=hi,u+=hi}for(d=(u=e.byteLength)-hi,h=!1;d>=0;)if(e[d]!==pi||e[u]!==pi)d--,u--;else{if(i=e.subarray(d,u),"pes"===di.ts.parseType(i,t.pid))r=di.ts.parsePesType(i,t.table),o=di.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(s=di.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),h=!0);if(h)break;d-=hi,u-=hi}},gi=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=hi;r<e.byteLength;)if(e[i]!==pi||e[r]!==pi)i++,r++;else{switch(n=e.subarray(i,r),di.ts.parseType(n,t.pid)){case"pat":t.pid=di.ts.parsePat(n);break;case"pmt":var o=di.ts.parsePmt(n);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}i+=hi,r+=hi}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case li.H264_STREAM_TYPE:n.video=[],fi(e,t,n),0===n.video.length&&delete n.video;break;case li.ADTS_STREAM_TYPE:n.audio=[],mi(e,t,n),0===n.audio.length&&delete n.audio}}return n},bi=function(e,t){var n;return n=di.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,o=null,s=0,a=0;e.length-a>=3;){switch(di.aac.parseType(e,a)){case"timed-metadata":if(e.length-a<10){n=!0;break}if((s=di.aac.parseId3TagSize(e,a))>e.length){n=!0;break}null===o&&(t=e.subarray(a,a+s),o=di.aac.parseAacTimestamp(t)),a+=s;break;case"audio":if(e.length-a<7){n=!0;break}if((s=di.aac.parseAdtsSize(e,a))>e.length){n=!0;break}null===r&&(t=e.subarray(a,a+s),r=di.aac.parseSampleRate(t)),i++,a+=s;break;default:a++}if(n)return null}if(null===r||null===o)return null;var l=ui/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*l,pts:o+1024*i*l}]}}(e):gi(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=ci(e.dts,n),e.pts=ci(e.pts,n),e.dtsTime=e.dts/ui,e.ptsTime=e.pts/ui}))}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=ci(e.dts,i),e.pts=ci(e.pts,i),e.dtsTime=e.dts/ui,e.ptsTime=e.pts/ui})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=ci(r.dts,i),r.pts=ci(r.pts,i),r.dtsTime=r.dts/ui,r.ptsTime=r.pts/ui}}}(n,t),n):null};class vi{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new en.Transmuxer(this.options),function(e,t){t.on("data",(function(t){const n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};const i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){const n={start:{decode:ae.videoTsToSeconds(t.start.dts),presentation:ae.videoTsToSeconds(t.start.pts)},end:{decode:ae.videoTsToSeconds(t.end.dts),presentation:ae.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:ae.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ae.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){const n={start:{decode:ae.videoTsToSeconds(t.start.dts),presentation:ae.videoTsToSeconds(t.start.pts)},end:{decode:ae.videoTsToSeconds(t.end.dts),presentation:ae.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:ae.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ae.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ae.videoTsToSeconds(t.start),end:ae.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ae.videoTsToSeconds(t.start),end:ae.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new Kn,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])}initMp4WebVttParser(e){this.webVttParser||(this.webVttParser=new ti);const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.webVttParser.init(t)}getMp4WebVttText(e){this.webVttParser||(this.webVttParser=new ti);const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.webVttParser.parseSegment(t);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:n||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){const n=Rn.startTime(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:t},[t.buffer])}probeMp4Tracks({data:e}){const t=Rn.tracks(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeEmsgID3({data:e,offset:t}){const n=Rn.getEmsgID3(e,t);this.self.postMessage({action:"probeEmsgID3",id3Frames:n,emsgData:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){const n="number"!=typeof t||isNaN(t)?void 0:t*ae.ONE_SECOND_IN_TS,i=bi(e,n);let r=null;i&&(r={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1},r.hasVideo&&(r.videoStart=i.video[0].ptsTime),r.hasAudio&&(r.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:r,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){const t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ae.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(ae.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new vi(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new vi(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));var nte=Jee(tte);const ite=e=>{const{transmuxer:t,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:u,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:f,onTransmuxerLog:g,isEndOfTimeline:b,segment:v,triggerSegmentEventFn:y}=e,w={buffer:[]};let _=b;if(t.onmessage=n=>{t.currentTransmux===e&&("data"===n.data.action&&((e,t,n)=>{const{type:i,initSegment:r,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:c}=e.data.segment;t.buffer.push({captions:o,captionStreams:s,metadata:a});const d=e.data.segment.boxes||{data:e.data.segment.data},u={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};void 0!==l&&(u.videoFrameDtsTime=l),void 0!==c&&(u.videoFramePtsTime=c),n(u)})(n,w,s),"trackinfo"===n.data.action&&a(n.data.trackInfo),"gopInfo"===n.data.action&&((e,t)=>{t.gopInfo=e.data.gopInfo})(n,w),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&c(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&d(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&u(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&h([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&p(n.data.caption),"endedtimeline"===n.data.action&&(_=!1,f()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(_||(t.onmessage=null,(({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)})({transmuxedData:w,callback:m}),rte(t))))},t.onerror=()=>{const e={message:"Received an error message from the transmuxer worker",metadata:{errorType:I7.Error.StreamingFailedToTransmuxSegment,segmentInfo:Jte({segment:v})}};m(null,e)},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),n.byteLength){const e=n instanceof ArrayBuffer?n:n.buffer,i=n instanceof ArrayBuffer?0:n.byteOffset;y({type:"segmenttransmuxingstart",segment:v}),t.postMessage({action:"push",data:e,byteOffset:i,byteLength:n.byteLength},[e])}b&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},rte=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():ite(e.currentTransmux))},ote=(e,t)=>{e.postMessage({action:t}),rte(e)},ste=(e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void ote(t,e);t.transmuxQueue.push(ote.bind(null,t,e))},ate=e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void ite(e);e.transmuxer.transmuxQueue.push(e)};var lte=e=>{ste("reset",e)},cte=e=>{const t=new nte;t.currentTransmux=null,t.transmuxQueue=[];const n=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)),t.postMessage({action:"init",options:e}),t};const dte=function(e){const t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=MT({},e,{endAction:null,transmuxer:null,callback:null}),o=r=>{r.data.action===n&&(t.removeEventListener("message",o),r.data.data&&(r.data.data=new Uint8Array(r.data.data,e.byteOffset||0,e.byteLength||r.data.data.byteLength),e.data&&(e.data=r.data.data)),i(r.data))};if(t.addEventListener("message",o),e.data){const n=e.data instanceof ArrayBuffer;r.byteOffset=n?0:e.data.byteOffset,r.byteLength=e.data.byteLength;const i=[n?e.data:e.data.buffer];t.postMessage(r,i)}else t.postMessage(r)},ute=2,hte=-101,pte=-102,mte="wvtt",fte=e=>{e.forEach((e=>{e.abort()}))},gte=(e,t)=>{const{requestType:n}=t,i=vee({requestType:n,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:hte,xhr:t,metadata:i}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:pte,xhr:t,metadata:i}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:ute,xhr:t,metadata:i}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:ute,xhr:t,metadata:i}:null},bte=(e,t,n,i)=>(r,o)=>{const s=o.response,a=gte(r,o);if(a)return n(a,e);if(16!==s.byteLength)return n({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:ute,xhr:o},e);const l=new DataView(s),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=c;const d={uri:o.uri};return i({type:"segmentkeyloadcomplete",segment:e,keyInfo:d}),n(null,e)},vte=(e,t)=>{const n=u5(e.map.bytes);if("mp4"!==n){const i=e.map.resolvedUri||e.map.uri,r=n||"unknown";return t({internal:!0,message:`Found unsupported ${r} container for initialization segment at URL: ${i}`,code:ute,metadata:{mediaType:r}})}dte({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:n,data:i})=>(e.map.bytes=i,n.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale),"text"===t.type&&((e,t)=>{t===mte&&e.transmuxer.postMessage({action:"initMp4WebVttParser",data:e.map.bytes})})(e,t.codec))})),t(null))})},yte=({segment:e,finishProcessingFn:t,responseType:n,triggerSegmentEventFn:i})=>(r,o)=>{const s=gte(r,o);if(s)return t(s,e);i({type:"segmentloaded",segment:e});const a="arraybuffer"!==n&&o.responseText?(e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer})(o.responseText.substring(e.lastReachedChar||0)):o.response;return e.stats=(e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}))(o),e.key?e.encryptedBytes=new Uint8Array(a):e.bytes=new Uint8Array(a),t(null,e)},wte=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{const m=e.map&&e.map.tracks||{},f=Boolean(m.audio&&m.video);let g=i.bind(null,e,"audio","start");const b=i.bind(null,e,"audio","end");let v=i.bind(null,e,"video","start");const y=i.bind(null,e,"video","end");dte({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:i=>{e.bytes=t=i.data;const m=i.result;m&&(n(e,{hasAudio:m.hasAudio,hasVideo:m.hasVideo,isMuxed:f}),n=null),ate({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:f,onData:t=>{t.type="combined"===t.type?"video":t.type,d(e,t)},onTrackInfo:t=>{n&&(f&&(t.isMuxed=!0),n(e,t))},onAudioTimingInfo:e=>{g&&void 0!==e.start&&(g(e.start),g=null),b&&void 0!==e.end&&b(e.end)},onVideoTimingInfo:e=>{v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:t=>{const n={pts:{start:t.start.presentation,end:t.end.presentation},dts:{start:t.start.decode,end:t.end.decode}};p({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),r(t)},onAudioSegmentTimingInfo:t=>{const n={pts:{start:t.start.pts,end:t.end.pts},dts:{start:t.start.dts,end:t.end.dts}};p({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),o(t)},onId3:(t,n)=>{s(e,t,n)},onCaptions:t=>{a(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:(t,n)=>{u&&(t.type="combined"===t.type?"video":t.type,p({type:"segmenttransmuxingcomplete",segment:e}),u(n,e,t))},segment:e,triggerSegmentEventFn:p})}})},_te=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=new Uint8Array(t);if(function(e){return H4(e,["moof"]).length>0}(m)){e.isFmp4=!0;const{tracks:r}=e.map;if(r.text&&(!r.audio||!r.video))return d(e,{data:m,type:"text"}),void((e,t,n)=>{t===mte&&dte({action:"getMp4WebVttText",data:e.bytes,transmuxer:e.transmuxer,callback:({data:t,mp4VttCues:i})=>{e.bytes=t,n(null,e,{mp4VttCues:i})}})})(e,r.text.codec,u);const o={isFmp4:!0,hasVideo:!!r.video,hasAudio:!!r.audio};r.audio&&r.audio.codec&&"enca"!==r.audio.codec&&(o.audioCodec=r.audio.codec),r.video&&r.video.codec&&"encv"!==r.video.codec&&(o.videoCodec=r.video.codec),r.video&&r.audio&&(o.isMuxed=!0),n(e,o);const l=(t,n)=>{d(e,{data:m,type:o.hasAudio&&!o.isMuxed?"audio":"video"}),n&&n.length&&s(e,n),t&&t.length&&a(e,t),u(null,e,{})};dte({action:"probeMp4StartTime",timescales:e.map.timescales,data:m,transmuxer:e.transmuxer,callback:({data:n,startTime:s})=>{t=n.buffer,e.bytes=m=n,o.hasAudio&&!o.isMuxed&&i(e,"audio","start",s),o.hasVideo&&i(e,"video","start",s),dte({action:"probeEmsgID3",data:m,transmuxer:e.transmuxer,offset:s,callback:({emsgData:n,id3Frames:i})=>{t=n.buffer,e.bytes=m=n,r.video&&n.byteLength&&e.transmuxer?dte({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:m,timescales:e.map.timescales,trackIds:[r.video.id],callback:n=>{t=n.data.buffer,e.bytes=m=n.data,n.logs.forEach((function(e){h(j7(e,{stream:"mp4CaptionParser"}))})),l(n.captions,i)}}):l(void 0,i)}})}})}else if(e.transmuxer){if(void 0===e.container&&(e.container=u5(m)),"ts"!==e.container&&"aac"!==e.container)return n(e,{hasAudio:!1,hasVideo:!1}),void u(null,e,{});wte({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})}else u(null,e,{})},xte=function({id:e,key:t,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:o},s){const a=t=>{if(t.data.source===e){i.removeEventListener("message",a);const e=t.data.decrypted;s(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let l;i.onerror=()=>{const e="An error occurred in the decryption worker",t=Jte({segment:r}),n={message:e,metadata:{error:new Error(e),errorType:I7.Error.StreamingFailedToDecryptSegment,segmentInfo:t,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};o(n,r)},i.addEventListener("message",a),l=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),i.postMessage(Lee({source:e,encrypted:n,key:l,iv:t.iv}),[n.buffer,l.buffer])},kte=({activeXhrs:e,decryptionWorker:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let m=0,f=!1;return(g,b)=>{if(!f){if(g)return f=!0,fte(e),u(g,b);if(m+=1,m===e.length){const m=function(){if(b.encryptedBytes)return(({decryptionWorker:e,segment:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{p({type:"segmentdecryptionstart"}),xte({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e,segment:t,doneFn:u},(e=>{t.bytes=e,p({type:"segmentdecryptioncomplete",segment:t}),_te({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})}))})({decryptionWorker:t,segment:b,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p});_te({segment:b,bytes:b.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h,triggerSegmentEventFn:p})};if(b.endOfAllRequests=Date.now(),b.map&&b.map.encryptedBytes&&!b.map.bytes)return p({type:"segmentdecryptionstart",segment:b}),xte({decryptionWorker:t,id:b.requestId+"-init",encryptedBytes:b.map.encryptedBytes,key:b.map.key,segment:b,doneFn:u},(t=>{b.map.bytes=t,p({type:"segmentdecryptioncomplete",segment:b}),vte(b,(t=>{if(t)return fte(e),u(t,b);m()}))}));m()}}}},Tte=({segment:e,progressFn:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d})=>n=>{if(!n.target.aborted)return e.stats=j7(e.stats,(e=>{const t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n})(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)},Ste=({xhr:e,xhrOptions:t,decryptionWorker:n,segment:i,abortFn:r,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:f,onTransmuxerLog:g,triggerSegmentEventFn:b})=>{const v=[],y=kte({activeXhrs:v,decryptionWorker:n,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:f,onTransmuxerLog:g,triggerSegmentEventFn:b});if(i.key&&!i.key.bytes){const n=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&n.push(i.map.key);const r=j7(t,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),o=bte(i,n,y,b);b({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.key.resolvedUri}});const s=e(r,o);v.push(s)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const n=j7(t,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),r=bte(i,[i.map.key],y,b);b({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.map.key.resolvedUri}});const o=e(n,r);v.push(o)}const n=j7(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Pee(i.map),requestType:"segment-media-initialization"}),r=(({segment:e,finishProcessingFn:t,triggerSegmentEventFn:n})=>(i,r)=>{const o=gte(i,r);if(o)return t(o,e);const s=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:e}),e.map.key)return e.map.encryptedBytes=s,t(null,e);e.map.bytes=s,vte(e,(function(n){if(n)return n.xhr=r,n.status=r.status,t(n,e);t(null,e)}))})({segment:i,finishProcessingFn:y,triggerSegmentEventFn:b});b({type:"segmentloadstart",segment:i});const o=e(n,r);v.push(o)}const w=j7(t,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Pee(i),requestType:"segment"}),_=yte({segment:i,finishProcessingFn:y,responseType:w.responseType,triggerSegmentEventFn:b});b({type:"segmentloadstart",segment:i});const x=e(w,_);x.addEventListener("progress",Tte({segment:i,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),v.push(x);const k={};return v.forEach((e=>{e.addEventListener("loadend",(({loadendState:e,abortFn:t})=>n=>{n.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)})({loadendState:k,abortFn:r}))})),()=>fte(v)},Ete=R7("CodecUtils"),Cte=(e,t)=>{const n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Ite=function(e){const t={};return e.forEach((({mediaType:e,type:n,details:i})=>{t[e]=t[e]||[],t[e].push(y0(`${n}${i}`))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return Ete(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[e]=null);t[e]=t[e][0]})),t},Ate=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},Pte=function(e,t){const n=t.attributes||{},i=Ite(function(e){const t=e.attributes||{};if(t.CODECS)return w0(t.CODECS)}(t)||[]);if(Cte(e,t)&&!i.audio&&!((e,t)=>{if(!Cte(e,t))return!0;const n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1})(e,t)){const t=Ite(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return w0(r.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);t.audio&&(i.audio=t.audio)}return i},Dte=R7("PlaylistSelector"),Ote=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},Nte=function(e,t){if(!e)return"";const n=qJ.getComputedStyle(e);return n?n[t]:""},Lte=function(e,t){const n=e.slice();e.sort((function(e,i){const r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},Rte=function(e,t){let n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||qJ.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||qJ.Number.MAX_VALUE,n-i};let jte=function(e,t,n,i,r,o){if(!e)return;const s={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:r};let a=e.playlists;dee.isAudioOnly(e)&&(a=o.getAudioTrackPlaylists_(),s.audioOnly=!0);let l=a.map((e=>{let t;const n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return t=e.attributes&&e.attributes.BANDWIDTH,t=t||qJ.Number.MAX_VALUE,{bandwidth:t,width:n,height:i,playlist:e}}));Lte(l,((e,t)=>e.bandwidth-t.bandwidth)),l=l.filter((e=>!dee.isIncompatible(e.playlist)));let c=l.filter((e=>dee.isEnabled(e.playlist)));c.length||(c=l.filter((e=>!dee.isDisabled(e.playlist))));const d=c.filter((e=>e.bandwidth*Xee.BANDWIDTH_VARIANCE<t));let u=d[d.length-1];const h=d.filter((e=>e.bandwidth===u.bandwidth))[0];if(!1===r){const e=h||c[0]||l[0];if(e&&e.playlist){let t="sortedPlaylistReps";return h&&(t="bandwidthBestRep"),c[0]&&(t="enabledPlaylistReps"),Dte(`choosing ${Ote(e)} using ${t} with options`,s),e.playlist}return Dte("could not choose a playlist with options",s),null}const p=d.filter((e=>e.width&&e.height));Lte(p,((e,t)=>e.width-t.width));const m=p.filter((e=>e.width===n&&e.height===i));u=m[m.length-1];const f=m.filter((e=>e.bandwidth===u.bandwidth))[0];let g,b,v,y;if(f||(g=p.filter((e=>e.width>n||e.height>i)),b=g.filter((e=>e.width===g[0].width&&e.height===g[0].height)),u=b[b.length-1],v=b.filter((e=>e.bandwidth===u.bandwidth))[0]),o.leastPixelDiffSelector){const e=p.map((e=>(e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-i),e)));Lte(e,((e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff)),y=e[0]}const w=y||v||f||h||c[0]||l[0];if(w&&w.playlist){let e="sortedPlaylistReps";return y?e="leastPixelDiffRep":v?e="resolutionPlusOneRep":f?e="resolutionBestRep":h?e="bandwidthBestRep":c[0]&&(e="enabledPlaylistReps"),Dte(`choosing ${Ote(w)} using ${e} with options`,s),w.playlist}return Dte("could not choose a playlist with options",s),null};const Mte=function(){let e=this.useDevicePixelRatio&&qJ.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),jte(this.playlists.main,this.systemBandwidth,parseInt(Nte(this.tech_.el(),"width"),10)*e,parseInt(Nte(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)};function Ute(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch(HS){return""}}const Bte=({inbandTextTracks:e,metadataArray:t,timestampOffset:n,videoDuration:i})=>{if(!t)return;const r=qJ.WebKitDataCue||qJ.VTTCue,o=e.metadataTrack_;if(!o)return;if(t.forEach((e=>{const t=e.cueTime+n;!("number"!=typeof t||qJ.isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach((e=>{const n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:()=>(I7.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key)},value:{get:()=>(I7.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data)},privateData:{get:()=>(I7.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data)}})}(n),o.addCue(n)}))})),!o.cues||!o.cues.length)return;const s=o.cues,a=[];for(let d=0;d<s.length;d++)s[d]&&a.push(s[d]);const l=a.reduce(((e,t)=>{const n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),c=Object.keys(l).sort(((e,t)=>Number(e)-Number(t)));c.forEach(((e,t)=>{const n=l[e],r=isFinite(i)?i:e,o=Number(c[t+1])||r;n.forEach((e=>{e.endTime=o}))}))},Fte={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},zte=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),$te=(e,t,n)=>{e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,I7.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},Vte=function(e,t,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=e&&r.endTime<=t&&n.removeCue(r)},qte=e=>"number"==typeof e&&isFinite(e),Hte=1/60,Wte=e=>{const{startOfSegment:t,duration:n,segment:i,part:r,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:c,timeline:d}=e,u=a.length-1;let h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=` with independent ${e.independent}`);const p="number"==typeof c,m=e.segment.uri?"segment":"pre-segment",f=p?X7({preloadSegment:i})-1:0;return`${m} [${o+l}/${o+u}]`+(p?` part [${c}/${f}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(p?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${t}]`+` duration [${n}]`+` timeline [${d}]`+` selected by [${h}]`+` playlist [${s}]`},Gte=e=>`${e}TimingInfo`,Yte=({timelineChangeController:e,currentTimeline:t,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(t===n)return!1;if("audio"===i){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==n}if("main"===i&&r){const t=e.pendingTimelineChange({type:"audio"});return!t||t.to!==n}return!1},Kte=e=>{const t=e.pendingSegment_;if(!t)return;if(Yte({timelineChangeController:e.timelineChangeController_,currentTimeline:e.currentTimeline_,segmentTimeline:t.timeline,loaderType:e.loaderType_,audioDisabled:e.audioDisabled_})&&(e=>{if(!e)return!1;const t=e.pendingTimelineChange({type:"audio"}),n=e.pendingTimelineChange({type:"main"}),i=t&&n,r=i&&t.to!==n.to;return!(!i||-1===t.from||-1===n.from||!r)})(e.timelineChangeController_)){if((e=>{const t=e.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=e.timelineChangeController_.pendingTimelineChange({type:"main"});return t&&n&&t.to<n.to})(e))return void e.timelineChangeController_.trigger("audioTimelineBehind");e.timelineChangeController_.trigger("fixBadTimelineChange")}},Xte=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+U7,Qte=(e,t)=>{if("hls"!==t)return null;const n=(e=>{let t=0;return["video","audio"].forEach((function(n){const i=e[`${n}TimingInfo`];if(!i)return;const{start:r,end:o}=i;let s;"bigint"==typeof r||"bigint"==typeof o?s=qJ.BigInt(o)-qJ.BigInt(r):"number"==typeof r&&"number"==typeof o&&(s=o-r),void 0!==s&&s>t&&(t=s)})),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;const i=e.playlist.targetDuration,r=Xte({segmentDuration:n,maxDuration:2*i}),o=Xte({segmentDuration:n,maxDuration:i}),s=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${n} when the reported duration is ${e.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||o?{severity:r?"warn":"info",message:s}:null},Jte=({type:e,segment:t})=>{if(!t)return;const n=Boolean(t.key||t.map&&t.map.ke),i=Boolean(t.map&&!t.map.bytes),r=void 0===t.startOfSegment?t.start:t.startOfSegment;return{type:e||t.type,uri:t.resolvedUri||t.uri,start:r,duration:t.duration,isEncrypted:n,isMediaInitialization:i}};class Zte extends I7.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",(()=>{this.isEndOfStream_()||(this.ended_=!1)})),this.fetchAtBuffer_=!1,this.logger_=R7(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",(()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Kte(this)})),this.sourceUpdater_.on("codecschange",(e=>{this.trigger(MT({type:"codecschange"},e))})),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",(()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Kte(this)})),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",(e=>{this.trigger(MT({type:"timelinechange"},e)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Kte(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Kte(this)}))}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return cte({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&qJ.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if("WAITING"!==this.state)return this.pendingSegment_&&(this.pendingSegment_=null),void this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,qJ.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&lte(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return M7();if("main"===this.loaderType_){const{hasAudio:t,hasVideo:n,isMuxed:i}=e;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const n=Ree(e);let i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,t=!1){if(!e)return null;const n=jee(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;if(this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_(`playlist update [${r} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:\ncurrentTime: ${this.currentTime_()}\nbufferedEnd: ${H7(this.buffered_())}\n`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){if(null!==this.mediaIndex){!e.endList&&"number"==typeof e.partTargetDuration?this.resetLoader():this.resyncLoader()}return this.currentMediaInfo_=void 0,void this.trigger("playlistupdate")}const o=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${o}]`),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(qJ.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&lte(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;"hls"===this.sourceType_&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,n=()=>{},i=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let r=1;const o=()=>{r--,0===r&&n()};!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,o)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,n,i)=>{const r=Math.ceil((t-i)*p5),o=Math.ceil((n-i)*p5),s=e.slice();let a=e.length;for(;a--&&!(e[a].pts<=o););if(-1===a)return s;let l=a+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),s.splice(l,a-l+1),s})(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,o));for(const s in this.inbandTextTracks_)Vte(e,t,this.inbandTextTracks_[s]);Vte(e,t,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&qJ.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=qJ.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&qJ.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=qJ.setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:Jte({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),"number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,n=this.partIndex){if(!t||!this.mediaSource_)return!1;const i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,o=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&o}chooseNextRequest_(){const e=this.buffered_(),t=H7(e)||0,n=W7(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,n){t=t||[];const i=[];let r=0;for(let o=0;o<t.length;o++){const s=t[o];if(e===s.timeline&&(i.push(o),r+=s.duration,r>n))return o}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,o,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${s.mediaIndex}`);else if(null!==this.mediaIndex){const e=o[this.mediaIndex],n="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=e.end?e.end:t,e.parts&&e.parts[n+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=n+1):s.mediaIndex=this.mediaIndex+1}else{let e,n,i;const r=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ${r}.\nCurrentTime: ${this.currentTime_()}\nBufferedEnd: ${t}\nFetch At Buffer: ${this.fetchAtBuffer_}\n`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const t=this.getSyncInfoFromMediaSequenceSync_(r);if(!t){const e="No sync info found while using media sequence sync";return this.error({message:e,metadata:{errorType:I7.Error.StreamingFailedToSelectNextSegment,error:new Error(e)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${t.start} --\x3e ${t.end})`),e=t.segmentIndex,n=t.partIndex,i=t.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const t=dee.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:r,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});e=t.segmentIndex,n=t.partIndex,i=t.startTime}s.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${r}`:`currentTime ${r}`,s.mediaIndex=e,s.startOfSegment=i,s.partIndex=n,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${s.mediaIndex} `)}const a=o[s.mediaIndex];let l=a&&"number"==typeof s.partIndex&&a.parts&&a.parts[s.partIndex];if(!a||"number"==typeof s.partIndex&&!l)return null;"number"!=typeof s.partIndex&&a.parts&&(s.partIndex=0,l=a.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&l&&!c&&!l.independent)if(0===s.partIndex){const e=o[s.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(s.mediaIndex-=1,s.partIndex=e.parts.length-1,s.independent="previous segment")}else a.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");const d=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=o.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,s.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(s))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:t,playlist:n,mediaIndex:i,startOfSegment:r,isSyncRequest:o,partIndex:s,forceTimestampOffset:a,getMediaInfoForTime:l}=e,c=n.segments[i],d="number"==typeof s&&c.parts[s],u={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:d?s:null,isSyncRequest:o,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},h=void 0!==a?a:this.isPendingTimestampOffset_;u.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:h});const p=H7(this.sourceUpdater_.audioBuffered());return"number"==typeof p&&(u.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(u.gopsToAlignWith=((e,t,n)=>{if(null==t||!e.length)return[];const i=Math.ceil((t-n+3)*p5);let r;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),u}timestampOffsetForSegment_(e){return(({segmentTimeline:e,currentTimeline:t,startOfSegment:n,buffered:i,overrideCheck:r})=>r||e!==t?e<t?n:i.length?i.end(i.length-1):n:null)(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=dee.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=function(e,t,n=1){return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(r<=o)return;const s=function(e){const{main:t,currentTime:n,bandwidth:i,duration:r,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=e,c=t.playlists.filter((e=>!dee.isIncompatible(e)));let d=c.filter(dee.isEnabled);d.length||(d=c.filter((e=>!dee.isDisabled(e))));const u=d.filter(dee.hasAttribute.bind(null,"BANDWIDTH")).map((e=>{const t=l.getSyncPoint(e,r,a,n)?1:2;return{playlist:e,rebufferingImpact:dee.estimateSegmentRequestTime(o,i,e)*t-s}})),h=u.filter((e=>e.rebufferingImpact<=0));return Lte(h,((e,t)=>Rte(t.playlist,e.playlist))),h.length?h[0]:(Lte(u,((e,t)=>e.rebufferingImpact-t.rebufferingImpact)),u[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!s)return;const a=r-o-s.rebufferingImpact;let l=.5;o<=U7&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||a<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*Xee.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Wte(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:n,hasVideo:i}=t,r={segmentInfo:Jte({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!==i[r])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Kte(this)))}handleTimingInfo_(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,o=Gte(t);r[o]=r[o]||{},r[o][n]=i,this.logger_(`timinginfo: ${t} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Kte(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));const n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((e=>{i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};const t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+n),t.endTime=Math.max(t.endTime,e.endTime+n),t.captions.push(e)})),Object.keys(i).forEach((e=>{const{startTime:t,endTime:r,captions:o}=i[e],s=this.inbandTextTracks_;this.logger_(`adding cues from ${t} -> ${r} for ${e}`),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{let r=n,o=n,s=!1;const a=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];a&&(r=a.label,o=a.language,s=a.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:s,label:r,language:o},!1).track}}}(s,this.vhs_.tech_,e),Vte(t,r,s[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:n}){if(!t)return;const i=qJ.WebKitDataCue||qJ.VTTCue;t.forEach((t=>{const r=t.stream;t.content?t.content.forEach((o=>{const s=new i(t.startTime+n,t.endTime+n,o.text);s.line=o.line,s.align="left",s.position=o.position,s.positionAlign="line-left",e[r].addCue(s)})):e[r].addCue(new i(t.startTime+n,t.endTime+n,t.text))}))}({captionArray:o,inbandTextTracks:s,timestampOffset:n})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(n,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))}processMetadataQueue_(){this.metadataQueue_.id3.forEach((e=>e())),this.metadataQueue_.caption.forEach((e=>e())),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach((e=>e()))}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach((e=>e()))}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!Yte({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:n,hasVideo:i,isMuxed:r}=t;return!(i&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo)&&!Yte({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return Kte(this),void this.callQueue_.push(this.handleData_.bind(this,e,t));const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Gte(t.type)].start;else{const e=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&e&&e.hasVideo;let i;t&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});const e=this.chooseNextRequest_();if(e.mediaIndex!==n.mediaIndex||e.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:n,playlist:i}){if(n){const e=Ree(n);if(this.activeInitSegmentId_===e)return null;t=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=e}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n},i){const r=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+q7(r).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+q7(o).join(", "));const s=r.length?r.start(0):0,a=r.length?r.end(r.length-1):0,l=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(a-s<=1&&c-l<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${q7(r).join(", ")}, video buffer: ${q7(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:n}));const d=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${d}`),this.remove(0,d,(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=qJ.setTimeout((()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()}),1e3)}),!0)}handleAppendError_({segmentInfo:e,type:t,bytes:n},i){i&&(22!==i.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${t} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:I7.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:n,data:i,bytes:r}){if(!r){const e=[i];let t=i.byteLength;n&&(e.unshift(n),t+=n.byteLength),r=(e=>{let t,n=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach((e=>{t.set(e,n),n+=e.byteLength}))),t})({bytes:t,segments:e})}const o={segmentInfo:Jte({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:r}))}handleSegmentTimingInfo_(e,t,n){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,r=`${e}TimingInfo`;i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,t){const{type:n,data:i}=t;if(!i||!i.byteLength)return;if("audio"===n&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_())return Kte(this),void this.loadQueue_.push((()=>{const t=MT({},e,{forceTimestampOffset:!0});MT(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)}));this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,r=e.timeline!==this.currentTimeline_&&e.timeline>0,o=n||i&&r;this.logger_(`Requesting\n${Ute(e.uri)}\n${Wte(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Ste({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:t,level:n,stream:i})=>{this.logger_(`${Wte(e)} logged from transmuxer stream ${i} as a ${n}: ${t}`)},triggerSegmentEventFn:({type:e,segment:t,keyInfo:n,trackInfo:i,timingInfo:r})=>{const o={segmentInfo:Jte({segment:t})};n&&(o.keyInfo=n),i&&(o.trackInfo=i),r&&(o.timingInfo=r),this.trigger({type:e,metadata:o})}})}trimBackBuffer_(e){const t=((e,t,n)=>{let i=t-Xee.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));const r=t-n;return Math.min(r,i)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,o={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:r},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===t.timeline&&(s.videoTimingInfo?o.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(o.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),t.key){const n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(t.key),o.key.iv=n}return t.map&&(o.map=this.initSegmentForMap(t.map)),o}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<Hte)return void this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record 0.016666666666666666`);const n={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,n){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===pte)return;return this.pause(),e.code===hte?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=((e,t,n)=>{if(!t.length)return e;if(n)return t.slice();const i=t[0].pts;let r=0;for(;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:r,useVideoTimingInfo:o,videoTimingInfo:s,audioTimingInfo:a}){if(void 0!==e)return e;if(!o)return a.start;const l=t.segments[n-1];return 0!==n&&l&&void 0!==l.start&&l.end===i+r?s.start:i}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:n,hasVideo:i,isMuxed:r}=t,o="main"===this.loaderType_&&i,s=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,s&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=((e,t,n)=>"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const e={segmentInfo:Jte({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:e})}if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});const t=Qte(e,this.sourceType_);if(t&&("warn"===t.severity?I7.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${Wte(e)}`);this.logger_(`Appended ${Wte(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,r=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,o=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(r||o)return this.logger_(`bad ${r?"segment":"part"} ${Wte(e)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Hte)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,n=t.start,i=t.end;if(!qte(n)||!qte(i))return;Vte(n,i,this.segmentMetadataTrack_);const r=qJ.WebKitDataCue||qJ.VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},s=new r(n,i,JSON.stringify(o));s.value=o,this.segmentMetadataTrack_.addCue(s)}}function ene(){}const tne=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},nne=["video","audio"],ine=(e,t)=>{const n=t[`${e}Buffer`];return n&&n.updating||t.queuePending[e]},rne=(e,t)=>{if(0===t.queue.length)return;let n=0,i=t.queue[n];if("mediaSource"!==i.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!ine(e,t)){if(i.type!==e){if(n=((e,t)=>{for(let n=0;n<t.length;n++){const i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null})(e,t.queue),null===n)return;i=t.queue[n]}return t.queue.splice(n,1),t.queuePending[e]=i,i.action(e,t),i.doneFn?void 0:(t.queuePending[e]=null,void rne(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),rne("audio",t),rne("video",t))},one=(e,t)=>{const n=t[`${e}Buffer`],i=tne(e);n&&(n.removeEventListener("updateend",t[`on${i}UpdateEnd_`]),n.removeEventListener("error",t[`on${i}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},sne=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),ane=(e,t,n)=>(i,r)=>{const o=r[`${i}Buffer`];if(sne(r.mediaSource,o)){r.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${i}Buffer`);try{o.appendBuffer(e)}catch(HS){r.logger_(`Error with code ${HS.code} `+(22===HS.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(HS)}}},lne=(e,t)=>(n,i)=>{const r=i[`${n}Buffer`];if(sne(i.mediaSource,r)){i.logger_(`Removing ${e} to ${t} from ${n}Buffer`);try{r.remove(e,t)}catch(HS){i.logger_(`Remove ${e} to ${t} from ${n}Buffer failed`)}}},cne=e=>(t,n)=>{const i=n[`${t}Buffer`];sne(n.mediaSource,i)&&(n.logger_(`Setting ${t}timestampOffset to ${e}`),i.timestampOffset=e)},dne=e=>(t,n)=>{e()},une=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(HS){I7.log.warn("Failed to call media source endOfStream",HS)}}},hne=e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(HS){I7.log.warn("Failed to set media source duration",HS)}},pne=()=>(e,t)=>{if("open"!==t.mediaSource.readyState)return;const n=t[`${e}Buffer`];if(sne(t.mediaSource,n)){t.logger_(`calling abort on ${e}Buffer`);try{n.abort()}catch(HS){I7.log.warn(`Failed to abort on ${e}Buffer`,HS)}}},mne=(e,t)=>n=>{const i=tne(e),r=x0(t);n.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n[`on${i}UpdateEnd_`]),o.addEventListener("error",n[`on${i}Error_`]),n.codecs[e]=t,n[`${e}Buffer`]=o},fne=e=>t=>{const n=t[`${e}Buffer`];if(one(e,t),sne(t.mediaSource,n)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(n)}catch(HS){I7.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,HS)}}},gne=e=>(t,n)=>{const i=n[`${t}Buffer`],r=x0(e);if(!sne(n.mediaSource,i))return;const o=e.substring(0,e.indexOf(".")),s=n.codecs[t];if(s.substring(0,s.indexOf("."))===o)return;const a={codecsChangeInfo:{from:s,to:e}};n.trigger({type:"codecschange",metadata:a}),n.logger_(`changing ${t}Buffer codec from ${s} to ${e}`);try{i.changeType(r),n.codecs[t]=e}catch(HS){a.errorType=I7.Error.StreamingCodecsChangeError,a.error=HS,HS.metadata=a,n.error_=HS,n.trigger("error"),I7.log.warn(`Failed to changeType on ${t}Buffer`,HS)}},bne=({type:e,sourceUpdater:t,action:n,doneFn:i,name:r})=>{t.queue.push({type:e,action:n,doneFn:i,name:r}),rne(e,t)},vne=(e,t)=>n=>{const i=function(e){if(0===e.length)return"Buffered Ranges are empty";let t="Buffered Ranges: \n";for(let n=0;n<e.length;n++){const i=e.start(n),r=e.end(n);t+=`${i} --\x3e ${r}. Duration (${r-i})\n`}return t}(t[`${e}Buffered`]());if(t.logger_(`received "updateend" event for ${e} Source Buffer: `,i),t.queuePending[e]){const n=t.queuePending[e].doneFn;t.queuePending[e]=null,n&&n(t[`${e}Error_`])}rne(e,t)};class yne extends I7.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>rne("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=R7("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=vne("video",this),this.onAudioUpdateEnd_=vne("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){bne({type:"mediaSource",sourceUpdater:this,action:mne(e,t),name:"addSourceBuffer"})}abort(e){bne({type:e,sourceUpdater:this,action:pne(e),name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?bne({type:"mediaSource",sourceUpdater:this,action:fne(e),name:"removeSourceBuffer"}):I7.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!I7.browser.IS_FIREFOX&&qJ.MediaSource&&qJ.MediaSource.prototype&&"function"==typeof qJ.MediaSource.prototype.removeSourceBuffer}static canChangeType(){return qJ.SourceBuffer&&qJ.SourceBuffer.prototype&&"function"==typeof qJ.SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?bne({type:e,sourceUpdater:this,action:gne(t),name:"changeType"}):I7.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((t=>{const n=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,n);this.canChangeType()&&this.changeType(t,n)}))}appendBuffer(e,t){const{segmentInfo:n,type:i,bytes:r}=e;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(`delayed audio append of ${r.length} until video append`);if(bne({type:i,sourceUpdater:this,action:ane(r,n||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const e=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${e.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,e.forEach((e=>{this.appendBuffer.apply(this,e)}))}}audioBuffered(){return sne(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:M7()}videoBuffered(){return sne(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:M7()}buffered(){const e=sne(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=sne(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let n=null,i=null,r=0;const o=[],s=[];if(!(e&&e.length&&t&&t.length))return M7();let a=e.length;for(;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(a=t.length;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),a=0;a<o.length;a++)"start"===o[a].type?(r++,2===r&&(n=o[a].time)):"end"===o[a].type&&(r--,1===r&&(i=o[a].time)),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return M7(s)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=ene){bne({type:"mediaSource",sourceUpdater:this,action:hne(e),name:"duration",doneFn:t})}endOfStream(e=null,t=ene){"string"!=typeof e&&(e=void 0),bne({type:"mediaSource",sourceUpdater:this,action:une(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,n=ene){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?bne({type:"audio",sourceUpdater:this,action:lne(e,t),doneFn:n,name:"remove"}):n()}removeVideo(e,t,n=ene){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?bne({type:"video",sourceUpdater:this,action:lne(e,t),doneFn:n,name:"remove"}):n()}updating(){return!(!ine("audio",this)&&!ine("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(bne({type:"audio",sourceUpdater:this,action:cne(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(bne({type:"video",sourceUpdater:this,action:cne(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&bne({type:"audio",sourceUpdater:this,action:dne(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&bne({type:"video",sourceUpdater:this,action:dne(e),name:"callback"})}dispose(){this.trigger("dispose"),nne.forEach((e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`]((()=>one(e,this)))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const wne=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),_ne=new Uint8Array("\n\n".split("").map((e=>e.charCodeAt(0))));class xne extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class kne extends Zte{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return M7();const e=this.subtitlesTrack_.cues;return M7([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e,t=!1){if(!e)return null;const n=Ree(e);let i=this.initSegments_[n];if(t&&!i&&e.bytes){const t=_ne.byteLength+e.bytes.byteLength,r=new Uint8Array(t);r.set(e.bytes),r.set(_ne,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:r}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){Vte(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){const e=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};return this.syncController_.one("timestampoffset",e),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,n){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===hte&&this.handleTimeout_(),e.code===pte?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const i=this.pendingSegment_,r=n.mp4VttCues&&n.mp4VttCues.length;r&&(i.mp4VttCues=n.mp4VttCues),this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const o=i.segment;if(o.map&&(o.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof qJ.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((()=>this.segmentRequestFinished_(e,t,n)),(()=>this.stopForError({message:"Error loading vtt.js"})));o.requested=!0;try{this.parseVTTCues_(i)}catch(HS){return void this.stopForError({message:HS.message,metadata:{errorType:I7.Error.StreamingVttParserError,error:HS}})}if(r||this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach((e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new qJ.VTTCue(e.startTime,e.endTime,e.text):e)})),function(e){const t=e.cues;if(!t)return;const n={};for(let i=t.length-1;i>=0;i--){const r=t[i],o=`${r.startTime}-${r.endTime}-${r.text}`;n[o]?e.removeCue(r):n[o]=r}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,t){const n=e&&"vtt"===e.type,i=t&&"text"===t.type;n&&i&&super.handleData_(e,t)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const t=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach((n=>{const i=n.start+t,r=n.end+t,o=new qJ.VTTCue(i,r,n.cueText);n.settings&&n.settings.split(" ").forEach((e=>{const t=e.split(":"),n=t[0],i=t[1];o[n]=isNaN(i)?i:Number(i)})),e.cues.push(o)}))}parseVTTCues_(e){let t,n=!1;if("function"!=typeof qJ.WebVTT)throw new xne;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues)return void this.parseMp4VttCues_(e);"function"==typeof qJ.TextDecoder?t=new qJ.TextDecoder("utf8"):(t=qJ.WebVTT.StringDecoder(),n=!0);const i=new qJ.WebVTT.Parser(qJ,qJ.vttjs,t);if(i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=t=>{e.timestampmap=t},i.onparsingerror=e=>{I7.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;n&&(t=wne(t)),i.parse(t)}let r=e.bytes;n&&(r=wne(r)),i.parse(r),i.flush()}updateTimeMapping_(e,t,n){const i=e.segment;if(!t)return;if(!e.cues.length)return void(i.empty=!0);const{MPEGTS:r,LOCAL:o}=e.timestampmap,s=r/p5-o+t.mapping;if(e.cues.forEach((e=>{const n=e.endTime-e.startTime,i=this.handleRollover_(e.startTime+s,t.time);e.startTime=Math.max(i,0),e.endTime=Math.max(i+n,0)})),!n.syncInfo){const t=e.cues[0].startTime,r=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(t,r-i.duration)}}}handleRollover_(e,t){if(null===t)return e;let n=e*p5;const i=t*p5;let r;for(r=i<n?-8589934592:8589934592;Math.abs(n-i)>4294967296;)n+=r;return n/p5}}const Tne=function(e,t){const n=e.cues;for(let i=0;i<n.length;i++){const e=n[i];if(t>=e.adStartTime&&t<=e.adEndTime)return e}return null};class Sne{constructor({start:e,end:t,segmentIndex:n,partIndex:i=null,appended:r=!1}){this.start_=e,this.end_=t,this.segmentIndex_=n,this.partIndex_=i,this.appended_=r}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Ene{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach((e=>e.resetAppendedStatus()))}}class Cne{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach((e=>e.resetAppendStatus()))}update(e,t){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,i,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,n){const i=new Map;let r="\n",o=n,s=t;this.start_=o,e.forEach(((e,t)=>{const n=this.storage_.get(s),a=o,l=a+e.duration,c=Boolean(n&&n.segmentSyncInfo&&n.segmentSyncInfo.isAppended),d=new Sne({start:a,end:l,appended:c,segmentIndex:t});e.syncInfo=d;let u=o;const h=(e.parts||[]).map(((e,i)=>{const o=u,a=u+e.duration,l=Boolean(n&&n.partsSyncInfo&&n.partsSyncInfo[i]&&n.partsSyncInfo[i].isAppended),c=new Sne({start:o,end:a,appended:l,segmentIndex:t,partIndex:i});return u=a,r+=`Media Sequence: ${s}.${i} | Range: ${o} --\x3e ${a} | Appended: ${l}\n`,e.syncInfo=c,c}));i.set(s,new Ene(d,h)),r+=`${Ute(e.resolvedUri)} | Media Sequence: ${s} | Range: ${a} --\x3e ${l} | Appended: ${c}\n`,s++,o=l})),this.end_=o,this.storage_=i,this.diagnostics_=r}calculateBaseTime_(e,t,n){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const i=Math.min(...this.storage_.keys());if(e<i){const n=i-e;let r=this.storage_.get(i).segmentSyncInfo.start;for(let e=0;e<n;e++){r-=t[e].duration}return r}return n}isReliablePlaylist_(e,t){return null!=e&&Array.isArray(t)&&t.length}}class Ine extends Cne{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t,n){if(!this.storage_.size){const t=this.parent_.getSyncInfoForMediaSequence(e);return t?t.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t,n)}}const Ane=[{name:"VOD",run:(e,t,n,i,r)=>{if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"MediaSequence",run:(e,t,n,i,r,o)=>{const s=e.getMediaSequenceSync(o);if(!s)return null;if(!s.isReliable)return null;const a=s.getSyncInfoForTime(r);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,n,i,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let o=null,s=null;const a=Y7(t);r=r||0;for(let l=0;l<a.length;l++){const n=a[t.endList||0===r?l:a.length-(l+1)],i=n.segment,c=e.timelineToDatetimeMappings[i.timeline];if(!c||!i.dateTimeObject)continue;let d=i.dateTimeObject.getTime()/1e3+c;if(i.parts&&"number"==typeof n.partIndex)for(let e=0;e<n.partIndex;e++)d+=i.parts[e].duration;const u=Math.abs(r-d);if(null!==s&&(0===u||s<u))break;s=u,o={time:d,segmentIndex:n.segmentIndex,partIndex:n.partIndex}}return o}},{name:"Segment",run:(e,t,n,i,r)=>{let o=null,s=null;r=r||0;const a=Y7(t);for(let l=0;l<a.length;l++){const e=a[t.endList||0===r?l:a.length-(l+1)],n=e.segment,c=e.part&&e.part.start||n&&n.start;if(n.timeline===i&&void 0!==c){const t=Math.abs(r-c);if(null!==s&&s<t)break;(!o||null===s||s>=t)&&(s=t,o={time:c,segmentIndex:e.segmentIndex,partIndex:e.partIndex})}}return o}},{name:"Discontinuity",run:(e,t,n,i,r)=>{let o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let n=null;for(let i=0;i<t.discontinuityStarts.length;i++){const s=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,l=e.discontinuities[a];if(l){const e=Math.abs(r-l.time);if(null!==n&&n<e)break;(!o||null===n||n>=e)&&(n=e,o={time:l.time,segmentIndex:s,partIndex:null})}}}return o}},{name:"Playlist",run:(e,t,n,i,r)=>{if(t.syncInfo){return{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}}return null}}];class Pne extends I7.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new Cne,n=new Ine(t),i=new Ine(t);this.mediaSequenceStorage_={main:t,audio:n,vtt:i},this.logger_=R7("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,n,i,r){if(t!==1/0){const n=Ane.find((({name:e})=>"VOD"===e));return n.run(this,e,t)}const o=this.runStrategies_(e,t,n,i,r);if(!o.length)return null;for(const s of o){const{syncPoint:t,strategy:n}=s,{segmentIndex:r,time:o}=t;if(r<0)continue;const a=o,l=a+e.segments[r].duration;if(this.logger_(`Strategy: ${n}. Current time: ${i}. selected segment: ${r}. Time: [${a} -> ${l}]}`),i>=a&&i<l)return this.logger_("Found sync point with exact match: ",t),t}return this.selectSyncPoint_(o,{key:"time",value:i})}getExpiredTime(e,t){if(!e||!e.segments)return null;const n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+eee({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,t,n,i,r){const o=[];for(let s=0;s<Ane.length;s++){const a=Ane[s],l=a.run(this,e,t,n,i,r);l&&(l.strategy=a.name,o.push({strategy:a.name,syncPoint:l}))}return o}selectSyncPoint_(e,t){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy;for(let o=1;o<e.length;o++){const s=Math.abs(e[o].syncPoint[t.key]-t.value);s<i&&(i=s,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${r}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+("number"==typeof n.partIndex?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,t){const n=t.mediaSequence-e.mediaSequence;if(n>86400)I7.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);else for(let i=n-1;i>=0;i--){const n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const r=i.dateTimeObject;i.discontinuity&&t&&r&&(this.timelineToDatetimeMappings[i.timeline]=-r.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,n){const i=e.segment,r=e.part;let o,s,a=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,s=t.end+a.mapping;else{if(!a)return!1;o=t.start+a.mapping,s=t.end+a.mapping}return r&&(r.start=o,r.end=s),(!i.start||o<i.start)&&(i.start=o),i.end=s,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let i=0;i<t.discontinuityStarts.length;i++){const r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,s=r-e.mediaIndex,a=Math.abs(s);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>a){let i;i=s<0?n.start-eee({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+eee({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[o]={time:i,accuracy:a}}}}dispose(){this.trigger("dispose"),this.off()}}class Dne extends I7.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:n}){return"number"==typeof t&&"number"==typeof n&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:n}){if("number"==typeof t&&"number"==typeof n){this.lastTimelineChanges_[e]={type:e,from:t,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:t,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const One=Zee(ete((function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */let t=null;class n{constructor(e){let n,i,r;t||(t=function(){const e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4];let o,s,a;const l=[],c=[];let d,u,h,p,m,f;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(s=a=0;!i[s];s^=d||1,a=c[a]||1)for(p=a^a<<1^a<<2^a<<3^a<<4,p=p>>8^255&p^99,i[s]=p,r[p]=s,h=l[u=l[d=l[s]]],f=16843009*h^65537*u^257*d^16843008*s,m=257*l[p]^16843008*p,o=0;o<4;o++)t[o][s]=m=m<<24^m>>>8,n[o][p]=f=f<<24^f>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e}()),this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];const o=this._tables[0][4],s=this._tables[1],a=e.length;let l=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");const c=e.slice(0),d=[];for(this._key=[c,d],n=a;n<4*a+28;n++)r=c[n-1],(n%a==0||8===a&&n%a==4)&&(r=o[r>>>24]<<24^o[r>>16&255]<<16^o[r>>8&255]<<8^o[255&r],n%a==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),c[n]=c[n-a]^r;for(i=0;n;i++,n--)r=c[3&i?n:n-4],d[i]=n<=4||i<4?r:s[0][o[r>>>24]]^s[1][o[r>>16&255]]^s[2][o[r>>8&255]]^s[3][o[255&r]]}decrypt(e,t,n,i,r,o){const s=this._key[1];let a,l,c,d=e^s[0],u=i^s[1],h=n^s[2],p=t^s[3];const m=s.length/4-2;let f,g=4;const b=this._tables[1],v=b[0],y=b[1],w=b[2],_=b[3],x=b[4];for(f=0;f<m;f++)a=v[d>>>24]^y[u>>16&255]^w[h>>8&255]^_[255&p]^s[g],l=v[u>>>24]^y[h>>16&255]^w[p>>8&255]^_[255&d]^s[g+1],c=v[h>>>24]^y[p>>16&255]^w[d>>8&255]^_[255&u]^s[g+2],p=v[p>>>24]^y[d>>16&255]^w[u>>8&255]^_[255&h]^s[g+3],g+=4,d=a,u=l,h=c;for(f=0;f<4;f++)r[(3&-f)+o]=x[d>>>24]<<24^x[u>>16&255]<<16^x[h>>8&255]<<8^x[255&p]^s[g++],a=d,d=u,u=h,h=p,p=a}}class i extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const r=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};class o{constructor(e,t,n,s){const a=o.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength);let d=0;for(this.asyncStream_=new i,this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),t,n,c)),d=a;d<l.length;d+=a)n=new Uint32Array([r(l[d-4]),r(l[d-3]),r(l[d-2]),r(l[d-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),t,n,c));this.asyncStream_.push((function(){var e;/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */s(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))}))}static get STEP(){return 32e3}decryptChunk_(e,t,i,o){return function(){const s=function(e,t,i){const o=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),s=new n(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer);let c,d,u,h,p,m,f,g,b;for(c=i[0],d=i[1],u=i[2],h=i[3],b=0;b<o.length;b+=4)p=r(o[b]),m=r(o[b+1]),f=r(o[b+2]),g=r(o[b+3]),s.decrypt(p,m,f,g,l,b),l[b]=r(l[b]^c),l[b+1]=r(l[b+1]^d),l[b+2]=r(l[b+2]^u),l[b+3]=r(l[b+3]^h),c=p,d=m,u=f,h=g;return a}(e,t,i);o.set(s,e.byteOffset)}}}var s,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};s="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{};var l=s.BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();const c=function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];var r;r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t};self.onmessage=function(e){const t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new o(n,i,r,(function(e,n){self.postMessage(c({source:t.source,decrypted:n}),[n.buffer])}))}})));var Nne=Jee(One);const Lne=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Rne=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},jne=(e,t)=>{t.activePlaylistLoader=e,e.load()},Mne={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:n},excludePlaylist:i}=t,r=n.activeTrack(),o=n.activeGroup(),s=(o.filter((e=>e.default))[0]||o[0]).id,a=n.tracks[s];if(r!==a){I7.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const e in n.tracks)n.tracks[e].enabled=n.tracks[e]===a;n.onTrackChanged()}else i({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:n}}=t;I7.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},Une={AUDIO:(e,t,n)=>{if(!t)return;const{tech:i,requestOptions:r,segmentLoaders:{[e]:o}}=n;t.on("loadedmetadata",(()=>{const e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(()=>{o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",Mne[e](e,n))},SUBTITLES:(e,t,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[e]:o},mediaTypes:{[e]:s}}=n;t.on("loadedmetadata",(()=>{const e=t.media();o.playlist(e,r),o.track(s.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(()=>{o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",Mne[e](e,n))}},Bne={AUDIO:(e,t)=>{const{vhs:n,sourceType:i,segmentLoaders:{[e]:r},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[e]:{groups:a,tracks:l,logger_:c}},mainPlaylistLoader:d}=t,u=cee(d.main);s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},u&&(s[e].main.default.playlists=d.main.playlists));for(const h in s[e]){a[h]||(a[h]=[]);for(const r in s[e][h]){let p,m=s[e][h][r];if(u?(c(`AUDIO group '${h}' label '${r}' is a main playlist`),m.isMainPlaylist=!0,p=null):p="vhs-json"===i&&m.playlists?new Cee(m.playlists[0],n,o):m.resolvedUri?new Cee(m.resolvedUri,n,o):m.playlists&&"dash"===i?new Kee(m.playlists[0],n,o,d):null,m=j7({id:r,playlistLoader:p},m),Une[e](e,m.playlistLoader,t),a[h].push(m),void 0===l[r]){const e=new I7.AudioTrack({id:r,kind:Lne(m),enabled:!1,language:m.language,default:m.default,label:r});l[r]=e}}}r.on("error",Mne[e](e,t))},SUBTITLES:(e,t)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[e]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[e]:{groups:l,tracks:c}},mainPlaylistLoader:d}=t;for(const u in a[e]){l[u]||(l[u]=[]);for(const o in a[e][u]){if(!i.options_.useForcedSubtitles&&a[e][u][o].forced)continue;let h,p=a[e][u][o];if("hls"===r)h=new Cee(p.resolvedUri,i,s);else if("dash"===r){const e=p.playlists.filter((e=>e.excludeUntil!==1/0));if(!e.length)return;h=new Kee(p.playlists[0],i,s,d)}else"vhs-json"===r&&(h=new Cee(p.playlists?p.playlists[0]:p.resolvedUri,i,s));if(p=j7({id:o,playlistLoader:h},p),Une[e](e,p.playlistLoader,t),l[u].push(p),void 0===c[o]){const e=n.addRemoteTextTrack({id:o,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:o},!1).track;c[o]=e}}}o.on("error",Mne[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[e]:{groups:r,tracks:o}}}=t;for(const s in i[e]){r[s]||(r[s]=[]);for(const t in i[e][s]){const a=i[e][s][t];if(!/^(?:CC|SERVICE)/.test(a.instreamId))continue;const l=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:t,language:a.language,instreamId:a.instreamId,default:a.default&&a.autoselect};if(l[c.instreamId]&&(c=j7(c,l[c.instreamId])),void 0===c.default&&delete c.default,r[s].push(j7({id:t},a)),void 0===o[t]){const e=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;o[t]=e}}}}},Fne=(e,t)=>{for(let n=0;n<e.length;n++){if(aee(t,e[n]))return!0;if(e[n].playlists&&Fne(e[n].playlists,t))return!0}return!1},zne={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if(n[e].enabled)return n[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if("showing"===n[e].mode||"hidden"===n[e].mode)return n[e];return null}},$ne=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{Bne[t](t,e)}));const{mediaTypes:t,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{AUDIO:o,main:s}}=e;["AUDIO","SUBTITLES"].forEach((n=>{t[n].activeGroup=((e,t)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[e]:{groups:r}}}=t,o=i.media();if(!o)return null;let s=null;o.attributes[e]&&(s=r[o.attributes[e]]);const a=Object.keys(r);if(!s)if("AUDIO"===e&&a.length>1&&cee(t.main))for(let e=0;e<a.length;e++){const t=r[a[e]];if(Fne(t,o)){s=t;break}}else r.main?s=r.main:1===a.length&&(s=r[a[0]]);return void 0===n?s:null!==n&&s&&s.filter((e=>e.id===n.id))[0]||null})(n,e),t[n].activeTrack=zne[n](n,e),t[n].onGroupChanged=((e,t)=>()=>{const{segmentLoaders:{[e]:n,main:i},mediaTypes:{[e]:r}}=t,o=r.activeTrack(),s=r.getActiveGroup(),a=r.activePlaylistLoader,l=r.lastGroup_;s&&l&&s.id===l.id||(r.lastGroup_=s,r.lastTrack_=o,Rne(n,r),s&&!s.isMainPlaylist&&(s.playlistLoader?(n.resyncLoader(),jne(s.playlistLoader,r)):a&&i.resetEverything()))})(n,e),t[n].onGroupChanging=((e,t)=>()=>{const{segmentLoaders:{[e]:n},mediaTypes:{[e]:i}}=t;i.lastGroup_=null,n.abort(),n.pause()})(n,e),t[n].onTrackChanged=((e,t)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[e]:i,main:r},mediaTypes:{[e]:o}}=t,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,c=o.lastTrack_;if((!c||!s||c.id!==s.id)&&(o.lastGroup_=a,o.lastTrack_=s,Rne(i,o),a)){if(a.isMainPlaylist){if(!s||!c||s.id===c.id)return;const e=t.vhs.playlistController_,i=e.selectPlaylist();if(e.media()===i)return;return o.logger_(`track change. Switching main audio from ${c.id} to ${s.id}`),n.pause(),r.resetEverything(),void e.fastQualityChange_(i)}if("AUDIO"===e){if(!a.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}l!==a.playlistLoader?(i.track&&i.track(s),i.resetEverything(),jne(a.playlistLoader,o)):jne(a.playlistLoader,o)}})(n,e),t[n].getActiveGroup=((e,{mediaTypes:t})=>()=>{const n=t[e].activeTrack();return n?t[e].activeGroup(n):null})(n,e)}));const a=t.AUDIO.activeGroup();if(a){const e=(a.filter((e=>e.default))[0]||a[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged();t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanged()))})),n.on("mediachanging",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanging()))}));const l=()=>{t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio");for(const c in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[c])};class Vne{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){1===e&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=N7(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map((e=>[e.ID,e]))))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class qne extends I7.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Vne,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=R7("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const n=t.serverUri||t.serverURL;if(!n)return this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),void this.trigger("error");n.startsWith("data:")?this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1)):(this.steeringManifest.reloadUri=N7(e,n),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"))}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const n=e?t:this.getRequestURI(t);if(!n)return this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),void this.dispose();const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},((e,t)=>{if(e){if(410===t.status)return this.logger_(`manifest request 410 ${e}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),void this.excludedSteeringManifestURLs.add(n);if(429===t.status){const n=t.responseHeaders["retry-after"];return this.logger_(`manifest request 429 ${e}.`),this.logger_(`content steering will retry in ${n} seconds.`),void this.startTTLTimeout_(parseInt(n,10))}return this.logger_(`manifest failed to load ${e}.`),void this.startTTLTimeout_()}let r;this.trigger({type:"contentsteeringloadcomplete",metadata:i});try{r=JSON.parse(this.request_.responseText)}catch(s){const e={errorType:I7.Error.StreamingContentSteeringParserError,error:s};this.trigger({type:"error",metadata:e})}this.assignSteeringProperties_(r);const o={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:o}),this.startTTLTimeout_()}))}setProxyServerUrl_(e){const t=new qJ.URL(e),n=new qJ.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const t=JSON.parse(qJ.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new qJ.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const e=`_${this.manifestType_}_pathway`;t.searchParams.set(e,n)}if(i){const e=`_${this.manifestType_}_throughput`;t.searchParams.set(e,i)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version)return this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),void this.trigger("error");this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const t=(e=>{for(const t of e)if(this.availablePathways_.has(t))return t;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==t&&(this.currentPathway=t,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=e=>this.excludedSteeringManifestURLs.has(e);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!t(n))return n}const n=this.setSteeringParams_(e);return t(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const t=1e3*e;this.ttlTimeout_=qJ.setTimeout((()=>{this.requestSteeringManifest()}),t)}clearTTLTimeout_(){qJ.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Vne}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(N7(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}let Hne;const Wne=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Gne=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class Yne extends I7.EventTarget{constructor(e){super(),this.fastQualityChange_=((e,t)=>{let n=null;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(null,i)}),t)}})(this.fastQualityChange_.bind(this),100);const{src:t,withCredentials:n,tech:i,bandwidth:r,externVhs:o,useCueTags:s,playlistExclusionDuration:a,enableLowInitialPlaylist:l,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:u,leastPixelDiffSelector:h,captionServices:p,experimentalUseMMS:m}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:f}=e;null==f&&(f=1/0),Hne=o,this.bufferBasedABR=Boolean(u),this.leastPixelDiffSelector=Boolean(h),this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=s,this.playlistExclusionDuration=a,this.maxPlaylistRetries=f,this.enableLowInitialPlaylist=l,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:f,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ene,activeTrack:ene,getActiveGroup:ene,onGroupChanged:ene,onTrackChanged:ene,lastTrack_:null,logger_:R7(`MediaGroups[${t}]`)}})),e})(),m&&qJ.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new qJ.ManagedMediaSource,this.usingManagedMediaSource_=!0,I7.log("Using ManagedMediaSource")):qJ.MediaSource&&(this.mediaSource=new qJ.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=M7(),this.hasPlayed_=!1,this.syncController_=new Pne(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Nne,this.sourceUpdater_=new yne(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Dne,this.keyStatusMap_=new Map;const g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new Kee(t,this.vhs_,j7(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Cee(t,this.vhs_,j7(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Zte(j7(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Zte(j7(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new kne(j7(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise(((e,t)=>{function n(){i.off("vttjserror",r),e()}function r(){i.off("vttjsloaded",n),t()}i.one("vttjsloaded",n),i.one("vttjserror",r),i.addWebVttScript_()}))}),e);this.contentSteeringController_=new qne(this.vhs_.xhr,(()=>this.mainSegmentLoader_.bandwidth)),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",(()=>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),Wne.forEach((e=>{this[e+"_"]=Gne.bind(this,e)})),this.logger_=R7("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const b="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(b,(()=>{const e=Date.now();this.tech_.one("loadeddata",(()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends}))}))}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,n){const i=this.media(),r=i&&(i.id||i.uri),o=e&&(e.id||e.uri);if(r&&r!==o){this.logger_(`switch media ${r} -> ${o} from ${t}`);const n={renditionInfo:{id:o,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:n}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{const t=this.mediaTypes_[e],n=t?t.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const t=(n.length?n[0].playlists:n.playlists).filter((e=>e.attributes.serviceLocation===i));t.length&&this.mediaTypes_[e].activePlaylistLoader.media(t[0])}}))}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=qJ.setInterval((()=>this.checkABR_()),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(qJ.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const e=n.main||i.length&&n[i[0]];for(const t in e)if(e[t].default){r={label:t};break}}if(!r)return t;const o=[];for(const s in n)if(n[s][r.label]){const t=n[s][r.label];if(t.playlists&&t.playlists.length)o.push.apply(o,t.playlists);else if(t.uri)o.push(t);else if(e.playlists.length)for(let n=0;n<e.playlists.length;n++){const t=e.playlists[n];t.attributes&&t.attributes.AUDIO&&t.attributes.AUDIO===s&&o.push(t)}}return o.length?o:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;see(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),$ne({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(()=>{this.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial");if(!("vhs-json"===this.sourceType_&&this.initialMedia_.segments))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)})),this.mainPlaylistLoader_.on("error",(()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainPlaylistLoader_.on("mediachanging",(()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;see(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,"dash"===this.sourceType_&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(()=>{const e=this.mainPlaylistLoader_.media();if("playlist-unchanged"===e.lastExcludeReason_)return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))})),this.mainPlaylistLoader_.on("renditiondisabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})})),this.mainPlaylistLoader_.on("renditionenabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}));["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach((e=>{this.mainPlaylistLoader_.on(e,(e=>{this.player_.trigger(MT({},e))}))}))}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const n=e.mediaGroups||{};let i=!0;const r=Object.keys(n.AUDIO);for(const o in n.AUDIO)for(const e in n.AUDIO[o]){n.AUDIO[o][e].uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Hne.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function({currentPlaylist:e,buffered:t,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!i)return I7.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${e&&e.id||"null"} -> ${i.id}`;if(!e)return l(`${c} as current playlist is not set`),!0;if(i.id===e.id)return!1;const d=Boolean(z7(t,n).length);if(!e.endList)return d||"number"!=typeof e.partTargetDuration?(l(`${c} as current playlist is live`),!0):(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const u=W7(t,n),h=a?Xee.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Xee.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(`${c} as duration < max low water line (${s} < ${h})`),!0;const p=i.attributes.BANDWIDTH,m=e.attributes.BANDWIDTH;if(p<m&&(!a||u<o)){let e=`${c} as next bandwidth < current bandwidth (${p} < ${m})`;return a&&(e+=` and forwardBuffer < bufferHighWaterLine (${u} < ${o})`),l(e),!0}if((!a||p>m)&&u>=r){let e=`${c} as forwardBuffer >= bufferLowWaterLine (${u} >= ${r})`;return a&&(e+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(e),!0}return l(`not ${c} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",(()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()})),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",(()=>{this.trigger("progress")})),this.mainSegmentLoader_.on("error",(()=>{const e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainSegmentLoader_.on("appenderror",(()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("ended",(()=>{this.logger_("main segment loader ended"),this.onEndOfStream()})),this.timelineChangeController_.on("audioTimelineBehind",(()=>{const e=this.audioSegmentLoader_.pendingSegment_;if(!e||!e.segment||!e.segment.syncInfo)return;const t=e.segment.syncInfo.end+.01;this.tech_.setCurrentTime(t)})),this.timelineChangeController_.on("fixBadTimelineChange",(()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()})),this.mainSegmentLoader_.on("earlyabort",(e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))}));const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}));["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach((e=>{this.mainSegmentLoader_.on(e,(e=>{this.player_.trigger(MT({},e))})),this.audioSegmentLoader_.on(e,(e=>{this.player_.trigger(MT({},e))})),this.subtitleSegmentLoader_.on(e,(e=>{this.player_.trigger(MT({},e))}))}))}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){e&&e===this.mainPlaylistLoader_.media()?this.logger_("skipping fastQualityChange because new media is same as old"):(this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0)}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const n=t.end(0);let i=n;if(e.start){const r=e.start.timeOffset;i=r<0?Math.max(n+r,t.start(0)):Math.min(n,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(e=>{}))}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;const n=Hne.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=B7;const o=r.end(r.length-1);return o-i<=B7&&n-o<=B7}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||t.playlistExclusionDuration||this.playlistExclusionDuration,!e)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,r=i.filter(ree),o=1===r.length&&r[0]===e;if(1===i.length&&n!==1/0)return I7.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const t=this.pathwayAttribute_(e),n=1e3*this.contentSteeringController_.steeringManifest.ttl;return this.contentSteeringController_.excludePathway(t),this.excludeThenChangePathway_(),void setTimeout((()=>{this.contentSteeringController_.addAvailablePathway(t)}),n)}let t=!1;i.forEach((n=>{if(n===e)return;const i=n.excludeUntil;void 0!==i&&i!==1/0&&(t=!0,delete n.excludeUntil)})),t&&(I7.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let s;s=e.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*n,e.excludeUntil=s,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const a=this.selectPlaylist();if(!a)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");const l=t.internal?this.logger_:I7.log.warn,c=t.message?" "+t.message:"";l(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${a.id}.`),a.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),a.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=a.targetDuration/2*1e3||5e3,u="number"==typeof a.lastRequest&&Date.now()-a.lastRequest<=d;return this.switchMedia_(a,"exclude",o||u)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const n=[],i="all"===e;(i||"main"===e)&&n.push(this.mainPlaylistLoader_);const r=[];(i||"audio"===e)&&r.push("AUDIO"),(i||"subtitle"===e)&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach((e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&n.push(t)})),["main","audio","subtitle"].forEach((t=>{const i=this[`${t}SegmentLoader_`];!i||e!==t&&"all"!==e||n.push(i)})),n.forEach((e=>t.forEach((t=>{"function"==typeof e[t]&&e[t]()}))))}setCurrentTime(e){const t=z7(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Hne.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,t){const n=e.media();if(!n)return null;const i=this.syncController_.getMediaSequenceSync(t);if(i&&i.isReliable){const e=i.start,t=i.end;if(!isFinite(e)||!isFinite(t))return null;const r=Hne.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n),o=Math.max(0,t-r);return o<e?null:M7([[e,o]])}const r=this.syncController_.getExpiredTime(n,this.duration());if(null===r)return null;const o=Hne.Playlist.seekable(n,r,Hne.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n));return o.length?o:null}computeFinalSeekable_(e,t){if(!t)return e;const n=e.start(0),i=e.end(0),r=t.start(0),o=t.end(0);return r>i||n>o?e:M7([[Math.max(n,r),Math.min(i,o)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let t;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!t))return;const n=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,t),!this.seekable_)return;if(n&&n.length&&this.seekable_.length&&n.start(0)===this.seekable_.start(0)&&n.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${V7(this.seekable_)}]`);const i={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:i}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){const e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}const t=this.tech_.buffered();let n=Hne.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((e=>{const t=this.mediaTypes_[e].groups;for(const n in t)t[n].forEach((e=>{e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=Pte(this.main(),t),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||S0}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||S0,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const o=(e,t)=>e?k0(t,this.usingManagedMediaSource_):T0(t),s={};let a;if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&!o(e[t].isFmp4,i[t])){const n=e[t].isFmp4?"browser":"muxer";s[n]=s[n]||[],s[n].push(i[t]),"audio"===t&&(a=n)}})),r&&a&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach((n=>{(n.attributes&&n.attributes.AUDIO)===e&&n!==t&&(n.excludeUntil=1/0)})),this.logger_(`excluding audio group ${e} as ${a} does not support codec(s): "${i.audio}"`)}if(!Object.keys(s).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach((t=>{const n=(w0(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(w0(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${i[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return i}{const e=Object.keys(s).reduce(((e,t)=>(e&&(e+=", "),e+=`${t} does not support codec(s): "${s[t].join(",")}"`)),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach((n=>{const i=e[n];if(-1!==t.indexOf(i.id))return;t.push(i.id);const r=Pte(this.main,i),o=[];!r.audio||T0(r.audio)||k0(r.audio,this.usingManagedMediaSource_)||o.push(`audio codec ${r.audio}`),!r.video||T0(r.video)||k0(r.video,this.usingManagedMediaSource_)||o.push(`video codec ${r.video}`),r.text&&"stpp.ttml.im1t"===r.text&&o.push(`text codec ${r.text}`),o.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${o.join(", ")}`))}))}excludeIncompatibleVariants_(e){const t=[],n=this.main().playlists,i=Ite(w0(e)),r=Ate(i),o=i.video&&w0(i.video)[0]||null,s=i.audio&&w0(i.audio)[0]||null;Object.keys(n).forEach((e=>{const i=n[e];if(-1!==t.indexOf(i.id)||i.excludeUntil===1/0)return;t.push(i.id);const a=[],l=Pte(this.mainPlaylistLoader_.main,i),c=Ate(l);if(l.audio||l.video){if(c!==r&&a.push(`codec count "${c}" !== "${r}"`),!this.sourceUpdater_.canChangeType()){const e=l.video&&w0(l.video)[0]||null,t=l.audio&&w0(l.audio)[0]||null;e&&o&&e.type.toLowerCase()!==o.type.toLowerCase()&&a.push(`video codec "${e.type}" !== "${o.type}"`),t&&s&&t.type.toLowerCase()!==s.type.toLowerCase()&&a.push(`audio codec "${t.type}" !== "${s.type}"`)}a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id}: ${a.join(" && ")}`))}}))}updateAdCues_(e){let t=0;const n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n=0){if(!e.segments)return;let i,r=n;for(let o=0;o<e.segments.length;o++){const n=e.segments[o];if(i||(i=Tne(t,r+n.duration/2)),i){if("cueIn"in n){i.endTime=r,i.adEndTime=r,r+=n.duration,i=null;continue}if(r<i.endTime){r+=n.duration;continue}i.endTime+=n.duration}else if("cueOut"in n&&(i=new qJ.VTTCue(r,r+n.duration,n.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(n.cueOut),t.addCue(i)),"cueOutCont"in n){const[e,o]=n.cueOutCont.split("/").map(parseFloat);i=new qJ.VTTCue(r,r+n.duration,""),i.adStartTime=r-e,i.adEndTime=i.adStartTime+o,t.addCue(i)}r+=n.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=Xee.GOAL_BUFFER_LENGTH,n=Xee.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Xee.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=Xee.BUFFER_LOW_WATER_LINE,n=Xee.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Xee.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,Xee.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?r:i)}bufferHighWaterLine(){return Xee.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){$te(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(({inbandTextTracks:e,dateRanges:t})=>{const n=e.metadataTrack_;if(!n)return;const i=qJ.WebKitDataCue||qJ.VTTCue;t.forEach((e=>{for(const t of Object.keys(e)){if(zte.has(t))continue;const r=new i(e.startTime,e.endTime,"");r.id=e.id,r.type="com.apple.quicktime.HLS",r.value={key:Fte[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(r.value.data=new Uint8Array(r.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(r)}e.processDateRange()}))})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();$te(this.inbandTextTracks_,e,this.tech_),Bte({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart?this.contentSteeringController_.requestSteeringManifest(!0):this.tech_.one("canplay",(()=>{this.contentSteeringController_.requestSteeringManifest()}))}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this));["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach((e=>{this.contentSteeringController_.on(e,(e=>{this.trigger(MT({},e))}))})),"dash"===this.sourceType_&&this.mainPlaylistLoader_.on("loadedplaylist",(()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const t=this.contentSteeringController_.getAvailablePathways(),n=[];for(const i of e.playlists){const e=i.attributes.serviceLocation;if(e&&(n.push(e),!t.has(e)))return!0}return!(n.length||!t.size)})())&&this.resetContentSteeringController_()}))}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const t=this.main().playlists,n=new Set;let i=!1;Object.keys(t).forEach((r=>{const o=t[r],s=this.pathwayAttribute_(o),a=s&&e!==s;o.excludeUntil===1/0&&"content-steering"===o.lastExcludeReason_&&!a&&(delete o.excludeUntil,delete o.lastExcludeReason_,i=!0);const l=!o.excludeUntil&&o.excludeUntil!==1/0;!n.has(o.id)&&a&&l&&(n.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))})),"DASH"===this.contentSteeringController_.manifestType_&&Object.keys(this.mediaTypes_).forEach((t=>{const n=this.mediaTypes_[t];if(n.activePlaylistLoader){const t=n.activePlaylistLoader.media_;t&&t.attributes.serviceLocation!==e&&(i=!0)}})),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,t=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(t&&t.size||n&&n.size){for(const[e,i]of t.entries()){n.get(e)||(this.mainPlaylistLoader_.updateOrDeleteClone(i),this.contentSteeringController_.excludePathway(e))}for(const[i,r]of n.entries()){const n=t.get(i);if(n)this.equalPathwayClones_(n,r)||(this.mainPlaylistLoader_.updateOrDeleteClone(r,!0),this.contentSteeringController_.addAvailablePathway(i));else{const t=e.filter((e=>e.attributes["PATHWAY-ID"]===r["BASE-ID"]));t.forEach((e=>{this.mainPlaylistLoader_.addClonePathway(r,e)})),this.contentSteeringController_.addAvailablePathway(i)}}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=t["URI-REPLACEMENT"].PARAMS;for(const r in n)if(n[r]!==i[r])return!1;for(const r in i)if(n[r]!==i[r])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),"DASH"===this.contentSteeringController_.manifestType_&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach((n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);i&&i.size&&i.forEach((i=>{const r="usable",o=this.keyStatusMap_.has(i)&&this.keyStatusMap_.get(i)===r,s=n.lastExcludeReason_===t&&n.excludeUntil===1/0;o?o&&s&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${i} is ${r}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==t&&(n.excludeUntil=1/0,n.lastExcludeReason_=t,this.logger_(`excluding playlist ${n.id} because the key ID ${i} doesn't exist in the keyStatusMap or is not ${r}`)),e++)}))})),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach((e=>{const n=e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height<720,i=e.excludeUntil===1/0&&e.lastExcludeReason_===t;n&&i&&(delete e.excludeUntil,I7.log.warn(`enabling non-HD playlist ${e.id} because all playlists were excluded due to ${t} key IDs`))}))}addKeyStatus_(e,t){const n=("string"==typeof e?e:(e=>{const t=new Uint8Array(e);return Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join("")})(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${n} added to the keyStatusMap`),this.keyStatusMap_.set(n,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}class Kne{constructor(e,t,n){const{playlistController_:i}=e,r=i.fastQualityChange_.bind(i);if(t.attributes){const e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}var o,s,a;this.codecs=Pte(i.main(),t),this.playlist=t,this.id=n,this.enabled=(o=e.playlists,s=t.id,a=r,e=>{const t=o.main.playlists[s],n=iee(t),i=ree(t);if(void 0===e)return i;e?delete t.disabled:t.disabled=!0;const r={renditionInfo:{id:s,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:"fast-quality"};return e===i||n||(e?(a(t),o.trigger({type:"renditionenabled",metadata:r})):o.trigger({type:"renditiondisabled",metadata:r})),e})}}const Xne=["seeking","seeked","pause","playing","error"];class Qne extends I7.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=R7("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),o=this.playlistController_,s=["main","subtitle","audio"],a={};s.forEach((e=>{a[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},o[`${e}SegmentLoader_`].on("appendsdone",a[e].updateend),o[`${e}SegmentLoader_`].on("playlistupdate",a[e].reset),this.tech_.on(["seeked","seeking"],a[e].reset)}));const l=e=>{["main","audio"].forEach((t=>{o[`${t}SegmentLoader_`][e]("appended",this.seekingAppendCheck_)}))};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(Xne,r),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(Xne,r),this.tech_.off("canplay",n),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),s.forEach((e=>{o[`${e}SegmentLoader_`].off("appendsdone",a[e].updateend),o[`${e}SegmentLoader_`].off("playlistupdate",a[e].reset),this.tech_.off(["seeked","seeking"],a[e].reset)})),this.checkCurrentTimeTimeout_&&qJ.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&qJ.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=qJ.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,n=t[`${e}SegmentLoader_`],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,r){const n={bufferedRanges:i};return t.trigger({type:"bufferedrangeschanged",metadata:n}),void this.resetSegmentDownloads_(e)}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:q7(i)}),this[`${e}StalledDownloads_`]<10||(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+B7>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(M7([this.lastRecordedTime,e]));const t={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:t}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),t=this.tech_.currentTime();let n;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)){n=e.end(e.length-1)}if(this.beforeSeekableWindow_(e,t)){const t=e.start(0);n=t+(t===e.end(0)?0:B7)}if(void 0!==n)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${V7(e)}. Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0;const i=this.playlistController_.sourceUpdater_,r=this.tech_.buffered(),o=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,a=this.media(),l=a.partTargetDuration?a.partTargetDuration:2*(a.targetDuration-U7),c=[o,s];for(let u=0;u<c.length;u++){if(!c[u])continue;if(W7(c[u],t)<l)return!1}const d=$7(r,t);return 0!==d.length&&(n=d.start(0)+B7,this.logger_(`Buffered region starts (${d.start(0)})  just beyond seek point (${t}). Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),n=z7(t,e);return n.length&&e+3<=n.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const n=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${n}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const r=$7(i,t);return r.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${r.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,n,i=!1){if(!e.length)return!1;let r=e.end(e.length-1)+B7;const o=!n.endList,s="number"==typeof n.partTargetDuration;return o&&(s||i)&&(r=e.end(e.length-1)+3*n.targetDuration),t>r}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:n}){if(!e)return;let i;if(e.length&&t.length){const r=z7(e,n-3),o=z7(e,n),s=z7(t,n);s.length&&!o.length&&r.length&&(i={start:r.end(0),end:s.end(0)})}else{$7(e,n).length||(i=this.gapFromVideoUnderflow_(e,n))}return!!i&&(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),n=this.tech_.currentTime(),i=$7(t,n);if(this.resetTimeUpdate_(),0===i.length||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+U7);const r={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const n=function(e){if(e.length<2)return M7();const t=[];for(let n=1;n<e.length;n++){const i=e.end(n-1),r=e.start(n);t.push([i,r])}return M7(t)}(e);for(let i=0;i<n.length;i++){const e=n.start(i),r=n.end(i);if(t-e<4&&t-e>2)return{start:e,end:r}}return null}}const Jne={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Zne=function(e,t){let n=0,i=0;const r=j7(Jne,t);e.ready((()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})}));const o=function(){i&&e.currentTime(i)},s=function(t){null!=t&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},a=function(){if(Date.now()-n<1e3*r.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return n=Date.now(),r.getSource.call(e,s);I7.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",o),e.off("error",a),e.off("dispose",l)};e.on("error",a),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),Zne(e,t)}},eie=function(e){Zne(this,e)};var tie="3.16.2";const nie={PlaylistLoader:Cee,Playlist:dee,utils:Uee,STANDARD_PLAYLIST_SELECTOR:Mte,INITIAL_PLAYLIST_SELECTOR:function(){const e=this.playlists.main.playlists.filter(dee.isEnabled);Lte(e,((e,t)=>Rte(e,t)));return e.filter((e=>!!Pte(this.playlists.main,e).video))[0]||null},lastBandwidthSelector:Mte,movingAverageBandwidthSelector:function(e){let t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&qJ.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),jte(this.playlists.main,t,parseInt(Nte(this.tech_.el(),"width"),10)*i,parseInt(Nte(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:Rte,comparePlaylistResolution:function(e,t){let n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||qJ.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||qJ.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Aee()};Object.keys(Xee).forEach((e=>{Object.defineProperty(nie,e,{get:()=>(I7.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),Xee[e]),set(t){I7.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?I7.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):Xee[e]=t}})}));const iie="videojs-vhs",rie=function(e,t){const n=t.media();let i=-1;for(let r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};nie.canPlaySource=function(){return I7.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const oie=({player:e,sourceKeySystems:t,audioMedia:n,mainPlaylists:i})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const r=((e,t)=>e.reduce(((e,n)=>{if(!n.contentProtection)return e;const i=t.reduce(((e,t)=>{const i=n.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e}),{});return Object.keys(i).length&&e.push(i),e}),[]))(n?i.concat([n]):i,Object.keys(t)),o=[],s=[];return r.forEach((t=>{s.push(new Promise(((t,n)=>{e.tech_.one("keysessioncreated",t)}))),o.push(new Promise(((n,i)=>{e.eme.initializeMediaKeys({keySystems:t},(e=>{e?i(e):n()}))})))})),Promise.race([Promise.all(o),Promise.race(s)])},sie=({player:e,sourceKeySystems:t,media:n,audioMedia:i})=>{const r=((e,t,n)=>{if(!e)return e;let i={};t&&t.attributes&&t.attributes.CODECS&&(i=Ite(w0(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=x0(i.video),o=x0(i.audio),s={};for(const a in e)s[a]={},o&&(s[a].audioContentType=o),r&&(s[a].videoContentType=r),t.contentProtection&&t.contentProtection[a]&&t.contentProtection[a].pssh&&(s[a].pssh=t.contentProtection[a].pssh),"string"==typeof e[a]&&(s[a].url=e[a]);return j7(e,s)})(t,n,i);return!!r&&(e.currentSource().keySystems=r,!(r&&!e.eme)||(I7.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},aie=()=>{if(!qJ.localStorage)return null;const e=qJ.localStorage.getItem(iie);if(!e)return null;try{return JSON.parse(e)}catch(HS){return null}},lie=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},cie=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},die=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},uie=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};nie.supportsNativeHls=function(){if(!XJ||!XJ.createElement)return!1;const e=XJ.createElement("video");if(!I7.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),nie.supportsNativeDash=!!(XJ&&XJ.createElement&&I7.getTech("Html5").isSupported())&&/maybe|probably/i.test(XJ.createElement("video").canPlayType("application/dash+xml")),nie.supportsTypeNatively=e=>"hls"===e?nie.supportsNativeHls:"dash"===e&&nie.supportsNativeDash,nie.isSupported=function(){return I7.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},nie.xhr.onRequest=function(e){lie(nie.xhr,e)},nie.xhr.onResponse=function(e){cie(nie.xhr,e)},nie.xhr.offRequest=function(e){die(nie.xhr,e)},nie.xhr.offResponse=function(e){uie(nie.xhr,e)};const hie=I7.getComponent("Component");class pie extends hie{constructor(e,t,n){if(super(t,n.vhs),"number"==typeof n.initialBandwidth&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=R7("VhsHandler"),t.options_&&t.options_.playerId){const e=I7.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(XJ,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(e=>{const t=XJ.fullscreenElement||XJ.webkitFullscreenElement||XJ.mozFullScreenElement||XJ.msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=j7(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=aie();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Xee.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Xee.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const t=this.options_.customPixelRatio;"number"==typeof t&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;var n;this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=nie,this.options_.sourceType=I0(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.options_.player_=this.player_,this.playlistController_=new Yne(this.options_);const i=j7({liveRangeSafeTimeDelta:B7},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Qne(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",(()=>{const e=I7.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));const r=this.options_.bufferBasedABR?nie.movingAverageBandwidthSelector(.55):nie.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=nie.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=qJ.navigator.connection||qJ.navigator.mozConnection||qJ.navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){const i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);let t;t=this.throughput>0?1/this.throughput:0;return Math.floor(1/(e+t))},set(){I7.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>q7(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>q7(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",(()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!qJ.localStorage)return!1;let t=aie();t=t?j7(t,e):e;try{qJ.localStorage.setItem(iie,JSON.stringify(t))}catch(HS){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})})),this.playlistController_.on("selectedinitialmedia",(()=>{var e;(e=this).representations=()=>{const t=e.playlistController_.main(),n=cee(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((e=>!iee(e))).map(((t,n)=>new Kne(e,t,t.id))):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(()=>{this.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=qJ.URL.createObjectURL(this.playlistController_.mediaSource),(I7.browser.IS_ANY_SAFARI||I7.browser.IS_IOS)&&this.options_.overrideNative&&"hls"===this.options_.sourceType&&"function"==typeof this.tech_.addSourceElement?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),oie({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then((()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=sie({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(e=>{this.playlistController_.updatePlaylistByKeyStatus(e.keyId,e.status)})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=I7.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(()=>{!function(e,t){t.representations().forEach((t=>{e.addQualityLevel(t)})),rie(e,t.playlists)}(this.qualityLevels_,this)})),this.playlists.on("mediachange",(()=>{rie(this.qualityLevels_,this.playlists)})))}static version(){return{"@videojs/http-streaming":tie,"mux.js":"7.1.0","mpd-parser":"1.3.1","m3u8-parser":"7.2.0","aes-decrypter":"4.0.2"}}version(){return this.constructor.version()}canChangeType(){return yne.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&qJ.URL.revokeObjectURL&&(qJ.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return Bee({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,n=!0,i=2){return Fee({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{lie(this.xhr,e)},this.xhr.onResponse=e=>{cie(this.xhr,e)},this.xhr.offRequest=e=>{die(this.xhr,e)},this.xhr.offResponse=e=>{uie(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach((e=>{this.playlistController_.on(e,(e=>{this.player_.trigger(MT({},e))}))})),["gapjumped","playedrangeschanged"].forEach((e=>{this.playbackWatcher_.on(e,(e=>{this.player_.trigger(MT({},e))}))}))}}const mie={name:"videojs-http-streaming",VERSION:tie,canHandleSource(e,t={}){const n=j7(I7.options,t);return!(!n.vhs.experimentalUseMMS&&!k0("avc1.4d400d,mp4a.40.2",!1))&&mie.canPlayType(e.type,n)},handleSource(e,t,n={}){const i=j7(I7.options,n);return t.vhs=new pie(e,t,i),t.vhs.xhr=Aee(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const n=I0(e);if(!n)return"";const i=mie.getOverrideNative(t);return!nie.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,n=!(I7.browser.IS_ANY_SAFARI||I7.browser.IS_IOS),{overrideNative:i=n}=t;return i}};k0("avc1.4d400d,mp4a.40.2",!0)&&I7.getTech("Html5").registerSourceHandler(mie,0),I7.VhsHandler=pie,I7.VhsSourceHandler=mie,I7.Vhs=nie,I7.use||I7.registerComponent("Vhs",nie),I7.options.vhs=I7.options.vhs||{},I7.getPlugin&&I7.getPlugin("reloadSourceOnError")||I7.registerPlugin("reloadSourceOnError",eie);const fie=e=>{const t=G.useRef(null),n=G.useRef(null),i=()=>{const i=document.createElement("video-js");i.classList.add("vjs-big-play-centered"),t.current.appendChild(i),n.current=I7(i,e,(()=>console.log("Player initialized")))};return G.useEffect((()=>{n.current?(()=>{if(!n.current)return;n.current.dispose(),i()})():i(),console.log("Options changed")}),[e]),h.jsx("div",{"data-vjs-player":!0,className:"player-container",children:h.jsx("div",{ref:t})})},gie=await GX(),bie=e=>{console.log(`Initial url: ${e}`);const t=`${gie.boo.Server}/helpers/m3u8?url=${encodeURIComponent(e)}`;return console.log(t),t},vie=({info:e})=>{const[t,n]=G.useState(),[i,r]=G.useState(),[o,s]=G.useState(),[a,l]=G.useState(),[c,d]=G.useState(),[u,p]=G.useState([]),[m,f]=G.useState(),[g,b]=G.useState(),{user:v}=G.useContext(Uie),y=xT(),[w,_]=G.useState(!1),[x,k]=G.useState(!0),[T,S]=G.useState([]);TT();const[E]=ST(),C=async()=>{const e=await GX();if(0==e.peek)return E({message:"An error occured while loading settings",duration:3e3,position:"top"}),void(await YX());b(e.boo)},I=async()=>{const n=await(async()=>"anime"==e.Type&&o?await(async e=>{const{boo:t}=await GX(),n=t,i=await fetch(`${n.Server}/anime/${t.AnimeSource}/episode/${e}/sources`);return await i.json()})(o.id):"tv"==e.Type?t&&i?await lQ(e.Id,t.SeasonNumber,i):(E({message:"state: season and state: tvEpisode are unavailable",duration:3e3,position:"top"}),await lQ(e.Id,1,1)):await(async e=>{const{boo:t}=await GX(),n=t,i=await fetch(`${n.Server}/movie/${t.MovieSource}/${e}/sources`);return await i.json()})(e.Id))();if(0==n.peek||"string"==typeof n.boo)return void E({message:"Failed to load episode sources. Either change the Server or switch to ads mode (Settings)",duration:3e3,position:"top"});l(n.boo);let r=[];n.boo.sources.forEach((e=>{""!=e.url&&r.push({src:bie(e.url),type:e.isM3U8?"application/x-mpegURL":"video/mp4"})}));f({autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:r})},A=async()=>{const n=await(async()=>"anime"==e.Type&&o?await(async e=>{const{boo:t}=await GX(),n=t,i=await fetch(`${n.Server}/anime/${n.AnimeSource}/episode/${e}/servers`);return await i.json()})(o.id):"tv"==e.Type?t&&i?await cQ(e.Id,t.SeasonNumber,i):(E({message:"state: season and state: tvEpisode are unavailable",duration:3e3,position:"top"}),await cQ(e.Id,1,1)):await(async e=>{const{boo:t}=await GX(),n=t,i=await fetch(`${n.Server}/movie/${n.MovieSource}/${e}/embed`);return await i.json()})(e.Id))();if(0==n.peek||"string"==typeof n.boo)return E({message:"Failed to load episode sources. Either change the Server or switch to ads mode (Settings)",duration:3e3,position:"top"}),void E({message:`Server message: ${n.boo}`,duration:3e3,position:"top"});p(n.boo),d(n.boo[2])},P=async()=>{g&&("ad"==g.AnimeType?(await A(),console.log("Loading embed sources")):(await I(),console.log("Loading streaming sources")))};G.useEffect((()=>{C()}),[]),G.useEffect((()=>{(async()=>{if(!v)return _(!1),void k(!1);k(!0);const t=Wz(Jz(VX),"users",v.uid,"favorites",e.Id),n=await nV(t);_(n.exists()),k(!1)})();(async()=>{let t;if("movie"===e.Type)t=await(async e=>await rQ.getSimilarMovies(e))(e.Id);else{if("tv"!==e.Type)return;t=await(async e=>await rQ.getSimilarTvShows(e))(e.Id)}t.peek&&S(t.boo)})()}),[v,e.Id]);const D=async()=>{if(!v)return void y.push(`/login?return=/${e.Type}/${e.Id}`);k(!0);const t=Wz(Jz(VX),"users",v.uid,"favorites",e.Id);if(w)await aV(t),_(!1),E({message:"Removed from favorites",duration:2e3,position:"top"});else{const n={mediaId:e.Id,mediaType:e.Type,title:e.Title,posterUrl:e.Poster,addedAt:Date.now()};await oV(t,n),_(!0),E({message:"Added to favorites",duration:2e3,position:"top"})}k(!1)};if(G.useEffect((()=>{P(),C()}),[o,i]),!g)return h.jsx(nT,{children:h.jsx(bk,{children:h.jsx("h1",{children:"Loading settings . . ."})})});const O=()=>c?h.jsx("div",{children:h.jsx("div",{className:"info-iframe-container",children:h.jsx("iframe",{src:c.url,frameBorder:"0",allowFullScreen:!0,className:"info-iframe"})})}):m&&a?h.jsx(fie,{...m}):h.jsx("div",{className:"info-img-container",children:h.jsx(wk,{className:"info-img",src:e.Poster})}),N=()=>{var o,s;return"anime"==e.Type?h.jsxs(h.Fragment,{children:["ad"==g.AnimeType?h.jsx(Ck,{"aria-label":"server",label:"Select Server",labelPlacement:"floating",fill:"solid",onIonChange:e=>{d(e.target.value)},value:c,children:u.map(((e,t)=>h.jsx(Ik,{value:e,children:e.name},t)))}):"",h.jsx(Ck,{"aria-label":"anime-episode",label:"Episode",labelPlacement:"floating",fill:"solid",onIonChange:e=>{n(e.target.value)},children:null===(o=e.AnimeEpisodes)||void 0===o?void 0:o.map(((e,t)=>h.jsx(Ik,{value:e,children:e.number},t)))})]}):"tv"==e.Type?h.jsxs(h.Fragment,{children:["ad"==g.AnimeType?h.jsx(Ck,{"aria-label":"server",label:"Server",labelPlacement:"floating",value:c,onIonChange:e=>{d(e.target.value)},disabled:!(u.length>0),fill:"solid",children:u.map(((e,t)=>h.jsx(Ik,{value:e,children:e.name},t)))}):"",h.jsx(Ck,{"aria-label":"tv-season",label:"Season",labelPlacement:"floating",fill:"solid",value:t,onIonChange:e=>{n(e.target.value)},children:null===(s=e.TvShowSeason)||void 0===s?void 0:s.map(((e,t)=>h.jsx(Ik,{value:e,children:e.Name},t)))}),h.jsx(Ck,{label:"Episode",labelPlacement:"floating",fill:"solid",value:i,onIonChange:e=>{r(e.target.value)},disabled:!t,children:Array.from({length:t?t.EpisodeCount:0},((e,t)=>h.jsxs(Ik,{value:t+1,children:["Episode ",t+1]},t)))})]}):u.length<1?h.jsxs(jk,{onClick:P,children:["Play",h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z'/></svg>"})]}):h.jsx(Ck,{"aria-label":"server",label:"Server",labelPlacement:"floating",fill:"solid",onIonChange:e=>{d(e.target.value)},value:c,children:u.map(((e,t)=>h.jsx(Ik,{value:e,children:e.name},t)))})},L=()=>h.jsxs("div",{className:"info-details-container",children:[h.jsx("div",{className:"info-actions",children:h.jsx(jk,{onClick:D,fill:"outline",disabled:x,children:x?h.jsx(Ak,{name:"crescent"}):h.jsxs(h.Fragment,{children:[h.jsx(yT,{slot:"start",icon:w?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 208H308L256 48l-52 160H32l140 96-54 160 138-100 138 100-54-160z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"}),w?"Favorited":"Add to Favorites"]})})}),h.jsx("p",{children:e.Overview}),T.length>0&&h.jsxs("div",{className:"similar-media-section",children:[h.jsx("h2",{children:"Similar Titles"}),h.jsx(OJ,{items:T,renderItem:e=>h.jsx(NJ,{imageUrl:e.Poster,title:e.Title,linkUrl:`/${e.Type}/${e.Id}`,type:e.Type,year:e.Year,duration:e.Duration,overview:e.Overview},e.Id)})]})]});return h.jsxs(nT,{children:[h.jsx(yk,{translucent:!0,children:h.jsxs(Ok,{children:[h.jsx(uk,{slot:"start",children:h.jsx(bT,{defaultHref:"/media"})}),h.jsx(Dk,{children:e.Title})]})}),h.jsxs(bk,{className:"ion-padding",children:[h.jsxs("div",{className:"info-top-section",children:[h.jsx(O,{}),h.jsx("div",{className:"infopage-selectors",children:h.jsx(N,{})})]}),h.jsx("div",{className:"info-bottom-section",children:h.jsx(L,{})})]})]})},yie=({match:e})=>{const[t,n]=G.useState();TT();const[i]=ST(),r=async()=>{if(!e.params.id)return void i("ID undefined, retrying. . .");console.log(`Media Id: ${e.params.id}`);const t=await(async()=>"anime"==e.params.type?await(async e=>{const{boo:t}=await GX(),n=t,i=await fetch(`${n.Server}/anime/${n.AnimeSource}/${e}/info`);return await i.json()})(e.params.id):"movie"==e.params.type?await(async e=>await rQ.getMovieInfo(e))(e.params.id):(e.params.type,await aQ(e.params.id)))();console.log(t),0!=t.peek&&"string"!=typeof t.boo?n(t.boo):i({message:`Error: ${t.boo}`,duration:3e3,position:"top"})};return G.useEffect((()=>{r()}),[]),t?h.jsx(vie,{info:t}):h.jsx(DJ,{choice:"full_page"})},wie=e=>{const[t,n]=G.useState(null),[i,r]=G.useState(!0);return G.useEffect((()=>{if(!e)return void r(!1);(async()=>{r(!0);try{const t=Wz(Jz(VX),"users",e),i=await nV(t);i.exists()?n({uid:i.id,...i.data()}):n(null)}catch(zH){console.error("Error fetching user data:",zH),n(null)}finally{r(!1)}})()}),[e]),{userData:t,loading:i}},_ie=({message:e,currentUserId:t,onReply:n,onStartWatchTogether:i})=>{const r=e.senderId===t,{userData:o,loading:s}=wie(r?null:e.senderId),a=Y.useRef(null);return Y.useEffect((()=>{if(!a.current)return;const t=zg({el:a.current,gestureName:"swipe-to-reply",direction:"x",onMove:e=>{a.current&&e.deltaX>0&&(a.current.style.transform=`translateX(${Math.min(e.deltaX,150)}px)`)},onEnd:t=>{a.current&&(a.current.style.transition="transform 0.2s ease-out",t.deltaX>80&&n(e),a.current.style.transform="translateX(0px)",setTimeout((()=>{a.current&&(a.current.style.transition="")}),200))}});return t.enable(!0),()=>{t.destroy()}}),[e,n]),h.jsxs("div",{ref:a,className:"chat-message-wrapper "+(r?"sent":"received"),children:[!r&&!s&&h.jsx(dk,{className:"chat-avatar",children:h.jsx("img",{src:null==o?void 0:o.photoURL,alt:null==o?void 0:o.displayName})}),h.jsxs("div",{className:"chat-bubble "+(r?"sent":"received"),children:[e.replyContext&&h.jsxs("div",{className:"reply-context",children:[h.jsx("p",{className:"reply-sender",children:e.replyContext.senderName}),h.jsx("p",{className:"reply-text",children:e.replyContext.text})]}),h.jsxs("div",{className:"chat-content",children:["image"===e.type&&e.mediaUrl&&h.jsx(wk,{src:e.mediaUrl,className:"chat-media-image"}),("video"===e.type||"audio"===e.type)&&e.mediaUrl&&h.jsxs("div",{className:"watch-together-container",children:["video"===e.type?h.jsx("video",{src:e.mediaUrl,controls:!0,className:"chat-media-video"}):h.jsx("audio",{src:e.mediaUrl,controls:!0,className:"chat-media-audio"}),h.jsxs(jk,{fill:"clear",className:"watch-together-button",onClick:()=>i(e.mediaUrl,e.type,e.text),children:[h.jsx(yT,{icon:zE,slot:"start"}),"Watch Together"]})]}),"text"===e.type&&h.jsx("p",{className:"chat-text",children:e.text}),h.jsx("span",{className:"chat-timestamp",children:e.timestamp?new Date(e.timestamp.toMillis?e.timestamp.toMillis():e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]})]})]})};var xie,kie,Tie;!function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(xie||(xie={})),function(e){e.Rear="REAR",e.Front="FRONT"}(kie||(kie={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(Tie||(Tie={}));class Sie extends IN{async getPhoto(e){return new Promise((async(t,n)=>{if(e.webUseInput||e.source===xie.Photos)this.fileInputExperience(e,t,n);else if(e.source===xie.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=e.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",(async i=>{0===i.detail?this.fileInputExperience(e,t,n):this.cameraExperience(e,t,n)}))}else this.cameraExperience(e,t,n)}))}async pickImages(e){return new Promise((async(e,t)=>{this.multipleFileInputExperience(e,t)}))}async cameraExperience(e,t,n){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=e.direction===kie.Front?"user":"environment",document.body.appendChild(i);try{await i.componentOnReady(),i.addEventListener("onPhoto",(async r=>{const o=r.detail;null===o?n(new kN("User cancelled photos app")):o instanceof Error?n(o):t(await this._getCameraPhoto(o,e)),i.dismiss(),document.body.removeChild(i)})),i.present()}catch(HS){this.fileInputExperience(e,t,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,n)}fileInputExperience(e,t,n){let i=document.querySelector("#_capacitor-camera-input");const r=()=>{var e;null===(e=i.parentNode)||void 0===e||e.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",(n=>{const o=i.files[0];let s="jpeg";if("image/png"===o.type?s="png":"image/gif"===o.type&&(s="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const n=new FileReader;n.addEventListener("load",(()=>{if("dataUrl"===e.resultType)t({dataUrl:n.result,format:s});else if("base64"===e.resultType){const e=n.result.split(",")[1];t({base64String:e,format:s})}r()})),n.readAsDataURL(o)}else t({webPath:URL.createObjectURL(o),format:s}),r()})),i.addEventListener("cancel",(e=>{n(new kN("User cancelled photos app")),r()}))),i.accept="image/*",i.capture=!0,e.source===xie.Photos||e.source===xie.Prompt?i.removeAttribute("capture"):e.direction===kie.Front?i.capture="user":e.direction===kie.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(e,t){let n=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var e;null===(e=n.parentNode)||void 0===e||e.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",(t=>{const r=[];for(let e=0;e<n.files.length;e++){const t=n.files[e];let i="jpeg";"image/png"===t.type?i="png":"image/gif"===t.type&&(i="gif"),r.push({webPath:URL.createObjectURL(t),format:i})}e({photos:r}),i()})),n.addEventListener("cancel",(e=>{t(new kN("User cancelled photos app")),i()}))),n.accept="image/*",n.click()}_getCameraPhoto(e,t){return new Promise(((n,i)=>{const r=new FileReader,o=e.type.split("/")[1];"uri"===t.resultType?n({webPath:URL.createObjectURL(e),format:o,saved:!1}):(r.readAsDataURL(e),r.onloadend=()=>{const e=r.result;"dataUrl"===t.resultType?n({dataUrl:e,format:o,saved:!1}):n({base64String:e.split(",")[1],format:o,saved:!1})},r.onerror=e=>{i(e)})}))}async checkPermissions(){if("undefined"==typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const Eie=CN("Camera",{web:()=>new Sie}),Cie=({convoId:e})=>{const{user:t}=G.useContext(Uie),[n,i]=G.useState(null),r=G.useRef(null),o=G.useRef(!1),s=G.useRef(0),a=AX(HX,`playback_sessions/${e}`);G.useEffect((()=>{const e=RX(a,(e=>{const n=e.val();if(i(n),n&&r.current&&t&&n.lastUpdatedBy!==t.uid){o.current=!0;const e=r.current;n.isPlaying&&e.paused?e.play().catch((e=>console.error("Autoplay failed",e))):n.isPlaying||e.paused||e.pause();Math.abs(e.currentTime-n.progress)>2&&(e.currentTime=n.progress),setTimeout((()=>{o.current=!1}),100)}}));return()=>jX(a,0,e)}),[e,t]);const l=e=>{t&&OX(a,{...e,lastUpdatedBy:t.uid,timestamp:$X()})},c=()=>!o.current&&l({isPlaying:!0}),d=()=>!o.current&&l({isPlaying:!1}),u=()=>{if(r.current&&!o.current){const e=r.current.currentTime,t=Date.now();t-s.current>1e3&&(s.current=t,l({progress:e}))}};return n?h.jsxs("div",{className:"watch-together-player",children:[h.jsxs("div",{className:"player-header",children:[h.jsx("p",{className:"player-title",children:n.title}),h.jsx(jk,{fill:"clear",color:"light",onClick:()=>{return GK("remove",(e=a)._path),DX(e,null);var e},children:h.jsx(yT,{slot:"icon-only",icon:FE})})]}),"video"===n.mediaType?h.jsx("video",{ref:r,src:n.mediaUrl,controls:!0,onPlay:c,onPause:d,onTimeUpdate:u,className:"media-element"}):h.jsx("audio",{ref:r,src:n.mediaUrl,controls:!0,onPlay:c,onPause:d,onTimeUpdate:u,className:"media-element"})]}):null},Iie=({match:e})=>{const{user:t}=G.useContext(Uie),n=e.params.id,{userData:i,loading:r}=wie(n),[o,s]=G.useState(null),[a,l]=G.useState([]),[c,d]=G.useState(""),[u,p]=G.useState(null),[m,f]=G.useState(!1),[g]=ST(),[b,v]=G.useState(!1),[y,w]=G.useState(!1),_=G.useRef(null);G.useEffect((()=>{if(!t||!n)return;const e=[t.uid,n].sort();s(e.join("-"))}),[n,t]),G.useEffect((()=>{if(!o)return;const e=AX(HX,`playback_sessions/${o}`),t=RX(e,(e=>{v(e.exists())})),n=cV(R$(Hz(Jz(VX),"chats",o,"messages"),F$("timestamp","asc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));l(t),setTimeout((()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.scrollToBottom(300)}),100)}));return()=>{n(),jX(e,0,t)}}),[o]);const x=async e=>{if(t&&o)try{var n;const i=await Eie.getPhoto({quality:90,allowEditing:!1,resultType:Tie.Uri,source:e}),r=null!==(n=i.path)&&void 0!==n?n:i.webPath;if(!r)throw new Error("No file path received");f(!0);const s=(new Date).getTime()+".jpeg",a=`chats/${o}/${s}`;let l;if(EN.isNativePlatform()){l=(await MN.uploadFile({ref:a,path:r})).downloadUrl}else{const e=await fetch(r),t=await e.blob(),n=wH(_H(VX),a);await vH(n,t),l=await yH(n)}await(async(e,n,i)=>{if(!t||!o)return;const r=Hz(Jz(VX),"chats",o,"messages");await lV(r,{senderId:t.uid,text:i,timestamp:mV(),type:n,mediaUrl:e})})(l,"image",s)}catch(HS){console.error("File upload error",HS),HS instanceof Error&&HS.message.includes("cancelled")||g({message:"File upload failed.",duration:3e3,color:"danger"})}finally{f(!1)}},k=(e,n,i)=>{if(!t||!o)return;DX(AX(HX,`playback_sessions/${o}`),{mediaUrl:e,mediaType:n,title:i,isPlaying:!1,progress:0,lastUpdatedBy:t.uid,timestamp:$X()})};return h.jsxs(nT,{children:[h.jsx(yk,{children:h.jsxs(Ok,{children:[h.jsx(uk,{slot:"start",children:h.jsx(bT,{defaultHref:"/home"})}),r?h.jsx(Ak,{slot:"start"}):h.jsxs(h.Fragment,{children:[h.jsx(dk,{slot:"start",className:"chat-header-avatar",children:h.jsx("img",{src:null==i?void 0:i.photoURL,alt:null==i?void 0:i.displayName})}),h.jsx(Dk,{children:(null==i?void 0:i.displayName)||"Chat"})]})]})}),h.jsxs(bk,{ref:_,className:"ion-padding",scrollEvents:!0,children:[b&&o&&h.jsx(Cie,{convoId:o}),h.jsx("div",{className:"chat-messages-container",children:a.map((e=>h.jsx(_ie,{message:e,currentUserId:t.uid,onReply:p,onStartWatchTogether:k},e.id)))}),h.jsx($k,{isOpen:y,onDidDismiss:()=>w(!1),header:"Attach Image",buttons:[{text:"Take Photo",handler:()=>x(xie.Camera)},{text:"Choose from Gallery",handler:()=>x(xie.Photos)},{text:"Cancel",role:"cancel"}]})]}),h.jsx(vk,{children:h.jsx(Ok,{className:"chat-input-toolbar",children:h.jsxs("div",{className:"chat-footer-wrapper",children:[u&&h.jsxs("div",{className:"reply-preview-container",children:[h.jsxs("div",{className:"reply-preview-content",children:[h.jsxs("p",{className:"reply-preview-sender",children:["Replying to ",u.senderId===(null==t?void 0:t.uid)?"yourself":null==i?void 0:i.displayName]}),h.jsx("p",{className:"reply-preview-text",children:u.text})]}),h.jsx(jk,{fill:"clear",onClick:()=>p(null),className:"reply-preview-close",children:h.jsx(yT,{icon:FE})})]}),h.jsxs("form",{className:"chat-form",onSubmit:async e=>{e.preventDefault(),await(async()=>{if(""===c.trim()||!t||!o)return;const e=Hz(Jz(VX),"chats",o,"messages"),n={senderId:t.uid,text:c,timestamp:mV(),type:"text"};u&&(n.replyContext={messageId:u.id,senderId:u.senderId,senderName:u.senderId===t.uid?"You":(null==i?void 0:i.displayName)||"User",text:u.text.length>100?`${u.text.substring(0,97)}...`:u.text}),await lV(e,n)})(),d(""),p(null)},children:[h.jsx(jk,{fill:"clear",slot:"start",onClick:()=>w(!0),disabled:m,children:h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M216.08 192v143.85a40.08 40.08 0 0080.15 0l.13-188.55a67.94 67.94 0 10-135.87 0v189.82a95.51 95.51 0 10191 0V159.74' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>"})}),h.jsx(_k,{value:c,onIonChange:e=>d(e.detail.value),placeholder:"Type a message...",className:"chat-input",disabled:!o||m}),h.jsx(jk,{type:"submit",fill:"clear",slot:"end",disabled:""===c.trim()||!o||m,children:m?h.jsx(Ak,{name:"crescent"}):h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M470.3 271.15L43.16 447.31a7.83 7.83 0 01-11.16-7V327a8 8 0 016.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 01-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 010 29.39z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"})})]})]})})})]})};var Aie,Pie;!function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(Aie||(Aie={})),t("E",Pie),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(Pie||t("E",Pie={}));const Die=CN("Filesystem",{web:()=>Pp((()=>n.import("./web-legacy-noRPhfWd.js"))).then((e=>new e.FilesystemWeb))}),Oie=CN("FileOpener"),Nie=({match:e})=>{const{user:t}=G.useContext(Uie),n=xT(),[i,r]=G.useState(null),[o,s]=G.useState(!0),[a,l]=G.useState("loading"),[c,d]=G.useState(!1),u=e.params.id;G.useEffect((()=>{if(!u)return;if((null==t?void 0:t.uid)===u)return void n.push("/settings","root","replace");(async()=>{s(!0);try{const e=Jz(VX),n=Wz(e,"users",u),i=await nV(n);if(!i.exists())return console.warn(`User document not found for uid: ${u}`),r(null),void s(!1);if(r({uid:i.id,...i.data()}),t){const n=Wz(e,"users",t.uid,"friends",u),i=await nV(n);i.exists()?(l(i.data().status),console.log(i.data().status)):l("not_friends")}else l("not_friends")}catch(zH){console.error("Error fetching user data or friend status:",zH)}finally{s(!1)}})()}),[u,t,n]);return h.jsxs(nT,{children:[h.jsx(yk,{children:h.jsxs(Ok,{children:[h.jsx(uk,{slot:"start",children:h.jsx(bT,{defaultHref:"/search"})}),h.jsx(Dk,{children:(null==i?void 0:i.displayName)||"User Profile"})]})}),h.jsx(bk,{className:"ion-padding",children:o?h.jsx("div",{className:"spinner-container",children:h.jsx(Ak,{})}):i?h.jsxs("div",{className:"user-profile-container",children:[h.jsx(dk,{className:"user-profile-avatar",children:h.jsx("img",{src:i.photoURL,alt:i.displayName})}),h.jsx("h1",{className:"user-profile-name",children:i.displayName}),h.jsx("p",{className:"user-profile-email",children:i.email}),h.jsxs("p",{className:"user-profile-created",children:["Member since ",new Date(i.createdAt).toLocaleDateString()]}),h.jsxs("div",{className:"user-profile-actions",children:[h.jsx(jk,{expand:"block",onClick:()=>{"not_friends"===a?(async()=>{if(t&&i&&!c){d(!0);try{const e=Jz(VX),n=Date.now(),r={status:"sent_pending",since:n,uid:i.uid},o=Wz(e,"users",t.uid,"friends",i.uid);await oV(o,r);const s={status:"received_pending",since:n,uid:t.uid},a=Wz(e,"users",i.uid,"friends",t.uid);await oV(a,s),l("sent_pending")}catch(zH){console.error("Error adding friend:",zH)}finally{d(!1)}}})():"received_pending"===a&&(async()=>{if(t&&i&&!c){d(!0);try{const e=Jz(VX),n={status:"friends",since:Date.now()},r=Wz(e,"users",t.uid,"friends",i.uid);await sV(r,n);const o=Wz(e,"users",i.uid,"friends",t.uid);await sV(o,n),l("friends")}catch(zH){console.error("Error accepting friend:",zH)}finally{d(!1)}}})()},disabled:"not_friends"!==a&&"received_pending"!==a||c||!t,children:c?h.jsx(Ak,{name:"crescent"}):t?"sent_pending"===a?"Request Sent":"received_pending"===a?"Accept Request":"friends"===a?"Friends":"Add Friend":"Login to Add Friend"}),h.jsx(jk,{expand:"block",color:"warning",disabled:!0,children:"Block User"})]})]}):h.jsx("div",{className:"user-not-found",children:"User not found."})})]})};var Lie,Rie;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Lie||(Lie={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(Rie||(Rie={}));const jie=CN("StatusBar"),Mie=({returnUrl:e,modalRef:t})=>{const{user:n,setUser:i,name:r}=G.useContext(Uie),[o]=TT(),[s,a]=G.useState(!1);return G.useEffect((()=>{document.title="PeekABoo",YD(qX,(e=>{i(null!=e?e:null)}))}),[]),h.jsx(nT,{children:h.jsx(bk,{fullscreen:!0,children:h.jsxs("div",{className:"main",children:[h.jsxs("form",{className:"form",onSubmit:e=>{e.preventDefault()},children:[h.jsx(_k,{placeholder:"Enter a username",label:"Email",fill:"outline",labelPlacement:"floating",value:r.current,onIonInput:e=>r.current=e.target.value,disabled:s}),h.jsx(_k,{placeholder:"Enter a username",label:"Password",fill:"outline",labelPlacement:"floating",value:r.current,onIonInput:e=>r.current=e.target.value,disabled:s}),h.jsx(jk,{type:"submit",expand:"block",className:"form-button",disabled:s,children:"Submit"})]}),h.jsx(jk,{expand:"block",className:"form-button",disabled:s,onClick:async()=>{try{var e;a(!0);const t=await jN.signInWithGoogle(),n=SD.credential(null===(e=t.credential)||void 0===e?void 0:e.idToken);MD(wN(VX),n)}catch(zH){console.error("Google Sign-In Error",zH),o("Failed to signin with Google.")}finally{a(!1)}},children:"Sign in with Google"})]})})})};((e={})=>{"undefined"!=typeof document&&document.documentElement.classList.add("ion-ce"),$f(Object.assign({},e))})();const Uie=G.createContext({user:null,setUser:()=>{},name:{current:""}}),Bie=()=>{const e=G.useRef(""),[t,n]=G.useState(null),[i,r]=G.useState(!0),[o,s]=TT();"web"!=EN.getPlatform()&&jie.setOverlaysWebView({overlay:!1});const a=async()=>{const e=await(async()=>{const{boo:e}=await GX(),t=await fetch(`${e.Server}/updates`);return await t.json()})();"1.0.7"!=e.latest.Version&&o({header:`A new version (${e.latest.Version}) is available`,message:`\n        ChangeLogs: \n\n\n        ${e.latest.ChangeLogs}\n        `,buttons:[{text:"Ignore",role:"cancel",handler:()=>{console.log("Cancelled")}},{text:"Update",role:"accept",handler:()=>{l(e.latest.Apk)}}]})},l=async e=>{const t=e.split("/"),n=t[t.length-1];let i="";const{boo:r}=await GX();i=e.includes("http")?e:`${r.Server}${e}`,console.log(n);const s=await Die.downloadFile({method:"GET",url:i,directory:Aie.ExternalStorage,path:`Download/${n}`});s.path?o({header:"Download successful!",message:`File was successfully downloaded to: ${s.path}. Install now?`,buttons:[{text:"Later",role:"cancel",handler:()=>{console.log("Will install later")}},{text:"Install",role:"accept",handler:async()=>{try{await Oie.open({filePath:s.path})}catch(HS){console.log(HS)}}}]}):o("Failed to download file")};return G.useEffect((()=>{document.title="PeekABoo",(async()=>{"granted"!=(await Die.checkPermissions()).publicStorage&&"granted"!=(await Die.requestPermissions()).publicStorage&&o("Storage permissions are necessary for automatic updates and file downloads!!")})(),a();const e=YD(qX,(e=>{n(e),r(!1)}));return()=>e()}),[]),h.jsx(Uie.Provider,{value:{user:t,setUser:n,name:e},children:h.jsx(Jk,{children:i?h.jsx(nT,{children:h.jsx(bk,{fullscreen:!0,children:h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Ak,{})})})}):t?h.jsx(XE,{children:h.jsx(dT,{children:h.jsxs(BE,{children:[h.jsx(UE,{exact:!0,path:"/user/:id",component:Nie}),h.jsx(UE,{exact:!0,path:"/chat/:id",component:Iie}),h.jsx(UE,{exact:!0,path:"/:type(movie|tv|anime)/:id",component:yie}),h.jsx(UE,{path:"/",children:h.jsxs(hT,{children:[h.jsxs(dT,{children:[h.jsx(LE,{exact:!0,path:"/",to:"/home"}),h.jsx(UE,{exact:!0,path:"/home",children:h.jsx(JX,{})}),h.jsx(UE,{exact:!0,path:"/search",children:h.jsx(RJ,{})}),h.jsx(UE,{exact:!0,path:"/media",children:h.jsx($J,{})}),h.jsx(UE,{exact:!0,path:"/settings",children:h.jsx(KX,{})})]}),h.jsxs(gT,{slot:"bottom",children:[h.jsxs(pT,{tab:"home",href:"/home",children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 014.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 00-11.13-2.07 30.7 30.7 0 00-12.08 2.43L81.5 462.78a15.92 15.92 0 01-4.66 1.22 9.61 9.61 0 01-9.58-9.74 15.85 15.85 0 01.6-3.29z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='160' cy='256' r='32'/><circle cx='256' cy='256' r='32'/><circle cx='352' cy='256' r='32'/></svg>"}),h.jsx(xk,{children:"Home"})]}),h.jsxs(pT,{tab:"search",href:"/search",children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>"}),h.jsx(xk,{children:"Search"})]}),h.jsxs(pT,{tab:"media",href:"/media",children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='96' width='416' height='320' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='336' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='256' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='176' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='384' y='96' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='336' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='256' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='176' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='48' y='96' width='80' height='80' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='128' y='96' width='256' height='160' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='128' y='256' width='256' height='160' rx='28' ry='28' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"}),h.jsx(xk,{children:"Media"})]}),h.jsxs(pT,{tab:"settings",href:"/settings",children:[h.jsx(yT,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>"}),h.jsx(xk,{children:"Settings"})]})]})]})})]})})}):h.jsx(Mie,{})})})},Fie=document.getElementById("root");Ap.createRoot(Fie).render(h.jsx(Y.StrictMode,{children:h.jsx(Bie,{})}))}}}))}();
